<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>ç»“æ„åŒ–å‘½ä»¤caseå’Œforã€whileå¾ªç¯</title>
      <link href="/2023/12/30/jie-gou-hua-ming-ling-case-he-for-while-xun-huan/"/>
      <url>/2023/12/30/jie-gou-hua-ming-ling-case-he-for-while-xun-huan/</url>
      
        <content type="html"><![CDATA[<p>ç¬¬äºŒåä¸€ç«   ç»“æ„åŒ–å‘½ä»¤caseå’Œforã€whileå¾ªç¯</p><p>æœ¬èŠ‚æ‰€è®²å†…å®¹ï¼š</p><p>21.1  case - æµç¨‹æ§åˆ¶è¯­å¥</p><p>21.2  å¾ªç¯è¯­å¥</p><p>21.3  whileå¾ªç¯è¯­å¥å’Œå¾ªç¯åµŒå¥—</p><p>21.4  å®æˆ˜-3ä¸ªshellè„šæœ¬å®æˆ˜</p><h1 id="21-1-æµç¨‹æ§åˆ¶è¯­å¥ï¼šcase"><a href="#21-1-æµç¨‹æ§åˆ¶è¯­å¥ï¼šcase" class="headerlink" title="21.1  æµç¨‹æ§åˆ¶è¯­å¥ï¼šcase"></a>21.1  æµç¨‹æ§åˆ¶è¯­å¥ï¼šcase</h1><p>æ§åˆ¶è¯­å¥ï¼šç”¨æ¥å®ç°å¯¹ç¨‹åºæµç¨‹çš„é€‰æ‹©ã€å¾ªç¯ã€è½¬å‘å’Œè¿”å›ç­‰è¿›è¡Œæ§åˆ¶ã€‚caseæ˜¯å¼€å…³è¯­å¥çš„ä¸€ä¸ªç»„æˆéƒ¨åˆ†ï¼›</p><p>å®ƒæ˜¯æ ¹æ®å˜é‡çš„ä¸åŒè¿›è¡Œå–å€¼æ¯”è¾ƒï¼Œç„¶åé’ˆå¯¹ä¸åŒçš„å–å€¼åˆ†åˆ«æ‰§è¡Œä¸åŒçš„å‘½ä»¤æ“ä½œ</p><p>é€‚ç”¨äºå¤šåˆ†æ”¯ï¼Œæ˜¯ä¸€ä¸ªå¤šé€‰æ‹©è¯­å¥</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">case   å˜é‡æˆ–è¡¨è¾¾å¼   inâ€‹        å˜é‡æˆ–è¡¨è¾¾å¼1ï¼‰â€‹           å‘½ä»¤åºåˆ—1â€‹           ï¼›ï¼›â€‹      å˜é‡æˆ–è¡¨è¾¾å¼2ï¼‰â€‹           å‘½ä»¤åºåˆ—2â€‹           ï¼›ï¼›â€‹           â€¦â€¦â€‹           *ï¼‰ â€‹           é»˜è®¤å‘½ä»¤åºåˆ— esac<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>caseè¯­å¥æ‰§è¡Œæµç¨‹æ§åˆ¶ï¼š</p><p><img src="/../assets/blog_res/%E7%BB%93%E6%9E%84%E5%8C%96%E5%91%BD%E4%BB%A4case%E5%92%8Cfor%E3%80%81while%E5%BE%AA%E7%8E%AF.assets/wps7.jpg" alt="img"> </p><p>æ‰§è¡Œæµç¨‹ï¼š</p><p>é¦–å…ˆä½¿ç”¨â€œå˜é‡æˆ–è¡¨è¾¾å¼â€çš„å€¼ä¸å€¼1è¿›è¡Œæ¯”è¾ƒï¼Œè‹¥å–å€¼ç›¸åŒåˆ™æ‰§è¡Œå€¼1åçš„å‘½ä»¤åºåˆ—ï¼Œç›´åˆ°é‡è§åŒåˆ†å·â€œï¼›ï¼› â€åè·³è½¬è‡³esacï¼Œè¡¨ç¤ºåˆ†æ”¯ç»“æŸï¼›</p><p>è‹¥ä¸å€¼1ä¸ç›¸åŒ¹é…ï¼Œåˆ™ç»§ç»­ä¸å€¼2 è¿›è¡Œæ¯”è¾ƒï¼Œè‹¥å–å€¼ç›¸åŒåˆ™æ‰§è¡Œå€¼2 åçš„å‘½ä»¤åºåˆ—ï¼Œç›´åˆ°é‡è§åŒåˆ†å·â€œï¼›ï¼› â€åè·³è½¬è‡³esacï¼Œè¡¨ç¤ºç»“æŸåˆ†æ”¯ã€‚</p><p>ä¾æ¬¡ç±»æ¨ï¼Œè‹¥æ‰¾ä¸åˆ°ä»»ä½•åŒ¹é…çš„å€¼ï¼Œåˆ™æ‰§è¡Œé»˜è®¤æ¨¡å¼â€œ *ï¼‰ â€åçš„å‘½ä»¤åºåˆ—ï¼Œç›´åˆ°é‡è§esacåç»“æŸåˆ†æ”¯</p><p>æ³¨æ„äº‹é¡¹ï¼š</p><p> â€œå˜é‡æˆ–è¡¨è¾¾å¼â€åé¢å¿…é¡»ä¸ºå•è¯inï¼Œæ¯ä¸€ä¸ªâ€œå˜é‡æˆ–è¡¨è¾¾å¼â€çš„å€¼å¿…é¡»ä»¥å³æ‹¬å·ç»“æŸã€‚å–å€¼å¯ä»¥ä¸ºå˜é‡æˆ–å¸¸æ•°ã€‚åŒ¹é…å‘ç°å–å€¼ç¬¦åˆæŸä¸€æ¨¡å¼åï¼Œå…¶é—´æ‰€æœ‰å‘½ä»¤å¼€å§‹æ‰§è¡Œç›´è‡³ ;; </p><p>åŒ¹é…ä¸­çš„å€¼å¯ä»¥æ˜¯å¤šä¸ªå€¼ï¼Œé€šè¿‡â€œ|â€æ¥åˆ†éš”</p><p>ä¾‹1ï¼šç¼–å†™ä¸€ä¸ªæ“ä½œæ–‡ä»¶çš„è„šæœ¬</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">[root@xuegod63 ~]# cat case-1.sh ########################################################################## File Name: case-1.sh# Author: xuegod##########################################################################!/bin/bashcat &lt;&lt;eof****************** 1. backup  **** 2. copy   **** 3. quit   ******************eofread -p "Input a choose: " OPcase $OP inâ€‹1|backup)â€‹echo "BACKUP......"â€‹;;â€‹2|copy)â€‹echo "COPY....."â€‹;;â€‹3|quit)â€‹exitâ€‹;;â€‹*)â€‹echo erroresac<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¾‹2ï¼šç¼–å†™ä¸€ä¸ªå¯åŠ¨apacheæœåŠ¡è„šæœ¬</p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# yum install httpd -y[root@xuegod63 ~]# vim  case-2.sh#!/bin/bashcase $1 inâ€‹start)â€‹systemctl $1 httpdâ€‹ps aux|grep httpdâ€‹echo "httpd start"â€‹;;â€‹stop)â€‹systemctl $1 httpdâ€‹ps aux|grep httpdâ€‹echo "httpd stop"â€‹;;â€‹status)â€‹systemctl $1 httpdâ€‹;;â€‹restart)â€‹systemctl $1 httpdâ€‹echo "httpd restart"â€‹;;â€‹*)â€‹echo "USAGE: $0 start|stop|restart"esac<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="21-2-å¾ªç¯è¯­å¥"><a href="#21-2-å¾ªç¯è¯­å¥" class="headerlink" title="21.2  å¾ªç¯è¯­å¥"></a>21.2  å¾ªç¯è¯­å¥</h1><h2 id="21-2-1-for-do-done"><a href="#21-2-1-for-do-done" class="headerlink" title="21.2.1  for-do-done"></a>21.2.1  for-do-done</h2><p>è¯­æ³•æ ¼å¼ï¼š</p><p>for var in list </p><p>do</p><p> commands</p><p>done</p><p>æˆ–ï¼š</p><p>for var in list ; do</p><p> commands</p><p>done</p><p><img src="/../assets/blog_res/%E7%BB%93%E6%9E%84%E5%8C%96%E5%91%BD%E4%BB%A4case%E5%92%8Cfor%E3%80%81while%E5%BE%AA%E7%8E%AF.assets/wps8.jpg" alt="img"> </p><p>å–å€¼åˆ—è¡¨æœ‰å¤šç§å–å€¼æ–¹å¼ï¼Œæ¯”å¦‚</p><p>å¯ä»¥ç›´æ¥è¯»å–in åé¢çš„å€¼ï¼Œé»˜è®¤ä»¥ç©ºæ ¼åšåˆ†éš”</p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# vim for-1.sh#!/bin/bashfor var in a1 b1 c1 d1doâ€‹echo the text is $vardone<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åˆ—è¡¨ä¸­çš„å¤æ‚å€¼ï¼Œå¯ä»¥ä½¿ç”¨ å¼•å·æˆ–è½¬ä¹‰å­—ç¬¦â€/â€æ¥åŠ ä»¥çº¦æŸ</p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# cat for-2.sh  #!/bin/bashfor var in a1 b1 "c1 d1" e2 "hello world"doâ€‹echo the text is $vardone[root@xuegod63 ~]# cat for-3.sh #!/bin/bashfor var in a1 b\'1 "c1 d1" e2 "hello world" I\'s a22 doâ€‹echo the text is $vardone <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä»å˜é‡ä¸­å–å€¼</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">[root@xuegod63 ~]# cat for-4.sh #!/bin/bashlist="a1 b1 c1 d1"for i in $listdoâ€‹echo is a $idone<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>4ã€ä»å‘½ä»¤ä¸­å–å€¼</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">[root@xuegod63 ~]# cat for-5.sh  #ä»¥ç©ºæ ¼åšåˆ†éš”ç¬¦#!/bin/bashfor i in `cat  /etc/hosts`doâ€‹echo "$i"done<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>5ã€è‡ªå®šä¹‰shellåˆ†éš”ç¬¦</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œbase shellä¼šä»¥ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢è¡Œç¬¦åšä¸ºåˆ†éš”ç¬¦ã€‚é€šè¿‡IFSæ¥è‡ªå®šä¹‰ä¸ºåˆ†éš”ç¬¦</p><p>æŒ‡å®šå•ä¸ªå­—ç¬¦åšåˆ†éš”ç¬¦ï¼š</p><p>IFS=ï¼š  #ä»¥ï¼šå†’å·åšåˆ†éš”ç¬¦</p><p>å¯ä»¥æŒ‡å®šå¤šä¸ª</p><p>å¦‚ IFS=â€™\nâ€™:;â€   #è¿™ä¸ªèµ‹å€¼ä¼šå°†åæ–œæ ã€nã€å†’å·ã€åˆ†å·å’ŒåŒå¼•å·ä½œä¸ºå­—æ®µåˆ†éš”ç¬¦ã€‚</p><p>æ³¨ï¼š$â€™\nâ€™ä¸â€™\nâ€™æ—¶çš„åŒºåˆ«</p><p>IFS=â€™\nâ€™   #å°†å­—ç¬¦\å’Œå­—ç¬¦nä½œä¸ºIFSçš„æ¢è¡Œç¬¦ã€‚</p><p>IFS=$â€™\nâ€™  #æ­£çœŸçš„ä½¿ç”¨æ¢è¡Œç¬¦åšä¸ºå­—æ®µåˆ†éš”ç¬¦ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">[root@xuegod63 ~]# cat for-6.sh #æŒ‡å®šä»¥\nå›è½¦åšä¸º forè¯­å¥çš„åˆ†éš”ç¬¦#!/bin/bashIFS=$'\n'for i in `cat /etc/hosts`doâ€‹echo "$i"done [root@xuegod63 ~]# cat for-7.sh  #ä»¥ï¼šå†’å·åšåˆ†éš”ç¬¦#!/bin/bashIFS=:list=`head -1 /etc/passwd`for i in $listdoâ€‹echo $idone<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>6ã€Cè¯­è¨€é£æ ¼çš„for</p><p>è¯­æ³•æ ¼å¼ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">for ((i=0;i&lt;10;i++))do  commmandsdone<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¾‹1ï¼šå•ä¸ªå˜é‡ã€‚ è¾“å‡º1åˆ°10ä¹‹é—´çš„æ•°å­—</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">[root@xuegod63 ~]# cat for-8.sh #!/bin/bashfor (( i=1 ; i&lt;=10  ; i++  ))doâ€‹echo num is $idone<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ³¨ï¼š</p><p>äº’åŠ¨ï¼š  i++ è¿™ä¸€æ¡è¯­å¥åœ¨forå¾ªç¯ä½“ä¸­å“ªä¸ªä½ç½®æ‰§è¡Œï¼Ÿ</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">for (( i=1 ; i&lt;=10  ;  ))  #i=1 åªèµ‹å€¼ä¸€æ¬¡ã€‚ç„¶åæ‰§è¡Œ i &lt;= 10doâ€‹echo num is $ii=$(($i+1))  # i++åœ¨è¿™é‡Œæ‰§è¡Œã€‚ å½“forå¾ªç¯ä½“ä¸­æ‰€æœ‰å‘½ä»¤æ‰§è¡Œå®Œåï¼Œå†æ‰§è¡Œi++done <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¾‹2ï¼šå¤šä¸ªå˜é‡ã€‚ åŒæ—¶è¾“å‡º1-9çš„å‡åºå’Œé™åº</p><p><img src="/../assets/blog_res/%E7%BB%93%E6%9E%84%E5%8C%96%E5%91%BD%E4%BB%A4case%E5%92%8Cfor%E3%80%81while%E5%BE%AA%E7%8E%AF.assets/wps9.jpg" alt="img"> </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">[root@xuegod63 ~]# cat for-8.sh #!/bin/bashfor ((a=1,b=9 ; a&lt;10 ; a++,b--))doâ€‹echo num is $a - $b done <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="21-3-whileå¾ªç¯è¯­å¥å’Œå¾ªç¯åµŒå¥—"><a href="#21-3-whileå¾ªç¯è¯­å¥å’Œå¾ªç¯åµŒå¥—" class="headerlink" title="21.3  whileå¾ªç¯è¯­å¥å’Œå¾ªç¯åµŒå¥—"></a>21.3  whileå¾ªç¯è¯­å¥å’Œå¾ªç¯åµŒå¥—</h1><h2 id="21-3-1-while-do-done"><a href="#21-3-1-while-do-done" class="headerlink" title="21.3.1  while-do-done"></a>21.3.1  while-do-done</h2><p>é‡å¤æµ‹è¯•æŒ‡ä»¤çš„æ¡ä»¶ï¼Œåªè¦æ¡ä»¶æˆç«‹å°±åå¤æ‰§è¡Œå¯¹åº”çš„å‘½ä»¤æ“ä½œï¼Œç›´åˆ°å‘½ä»¤ä¸æˆç«‹æˆ–ä¸ºå‡ï¼›</p><p>è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p><p>while æµ‹è¯•å‘½ä»¤</p><p>do</p><p>å‘½ä»¤</p><p>done</p><p><img src="/../assets/blog_res/%E7%BB%93%E6%9E%84%E5%8C%96%E5%91%BD%E4%BB%A4case%E5%92%8Cfor%E3%80%81while%E5%BE%AA%E7%8E%AF.assets/wps10.jpg" alt="img"> </p><p>æ³¨æ„ï¼šé¿å…é™·å…¥æ­»å¾ªç¯  while true </p><p>ä¾‹1ï¼šé™åºè¾“å‡º10åˆ°1çš„æ•°å­—</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">[root@xuegod63 ~]# cat while-1.sh #!/bin/bashvar=10while [ $var -gt 0 ]doâ€‹echo $varâ€‹var=$[$var-1]done <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¾‹2ï¼šè¾“å‡ºå¦‚ä¸‹å›¾ä¸¤æ•°ç›¸ä¹˜çš„æ•ˆæœ</p><p><img src="/../assets/blog_res/%E7%BB%93%E6%9E%84%E5%8C%96%E5%91%BD%E4%BB%A4case%E5%92%8Cfor%E3%80%81while%E5%BE%AA%E7%8E%AF.assets/wps11.jpg" alt="img"> </p><p>è‡ªå¢æ“ä½œ  let var++  </p><p>è‡ªå‡æ“ä½œ  let varâ€“  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">[root@xuegod63 ~]# cat while-2.sh#!/bin/bashnum=1while [ $num -lt 10 ]doâ€‹    sum=$((  $num * $num ))â€‹    echo  "$num * $num = $sum"â€‹    ((num++))#    let num++done<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="21-3-2-åµŒå¥—å¾ªç¯"><a href="#21-3-2-åµŒå¥—å¾ªç¯" class="headerlink" title="21.3.2  åµŒå¥—å¾ªç¯"></a>21.3.2  åµŒå¥—å¾ªç¯</h2><p>ä¾‹1ï¼šæ‰¹é‡æ·»åŠ a.txtæ–‡ä»¶5ä¸ªç”¨æˆ·</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">[root@xuegod63 ~]# vim a.txt  #æ·»åŠ 5ä¸ªç”¨æˆ·mkcdlsfindln<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¼–å†™è„šæœ¬çš„æ€è·¯</p><p>1  æ˜ç¡®è„šæœ¬çš„åŠŸèƒ½</p><p>2  ç¼–å†™è„šæœ¬æ—¶ä¼šä½¿ç”¨åˆ°é‚£äº›å‘½ä»¤ ï¼Ÿ  useradd   passwd  for </p><p>3  æŠŠå˜åŒ–çš„æ•°æ®ä½¿ç”¨å˜é‡è¡¨ç¤º</p><p>4  é€‰æ‹©é€‚åˆçš„æµç¨‹æ§åˆ¶  ï¼ˆé€‰æ‹© ã€ å¾ªç¯ ã€åˆ†æ”¯ï¼‰</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">[root@xuegod63 ~]# cat for-adduser.sh #!/bin/bashfor name in `cat /root/a.txt`#for name in $(cat /root/a.txt)doâ€‹    id $name &amp;&gt; /dev/nullâ€‹    if [ $? -ne 0 ];thenâ€‹        useradd $nameâ€‹        echo "123456" |passwd --stdin $name &amp;&gt; /dev/nullâ€‹        echo "user $name created" â€‹    elseâ€‹        echo "user $name is exist"â€‹    fidone<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ³¨ï¼š&amp;&gt; æ˜¯æ­£ç¡®å’Œé”™è¯¯çš„ä¿¡æ¯éƒ½é‡å®šå‘åˆ°/dev/nullé‡Œé¢</p><p>ä¾‹2 ï¼šæ‰“å°ä¹ä¹ä¹˜æ³•è¡¨</p><p><img src="/../assets/blog_res/%E7%BB%93%E6%9E%84%E5%8C%96%E5%91%BD%E4%BB%A4case%E5%92%8Cfor%E3%80%81while%E5%BE%AA%E7%8E%AF.assets/wps12.jpg" alt="img"> </p><p>æ³¨ï¼šå¤–å±‚å¾ªç¯å¾ªç¯è¡Œï¼Œå†…å±‚å¾ªç¯å¾ªç¯åˆ—</p><p>è§„å¾‹:  å†…å±‚å¾ªç¯çš„å˜é‡&lt;=å¤–å±‚å¾ªç¯çš„å˜é‡</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">[root@xuegod63 ~]# cat for-for.shfor i in  `seq 9`doâ€‹     for j in `seq $i`â€‹     doâ€‹       echo  -n  "$i*$j= `echo $(($i*$j))` "â€‹     doneâ€‹    echo "  "done <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="21-4-å®æˆ˜-3ä¸ªshellè„šæœ¬å®æˆ˜"><a href="#21-4-å®æˆ˜-3ä¸ªshellè„šæœ¬å®æˆ˜" class="headerlink" title="21.4  å®æˆ˜-3ä¸ªshellè„šæœ¬å®æˆ˜"></a>21.4  å®æˆ˜-3ä¸ªshellè„šæœ¬å®æˆ˜</h1><h2 id="21-4-1-å®æˆ˜-å°†-optç›®å½•ä¸‹æ‰€æœ‰çš„æ—¥å¿—æ–‡ä»¶å…¨è‡ªåŠ¨æ‰“åŒ…"><a href="#21-4-1-å®æˆ˜-å°†-optç›®å½•ä¸‹æ‰€æœ‰çš„æ—¥å¿—æ–‡ä»¶å…¨è‡ªåŠ¨æ‰“åŒ…" class="headerlink" title="21.4.1  å®æˆ˜-å°†/optç›®å½•ä¸‹æ‰€æœ‰çš„æ—¥å¿—æ–‡ä»¶å…¨è‡ªåŠ¨æ‰“åŒ…"></a>21.4.1  å®æˆ˜-å°†/optç›®å½•ä¸‹æ‰€æœ‰çš„æ—¥å¿—æ–‡ä»¶å…¨è‡ªåŠ¨æ‰“åŒ…</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">[root@xuegod63 ~]# vim log-back.sh#!/bin/shSRC_DIR=/var/log/DES_DIR=/opt/backup/`date +%Y%m%d`if[ ! -d  $DES_DIR ] ; thenâ€‹    mkdir -p $DES_DIRfifor i in  `find  $SRC_DIR  -name "*.log"`doâ€‹    tar  czf  $i.tgz  $idonemv /var/log/*.tgz $DES_DIRls -lh $DES_DIRecho "The scripts exec end, Files tar successfully !"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="21-4-2-å®æˆ˜-æ‰¾å‡º192-168-1-1-10ç½‘æ®µä¸­ï¼ŒæœåŠ¡å™¨å·²ç»å…³æœºçš„IPåœ°å€"><a href="#21-4-2-å®æˆ˜-æ‰¾å‡º192-168-1-1-10ç½‘æ®µä¸­ï¼ŒæœåŠ¡å™¨å·²ç»å…³æœºçš„IPåœ°å€" class="headerlink" title="21.4.2  å®æˆ˜-æ‰¾å‡º192.168.1.1-10ç½‘æ®µä¸­ï¼ŒæœåŠ¡å™¨å·²ç»å…³æœºçš„IPåœ°å€"></a>21.4.2  å®æˆ˜-æ‰¾å‡º192.168.1.1-10ç½‘æ®µä¸­ï¼ŒæœåŠ¡å™¨å·²ç»å…³æœºçš„IPåœ°å€</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">[root@xuegod63 ~]# vim ping.sh#!/bin/bashi=1for (( i=1;i&lt;10;i++ ))do ping  -c  3  192.168.1.$i &amp;&gt; /dev/null if  [ $? -ne 0 ];then   echo 192.168.1.$i is shutdown fidone<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="21-4-3-æ‰¹é‡åˆ›å»ºå¸å·å¹¶ç”Ÿæˆéšæœºå¯†ç "><a href="#21-4-3-æ‰¹é‡åˆ›å»ºå¸å·å¹¶ç”Ÿæˆéšæœºå¯†ç " class="headerlink" title="21.4.3  æ‰¹é‡åˆ›å»ºå¸å·å¹¶ç”Ÿæˆéšæœºå¯†ç "></a>21.4.3  æ‰¹é‡åˆ›å»ºå¸å·å¹¶ç”Ÿæˆéšæœºå¯†ç </h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">[root@xuegod63 ~]# vim adduser.sh#!/bin/bashfor i in xuegoda{1..10}do   useradd $i   pass=`date +%s|md5sum|cut -c 1-8`   sleep 1   echo "$i:$pass" &gt;&gt; /tmp/passwd.log   echo $pass |passwd --stdin $i &gt; /dev/null 2&gt;&amp;1   if [ $? -eq 0 ];thenâ€‹    echo "create user is successfully!"   elseâ€‹    echo "create user is failed!"   fidone <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ€»ç»“ï¼š</p><p>21.1  case - æµç¨‹æ§åˆ¶è¯­å¥</p><p>21.2  å¾ªç¯è¯­å¥</p><p>21.3  whileå¾ªç¯è¯­å¥å’Œå¾ªç¯åµŒå¥—</p><p>21.4  å®æˆ˜-3ä¸ªshellè„šæœ¬å®æˆ˜</p>]]></content>
      
      
      <categories>
          
          <category> shell </category>
          
      </categories>
      
      
        <tags>
            
            <tag> shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>markdownçš„ä½¿ç”¨è¯´æ˜</title>
      <link href="/2023/12/30/typora/"/>
      <url>/2023/12/30/typora/</url>
      
        <content type="html"><![CDATA[<h1 id="markdownçš„ä½¿ç”¨è¯´æ˜"><a href="#markdownçš„ä½¿ç”¨è¯´æ˜" class="headerlink" title="markdownçš„ä½¿ç”¨è¯´æ˜"></a>markdownçš„ä½¿ç”¨è¯´æ˜</h1><h2 id="ä¸€ã€æ ‡é¢˜"><a href="#ä¸€ã€æ ‡é¢˜" class="headerlink" title="ä¸€ã€æ ‡é¢˜"></a>ä¸€ã€æ ‡é¢˜</h2><blockquote><p>è¯­æ³•ï¼š# (ä¸€çº§æ ‡é¢˜)  ## (äºŒçº§æ ‡é¢˜)  ### (ä¸‰çº§æ ‡é¢˜) â€¦â€¦</p></blockquote><blockquote><p>ä»£ç ï¼š</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">&gt;# è¿™æ˜¯ä¸€çº§æ ‡é¢˜&gt;## è¿™æ˜¯äºŒçº§æ ‡é¢˜<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></blockquote><blockquote><p>æ•ˆæœ:  </p><h1 id="è¿™æ˜¯ä¸€çº§æ ‡é¢˜"><a href="#è¿™æ˜¯ä¸€çº§æ ‡é¢˜" class="headerlink" title="è¿™æ˜¯ä¸€çº§æ ‡é¢˜"></a>è¿™æ˜¯ä¸€çº§æ ‡é¢˜</h1><h2 id="è¿™æ˜¯äºŒçº§æ ‡é¢˜"><a href="#è¿™æ˜¯äºŒçº§æ ‡é¢˜" class="headerlink" title="è¿™æ˜¯äºŒçº§æ ‡é¢˜"></a>è¿™æ˜¯äºŒçº§æ ‡é¢˜</h2></blockquote><blockquote><p>å¿«æ·é”®:</p><ul><li>Ctrl+æ•°å­—1~6å¯ä»¥å¿«é€Ÿå°†é€‰ä¸­çš„æ–‡æœ¬è°ƒæˆå¯¹åº”çº§åˆ«çš„æ ‡é¢˜</li><li>Ctrl+0å¯ä»¥å¿«é€Ÿå°†é€‰ä¸­çš„æ–‡æœ¬è°ƒæˆæ™®é€šæ–‡æœ¬</li><li>Ctrl+åŠ å·/å‡å·å¯¹æ ‡é¢˜çº§åˆ«è¿›è¡ŒåŠ å‡</li></ul></blockquote><h2 id="äºŒã€æ®µè½"><a href="#äºŒã€æ®µè½" class="headerlink" title="äºŒã€æ®µè½"></a>äºŒã€æ®µè½</h2><h3 id="1ã€æ¢è¡Œ"><a href="#1ã€æ¢è¡Œ" class="headerlink" title="1ã€æ¢è¡Œ"></a>1ã€æ¢è¡Œ</h3><blockquote><p>ä»£ç :  </p><pre class="line-numbers language-text" data-language="text"><code class="language-text">&gt;è¿™æ˜¯ä¸€ä¸ªæ®µè½&gt;è¿™æ˜¯ä¸€ä¸ªæ®µè½<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></blockquote><blockquote><p>æ•ˆæœ: </p><p>è¿™æ˜¯ä¸€ä¸ªæ®µè½<br>è¿™æ˜¯ä¸€ä¸ªæ®µè½</p></blockquote><h3 id="2ã€åˆ†å‰²çº¿"><a href="#2ã€åˆ†å‰²çº¿" class="headerlink" title="2ã€åˆ†å‰²çº¿"></a>2ã€åˆ†å‰²çº¿</h3><blockquote><p>è¯­æ³•:  â€”æˆ–è€…***+å›è½¦</p></blockquote><blockquote><p>ä»£ç :</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">&gt;---æˆ–è€…***<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></blockquote><blockquote><p>æ•ˆæœ:</p><hr></blockquote><h2 id="ä¸‰ã€æ–‡å­—æ˜¾ç¤º"><a href="#ä¸‰ã€æ–‡å­—æ˜¾ç¤º" class="headerlink" title="ä¸‰ã€æ–‡å­—æ˜¾ç¤º"></a>ä¸‰ã€æ–‡å­—æ˜¾ç¤º</h2><h3 id="1ã€å­—ä½“"><a href="#1ã€å­—ä½“" class="headerlink" title="1ã€å­—ä½“"></a>1ã€å­—ä½“</h3><blockquote><p>è¯­æ³•:</p><ul><li>ç²—ä½“:  ç”¨ä¸€å¯¹åŒæ˜Ÿå·åŒ…è£¹</li><li>åˆ é™¤çº¿:  ç”¨ä¸€å¯¹åŒé£˜å·åŒ…è£¹</li><li>ä¸‹åˆ’çº¿:  ç”¨ä¸€å¯¹uæ ‡ç­¾åŒ…è£¹</li><li>æ–œä½“:  ç”¨ä¸€å¯¹å•æ˜Ÿå·åŒ…è£¹</li><li>é«˜äº®:  ç”¨ä¸€å¯¹åŒç­‰å·åŒ…è£¹</li></ul></blockquote><blockquote><p>ä»£ç :</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">&gt;**è¿™æ˜¯ç²—ä½“**&gt;~~è¿™æ˜¯åˆ é™¤çº¿~~&gt;&lt;u&gt;è¿™æ˜¯ä¸‹åˆ’çº¿&lt;/u&gt;&gt;*è¿™æ˜¯æ–œä½“*&gt;==è¿™æ˜¯é«˜äº®==<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></blockquote><blockquote><p>æ•ˆæœ:<br><strong>è¿™æ˜¯ç²—ä½“</strong><br><del>è¿™æ˜¯åˆ é™¤çº¿</del><br><u>è¿™æ˜¯ä¸‹åˆ’çº¿</u><br><em>è¿™æ˜¯æ–œä½“</em><br>==è¿™æ˜¯é«˜äº®==</p></blockquote><blockquote><p>å¿«æ·é”®:</p><ul><li>åŠ ç²—:  Ctrl+B</li><li>åˆ é™¤çº¿:  Shift+Alt+5</li><li>ä¸‹åˆ’çº¿:  Ctrl+U</li><li>æ–œä½“:  Ctrl+I</li></ul></blockquote><h3 id="2ã€ä¸Šä¸‹æ ‡"><a href="#2ã€ä¸Šä¸‹æ ‡" class="headerlink" title="2ã€ä¸Šä¸‹æ ‡"></a>2ã€ä¸Šä¸‹æ ‡</h3><blockquote><p>ä»£ç :</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">&gt;x^2^&gt;H~2~O<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></blockquote><blockquote><p>æ•ˆæœ:<br>x^2^<br>H<del>2</del>O</p></blockquote><h2 id="å››ã€åˆ—è¡¨"><a href="#å››ã€åˆ—è¡¨" class="headerlink" title="å››ã€åˆ—è¡¨"></a>å››ã€åˆ—è¡¨</h2><h3 id="1ã€æ— åºåˆ—è¡¨"><a href="#1ã€æ— åºåˆ—è¡¨" class="headerlink" title="1ã€æ— åºåˆ—è¡¨"></a>1ã€æ— åºåˆ—è¡¨</h3><blockquote><p>ä»£ç :</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">&gt;*/-/+ +ç©ºæ ¼<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></blockquote><blockquote><p>æ•ˆæœ:<br>1.åªæœ‰åŒä¸€çº§åˆ«:</p><ul><li>è‹¹æœ</li><li>é¦™è•‰</li><li>æ©˜å­</li></ul><p>2.å­é›†ç±»:</p><ul><li>ä¸€çº§åˆ†ç±»<ul><li>äºŒçº§åˆ†ç±» <ul><li>ä¸‰çº§åˆ†ç±»</li></ul></li></ul></li></ul></blockquote><blockquote><p>å¿«æ·é”®:  Ctrl+Shift+]</p></blockquote><h3 id="2ã€æœ‰åºåˆ—è¡¨"><a href="#2ã€æœ‰åºåˆ—è¡¨" class="headerlink" title="2ã€æœ‰åºåˆ—è¡¨"></a>2ã€æœ‰åºåˆ—è¡¨</h3><blockquote><p>ä»£ç :</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">&gt;æ•°å­—+.+ç©ºæ ¼<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></blockquote><blockquote><p>æ•ˆæœ:</p><ol><li>ç¬¬ä¸€ä¸ªæ ‡é¢˜</li><li>ç¬¬äºŒä¸ªæ ‡é¢˜</li><li>ç¬¬ä¸‰ä¸ªæ ‡é¢˜</li></ol><ul><li>å­å†…å®¹1</li><li>å­å†…å®¹2</li></ul><ol start="4"><li>ç¬¬å››ä¸ªæ ‡é¢˜</li></ol></blockquote><blockquote><p>å¿«æ·é”®:  Ctrl+Shift+[</p></blockquote><h3 id="3ã€ä»»åŠ¡åˆ—è¡¨"><a href="#3ã€ä»»åŠ¡åˆ—è¡¨" class="headerlink" title="3ã€ä»»åŠ¡åˆ—è¡¨"></a>3ã€ä»»åŠ¡åˆ—è¡¨</h3><blockquote><p>ä»£ç :</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">&gt;- [ ] åƒæ—©é¤&gt;- [x] èƒŒå•è¯<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></blockquote><blockquote><p>æ•ˆæœ:</p><ul><li><input disabled="" type="checkbox"> åƒæ—©é¤</li><li><input checked="" disabled="" type="checkbox"> èƒŒå•è¯</li></ul></blockquote><h2 id="äº”ã€åŒºå—æ˜¾ç¤º"><a href="#äº”ã€åŒºå—æ˜¾ç¤º" class="headerlink" title="äº”ã€åŒºå—æ˜¾ç¤º"></a>äº”ã€åŒºå—æ˜¾ç¤º</h2><blockquote><p>ä»£ç :</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">&gt;&gt;+å›è½¦<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></blockquote><blockquote><p>æ•ˆæœ:</p><blockquote><p>è¿™æ˜¯æœ€å¤–å±‚åŒºå—</p><blockquote><p>è¿™æ˜¯å†…å±‚åŒºå—</p></blockquote></blockquote><blockquote><blockquote><blockquote><p>è¿™æ˜¯æœ€å†…å±‚åŒºå—</p></blockquote></blockquote></blockquote></blockquote><h2 id="å…­ã€ä»£ç æ˜¾ç¤º"><a href="#å…­ã€ä»£ç æ˜¾ç¤º" class="headerlink" title="å…­ã€ä»£ç æ˜¾ç¤º"></a>å…­ã€ä»£ç æ˜¾ç¤º</h2><h3 id="1ã€è¡Œå†…ä»£ç "><a href="#1ã€è¡Œå†…ä»£ç " class="headerlink" title="1ã€è¡Œå†…ä»£ç "></a>1ã€è¡Œå†…ä»£ç </h3><blockquote><p>ä»£ç :</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">&gt;`int a=0;`ï¼ˆè¯´æ˜ï¼š`ä½äºEscä¸‹é¢ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></blockquote><blockquote><p>æ•ˆæœ:<br><code>int a=0;</code></p></blockquote><blockquote><p>å¿«æ·é”®:  Ctrl+Shift+`</p></blockquote><h3 id="2ã€ä»£ç å—"><a href="#2ã€ä»£ç å—" class="headerlink" title="2ã€ä»£ç å—"></a>2ã€ä»£ç å—</h3><blockquote><p>ä»£ç :</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">&gt;```js/java/c#/text&gt;å†…å®¹&gt;```<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></blockquote><blockquote><p>å¿«æ·é”®:  Ctrl+Shift+K</p></blockquote><h2 id="ä¸ƒã€é“¾æ¥"><a href="#ä¸ƒã€é“¾æ¥" class="headerlink" title="ä¸ƒã€é“¾æ¥"></a>ä¸ƒã€é“¾æ¥</h2><blockquote><p>ä»£ç :</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">&gt;www.baidu.com&gt;[ç™¾åº¦ä¸€ä¸‹](https://www.baidu.com)&gt;[ç™¾åº¦ä¸€ä¸‹](https://www.baidu.com "https://www.baidu.com")<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></blockquote><blockquote><p>æ•ˆæœ:<br><a href="http://www.baidu.com/">www.baidu.com</a><br><a href="https://www.baidu.com/">ç™¾åº¦ä¸€ä¸‹</a><br><a href="https://www.baidu.com/" title="https://www.baidu.com">ç™¾åº¦ä¸€ä¸‹</a></p></blockquote><blockquote><p>å¿«æ·é”®:  Ctrl+K</p></blockquote><h2 id="å…«ã€è„šæ³¨"><a href="#å…«ã€è„šæ³¨" class="headerlink" title="å…«ã€è„šæ³¨"></a>å…«ã€è„šæ³¨</h2><blockquote><p>è¯´æ˜:  å¯¹æ–‡æœ¬è¿›è¡Œè§£é‡Šè¯´æ˜ã€‚</p></blockquote><blockquote><p>ä»£ç : </p><pre class="line-numbers language-text" data-language="text"><code class="language-text">&gt;[^æ–‡æœ¬]&gt;[^æ–‡æœ¬]:è§£é‡Šè¯´æ˜<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></blockquote><blockquote><p>æ•ˆæœ:<br>è¿™æ˜¯ä¸€ä¸ªæŠ€æœ¯<a href="%E8%BF%99%E6%98%AF%E4%B8%80%E4%B8%AA%E9%9D%9E%E5%B8%B8%E5%A5%BD%E7%94%A8%E7%9A%84%E6%A1%86%E6%9E%B6%E3%80%82">^â‘ </a></p></blockquote><h2 id="ä¹ã€å›¾ç‰‡æ’å…¥"><a href="#ä¹ã€å›¾ç‰‡æ’å…¥" class="headerlink" title="ä¹ã€å›¾ç‰‡æ’å…¥"></a>ä¹ã€å›¾ç‰‡æ’å…¥</h2><blockquote><p>ä»£ç :</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">&gt;![ä¸æ˜¾ç¤ºçš„æ–‡å­—](å›¾ç‰‡è·¯å¾„ "å›¾ç‰‡æ ‡é¢˜")<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></blockquote><blockquote><p>æ•ˆæœ:<br>![This is a picture](C:\Users\asus\Pictures\Saved Pictures\Snipaste_2020-09-03_13-19-11.png â€œæ¼«æ­¥å›¾â€)</p><p>(æ³¨ï¼šæ•ˆæœè·¯å¾„ä¸ºC:\Users\asus\Pictures\Saved Pictures\Snipaste_2020-09-03_13-19-11.pngã€‚åœ¨å…¶ä»–ç”µè„‘ä¸Šå¯èƒ½ä¸æ˜¾ç¤ºã€‚)</p></blockquote><blockquote><p>å¿«æ·é”®:  Ctrl+Shift+I</p></blockquote><h2 id="åã€è¡¨æ ¼"><a href="#åã€è¡¨æ ¼" class="headerlink" title="åã€è¡¨æ ¼"></a>åã€è¡¨æ ¼</h2><blockquote><p>ä»£ç :</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">&gt;|  1   |  2   |  3   |&gt;| :--- | :--: | ---: |&gt;|  4   |  5   |  6   |&gt;|  7   |  8   |  9   |&gt;|  10  |  11  |  12  |<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></blockquote><blockquote><p>æ•ˆæœ:</p><table><thead><tr><th>1</th><th align="center">2</th><th align="right">3</th></tr></thead><tbody><tr><td>4</td><td align="center">5</td><td align="right">6</td></tr><tr><td>7</td><td align="center">8</td><td align="right">9</td></tr><tr><td>10</td><td align="center">11</td><td align="right">12</td></tr></tbody></table></blockquote><blockquote><p>å¿«æ·é”®:  Ctrl+T</p></blockquote><h2 id="åä¸€ã€æµç¨‹å›¾"><a href="#åä¸€ã€æµç¨‹å›¾" class="headerlink" title="åä¸€ã€æµç¨‹å›¾"></a>åä¸€ã€æµç¨‹å›¾</h2><h3 id="1ã€æ¨ªå‘æµç¨‹å›¾"><a href="#1ã€æ¨ªå‘æµç¨‹å›¾" class="headerlink" title="1ã€æ¨ªå‘æµç¨‹å›¾"></a>1ã€æ¨ªå‘æµç¨‹å›¾</h3><blockquote><p>ä»£ç :</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">```mermaidgraph LRA[æ–¹å½¢]==&gt;B(åœ†è§’)B==&gt;C{æ¡ä»¶a}C--&gt;|a=1|D[ç»“æœ1]C--&gt;|a=2|E[ç»“æœ2]F[æ¨ªå‘æµç¨‹å›¾]```<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></blockquote><blockquote><p>æ•ˆæœ:</p><pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">&gt;graph LR&gt;A[æ–¹å½¢]==&gt;B(åœ†è§’)&gt;B==&gt;C{æ¡ä»¶a}&gt;C--&gt;|a=1|D[ç»“æœ1]&gt;C--&gt;|a=2|E[ç»“æœ2]&gt;F[æ¨ªå‘æµç¨‹å›¾]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></blockquote><h3 id="2ã€ç«–å‘æµç¨‹å›¾"><a href="#2ã€ç«–å‘æµç¨‹å›¾" class="headerlink" title="2ã€ç«–å‘æµç¨‹å›¾"></a>2ã€ç«–å‘æµç¨‹å›¾</h3><blockquote><p>ä»£ç :</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">```mermaid&gt;graph TD&gt;A[æ–¹å½¢]==&gt;B(åœ†è§’)&gt;B==&gt;C{æ¡ä»¶a}&gt;C--&gt;|a=1|D[ç»“æœ1]&gt;C--&gt;|a=2|E[ç»“æœ2]&gt;F[ç«–å‘æµç¨‹å›¾]&gt;```<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></blockquote><blockquote><p>æ•ˆæœ:</p><pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">&gt;graph TD&gt;A[æ–¹å½¢]==&gt;B(åœ†è§’)&gt;B==&gt;C{æ¡ä»¶a}&gt;C--&gt;|a=1|D[ç»“æœ1]&gt;C--&gt;|a=2|E[ç»“æœ2]&gt;F[ç«–å‘æµç¨‹å›¾]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></blockquote><h2 id="åäºŒã€è¡¨æƒ…ç¬¦å·"><a href="#åäºŒã€è¡¨æƒ…ç¬¦å·" class="headerlink" title="åäºŒã€è¡¨æƒ…ç¬¦å·"></a>åäºŒã€è¡¨æƒ…ç¬¦å·</h2><blockquote><p>ä»£ç :</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">&gt;:happy:ã€:cry:ã€:man:<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></blockquote><blockquote><p>æ•ˆæœ:<br>:happy:ã€ <span class="github-emoji"><span>ğŸ˜¢</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f622.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ã€ <span class="github-emoji"><span>ğŸ‘¨</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f468.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></p></blockquote><h2 id="åä¸‰ã€æ•°å­¦å…¬å¼çš„è¾“å…¥"><a href="#åä¸‰ã€æ•°å­¦å…¬å¼çš„è¾“å…¥" class="headerlink" title="åä¸‰ã€æ•°å­¦å…¬å¼çš„è¾“å…¥"></a>åä¸‰ã€æ•°å­¦å…¬å¼çš„è¾“å…¥</h2><h3 id="1ã€å…¬å¼çš„æ’å…¥"><a href="#1ã€å…¬å¼çš„æ’å…¥" class="headerlink" title="1ã€å…¬å¼çš„æ’å…¥"></a>1ã€å…¬å¼çš„æ’å…¥</h3><h4 id="â‘ è¡Œä¸­å…¬å¼"><a href="#â‘ è¡Œä¸­å…¬å¼" class="headerlink" title="â‘ è¡Œä¸­å…¬å¼"></a>â‘ è¡Œä¸­å…¬å¼</h4><blockquote><p>ä»£ç :</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">&gt;$å…¬å¼$<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></blockquote><blockquote><p>æ•ˆæœ:<br>$å…¬å¼$</p></blockquote><h4 id="â‘¡ç‹¬ç«‹å…¬å¼"><a href="#â‘¡ç‹¬ç«‹å…¬å¼" class="headerlink" title="â‘¡ç‹¬ç«‹å…¬å¼"></a>â‘¡ç‹¬ç«‹å…¬å¼</h4><blockquote><p>ä»£ç :</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">&gt;$$&gt;å…¬å¼&gt;$$<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></blockquote><blockquote><p>æ•ˆæœ:<br>$$<br>å…¬å¼<br>$$</p></blockquote><h3 id="2ã€ä¸Šä¸‹æ ‡-1"><a href="#2ã€ä¸Šä¸‹æ ‡-1" class="headerlink" title="2ã€ä¸Šä¸‹æ ‡"></a>2ã€ä¸Šä¸‹æ ‡</h3><blockquote><p>ä»£ç :</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">&gt;$x^{y^z}=(1+e^x)^{-2xy^w}$&gt;$\sideset{^1_2}{^3_4}{\underset{6}\bigotimes}$<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></blockquote><blockquote><p>æ•ˆæœ:<br>$x^{y^z}=(1+e^x)^{-2xy^w}$<br>$\sideset{^1_2}{^3_4}{\underset{6}\bigotimes}$</p></blockquote><h3 id="3ã€æ‹¬å·å’Œåˆ†éš”ç¬¦"><a href="#3ã€æ‹¬å·å’Œåˆ†éš”ç¬¦" class="headerlink" title="3ã€æ‹¬å·å’Œåˆ†éš”ç¬¦"></a>3ã€æ‹¬å·å’Œåˆ†éš”ç¬¦</h3><blockquote><p>ä»£ç :</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">&gt;$\langle\quad\rangle\quad\lceil\quad\rceil\quad\lfloor\quad\rfloor\quad\lbrace\quad\rbrace\quad\lVert\quad\rVert$&gt;$f(x,y,z)=3y^2z\left(3+\dfrac{7x+5}{1+y^2}\right)$&gt;$\left.\dfrac{\mathrm{d}u}{\mathrm{d}x}\right|_{x=0}$<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></blockquote><blockquote><p>æ•ˆæœ:<br>$\langle\quad\rangle\quad\lceil\quad\rceil\quad\lfloor\quad\rfloor\quad\lbrace\quad\rbrace\quad\lVert\quad\rVert$<br>$f(x,y,z)=3y^2z\left(3+\dfrac{7x+5}{1+y^2}\right)$<br>$\left.\dfrac{\mathrm{d}u}{\mathrm{d}x}\right|_{x=0}$</p></blockquote><h3 id="4ã€åˆ†æ•°"><a href="#4ã€åˆ†æ•°" class="headerlink" title="4ã€åˆ†æ•°"></a>4ã€åˆ†æ•°</h3><blockquote><p>ä»£ç :</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">&gt;$\frac{a}{b}\quad\dfrac{a}{b}\quad {a\over b}$<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></blockquote><blockquote><p>æ•ˆæœ:<br>$\frac{a}{b}\quad\dfrac{a}{b}\quad {a\over b}$</p></blockquote><h3 id="5ã€å¼€æ–¹"><a href="#5ã€å¼€æ–¹" class="headerlink" title="5ã€å¼€æ–¹"></a>5ã€å¼€æ–¹</h3><blockquote><p>ä»£ç :</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">&gt;$\sqrt[æ ¹æŒ‡æ•°,çœç•¥æ—¶ä¸º2]{è¢«å¼€æ–¹æ•°}$<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></blockquote><blockquote><p>æ•ˆæœ:<br>$\sqrt{2}\quad\sqrt[3]{2}$</p></blockquote><h3 id="6ã€çœç•¥å·"><a href="#6ã€çœç•¥å·" class="headerlink" title="6ã€çœç•¥å·"></a>6ã€çœç•¥å·</h3><blockquote><p>ä»£ç :</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">&gt;$\cdots\quad\ldots\quad\vdots\quad\ddots$<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></blockquote><blockquote><p>æ•ˆæœ:<br>$\cdots\quad\ldots\quad\vdots\quad\ddots$</p></blockquote><h3 id="7ã€çŸ¢é‡å’Œå‡å€¼"><a href="#7ã€çŸ¢é‡å’Œå‡å€¼" class="headerlink" title="7ã€çŸ¢é‡å’Œå‡å€¼"></a>7ã€çŸ¢é‡å’Œå‡å€¼</h3><blockquote><p>ä»£ç :</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">&gt;$\overrightarrow{E(\vec{r})}\quad\overleftarrow{E(\vec{r})}\quad\overleftrightarrow{E(\vec{r})}\quad\underrightarrow{E(\vec{r})}\quad\underleftarrow{E(\vec{r})}\quad\underleftrightarrow{E(\vec{r})}\quad\overline{v}=\bar{v}\quad\underline{v}$<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></blockquote><blockquote><p>æ•ˆæœ:<br>$\overrightarrow{E(\vec{r})}\quad\overleftarrow{E(\vec{r})}\quad\overleftrightarrow{E(\vec{r})}\quad\underrightarrow{E(\vec{r})}\quad\underleftarrow{E(\vec{r})}\quad\underleftrightarrow{E(\vec{r})}\quad\overline{v}=\bar{v}\quad\underline{v}$</p></blockquote><h3 id="8ã€ç§¯åˆ†"><a href="#8ã€ç§¯åˆ†" class="headerlink" title="8ã€ç§¯åˆ†"></a>8ã€ç§¯åˆ†</h3><blockquote><p>ä»£ç :</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">&gt;$$&gt;\iint\limits_D\left(\dfrac{\partial Q}{\partial x}-\dfrac{\partial P}{\partial y}\right){\rm d}x{\rm d}y=\oint\limits_LP{\rm d}x+Q{\rm d}y&gt;$$<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></blockquote><blockquote><p>æ•ˆæœ:<br>$$<br>\iint\limits_D\left(\dfrac{\partial Q}{\partial x}-\dfrac{\partial P}{\partial y}\right){\rm d}x{\rm d}y=\oint\limits_LP{\rm d}x+Q{\rm d}y<br>$$</p></blockquote><h3 id="9ã€æé™"><a href="#9ã€æé™" class="headerlink" title="9ã€æé™"></a>9ã€æé™</h3><blockquote><p>ä»£ç :</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">&gt;$\lim\limits_{n\to\infin}(1+\dfrac{1}{n})^n=e$<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></blockquote><blockquote><p>æ•ˆæœ:<br>$\lim\limits_{n\to\infin}(1+\dfrac{1}{n})^n=e$</p></blockquote><h3 id="10ã€ç´¯åŠ ã€ç´¯ä¹˜åŠäº¤é›†ã€å¹¶é›†"><a href="#10ã€ç´¯åŠ ã€ç´¯ä¹˜åŠäº¤é›†ã€å¹¶é›†" class="headerlink" title="10ã€ç´¯åŠ ã€ç´¯ä¹˜åŠäº¤é›†ã€å¹¶é›†"></a>10ã€ç´¯åŠ ã€ç´¯ä¹˜åŠäº¤é›†ã€å¹¶é›†</h3><blockquote><pre class="line-numbers language-text" data-language="text"><code class="language-text">&gt;$\sum\limits_{i=1}^n\dfrac{1}{n^2}\quad and\quad\prod\limits_{i=1}^n\dfrac{1}{n^2}\quad and\quad\bigcup\limits_{i=1}^n\dfrac{1}{n^2}\quad and\quad\bigcap\limits_{i=1}^n\dfrac{1}{n^2}$<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></blockquote><blockquote><p>æ•ˆæœ:<br>$\sum\limits_{i=1}^n\dfrac{1}{n^2}\quad and\quad\prod\limits_{i=1}^n\dfrac{1}{n^2}\quad and\quad\bigcup\limits_{i=1}^n\dfrac{1}{n^2}\quad and\quad\bigcap\limits_{i=1}^n\dfrac{1}{n^2}$</p></blockquote><h3 id="11ã€å¸Œè…Šå­—æ¯"><a href="#11ã€å¸Œè…Šå­—æ¯" class="headerlink" title="11ã€å¸Œè…Šå­—æ¯"></a>11ã€å¸Œè…Šå­—æ¯</h3><table><thead><tr><th>è¯­æ³•</th><th>å­—æ¯</th><th>è¯­æ³•</th><th>å­—æ¯</th><th>è¯­æ³•</th><th>å­—æ¯</th></tr></thead><tbody><tr><td>\Alpha(\alpha)</td><td>$\Alpha(\alpha)$</td><td>\Beta(\beta)</td><td>$\Beta(\beta)$</td><td>\Gamma(\gamma)</td><td>$\Gamma(\gamma)$</td></tr><tr><td>\Epsilon(\epsilon)\varepsilon</td><td>$\Epsilon(\epsilon)\varepsilon$</td><td>\Zeta(\zeta)</td><td>$\Zeta(\zeta)$</td><td>\Eta(\eta)</td><td>$\Eta(\eta)$</td></tr><tr><td>\Iota(\iota)</td><td>$\Iota(\iota)$</td><td>\Kappa(\kappa)\varkappa</td><td>$\Kappa(\kappa)\varkappa$</td><td>\Lambda(\lambda)</td><td>$\Lambda(\lambda)$</td></tr><tr><td>\Nu(\nu)</td><td>$\Nu(\nu)$</td><td>\Xi(\xi)</td><td>$\Xi(\xi)$</td><td>\Omicron(\omicron)</td><td>$\Omicron(\omicron)$</td></tr><tr><td>\Rho(\rho)\varrho</td><td>$\Rho(\rho)\varrho$</td><td>\Sigma(\sigma)\varsigma</td><td>$\Sigma(\sigma)\varsigma$</td><td>\Tau(\tau)</td><td>$\Tau(\tau)$</td></tr><tr><td>\Phi(\phi)\varphi</td><td>$\Phi(\phi)\varphi$</td><td>\Chi(\chi)</td><td>$\Chi(\chi)$</td><td>\Psi(\psi)</td><td>$\Psi(\psi)$</td></tr><tr><td>\Delta(\delta)</td><td>$\Delta(\delta)$</td><td>\Theta(\theta)\vartheta</td><td>$\Theta(\theta)\vartheta$</td><td>\Mu(\mu)</td><td>$\Mu(\mu)$</td></tr><tr><td>\Pi(\pi)\varpi</td><td>$\Pi(\pi)\varpi$</td><td>\Omega(\omega)</td><td>$\Omega(\omega)$</td><td>\upsilon</td><td>$\upsilon$</td></tr><tr><td>\ell</td><td>$\ell$</td><td>\eth</td><td>$\eth$</td><td>\hbar</td><td>$\hbar$</td></tr><tr><td>\hslash</td><td>$\hslash$</td><td>\mho</td><td>$\mho$</td><td>\partial</td><td>$\partial$</td></tr></tbody></table><h3 id="12ã€ç‰¹æ®Šå­—ç¬¦"><a href="#12ã€ç‰¹æ®Šå­—ç¬¦" class="headerlink" title="12ã€ç‰¹æ®Šå­—ç¬¦"></a>12ã€ç‰¹æ®Šå­—ç¬¦</h3><h4 id="â‘ è¯´æ˜"><a href="#â‘ è¯´æ˜" class="headerlink" title="â‘ è¯´æ˜"></a>â‘ è¯´æ˜</h4><blockquote><p>å¯ä»¥åœ¨å­—ç¬¦å‰ä½¿ç”¨<code>\large</code>æˆ–<code>\small</code>ä»¥æ˜¾ç¤ºæ›´å¤§æˆ–æ›´å°çš„å­—ç¬¦ã€‚${\LARGE A}{\Large A}{\large A}A{\small A}$</p></blockquote><h4 id="â‘¡å…³ç³»è¿ç®—ç¬¦"><a href="#â‘¡å…³ç³»è¿ç®—ç¬¦" class="headerlink" title="â‘¡å…³ç³»è¿ç®—ç¬¦"></a>â‘¡å…³ç³»è¿ç®—ç¬¦</h4><table><thead><tr><th>è¾“å…¥</th><th>æ˜¾ç¤º</th><th>è¾“å…¥</th><th>æ˜¾ç¤º</th><th>è¾“å…¥</th><th>æ˜¾ç¤º</th></tr></thead><tbody><tr><td>\pm(\mp)</td><td>$\pm(\mp)$</td><td>\times</td><td>$\times$</td><td>\div</td><td>$\div$</td></tr><tr><td>\nmid</td><td>$\nmid$</td><td>\cdot</td><td>$\cdot$</td><td>\mid</td><td>$\mid$</td></tr><tr><td>\bigodot</td><td>$\bigodot$</td><td>\bigotimes</td><td>$\bigotimes$</td><td>\bigoplus</td><td>$\bigoplus$</td></tr><tr><td>\ge</td><td>$\ge$</td><td>\le</td><td>$\le$</td><td>\ll</td><td>$\ll$</td></tr><tr><td>\geqslant</td><td>$\geqslant$</td><td>\leqslant</td><td>$\leqslant$</td><td>\neq</td><td>$\neq$</td></tr><tr><td>\approx</td><td>$\approx$</td><td>\xlongequal{æ–‡æœ¬}</td><td>$\xlongequal{æ–‡æœ¬}$</td><td>\triangleq</td><td>$\triangleq$</td></tr><tr><td>\sim</td><td>$\sim$</td><td>\doteq</td><td>$\doteq$</td><td>\equiv</td><td>$\equiv$</td></tr><tr><td>\cong</td><td>$\cong$</td><td>\propto</td><td>$\propto$</td><td>\parallel(\</td><td>)</td></tr><tr><td>\prec</td><td>$\prec$</td><td>\pmod{2}</td><td>$\pmod{2}$</td><td>\bmod</td><td>$\bmod{2}$</td></tr></tbody></table><h4 id="â‘¢é›†åˆè¿ç®—ç¬¦"><a href="#â‘¢é›†åˆè¿ç®—ç¬¦" class="headerlink" title="â‘¢é›†åˆè¿ç®—ç¬¦"></a>â‘¢é›†åˆè¿ç®—ç¬¦</h4><table><thead><tr><th>è¾“å…¥</th><th>æ˜¾ç¤º</th><th>è¾“å…¥</th><th>æ˜¾ç¤º</th><th>è¾“å…¥</th><th>æ˜¾ç¤º</th></tr></thead><tbody><tr><td>\emptyset</td><td>$\emptyset$</td><td>\varnothing</td><td>$\varnothing$</td><td></td><td></td></tr><tr><td>\subset</td><td>$\subset$</td><td>\subseteq</td><td>$\subseteq$</td><td>\subsetneq</td><td>$\subsetneq$</td></tr><tr><td>\supset</td><td>$\supset$</td><td>\supseteq</td><td>$\supseteq$</td><td>\supsetneq</td><td>$\supsetneq$</td></tr><tr><td>\bigcap</td><td>$\bigcap$</td><td>\bigcup</td><td>$\bigcup$</td><td>\setminus</td><td>$\setminus$</td></tr><tr><td>\bigvee</td><td>$\bigvee$</td><td>\bigwedge</td><td>$\bigwedge$</td><td></td><td></td></tr><tr><td>\in</td><td>$\in$</td><td>\notin</td><td>$\notin$</td><td>\ni</td><td>$\ni$</td></tr></tbody></table><h4 id="â‘£ä¸‰è§’è¿ç®—ç¬¦"><a href="#â‘£ä¸‰è§’è¿ç®—ç¬¦" class="headerlink" title="â‘£ä¸‰è§’è¿ç®—ç¬¦"></a>â‘£ä¸‰è§’è¿ç®—ç¬¦</h4><table><thead><tr><th>è¾“å…¥</th><th>æ˜¾ç¤º</th><th>è¾“å…¥</th><th>æ˜¾ç¤º</th><th>è¾“å…¥</th><th>æ˜¾ç¤º</th></tr></thead><tbody><tr><td>\circ</td><td>$\circ$</td><td>\bot</td><td>$\bot$</td><td>\angle</td><td>$\angle$</td></tr><tr><td>\degree</td><td>$\degree$</td><td></td><td></td><td></td><td></td></tr></tbody></table><h4 id="â‘¤å¾®ç§¯åˆ†è¿ç®—ç¬¦"><a href="#â‘¤å¾®ç§¯åˆ†è¿ç®—ç¬¦" class="headerlink" title="â‘¤å¾®ç§¯åˆ†è¿ç®—ç¬¦"></a>â‘¤å¾®ç§¯åˆ†è¿ç®—ç¬¦</h4><table><thead><tr><th>è¾“å…¥</th><th>æ˜¾ç¤º</th><th>è¾“å…¥</th><th>æ˜¾ç¤º</th><th>è¾“å…¥</th><th>æ˜¾ç¤º</th></tr></thead><tbody><tr><td>\int</td><td>$\int$</td><td>\iint</td><td>$\iint$</td><td>\iiint</td><td>$\iiint$</td></tr><tr><td>\oint</td><td>$\oint$</td><td>\oiint</td><td>$\oiint$</td><td>\prime(â€˜)</td><td>$\prime$</td></tr><tr><td>\lim</td><td>$\lim$</td><td>\infin</td><td>$\infin$</td><td>\nabla</td><td>$\nabla$</td></tr><tr><td>\grad</td><td>$\grad$</td><td></td><td></td><td></td><td></td></tr></tbody></table><h4 id="â‘¥é€»è¾‘è¿ç®—ç¬¦"><a href="#â‘¥é€»è¾‘è¿ç®—ç¬¦" class="headerlink" title="â‘¥é€»è¾‘è¿ç®—ç¬¦"></a>â‘¥é€»è¾‘è¿ç®—ç¬¦</h4><table><thead><tr><th>è¾“å…¥</th><th>æ˜¾ç¤º</th><th>è¾“å…¥</th><th>æ˜¾ç¤º</th><th>è¾“å…¥</th><th>æ˜¾ç¤º</th></tr></thead><tbody><tr><td>\because</td><td>$\because$</td><td>\therefore</td><td>$\therefore$</td><td></td><td></td></tr><tr><td>\forall</td><td>$\forall$</td><td>\exist</td><td>$\exist$</td><td></td><td></td></tr><tr><td>\not&gt;</td><td>$\not&gt;$</td><td>\not&lt;</td><td>$\not&lt;$</td><td></td><td></td></tr><tr><td>\land</td><td>$\land$</td><td>\lor</td><td>$\lor$</td><td>\lnot</td><td>$\lnot$</td></tr><tr><td>\top</td><td>$\top$</td><td>\vdash</td><td>$\vdash$</td><td>\vDash</td><td>$\vDash$</td></tr></tbody></table><h4 id="â‘¦å¸¦å¸½ç¬¦å·"><a href="#â‘¦å¸¦å¸½ç¬¦å·" class="headerlink" title="â‘¦å¸¦å¸½ç¬¦å·"></a>â‘¦å¸¦å¸½ç¬¦å·</h4><table><thead><tr><th>è¾“å…¥</th><th>æ˜¾ç¤º</th><th>è¾“å…¥</th><th>æ˜¾ç¤º</th></tr></thead><tbody><tr><td>\hat{xy}</td><td>$\hat{xy}$</td><td>\widehat{xyz}</td><td>$\widehat{xyz}$</td></tr><tr><td>\tilde{xy}</td><td>$\tilde{xy}$</td><td>\widetilde{xyz}</td><td>$\widetilde{xyz}$</td></tr><tr><td>\check{x}</td><td>$\check{x}$</td><td>\breve{y}</td><td>$\breve{y}$</td></tr><tr><td>\grave{x}</td><td>$\grave{x}$</td><td>\acute{y}</td><td>$\acute{y}$</td></tr><tr><td>\dot{x}</td><td>$\dot{x}$</td><td>\ddot{x}</td><td>$\ddot{x}$</td></tr><tr><td>\overparen{xy}</td><td>$\overparen{xy}$</td><td></td><td></td></tr></tbody></table><h4 id="â‘§é€‰å–ç¬¦å·"><a href="#â‘§é€‰å–ç¬¦å·" class="headerlink" title="â‘§é€‰å–ç¬¦å·"></a>â‘§é€‰å–ç¬¦å·</h4><table><thead><tr><th>è¾“å…¥</th><th>æ˜¾ç¤º</th><th>è¾“å…¥</th><th>æ˜¾ç¤º</th></tr></thead><tbody><tr><td>\fbox{a+b+c+d}</td><td>$\fbox{a+b+c+d}$</td><td></td><td></td></tr><tr><td>\overbrace{xx\cdots x}^{10ä¸ªx}</td><td>$\overbrace{xx\cdots x}^{10ä¸ªx}$</td><td>\underbrace{xx\cdots x}_{10ä¸ªx}</td><td>$\underbrace{xx\cdots x}_{10ä¸ªx}$</td></tr></tbody></table><h4 id="â‘¨ç®­å¤´ç¬¦å·"><a href="#â‘¨ç®­å¤´ç¬¦å·" class="headerlink" title="â‘¨ç®­å¤´ç¬¦å·"></a>â‘¨ç®­å¤´ç¬¦å·</h4><table><thead><tr><th>è¾“å…¥</th><th>æ˜¾ç¤º</th><th>è¾“å…¥</th><th>æ˜¾ç¤º</th><th>è¾“å…¥</th><th>æ˜¾ç¤º</th></tr></thead><tbody><tr><td>\leftarrow</td><td>$\leftarrow$</td><td>\rightarrow</td><td>$\rightarrow$</td><td>\leftrightarrow</td><td>$\leftrightarrow$</td></tr><tr><td>\longleftarrow</td><td>$\longleftarrow$</td><td>\longrightarrow</td><td>$\longrightarrow$</td><td>\longleftrightarrow</td><td>$\longleftrightarrow$</td></tr><tr><td>\Leftarrow</td><td>$\Leftarrow$</td><td>\Rightarrow</td><td>$\Rightarrow$</td><td>\Leftrightarrow</td><td>$\Leftrightarrow$</td></tr><tr><td>\Longleftarrow</td><td>$\Longleftarrow$</td><td>\Longrightarrow</td><td>$\Longrightarrow$</td><td>\Longleftrightarrow</td><td>$\Longleftrightarrow$</td></tr><tr><td>\uparrow</td><td>$\uparrow$</td><td>\downarrow</td><td>$\downarrow$</td><td>\updownarrow</td><td>$\updownarrow$</td></tr><tr><td>\Uparrow</td><td>$\Uparrow$</td><td>\Downarrow</td><td>$\Downarrow$</td><td>\Updownarrow</td><td>$\Updownarrow$</td></tr><tr><td>\to</td><td>$\to$</td><td>\swarrow</td><td>$\swarrow$</td><td>\nearrow</td><td>$\nearrow$</td></tr><tr><td>\gets</td><td>$\gets$</td><td>\searrow</td><td>$\searrow$</td><td>\nwarrow</td><td>$\nwarrow$</td></tr><tr><td>\mapsto</td><td>$\mapsto$</td><td>\rightrightarrows</td><td>$\rightrightarrows$</td><td></td><td></td></tr></tbody></table><h4 id="â‘©ç©ºæ ¼"><a href="#â‘©ç©ºæ ¼" class="headerlink" title="â‘©ç©ºæ ¼"></a>â‘©ç©ºæ ¼</h4><table><thead><tr><th>è¾“å…¥</th><th>æ•ˆæœ</th><th>è¾“å…¥</th><th>æ•ˆæœ</th><th>è¾“å…¥</th><th>æ•ˆæœ</th></tr></thead><tbody><tr><td>\!</td><td>$</td><td>!</td><td>$</td><td>é»˜è®¤</td><td>$</td></tr><tr><td>,</td><td>$</td><td>,</td><td>$</td><td>;(\ )</td><td>$</td></tr></tbody></table><h3 id="13ã€å­—ä½“"><a href="#13ã€å­—ä½“" class="headerlink" title="13ã€å­—ä½“"></a>13ã€å­—ä½“</h3><blockquote><p>ä»£ç :</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">${\å­—ä½“{éœ€è¦è½¬æ¢çš„å­—ç¬¦}}$<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></blockquote><table><thead><tr><th>è¾“å…¥</th><th>è¯´æ˜</th><th>æ˜¾ç¤º</th><th>è¾“å…¥</th><th>è¯´æ˜</th><th>æ˜¾ç¤º</th></tr></thead><tbody><tr><td>\rm</td><td>ç½—é©¬ä½“</td><td>${\rm{Sample}}$</td><td>\cal</td><td>èŠ±ä½“</td><td>${\cal{Sample}}$</td></tr><tr><td>\it</td><td>æ„å¤§åˆ©ä½“</td><td>${\it{Sample}}$</td><td>\Bbb</td><td>é»‘æ¿ç²—ä½“</td><td>${\Bbb{Sample}}$</td></tr><tr><td>\bf</td><td>ç²—ä½“</td><td>${\bf{Sample}}$</td><td>\mit</td><td>æ•°å­¦æ–œä½“</td><td>${\mit{Sample}}$</td></tr><tr><td>\sf</td><td>ç­‰çº¿ä½“</td><td>${\sf{Sample}}$</td><td>\scr</td><td>æ‰‹å†™ä½“</td><td>${\scr{Sample}}$</td></tr><tr><td>\tt</td><td>æ‰“å­—æœºä½“</td><td>${\tt{Sample}}$</td><td>\frak</td><td>æ—§å¾·å¼å­—ä½“</td><td>${\frak{Sample}}$</td></tr></tbody></table><h3 id="14ã€å¤§æ‹¬å·å’Œè¡Œæ ‡"><a href="#14ã€å¤§æ‹¬å·å’Œè¡Œæ ‡" class="headerlink" title="14ã€å¤§æ‹¬å·å’Œè¡Œæ ‡"></a>14ã€å¤§æ‹¬å·å’Œè¡Œæ ‡</h3><blockquote><p>è¯´æ˜:  ä½¿ç”¨<code>\left</code>å’Œ<code>\right</code>æ¥åˆ›å»ºè‡ªåŠ¨åŒ¹é…é«˜åº¦çš„<code>()</code>ã€<code>[]</code>ã€<code>{}</code>ã€<code>.</code>ã€‚åœ¨æ¯ä¸ªå…¬å¼æœ«å°¾ä½¿ç”¨<code>\tag{è¡Œæ ‡}</code>æ¥å®ç°è¡Œæ ‡ã€‚</p></blockquote><blockquote><p>ä»£ç :</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">&gt;$$&gt;f\left(&gt;\left[&gt;\dfrac{1+\{x,y\}}{\left(\dfrac{x}{y}+\dfrac{y}{x}\right)(u+1)}+a&gt;\right]&gt;^{\dfrac{3}{2}}&gt;\right)&gt;\tag{è¡Œæ ‡}&gt;$$<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></blockquote><blockquote><p>æ•ˆæœ:<br>$$<br>f\left(\left[\dfrac{1+{x,y}}{\left(\dfrac{x}{y}+\dfrac{y}{x}\right)(u+1)}+a\right]^{\dfrac{3}{2}}\right)\tag{è¡Œæ ‡}<br>$$</p></blockquote><blockquote><p>è¯´æ˜:å¦‚æœä½ æƒ³å°†è¡Œå†…æ˜¾ç¤ºçš„åˆ†éš”ç¬¦ä¹Ÿå˜å¤§,ä¹Ÿå¯ä»¥ä½¿ç”¨<code>\middle</code>å‘½ä»¤</p></blockquote><blockquote><p>ä»£ç :</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">&gt;$$&gt;\left\langle q\middle\|\dfrac{\dfrac{x}{y}}{\dfrac{u}{v}}\middle|p\right\rangle&gt;$$<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></blockquote><blockquote><p>æ•ˆæœ:<br>$$<br>\left\langle q\middle|\dfrac{\dfrac{x}{y}}{\dfrac{u}{v}}\middle|p\right\rangle<br>$$</p></blockquote><h3 id="15ã€å…¶ä»–å‘½ä»¤"><a href="#15ã€å…¶ä»–å‘½ä»¤" class="headerlink" title="15ã€å…¶ä»–å‘½ä»¤"></a>15ã€å…¶ä»–å‘½ä»¤</h3><h4 id="â‘ æ³¨é‡Šæ–‡å­—"><a href="#â‘ æ³¨é‡Šæ–‡å­—" class="headerlink" title="â‘ æ³¨é‡Šæ–‡å­—"></a>â‘ æ³¨é‡Šæ–‡å­—</h4><blockquote><p>ä»£ç :</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">&gt;$\text{æ–‡å­—}$<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></blockquote><blockquote><p>æ•ˆæœ:<br>$$<br>f(n)=\begin{cases}n/2,&amp;\text{if $n$ is even}\3n+1,&amp;\text{if $n$ is odd}\end{cases}<br>$$</p></blockquote><h4 id="â‘¢æ–‡å­—é¢œè‰²"><a href="#â‘¢æ–‡å­—é¢œè‰²" class="headerlink" title="â‘¢æ–‡å­—é¢œè‰²"></a>â‘¢æ–‡å­—é¢œè‰²</h4><blockquote><ul><li>é€‚ç”¨æ–°æ—§æµè§ˆå™¨<br>ä»£ç :<pre class="line-numbers language-text" data-language="text"><code class="language-text">$\color{é¢œè‰²}{æ–‡å­—}$<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul></blockquote><table><thead><tr><th>è¾“å…¥</th><th>æ˜¾ç¤º</th><th>è¾“å…¥</th><th>æ˜¾ç¤º</th><th>è¾“å…¥</th><th>æ˜¾ç¤º</th></tr></thead><tbody><tr><td>black</td><td>$\color{black}{color}$</td><td>grey</td><td>$\color{grey}{color}$</td><td>silver</td><td>$\color{silver}{color}$</td></tr><tr><td>white</td><td>$\color{white}{color}$</td><td>maroon</td><td>$\color{maroon}{color}$</td><td>red</td><td>$\color{red}{color}$</td></tr><tr><td>yellow</td><td>$\color{yellow}{color}$</td><td>lime</td><td>$\color{lime}{color}$</td><td>olive</td><td>$\color{olive}{color}$</td></tr><tr><td>green</td><td>$\color{green}{color}$</td><td>teal</td><td>$\color{teal}{color}$</td><td>auqa</td><td>$\color{auqa}{color}$</td></tr><tr><td>blue</td><td>$\color{blue}{color}$</td><td>navy</td><td>$\color{navy}{color}$</td><td>purple</td><td>$\color{purple}{color}$</td></tr><tr><td>fuchsia</td><td>$\color{fuchsia}{color}$</td><td></td><td></td><td></td><td></td></tr></tbody></table><blockquote><ul><li>é€‚ç”¨æ–°ç‰ˆæµè§ˆå™¨<br>ä»£ç :<pre class="line-numbers language-text" data-language="text"><code class="language-text">&gt;$\color{#rgb}{æ–‡å­—}$    (æ³¨:å…¶ä¸­rã€gã€bå¯ä»¥è¾“å…¥0~9å’Œa~fæ¥åˆ†åˆ«è¡¨ç¤ºçº¢è‰²ã€ç»¿è‰²å’Œè“è‰²çš„çº¯åº¦)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul></blockquote><table><thead><tr><th>è¾“å…¥</th><th>è¾“å‡º</th><th>è¾“å…¥</th><th>è¾“å‡º</th><th>è¾“å…¥</th><th>è¾“å‡º</th><th>è¾“å…¥</th><th>è¾“å‡º</th></tr></thead><tbody><tr><td>#000</td><td>$\color</td><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  </category>
          
          <category> Typora </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å­¦ä¹  </tag>
            
            <tag> Typora </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>èµ„æºç™½å«–ç½‘ç«™</title>
      <link href="/2023/12/25/zi-yuan-bai-piao-wang-zhan/"/>
      <url>/2023/12/25/zi-yuan-bai-piao-wang-zhan/</url>
      
        <content type="html"><![CDATA[<h1 id="ç½‘ç«™"><a href="#ç½‘ç«™" class="headerlink" title="ç½‘ç«™"></a>ç½‘ç«™</h1><p> ç‚¹å‡»ç½‘å€é“¾æ¥ğŸ”—å¯ä»¥ç›´æ¥è·³è½¬åˆ°ç½‘ç«™  </p><p>1 Zlibraryï¼š<a href="https://zh.z-library.se/?ts=0403">https://zh.z-library.se/?ts=0403</a> </p><p>2 å¥‡å¦™æœç´¢ï¼š<a href="https://www.magicalsearch.cc/main">https://www.magicalsearch.cc/main</a> </p><p>3 Mvcatï¼š<a href="https://www.mvcat.com/">https://www.mvcat.com/</a> </p><p>4 Clipdropï¼š<a href="https://clipdrop.co/uncrop">https://clipdrop.co/uncrop</a> </p><p>5 Runwaymlï¼š<a href="https://app.runwayml.com/video-tools/teams/moukejun/dashboard">https://app.runwayml.com/video-tools/teams/moukejun/dashboard</a> </p><p>6 Spacesï¼š<a href="https://huggingface.co/spaces/zcxu-eric/magicanimate">https://huggingface.co/spaces/zcxu-eric/magicanimate</a> </p><p>7 AIä¹Œæ‰˜é‚¦ï¼š<a href="https://www.ai-topia.com/#/home">https://www.ai-topia.com/#/home</a> </p><p>8 å…è´¹ ChatGPT: <a href="https://github.com/LiLittleCat/awesome-free-chatgpt">https://github.com/LiLittleCat/awesome-free-chatgpt</a></p><p>9 è½»å£çº¸ï¼š<a href="https://qingbizhi.com/">https://qingbizhi.com/</a>  </p><p>10 åˆ†ç¦»éŸ³é¢‘ç½‘ç«™ï¼š <a href="https://www.lalal.ai/zh-hans/">https://www.lalal.ai/zh-hans/</a> </p><p>11 æ¼«ç”»ç½‘ç«™ï¼š<a href="https://mox.moe/">https://mox.moe/</a> </p><p>12 è®ºæ–‡ç¥å™¨ï¼š<a href="https://panda321.com/">https://panda321.com/</a>  </p><p>13 å­¦ä¹ ç½‘ç«™ï¼š<a href="https://www.xue8nav.com/">https://www.xue8nav.com/</a> </p><p>14 è™«éƒ¨è½ï¼š<a href="https://search.chongbuluo.com/">https://search.chongbuluo.com/</a> </p><hr><p>AlternativeToï¼šhttps://<a href="http://alternativeto.net/">alternativeto.net/</a></p><p>Crxæœæœï¼š<a href="https://www.crxsoso.com/">https://www.crxsoso.com/</a></p><p>å¢¨åˆ€ï¼š<a href="https://modao.cc/brand">https://modao.cc/brand</a> </p><p>ä¹¦ç­¾åœ°çƒï¼š<a href="https://www.bookmarkearth.com/">https://www.bookmarkearth.com/</a></p><p>DUCKBBï¼šhttps://<a href="http://www.duckbb.cn/douyin">www.duckbb.cn/douyin</a></p><p>Web Design Museumï¼šhttps://<a href="http://www.webdesignmuseum.org/">www.webdesignmuseum.org/</a></p><p>å“”å“©å“”å“©ç©¿è¶Šï¼š<a href="https://www.bilibili.com/blackboard/bilibili2009.html">https://www.bilibili.com/blackboard/bilibili2009.html</a></p><hr><p>å¥ˆæ–¯æœç´¢ï¼š<a href="https://www.niceso.fun/">https://www.niceso.fun</a></p><p>é£Ÿç”¨æ‰‹å†Œï¼š<a href="https://cook.yunyoujun.cn/">https://cook.yunyoujun.cn</a></p><p>å°é²¸é±¼æœä¹¦ï¼š<a href="http://www.9871.org/">http://www.9871.org/</a></p><p>iTabæµè§ˆå™¨ä¸»é¡µï¼š<a href="https://go.itab.link/">https://go.itab.link</a> </p><p>åœ°å›¾æœç§Ÿæˆ¿ï¼š<a href="https://house-map.cn/#/">https://house-map.cn/#/</a></p><p>ç›¸ä¼¼ç½‘ç«™æœç´¢ï¼š<a href="https://www.similarsites.com/">https://www.similarsites.com/</a></p><p>å›¾æ–‡ç‰ˆç½‘ç«™ä½¿ç”¨æŒ‡å—ï¼š<a href="https://mp.weixin.qq.com/s/fFh_Hf_3lsLgekITeVXDYQ">https://mp.weixin.qq.com/s/fFh_Hf_3lsLgekITeVXDYQ</a></p><p>è§†é¢‘ç‰ˆç½‘ç«™ä½¿ç”¨æŒ‡å—ï¼š<a href="https://b23.tv/3VyRQNB">https://b23.tv/3VyRQNB</a></p><hr><p>ç™¾åº¦è¯†å›¾ï¼š<a href="https://graph.baidu.com/pcpage/index?tpl_from=pc">https://graph.baidu.com/pcpage/index?tpl_from=pc</a></p><p>MAKEï¼š<a href="https://www.make.mk/">https://www.make.mk/</a></p><p>Versusï¼š<a href="https://versus.com/cn">https://versus.com/cn</a></p><p>é²œé¢è¿çº¿ï¼š<a href="https://app.so/xianmian/">https://app.so/xianmian/</a></p><p>é…·Qç½‘éŸ³ä¹è½¬æ¢ï¼š<a href="https://mp3.aoleiao.com/">https://mp3.aoleiao.com/</a></p><p>è¶…çº§ç®€å†ï¼š<a href="https://www.wondercv.com/">https://www.wondercv.com/</a></p><p>Wallhavenï¼š<a href="https://wallhaven.cc/">https://wallhaven.cc/</a></p><p>å­—ç”±ï¼š<a href="https://www.hellofont.cn/home">https://www.hellofont.cn/home</a></p><p>Hiè¿åŠ¨ï¼š<a href="https://www.hiyd.com/">https://www.hiyd.com/</a></p><p>REMOVEBGï¼š<a href="https://www.remove.bg/zh">https://www.remove.bg/zh</a></p><p>åªè¯»ï¼š<a href="http://www.rdonly.com/">http://www.rdonly.com/</a></p><p>é²œé¢è¿çº¿ï¼š<a href="https://app.so/xianmian/">https://app.so/xianmian/</a></p><p>Extfansï¼š<a href="https://www.extfans.com/">https://www.extfans.com/</a></p><p>å°ä¼—è½¯ä»¶ï¼š<a href="https://www.appinn.com/">https://www.appinn.com/</a></p><p>çŸ¥æ™“ç¨‹åºï¼š<a href="https://minapp.com/miniapp/">https://minapp.com/miniapp/</a></p><hr><p> ã€è§†é¢‘ã€‘ç®€è§†é¢‘ï¼š </p><p> <a href="https://www.jspwz.com/">https://www.jspwz.com/</a> </p><p> ã€ä¹¦ç­¾ã€‘ä¹¦ç­¾åœ°çƒï¼š </p><p> <a href="https://www.bookmarkearth.com/">https://www.bookmarkearth.com/</a> </p><p> ã€ç½‘ç›˜ã€‘æ‡’ç›˜æœç´¢ï¼š </p><p> <a href="https://lzpan.com/#">https://lzpan.com/#</a> </p><p> ã€å­¦ä¹ ã€‘å®‰é€¸å¯¼èˆªï¼š </p><p> <a href="https://298.life/">https://298.life/</a> </p><p> ã€æ›¿è¡¥ã€‘åŒ—é‚®äººå¯¼èˆªï¼š </p><p> <a href="https://byr-navi.com/">https://byr-navi.com/</a> </p><p> ã€</p><p> è½¯ä»¶ã€‘æ–°è¶£é›†ï¼š </p><p> <a href="https://xinquji.com/">https://xinquji.com/</a> </p><p> ã€æ’ä»¶ã€‘Extfansï¼š </p><p> <a href="https://www.extfans.com/hot/">https://www.extfans.com/hot/</a> </p><p> ã€èµ„è®¯ã€‘ä»Šæ—¥çƒ­æ¦œï¼š   </p><p> <a href="https://tophub.today/c/news">https://tophub.today/c/news</a> </p><p> ã€ç£åŠ›ã€‘å°ç½‘è™«ï¼š </p><p> <a href="http://www.wangchonghui.com/share/0/319/rc">http://www.wangchonghui.com/share/0/319/rc</a> </p><p> ã€ç”µå½±ã€‘33å°è¯ï¼š </p><p> <a href="http://33.agilestudio.cn/">http://33.agilestudio.cn/</a> </p><p> ã€è®¾è®¡ã€‘è®¾è®¡å¯¼èˆªï¼š </p><p> <a href="http://hao.shejidaren.com/index.html">http://hao.shejidaren.com/index.html</a> </p><p> ã€åŠ¨ç”»ã€‘Mixamoï¼š </p><p> <a href="https://www.mixamo.com/#/">https://www.mixamo.com/#/</a>    </p><p> ã€å£çº¸ã€‘æç®€å£çº¸ï¼š </p><p> <a href="https://bz.zzzmh.cn/index">https://bz.zzzmh.cn/index</a> </p><p> ã€å›¾ç‰‡ã€‘æœå›¾å¯¼èˆªï¼š </p><p> <a href="https://www.91sotu.com/">https://www.91sotu.com/</a> </p><p> ã€ç½‘ç›˜ã€‘é…·æœï¼š </p><p> <a href="https://www.kolsou.com/">https://www.kolsou.com/</a> </p><p> ã€èµ„è®¯ã€‘MAKEï¼š </p><p> <a href="https://make.mk/">https://make.mk/</a> </p><p> ã€æ’ä»¶ã€‘æç®€æ’ä»¶ï¼š </p><p> <a href="https://chrome.zzzmh.cn/#index">https://chrome.zzzmh.cn/#index</a> </p><p> ã€éŸ³æ•ˆã€‘æ·˜å£°ï¼š </p><p> <a href="https://www.tosound.com/">https://www.tosound.com/</a> </p><p> ã€ç”µå½±ã€‘MVCATï¼š </p><p> <a href="https://www.mvcat.com/">https://www.mvcat.com/</a> </p><p> ã€è¡¨æƒ…ã€‘é€—æ¯”æ‹¯æ•‘ä¸–ç•Œï¼š </p><p> <a href="https://www.dbbqb.com/">https://www.dbbqb.com/</a> </p><p> ã€ä¹¦ç±ã€‘ä¹¦äº«å®¶ï¼š </p><p> <a href="http://shuxiangjia.cn/">http://shuxiangjia.cn/</a> </p><p> ã€æ’å›¾ã€‘illustrationsï¼š </p><p> <a href="https://undraw.co/illustrations">https://undraw.co/illustrations</a> </p><p> ã€åª’ä½“ã€‘è€ƒæ‹‰æ–°åª’ä½“ï¼š </p><p> <a href="https://www.kaolamedia.com/">https://www.kaolamedia.com/</a> </p><p> ã€å­—ä½“ã€‘æ±‚å­—ä½“ï¼š </p><p> <a href="https://www.qiuziti.com/">https://www.qiuziti.com/</a> </p><p> ã€å£çº¸ã€‘wallhavenï¼š </p><p> <a href="https://wallhaven.cc/">https://wallhaven.cc/</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> ç½‘ç«™ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¡ä»¶åˆ¤æ–­å’Œæµç¨‹æ§åˆ¶</title>
      <link href="/2023/12/24/tiao-jian-pan-duan-he-liu-cheng-kong-zhi/"/>
      <url>/2023/12/24/tiao-jian-pan-duan-he-liu-cheng-kong-zhi/</url>
      
        <content type="html"><![CDATA[<p>ç¬¬äºŒåç«   æ¡ä»¶æµ‹è¯•è¯­å¥å’Œifæµç¨‹æ§åˆ¶è¯­å¥çš„ä½¿ç”¨</p><p>æœ¬èŠ‚æ‰€è®²å†…å®¹ï¼š</p><p>20.1  readå‘½ä»¤é”®ç›˜è¯»å–å˜é‡çš„å€¼</p><p>20.2  æµç¨‹æ§åˆ¶è¯­å¥if</p><p>20.3  testæµ‹è¯•å‘½ä»¤</p><p>20.4  æµç¨‹æ§åˆ¶è¿‡ç¨‹ä¸­å¤æ‚æ¡ä»¶å’Œé€šé…ç¬¦</p><p>20.5  å®æˆ˜-3ä¸ªshellè„šæœ¬å®æˆ˜</p><h1 id="20-1-readå‘½ä»¤é”®ç›˜è¯»å–å˜é‡çš„å€¼"><a href="#20-1-readå‘½ä»¤é”®ç›˜è¯»å–å˜é‡çš„å€¼" class="headerlink" title="20.1  readå‘½ä»¤é”®ç›˜è¯»å–å˜é‡çš„å€¼"></a>20.1  readå‘½ä»¤é”®ç›˜è¯»å–å˜é‡çš„å€¼</h1><p>ä»é”®ç›˜è¯»å–å˜é‡çš„å€¼ï¼Œé€šå¸¸ç”¨åœ¨shellè„šæœ¬ä¸­ä¸ç”¨æˆ·è¿›è¡Œäº¤äº’çš„åœºåˆã€‚è¯¥å‘½ä»¤å¯ä»¥ä¸€æ¬¡è¯»å–å¤šä¸ªå˜é‡çš„å€¼ï¼Œå˜é‡å’Œè¾“å…¥çš„å€¼éƒ½éœ€è¦ä½¿ç”¨ç©ºæ ¼éš”å¼€ã€‚åœ¨readå‘½ä»¤åé¢ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šå˜é‡åï¼Œè¯»å–çš„æ•°æ®å°†è¢«è‡ªåŠ¨èµ‹å€¼ç»™ç‰¹å®šçš„å˜é‡REPLY</p><p>readä»é”®ç›˜è¯»å…¥æ•°æ®ï¼Œèµ‹ç»™å˜é‡</p><p>ä¾‹1ï¼š</p><p>[root@xuegod63 ~]# read a b</p><p>hello world</p><p>[root@xuegod63 ~]# echo $a $b</p><p>hello world</p><h2 id="2-1-1-readå¸¸ç”¨è§ç”¨æ³•åŠå‚æ•°"><a href="#2-1-1-readå¸¸ç”¨è§ç”¨æ³•åŠå‚æ•°" class="headerlink" title="2.1.1  readå¸¸ç”¨è§ç”¨æ³•åŠå‚æ•°"></a>2.1.1  readå¸¸ç”¨è§ç”¨æ³•åŠå‚æ•°</h2><p>ä¾‹1ï¼šä»æ ‡å‡†è¾“å…¥è¯»å–ä¸€è¡Œå¹¶èµ‹å€¼ç»™å˜é‡passwd</p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# read passwd<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¾‹2ï¼šè¯»å–å¤šä¸ªå€¼ï¼Œä»æ ‡å‡†è¾“å…¥è¯»å–ä¸€è¡Œï¼Œç›´è‡³é‡åˆ°ç¬¬ä¸€ä¸ªç©ºç™½ç¬¦æˆ–æ¢è¡Œç¬¦ã€‚æŠŠç”¨æˆ·é”®å…¥çš„ç¬¬ä¸€ä¸ªè¯å­˜åˆ°å˜é‡firstä¸­ï¼ŒæŠŠè¯¥è¡Œçš„å‰©ä½™éƒ¨åˆ†ä¿å­˜åˆ°å˜é‡lastä¸­</p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# read firt lastaaaa  bbbb<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ä¾‹3ï¼šread -s passwd å°†ä½ è¾“å…¥çš„ä¸œè¥¿éšè—èµ·æ¥ï¼Œå€¼èµ‹ç»™passwdã€‚è¿™ä¸ªç”¨æˆ·éšè—å¯†ç ä¿¡æ¯</p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# read -s passwd[root@xuegod63 ~]# echo $passwd123456<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¾‹4ï¼šè¾“å…¥çš„æ—¶é—´é™åˆ¶</p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# read -t 2 time  #è¶…è¿‡ä¸¤ç§’æ²¡æœ‰è¾“å…¥ï¼Œç›´æ¥é€€å‡º<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¾‹5ï¼šè¾“å…¥çš„é•¿åº¦é™åˆ¶</p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# read -n 2 test #æœ€å¤šåªæ¥å—2ä¸ªå­—ç¬¦<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¾‹6ï¼šä½¿ç”¨-rå‚æ•°è¾“ï¼Œå…è®¸è®©è¾“å…¥ä¸­çš„å†…å®¹åŒ…æ‹¬ï¼šç©ºæ ¼ã€/ã€\ã€ ï¼Ÿç­‰ç‰¹æ®Šå­—ç¬¦ä¸²ã€‚</p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# read  -r linesdf sdf / sdfs /n[root@xuegod63 ~]# echo $linesdf sdf / sdfs /n<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¾‹7ï¼š-p ç”¨äºç»™å‡ºæç¤ºç¬¦ï¼Œåœ¨å‰é¢çš„ä¾‹å­ä¸­æˆ‘ä»¬ä½¿ç”¨äº†echo â€“n â€œâ€¦â€œæ¥ç»™å‡ºæç¤ºç¬¦</p><p>æ–¹æ³•1ï¼š</p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# read -p  "please input: "  passplease input: 123456[root@xuegod63 ~]# echo $pass123456<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ–¹æ³•2ï¼š</p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# echo -n "please input: " ; read passplease input: 123456   [root@xuegod63 ~]# echo $pass123456<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¾‹8ï¼šread ç»¼åˆå®ä¾‹</p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# vim  test-read.sh #å†™å…¥ä»¥ä¸‹å†…å®¹#!/bin/bashread -p "è¯·è¾“å…¥å§“åï¼š" NAMEread -p "è¯·è¾“å…¥å¹´é¾„ï¼š" AGEread -p "è¯·è¾“å…¥æ€§åˆ«ï¼š" SEX cat&lt;&lt;eof*********************ä½ çš„åŸºæœ¬ä¿¡æ¯å¦‚ä¸‹ï¼šå§“å: $NAMEå¹´é¾„ï¼š$AGEæ€§åˆ«ï¼š$SEX********************eof[root@xuegod63 ~]# sh test-read.shè¯·è¾“å…¥å§“åï¼šxuegodè¯·è¾“å…¥å¹´é¾„ï¼š111è¯·è¾“å…¥æ€§åˆ«ï¼šman*********************ä½ çš„åŸºæœ¬ä¿¡æ¯å¦‚ä¸‹ï¼šå§“å: xuegodå¹´é¾„ï¼š111æ€§åˆ«ï¼šman <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="20-2-æµç¨‹æ§åˆ¶è¯­å¥if"><a href="#20-2-æµç¨‹æ§åˆ¶è¯­å¥if" class="headerlink" title="20.2  æµç¨‹æ§åˆ¶è¯­å¥if"></a>20.2  æµç¨‹æ§åˆ¶è¯­å¥if</h1><h2 id="20-2-1-è¯­æ³•æ ¼å¼ï¼š"><a href="#20-2-1-è¯­æ³•æ ¼å¼ï¼š" class="headerlink" title="20.2.1  è¯­æ³•æ ¼å¼ï¼š"></a>20.2.1  è¯­æ³•æ ¼å¼ï¼š</h2><pre class="line-numbers language-none"><code class="language-none">if  æ¡ä»¶  then       commandsfi<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ifè¯­å¥æµç¨‹å›¾ï¼š</p><p><img src="/../assets/blog_res/%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD%E5%92%8C%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.assets/wps1.png" alt="img"> </p><p>æ³¨ï¼šæ ¹æ®æˆ‘ä»¬çš„å‘½ä»¤é€€å‡ºç æ¥è¿›è¡Œåˆ¤æ–­(echo $? =0)ï¼Œå¦‚æœæ˜¯0,é‚£ä¹ˆå°±ä¼šæ‰§è¡Œthenåé¢çš„å‘½ä»¤</p><p>ä¾‹1ï¼š</p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# vim  if-1.sh \#!/bin/bashif ls /mntthenâ€‹echo "it's ok"fi[root@xuegod63 ~]# bash !$bash if-1.shCentOS_BuildTag  GPL  LiveOS   RPM-GPG-KEY-CentOS-7EFI images   Packages  RPM-GPG-KEY-CentOS-Testing-7EULA isolinux  repodata  TRANS.TBLit's ok <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="20-2-2-åŒåˆ†æ”¯ifè¯­å¥"><a href="#20-2-2-åŒåˆ†æ”¯ifè¯­å¥" class="headerlink" title="20.2.2  åŒåˆ†æ”¯ifè¯­å¥"></a>20.2.2  åŒåˆ†æ”¯ifè¯­å¥</h2><p>è¯­æ³•æ ¼å¼ï¼š</p><pre class="line-numbers language-none"><code class="language-none">if command  ; thencommandselsecommandsfi<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="/../assets/blog_res/%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD%E5%92%8C%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.assets/wps2.jpg" alt="img"> </p><p>ä¾‹2ï¼š</p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# cat if-2.sh#!/bin/bashif grep root /etc/passwd ; then    echo "it's ok"else    "it's err"fi  [root@xuegod63 ~]# sh if-2.sh root:x:0:0:root:/root:/bin/bashoperator:x:11:0:operator:/root:/sbin/nologinit's ok<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹</p><p>ä¾‹3ï¼š</p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# cat if-3.sh#!/bin/bash if grep xuegod /etc/passwd ;thenecho "it's ok"elseecho "it's err"fi[root@xuegod63 ~]# sh if-3.shit's err <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="20-2-3-å¤šåˆ†æ”¯ifè¯­å¥"><a href="#20-2-3-å¤šåˆ†æ”¯ifè¯­å¥" class="headerlink" title="20.2.3  å¤šåˆ†æ”¯ifè¯­å¥"></a>20.2.3  å¤šåˆ†æ”¯ifè¯­å¥</h2><p>è¯­æ³•ç»“æ„ï¼š</p><p>ifæ¡ä»¶æµ‹è¯•æ“ä½œ1 ; then</p><p>â€‹commands</p><p>elif  æ¡ä»¶æµ‹è¯•æ“ä½œ2  ; then</p><p>â€‹commands</p><p>elif æ¡ä»¶æµ‹è¯•æ“ä½œ3 ; then</p><p>â€‹commands</p><p>â€¦â€¦.</p><p>else</p><p>â€‹commands</p><p>fi</p><p><img src="/../assets/blog_res/%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD%E5%92%8C%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.assets/wps3.jpg" alt="img"> </p><p>ä¾‹4ï¼šåˆ¤æ–­ç”¨æˆ·åœ¨ç³»ç»Ÿä¸­æ˜¯å¦å­˜åœ¨ï¼Œæ˜¯å¦æœ‰å®¶ç›®å½•</p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# cat if-4.sh#!/bin/bashread -p "input a user:" tuif grep $tu /etc/passwd ; thenâ€‹    echo "the user $tu exists on this system"elif ls -d /home/$tu  ;  thenâ€‹    echo "the user $tu not exists on this system"â€‹    echo "$tu has a home directory"elseâ€‹    echo "the user $tu not exists on this system"â€‹    echo "$tu not has a direcotry"fi<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# sh if-4.sh Input a user: hrchrony:x:994:990::/var/lib/chrony:/sbin/nologinhr:x:1000:1000:hr:/home/hr:/bin/bashthe user hr exists on this system[root@xuegod63 ~]# sh if-4.shInput a user: xuegod/home/xuegodxuegod has a directory <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="20-3-testæµ‹è¯•å‘½ä»¤"><a href="#20-3-testæµ‹è¯•å‘½ä»¤" class="headerlink" title="20.3  testæµ‹è¯•å‘½ä»¤"></a>20.3  testæµ‹è¯•å‘½ä»¤</h1><p>Shellä¸­çš„ test å‘½ä»¤ç”¨äºæ£€æŸ¥æŸä¸ªæ¡ä»¶æ˜¯å¦æˆç«‹ï¼Œå®ƒå¯ä»¥è¿›è¡Œæ•°å€¼ã€å­—ç¬¦å’Œæ–‡ä»¶ä¸‰ä¸ªæ–¹é¢çš„æµ‹è¯•</p><p>æ ¼å¼ï¼štest æµ‹è¯•æ¡ä»¶ </p><p>å¦‚æœç»“æœæ˜¯å¯¹çš„ï¼Œä¹Ÿå«ç»“æœä¸ºçœŸï¼Œç”¨$?=0è¡¨ç¤ºï¼Œåä¹‹ä¸ºå‡ï¼Œç”¨é0è¡¨ç¤º</p><h2 id="20-3-1-æ•°å€¼æ¯”è¾ƒ"><a href="#20-3-1-æ•°å€¼æ¯”è¾ƒ" class="headerlink" title="20.3.1  æ•°å€¼æ¯”è¾ƒ"></a>20.3.1  æ•°å€¼æ¯”è¾ƒ</h2><table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>-eq</td><td>ç­‰äºåˆ™ä¸ºçœŸ</td><td>[ â€œ$aâ€ -eq â€œ$bâ€ ]</td></tr><tr><td>-ne</td><td>ä¸ç­‰äºåˆ™ä¸ºçœŸ</td><td>[ â€œ$aâ€ -ne â€œ$bâ€ ]</td></tr><tr><td>-gt</td><td>å¤§äºåˆ™ä¸ºçœŸ</td><td>[ â€œ$aâ€ -gt â€œ$bâ€ ]</td></tr><tr><td>-ge</td><td>å¤§äºç­‰äºåˆ™ä¸ºçœŸ</td><td>[ â€œ$aâ€ -ge â€œ$bâ€ ]</td></tr><tr><td>-lt</td><td>å°äºåˆ™ä¸ºçœŸ</td><td>[ â€œ$aâ€ -lt â€œ$bâ€ ]</td></tr><tr><td>-le</td><td>å°äºç­‰äºåˆ™ä¸ºçœŸ</td><td>[ â€œ$aâ€ -le â€œ$bâ€ ]</td></tr></tbody></table><p>ä¾‹1ï¼šæ¯”è¾ƒå¤§å°</p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# cat test1.sh #!/bin/bashif test 2 -eq 1  ; thenâ€‹    echo okelseâ€‹    echo errfi if [ 2 -eq 2 ]  ; thenâ€‹    echo okelseâ€‹    echo errfi <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¾‹2ï¼š æ¯”è¾ƒæ•´æ•°å¤§å°</p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# cat test2.sh #!/bin/bashread -p "input var1 var2:" var1 var2if [ $var1 -gt $var2  ] ;  thenâ€‹    echo "$var1 &gt; $var2"elif [ $var1 -lt $var2 ] ; thenâ€‹    echo "$var1 &lt; $var2"elseâ€‹    echo "$var1 = $var2"fi<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ³¨æ„ï¼šåœ¨åšæ•°å€¼æ¯”è¾ƒæ—¶ï¼Œåªèƒ½ç”¨æ•´æ•°</p><h2 id="20-3-2-å­—ç¬¦ä¸²æ¯”è¾ƒ"><a href="#20-3-2-å­—ç¬¦ä¸²æ¯”è¾ƒ" class="headerlink" title="20.3.2  å­—ç¬¦ä¸²æ¯”è¾ƒ"></a>20.3.2  å­—ç¬¦ä¸²æ¯”è¾ƒ</h2><table><thead><tr><th>å‚æ•°.</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>==</td><td>ç­‰äºåˆ™ä¸ºçœŸ</td><td>[ â€œ$aâ€ == â€œ$bâ€ ]</td></tr><tr><td>!=</td><td>ä¸ç›¸ç­‰åˆ™ä¸ºçœŸ</td><td>[ â€œ$aâ€ != â€œ$bâ€ ]</td></tr><tr><td>-z å­—ç¬¦ä¸².</td><td>å­—ç¬¦ä¸²çš„é•¿åº¦ä¸ºé›¶åˆ™ä¸ºçœŸ</td><td>[ -z â€œ$aâ€ ]</td></tr><tr><td>-n å­—ç¬¦ä¸²</td><td>å­—ç¬¦ä¸²çš„é•¿åº¦ä¸ä¸ºç©ºåˆ™ä¸ºçœŸ</td><td>[ -n â€œ$aâ€ ]</td></tr><tr><td>str1 &gt; str2</td><td>str1å¤§äºstr2ä¸ºçœŸ</td><td>[ str1 &gt; str2 ]</td></tr><tr><td>str1 &lt; str2</td><td>str1å°äºstr2ä¸ºçœŸ</td><td>[ str1 &lt; str2 ]</td></tr></tbody></table><p>ä¾‹1ï¼šæ ¹æ®ç”¨æˆ·ååˆ¤æ–­æ˜¯å¦æ˜¯è¶…çº§ç®¡ç†å‘˜</p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# cat test3.sh#!/bin/bashread -p  "input your name: " nameif [ $name == "root" ] ; thenâ€‹    echo "you are super administrator"elseâ€‹    echo  "You are a general user"fiâ€‹<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# bash test3.sh input your name: rootyou are super administrator[root@xuegod63 ~]# bash test3.sh input your name: mkYou are a general usero "You are a general user"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¾‹2ï¼šåœ¨åšå­—ç¬¦ä¸²å¤§å°æ¯”è¾ƒçš„æ—¶å€™ï¼Œæ³¨æ„å­—ç¬¦ä¸²çš„é¡ºåº</p><p>l å¤§äºå·å’Œå°äºå·å¿…é¡»è½¬ä¹‰ï¼Œè¦ä¸ç„¶SHELLä¼šæŠŠå®ƒå½“æˆé‡å®šå‘ç¬¦å·</p><p>l å¤§äºå’Œå°äºå®ƒä»¬çš„é¡ºåºå’Œsortæ’åºæ˜¯ä¸ä¸€æ ·çš„</p><p>l åœ¨testæ¯”è¾ƒæµ‹è¯•ä¸­ï¼Œå®ƒä½¿ç”¨çš„æ˜¯ASCIIé¡ºåºï¼Œå¤§å†™å­—æ¯æ˜¯å°äºå°å†™å­—æ¯çš„ï¼›sortåˆšå¥½ç›¸å</p><p>æ‰©å±•ï¼š ASCIIï¼ˆAmerican Standard Code for Information Interchangeï¼Œç¾å›½ä¿¡æ¯äº¤æ¢æ ‡å‡†ä»£ç ï¼‰æ˜¯åŸºäºæ‹‰ä¸å­—æ¯çš„ä¸€å¥—ç”µè„‘ç¼–ç ç³»ç»Ÿï¼Œä¸»è¦ç”¨äºæ˜¾ç¤ºç°ä»£è‹±è¯­å’Œå…¶ä»–è¥¿æ¬§è¯­è¨€ã€‚å®ƒæ˜¯ç°ä»Šæœ€é€šç”¨çš„å•å­—èŠ‚ç¼–ç ç³»ç»Ÿï¼Œå¹¶ç­‰åŒäºå›½é™…æ ‡å‡†ISO/IEC 646ã€‚</p><p><img src="/../assets/blog_res/%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD%E5%92%8C%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.assets/wps4.png" alt="img"> </p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# cat test4.sh #!/bin/bashvar1=testvar2=Testif [  $var1 \&gt;  $var2  ] ; thenâ€‹    echo "$var1 &gt; $var2"elseâ€‹    echo "$var1 &lt; $var2"fi [root@xuegod63 ~]# bash test4.sh test &gt; Test <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="20-3-3-æ–‡ä»¶æ¯”è¾ƒ"><a href="#20-3-3-æ–‡ä»¶æ¯”è¾ƒ" class="headerlink" title="20.3.3  æ–‡ä»¶æ¯”è¾ƒ"></a>20.3.3  æ–‡ä»¶æ¯”è¾ƒ</h2><table><thead><tr><th>å‚æ•°</th><th>.è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>-e æ–‡ä»¶å.</td><td>å¦‚æœæ–‡ä»¶æˆ–ç›®å½•å­˜åœ¨åˆ™ä¸ºçœŸ</td><td>[ -e file ]</td></tr><tr><td>-r æ–‡ä»¶å.</td><td>å¦‚æœæ–‡ä»¶å­˜åœ¨ä¸”å¯è¯»åˆ™ä¸ºçœŸ</td><td>[ -r file ]</td></tr><tr><td>-w æ–‡ä»¶å.</td><td>å¦‚æœæ–‡ä»¶å­˜åœ¨ä¸”å¯å†™åˆ™ä¸ºçœŸ</td><td>[ -w file ]</td></tr><tr><td>-x æ–‡ä»¶å.</td><td>å¦‚æœæ–‡ä»¶å­˜åœ¨ä¸”å¯æ‰§è¡Œåˆ™ä¸ºçœŸ</td><td>[ -x file ]</td></tr><tr><td>-s æ–‡ä»¶å</td><td>å¦‚æœæ–‡ä»¶å­˜åœ¨ä¸”è‡³å°‘æœ‰ä¸€ä¸ªå­—ç¬¦åˆ™ä¸ºçœŸ</td><td>[ -s file ]</td></tr><tr><td>-d æ–‡ä»¶å.</td><td>å¦‚æœæ–‡ä»¶å­˜åœ¨ä¸”ä¸ºç›®å½•åˆ™ä¸ºçœŸ</td><td>[ -d file ]</td></tr><tr><td>-f æ–‡ä»¶å.</td><td>å¦‚æœæ–‡ä»¶å­˜åœ¨ä¸”ä¸ºæ™®é€šæ–‡ä»¶åˆ™ä¸ºçœŸ</td><td>[ -f file ]</td></tr><tr><td>-c æ–‡ä»¶å.</td><td>å¦‚æœæ–‡ä»¶å­˜åœ¨ä¸”ä¸ºå­—ç¬¦å‹æ–‡ä»¶åˆ™ä¸ºçœŸ</td><td>[ -c file ]</td></tr><tr><td>-b æ–‡ä»¶å..</td><td>å¦‚æœæ–‡ä»¶å­˜åœ¨ä¸”ä¸ºå—ç‰¹æ®Šæ–‡ä»¶åˆ™ä¸ºçœŸ</td><td>[ -b file ]</td></tr><tr><td>file1 -nt fle2</td><td>æ£€æŸ¥file1æ˜¯å¦æ¯”file2æ–°</td><td>[ file1 -nt file2 ]</td></tr><tr><td>file1 -ot file2</td><td>æ£€æŸ¥file1æ˜¯å¦æ¯”file2æ—§</td><td>[ file1 -ot file2 ]</td></tr></tbody></table><p>ä¾‹1ï¼š</p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# vim  test5.sh #!/bin/bashif [ -e /etc/passwd ] ; thenâ€‹    echo okelseâ€‹    echo errfi [root@xuegod63 ~]# bash test5.sh ok<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¾‹2ï¼š</p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# test -e /etc/aaa.txt &amp;&amp; echo ok || echo errerr[root@xuegod63 ~]# test -e /etc/passwd &amp;&amp; echo ok || echo errok[root@xuegod63 ~]# test -e /etc &amp;&amp; echo ok || echo errok <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¾‹ï¼šæ¸…ç©ºæ—¥å¿—ç›®å½•</p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# cat clear-log.sh #!/bin/bash# clear /var/log/messages #ç¡®å®šå½“å‰æ˜¯rootç”¨æˆ·if [ $USER != "root" ];thenâ€‹echo "ä½ å¿…é¡»ä½¿ç”¨rootç”¨æˆ·æ‰èƒ½æ‰§è¡Œè„šæœ¬"â€‹exit 10  #ç›´æ¥é€€å‡ºï¼Œå¹¶è¿”å›10fi #åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨if [ ! -f /var/log/messages ];thenâ€‹echo "æ–‡ä»¶ä¸å­˜åœ¨"â€‹exit 12fi #ä¿ç•™æœ€è¿‘100è¡Œçš„æ—¥å¿—å†…å®¹tail -100 /var/log/messages &gt; /var/log/mesg.tmp #æ—¥å¿—æ¸…ç†&gt;/var/log/messages#cat /dev/null &gt; /var/log/messages mv /var/log/mesg.tmp /var/log/messagesecho "Logs clean up"æ³¨ï¼šé€€å‡ºç  exit ,å–å€¼èŒƒå›´æ˜¯0-255<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¾‹ï¼š exit é€€å‡ºbashï¼Œå¹¶è¿”å›ä¸€ä¸ªå€¼</p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# ssh 192.168.1.63root@192.168.1.63's password: 123456Last login: Mon May 28 20:37:41 2018 from xuegod63.cn[root@xuegod63 ~]# [root@xuegod63 ~]# exit 10ç™»å‡ºConnection to 192.168.1.63 closed.[root@xuegod63 ~]# echo $?10<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="20-4-æµç¨‹æ§åˆ¶è¿‡ç¨‹ä¸­å¤æ‚æ¡ä»¶å’Œé€šé…ç¬¦"><a href="#20-4-æµç¨‹æ§åˆ¶è¿‡ç¨‹ä¸­å¤æ‚æ¡ä»¶å’Œé€šé…ç¬¦" class="headerlink" title="20.4  æµç¨‹æ§åˆ¶è¿‡ç¨‹ä¸­å¤æ‚æ¡ä»¶å’Œé€šé…ç¬¦"></a>20.4  æµç¨‹æ§åˆ¶è¿‡ç¨‹ä¸­å¤æ‚æ¡ä»¶å’Œé€šé…ç¬¦</h1><h2 id="20-4-1-åˆ¤æ–­ç¬¬ä¸€ç§ï¼šä¸¤ä¸ªæ¡ä»¶éƒ½ä¸ºçœŸæˆ–æœ‰ä¸€ä¸ªä¸ºçœŸå°±æ‰§è¡Œ"><a href="#20-4-1-åˆ¤æ–­ç¬¬ä¸€ç§ï¼šä¸¤ä¸ªæ¡ä»¶éƒ½ä¸ºçœŸæˆ–æœ‰ä¸€ä¸ªä¸ºçœŸå°±æ‰§è¡Œ" class="headerlink" title="20.4.1  åˆ¤æ–­ç¬¬ä¸€ç§ï¼šä¸¤ä¸ªæ¡ä»¶éƒ½ä¸ºçœŸæˆ–æœ‰ä¸€ä¸ªä¸ºçœŸå°±æ‰§è¡Œ"></a>20.4.1  åˆ¤æ–­ç¬¬ä¸€ç§ï¼šä¸¤ä¸ªæ¡ä»¶éƒ½ä¸ºçœŸæˆ–æœ‰ä¸€ä¸ªä¸ºçœŸå°±æ‰§è¡Œ</h2><p>if [ æ¡ä»¶åˆ¤æ–­ä¸€ ] &amp;&amp; (||) [ æ¡ä»¶åˆ¤æ–­äºŒ ]; then   </p><p>  å‘½ä»¤ä¸€</p><p>elif [ æ¡ä»¶åˆ¤æ–­ä¸‰ ] &amp;&amp; (||) [ æ¡ä»¶åˆ¤æ–­å›› ]; then</p><p>  å‘½ä»¤äºŒ</p><p>else</p><p>  æ‰§è¡Œå…¶å®ƒ</p><p>fi</p><p>åˆ¤æ–­ç¬¬äºŒç§</p><p>if [æ¡ä»¶åˆ¤æ–­ä¸€ -a (-o) æ¡ä»¶åˆ¤æ–­äºŒ -a (-o) æ¡ä»¶åˆ¤æ–­ä¸‰]; then</p><p>elif [æ¡ä»¶åˆ¤æ–­ä¸‰  -a (-o) æ¡ä»¶åˆ¤æ–­å›› ]; then</p><p>else</p><p>  æ‰§è¡Œå…¶å®ƒ</p><p>fi</p><p>åˆ¤æ–­ç¬¬ä¸‰ç§</p><p>if [[æ¡ä»¶åˆ¤æ–­ä¸€ &amp;&amp; (||) æ¡ä»¶åˆ¤æ–­äºŒ ]]; then</p><p>elif [[ æ¡ä»¶åˆ¤æ–­ä¸‰ &amp;&amp; (||) æ¡ä»¶åˆ¤æ–­å›› ]]; then</p><p>else</p><p>  æ‰§è¡Œå…¶å®ƒ</p><p>fi</p><p>ä¾‹1ï¼šè®¾ç½®umask</p><p>å‚è€ƒï¼š [root@xuegod63 ~]# vim /etc/profile </p><p><img src="/../assets/blog_res/%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD%E5%92%8C%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.assets/wps5.jpg" alt="img"> </p><p>[root@xuegod63 ~]# vim umask.sh </p><p>if [ $UID -gt 199 ] &amp;&amp; [ â€œ<code>/usr/bin/id -gn</code>â€œ = â€œ<code>/usr/bin/id -un</code>â€œ ]; then</p><p>  echo â€œumask 002â€</p><p>else</p><p>  echo â€œi am root :umask 022â€</p><p>fi</p><p>[root@xuegod63 ~]# bash umask.sh </p><p>i am root :umask 022</p><p>ä¾‹2ï¼š[[ ã€‚ã€‚ã€‚ ]]å’Œ[ ã€‚ã€‚ã€‚]çš„åŒºåˆ«</p><p>[[â€¦ ]] è¿ç®—ç¬¦æ˜¯[â€¦ ]è¿ç®—ç¬¦çš„æ‰©å……ï¼›[[â€¦ ]]èƒ½å¤Ÿæ”¯æŒ *ï¼Œ&lt; ã€&gt;ç­‰ç¬¦å·ä¸”ä¸éœ€è¦è½¬ä¹‰ç¬¦</p><p>ä¾‹1ï¼š</p><p>[root@xuegod63 ~]# if [[ $USER == r* ]] ; then echo â€œhello,$USERâ€ ; else echo $USER not ; fi</p><p>hello,root</p><p>æ³¨ï¼š $USER == r<em>å¯¹æ¯”æ—¶ï¼Œ  r</em> è¡¨ç¤ºä»¥rå¼€å¤´çš„ä»»æ„é•¿åº¦å­—ç¬¦ä¸²ï¼Œè¿™æ ·å°±åŒ…æ‹¬root</p><p>å½“åªæœ‰ä¸€ä¸ª[] æ–¹æ‹¬å·æ—¶ï¼š</p><p>[root@xuegod63 ~]# if [ $USER == r* ] ; then echo â€œhello,$USERâ€ ; else echo $USER not ; fi</p><p>root not</p><p>#å¯¹æ¯”æ—¶r* ï¼Œå°±è¡¨ç¤ºä¸¤ä¸ªå­—ç¬¦ä¸² r*</p><p>ä¹Ÿå¯ä»¥è¿™æ ·å†™ï¼š</p><p>[root@xuegod63 ~]# if [[ $USER == [a-z]oot ]] ; then echo â€œhello,$USERâ€ ; else echo $USER not ; fi</p><p>[[ ã€‚ã€‚ã€‚ ]]å’Œ[ ã€‚ã€‚ã€‚]çš„åŒºåˆ«æ±‡æ€»ï¼š</p><p>1ã€æ‰€æœ‰çš„å­—ç¬¦ä¸é€»è¾‘è¿ç®—ç¬¦ç›´æ¥ç”¨â€œç©ºæ ¼â€åˆ†å¼€ï¼Œä¸èƒ½è¿åˆ°ä¸€èµ·ã€‚</p><p>2ã€åœ¨[â€¦ ]è¡¨è¾¾å¼ä¸­ï¼Œå¸¸è§çš„&gt; ã€&lt;éœ€è¦åŠ è½¬ä¹‰ç¬¦\ï¼Œå¤§å°æ¯”è¾ƒ</p><p>3ã€è¿›è¡Œé€»è¾‘è¿ç®—ç¬¦&amp;&amp; ã€||æ¯”è¾ƒæ—¶ï¼›å¦‚æœç”¨çš„[ ]ç¬¦å·ï¼Œåˆ™ç”¨åœ¨å¤–é¢ï¼Œå¦‚[â€¦ ] &amp;&amp; [â€¦ ] || [ â€¦]å¦‚æœåœ¨[â€¦]é‡Œé¢è¿›è¡Œé€»è¾‘ä¸æˆ–çš„æ¯”è¾ƒï¼Œåˆ™ç”¨-aã€-oè¿›è¡Œè¡¨ç¤ºï¼Œå¦‚[ x = y â€“a x &lt; z â€“o x &gt; m ]</p><p>4ã€[[â€¦ ]] è¿ç®—ç¬¦åªæ˜¯[â€¦ ]è¿ç®—ç¬¦çš„æ‰©å……ï¼›èƒ½å¤Ÿæ”¯æŒ&lt; ã€&gt;ç¬¦å·è¿ç®—ä¸éœ€è¦è½¬ä¹‰ç¬¦ï¼›å®ƒè¿˜æ˜¯ä»¥å­—ç¬¦ä¸²æ¯”è¾ƒå¤§å°ã€‚é‡Œé¢æ”¯æŒé€»è¾‘è¿ç®—ç¬¦ || ã€ &amp;&amp; ï¼Œ ä¸å†ä½¿ç”¨-a ã€-o</p><p>5ã€[[â€¦]] ç”¨ &amp;&amp; è€Œä¸æ˜¯ -a è¡¨ç¤ºé€»è¾‘â€œä¸â€ï¼›ç”¨ || è€Œä¸æ˜¯ -oè¡¨ç¤ºé€»è¾‘â€œæˆ–â€</p><p>6ã€[[â€¦ ]]å¯ä»¥è¿›è¡Œç®—æœ¯æ‰©å±•ï¼Œè€Œ[ â€¦ ]ä¸å¯ä»¥</p><p>7ã€[[â€¦]]èƒ½ç”¨æ­£åˆ™ï¼Œè€Œ[â€¦]ä¸è¡Œ</p><p>8ã€åŒæ‹¬å·((  ))ç”¨äºæ•°å­¦è¡¨è¾¾å¼</p><p>9ã€åŒæ–¹æ‹¬å·å·[[  ]]ç”¨äºé«˜çº§å­—ç¬¦ä¸²å¤„ç†ï¼Œæ¯”å¦‚â€œæ¨¡ç³ŠåŒ¹é…â€</p><h2 id="20-4-2-shellä¸­çš„é€šé…ç¬¦"><a href="#20-4-2-shellä¸­çš„é€šé…ç¬¦" class="headerlink" title="20.4.2  shellä¸­çš„é€šé…ç¬¦"></a>20.4.2  shellä¸­çš„é€šé…ç¬¦</h2><p>shellå¸¸è§é€šé…ç¬¦ï¼š</p><table><thead><tr><th>å­—ç¬¦</th><th>å«ä¹‰</th><th>å®ä¾‹</th></tr></thead><tbody><tr><td>*</td><td>åŒ¹é… 0 æˆ–å¤šä¸ªå­—ç¬¦</td><td>a*b aä¸bä¹‹é—´å¯ä»¥æœ‰ä»»æ„é•¿åº¦çš„ä»»æ„å­—ç¬¦, ä¹Ÿå¯ä»¥ä¸€ä¸ªä¹Ÿæ²¡æœ‰, å¦‚aabcb, axyzb, a012b, abã€‚</td></tr><tr><td>?</td><td>åŒ¹é…ä»»æ„ä¸€ä¸ªå­—ç¬¦</td><td>a?b aä¸bä¹‹é—´å¿…é¡»ä¹Ÿåªèƒ½æœ‰ä¸€ä¸ªå­—ç¬¦, å¯ä»¥æ˜¯ä»»æ„å­—ç¬¦, å¦‚aab, abb, acb, a0bã€‚</td></tr><tr><td>[list]</td><td>åŒ¹é… list ä¸­çš„ä»»æ„å•ä¸€å­—ç¬¦</td><td>a[xyz]b  aä¸bä¹‹é—´å¿…é¡»ä¹Ÿåªèƒ½æœ‰ä¸€ä¸ªå­—ç¬¦, ä½†åªèƒ½æ˜¯ x æˆ– y æˆ– z, å¦‚: axb, ayb, azbã€‚</td></tr><tr><td>[!list]</td><td>åŒ¹é… é™¤list ä¸­çš„ä»»æ„å•ä¸€å­—ç¬¦</td><td>a[!0-9]b aä¸bä¹‹é—´å¿…é¡»ä¹Ÿåªèƒ½æœ‰ä¸€ä¸ªå­—ç¬¦, ä½†ä¸èƒ½æ˜¯é˜¿æ‹‰ä¼¯æ•°å­—, å¦‚axb, aab, a-bã€‚</td></tr><tr><td>[c1-c2]</td><td>åŒ¹é… c1-c2 ä¸­çš„ä»»æ„å•ä¸€å­—ç¬¦ å¦‚ï¼š[0-9] [a-z]</td><td>a[0-9]b 0ä¸9ä¹‹é—´å¿…é¡»ä¹Ÿåªèƒ½æœ‰ä¸€ä¸ªå­—ç¬¦ å¦‚a0b, a1bâ€¦ a9bã€‚</td></tr><tr><td>{string1,string2,â€¦}</td><td>åŒ¹é… sring1 æˆ– string2 (æˆ–æ›´å¤š)å…¶ä¸€å­—ç¬¦ä¸²</td><td>a{abc,xyz,123}b  aä¸bä¹‹é—´åªèƒ½æ˜¯abcæˆ–xyzæˆ–123è¿™ä¸‰ä¸ªå­—ç¬¦ä¸²ä¹‹ä¸€ã€‚</td></tr></tbody></table><p>ä¾‹ï¼š</p><p>[root@xuegod63 ~]#  ls /etc/*.conf</p><p>[root@xuegod63 ~]# ls /etc/???.conf</p><p>/etc/nfs.conf  /etc/sos.conf  /etc/yum.conf</p><p>[root@xuegod63 ~]# touch  /opt/a{1,2,3}.txt</p><p>[root@xuegod63 ~]# ls /opt/a[123].txt</p><p>/opt/a1.txt  /opt/a2.txt  /opt/a3.txt</p><p>[root@xuegod63 ~]# ls /opt/a[1,2,3].txt</p><p>[root@xuegod63 ~]# ls /opt/a[13].txt</p><p>/opt/a1.txt  /opt/a3.txt</p><h1 id="20-5-å®æˆ˜-3ä¸ªshellè„šæœ¬å®æˆ˜"><a href="#20-5-å®æˆ˜-3ä¸ªshellè„šæœ¬å®æˆ˜" class="headerlink" title="20.5  å®æˆ˜-3ä¸ªshellè„šæœ¬å®æˆ˜"></a>20.5  å®æˆ˜-3ä¸ªshellè„šæœ¬å®æˆ˜</h1><h2 id="20-5-1-å®æˆ˜1ï¼šç¼–å†™è„šæœ¬æ£€æŸ¥æœåŠ¡å™¨è¿è¡ŒçŠ¶æ€"><a href="#20-5-1-å®æˆ˜1ï¼šç¼–å†™è„šæœ¬æ£€æŸ¥æœåŠ¡å™¨è¿è¡ŒçŠ¶æ€" class="headerlink" title="20.5.1  å®æˆ˜1ï¼šç¼–å†™è„šæœ¬æ£€æŸ¥æœåŠ¡å™¨è¿è¡ŒçŠ¶æ€"></a>20.5.1  å®æˆ˜1ï¼šç¼–å†™è„šæœ¬æ£€æŸ¥æœåŠ¡å™¨è¿è¡ŒçŠ¶æ€</h2><p>[root@xuegod63 ~]# vim status.sh</p><p>#!/bin/bash</p><p>if [ $# -ge 1 ] ; then</p><p>â€‹    systemctl status $1 &gt; /dev/null</p><p>  if [ $? -eq 0 ] ; then</p><p>â€‹    echo â€œ$1 æœåŠ¡æ­£åœ¨è¿è¡Œâ€</p><p>  else</p><p>â€‹    systemctl start $1</p><p>  fi</p><p>else</p><p>â€‹     echo â€œæ‰§è¡Œè„šæœ¬çš„æ ¼å¼â€</p><p>â€‹     echo â€œsh $0 æœåŠ¡åâ€</p><p>fi</p><h2 id="20-5-2-å®æˆ˜2-æ ¹æ®å­¦ç”Ÿçš„æˆç»©åˆ¤æ–­-å­¦ç”Ÿçš„ä¼˜åŠ£"><a href="#20-5-2-å®æˆ˜2-æ ¹æ®å­¦ç”Ÿçš„æˆç»©åˆ¤æ–­-å­¦ç”Ÿçš„ä¼˜åŠ£" class="headerlink" title="20.5.2  å®æˆ˜2:æ ¹æ®å­¦ç”Ÿçš„æˆç»©åˆ¤æ–­ å­¦ç”Ÿçš„ä¼˜åŠ£"></a>20.5.2  å®æˆ˜2:æ ¹æ®å­¦ç”Ÿçš„æˆç»©åˆ¤æ–­ å­¦ç”Ÿçš„ä¼˜åŠ£</h2><p>[root@xuegod63 ~]# vim  check_cj.sh </p><p>#!/bin/bash</p><p>read  -p  â€œè¯·è¾“å…¥ä½ çš„æˆç»©  â€œ  cj</p><p>if  [ $cj  -ge  0  ]   &amp;&amp;  [  $cj  -le  59  ]  ;then</p><p>   echo  â€œè¡¥è€ƒâ€</p><p>elif  [  $cj  -ge  60 ]   &amp;&amp;  [  $cj  -le  70  ]  ;then</p><p>  echo  â€œè‰¯å¥½â€</p><p>elif   [ $cj -ge 71 ]   &amp;&amp;  [ $cj  -le  85 ]  ;then</p><p>  echo  â€œå¥½â€</p><p>elif [ $cj  -ge 86 ]   &amp;&amp;  [  $cj  -le  100 ]  ;then</p><p>  echo  â€œä¼˜ç§€â€ </p><p>else</p><p>  echo â€œæˆç»©çš„æœ‰æ•ˆèŒƒå›´æ˜¯0-100ä¹‹é—´â€</p><p>fi</p><h2 id="20-5-3-å®æˆ˜3ï¼šæ¯å‘¨ä¸€æ™šä¸Š3-00-ï¼Œå¤‡ä»½æ•°æ®åº“æœåŠ¡å™¨ä¸Šwebdbåº“çš„æ‰€æœ‰æ•°æ®åˆ°ç³»ç»Ÿçš„-mysqlbakç›®å½•é‡Œï¼Œä½¿ç”¨ç³»ç»Ÿæ—¥æœŸåšå¤‡ä»½æ–‡ä»¶åã€‚"><a href="#20-5-3-å®æˆ˜3ï¼šæ¯å‘¨ä¸€æ™šä¸Š3-00-ï¼Œå¤‡ä»½æ•°æ®åº“æœåŠ¡å™¨ä¸Šwebdbåº“çš„æ‰€æœ‰æ•°æ®åˆ°ç³»ç»Ÿçš„-mysqlbakç›®å½•é‡Œï¼Œä½¿ç”¨ç³»ç»Ÿæ—¥æœŸåšå¤‡ä»½æ–‡ä»¶åã€‚" class="headerlink" title="20.5.3  å®æˆ˜3ï¼šæ¯å‘¨ä¸€æ™šä¸Š3:00 ï¼Œå¤‡ä»½æ•°æ®åº“æœåŠ¡å™¨ä¸Šwebdbåº“çš„æ‰€æœ‰æ•°æ®åˆ°ç³»ç»Ÿçš„/mysqlbakç›®å½•é‡Œï¼Œä½¿ç”¨ç³»ç»Ÿæ—¥æœŸåšå¤‡ä»½æ–‡ä»¶åã€‚"></a>20.5.3  å®æˆ˜3ï¼šæ¯å‘¨ä¸€æ™šä¸Š3:00 ï¼Œå¤‡ä»½æ•°æ®åº“æœåŠ¡å™¨ä¸Šwebdbåº“çš„æ‰€æœ‰æ•°æ®åˆ°ç³»ç»Ÿçš„/mysqlbakç›®å½•é‡Œï¼Œä½¿ç”¨ç³»ç»Ÿæ—¥æœŸåšå¤‡ä»½æ–‡ä»¶åã€‚</h2><p>[root@xuegod63 ~]# vim  mysqlbak.sh</p><p>#!/bin/bash</p><p>baknamefile=<code>date +%Y-%m-%d</code></p><p>bakdir=/mysqlbak</p><p>user=root</p><p>password=123</p><p>dbname=webdb</p><p>[  -e  $bakdir  ]  ||   mkdir   $bakdir</p><p>mysqldump  -u$user  -p$password  â€“flush-logs  $dbname  &gt;   $bakdir/${baknamefile}-webdb.sql</p><p>å› ä¸ºmysqlå’±ä»¬è¿˜æ²¡æœ‰å­¦ï¼Œè¿™é‡Œä»¥/etcç›®å½•æ¥åšå®éªŒï¼š</p><p>[root@xuegod63 ~]# vim etcbak.sh</p><p>#!/bin/bash</p><p>baknamefile=<code>date +%Y-%m-%d</code></p><p>bakdir=/etcbak</p><p>srcdir=/etc</p><p>[  -e  $bakdir  ]  ||   mkdir   $bakdir</p><p>tar zcvf ${bakdir}/${baknamefile}-etc.tar.gz /etc/</p><p>echo â€œ========================â€</p><p>ls -lh ${bakdir}/${baknamefile}-etc.tar.gz</p><p>echo â€œback etc is ok!â€</p><p>[root@xuegod63 ~]# chmod +x  etcbak.sh</p><p>[root@xuegod63 ~]# crontab  -e</p><p>0 3 * * *  /root/etcbak.sh  2&gt;&amp;1 &gt; /dev/null</p><p>æ€»ç»“ï¼š</p><p>20.1  readå‘½ä»¤é”®ç›˜è¯»å–å˜é‡çš„å€¼</p><p>20.2  æµç¨‹æ§åˆ¶è¯­å¥if</p><p>20.3  testæµ‹è¯•å‘½ä»¤</p><p>20.4  æµç¨‹æ§åˆ¶è¿‡ç¨‹ä¸­å¤æ‚æ¡ä»¶å’Œé€šé…ç¬¦</p><p>20.5  å®æˆ˜-3ä¸ªshellè„šæœ¬å®æˆ˜</p>]]></content>
      
      
      <categories>
          
          <category> shell </category>
          
      </categories>
      
      
        <tags>
            
            <tag> shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>shellè„šæœ¬çš„åŸºç¡€</title>
      <link href="/2023/12/24/shell-jiao-ben-de-ji-chu/"/>
      <url>/2023/12/24/shell-jiao-ben-de-ji-chu/</url>
      
        <content type="html"><![CDATA[<p>ç¬¬åä¹ç«   shellè„šæœ¬çš„åŸºç¡€</p><p>æœ¬èŠ‚æ‰€è®²å†…å®¹ï¼š</p><p>19.1  shell åŸºæœ¬è¯­æ³•</p><p>19.2  SHELLå˜é‡åŠè¿ç”¨</p><p>19.3  æ•°å­¦è¿ç®—</p><p>19.4  å®æˆ˜-å‡çº§ç³»ç»Ÿä¸­çš„javaç‰ˆæœ¬åˆ°1.8ç‰ˆæœ¬-ä¸ºåæœŸå®‰è£…Hadoopé›†ç¾¤åšå‡†å¤‡</p><h1 id="19-1-shell-åŸºæœ¬è¯­æ³•"><a href="#19-1-shell-åŸºæœ¬è¯­æ³•" class="headerlink" title="19.1  shell åŸºæœ¬è¯­æ³•"></a>19.1  shell åŸºæœ¬è¯­æ³•</h1><h2 id="19-1-1-ä»€ä¹ˆæ˜¯shell"><a href="#19-1-1-ä»€ä¹ˆæ˜¯shell" class="headerlink" title="19.1.1  ä»€ä¹ˆæ˜¯shell?"></a>19.1.1  ä»€ä¹ˆæ˜¯shell?</h2><p>Shellæ˜¯ä¸€ä¸ªå‘½ä»¤è§£é‡Šå™¨ï¼Œå®ƒåœ¨æ“ä½œç³»ç»Ÿçš„æœ€å¤–å±‚ï¼Œè´Ÿè´£ç›´æ¥ä¸ç”¨æˆ·è¿›è¡Œå¯¹è¯ï¼ŒæŠŠç”¨æˆ·çš„è¾“å…¥è§£é‡Šç»™æ“ä½œç³»ç»Ÿï¼Œå¹¶å¤„ç†å„ç§å„æ ·çš„æ“ä½œç³»ç»Ÿçš„è¾“å‡ºç»“æœï¼Œè¾“å‡ºåˆ°å±å¹•åé¦ˆç»™ç”¨æˆ·ã€‚è¿™ç§å¯¹è¯æ–¹å¼å¯æ˜¯äº¤äº’ä¹Ÿå¯ä»¥æ˜¯éäº¤äº’å¼çš„</p><p><img src="/../assets/blog_res/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E5%9F%BA%E7%A1%80.assets/image-20231224135308530.png" alt="image-20231224135308530"></p><p>â€‹æˆ‘ä»¬æ‰€è¾“å…¥çš„å‘½ä»¤è®¡ç®—æœºæ˜¯ä¸è¯†åˆ«çš„ï¼Œè¿™æ—¶å°±éœ€è¦ä¸€ç§ç¨‹åºæ¥å¸®åŠ©æˆ‘ä»¬è¿›è¡Œç¿»è¯‘ï¼Œå˜æˆè®¡ç®—æœºèƒ½è¯†åˆ«çš„äºŒè¿›åˆ¶ç¨‹åºï¼ŒåŒæ—¶åˆæŠŠè®¡ç®—æœºç”Ÿæˆçš„ç»“æœè¿”å›ç»™æˆ‘ä»¬ã€‚</p><h2 id="19-1-2-ç¼–ç¨‹è¯­è¨€åˆ†ç±»"><a href="#19-1-2-ç¼–ç¨‹è¯­è¨€åˆ†ç±»" class="headerlink" title="19.1.2  ç¼–ç¨‹è¯­è¨€åˆ†ç±»"></a>19.1.2  ç¼–ç¨‹è¯­è¨€åˆ†ç±»</h2><p>ç¼–ç¨‹è¯­è¨€ä¸»è¦ç”¨ï¼šä½çº§è¯­è¨€å’Œé«˜çº§è¯­è¨€</p><p>1ï¼‰ä½çº§è¯­è¨€ï¼š</p><p>æœºå™¨è¯­è¨€ï¼šäºŒè¿›åˆ¶è¯­è¨€</p><p>æ±‡ç¼–è¯­è¨€ï¼šç¬¦å·è¯­è¨€ï¼Œä½¿ç”¨åŠ©è®°ç¬¦æ¥ä»£æ›¿æ“ä½œç ï¼Œä¹Ÿå°±æ˜¯ç”¨ç¬¦å·ä»£æ›¿æœºå™¨è¯­è¨€çš„äºŒè¿›åˆ¶ç  </p><p>å®ƒä»¬éƒ½æ˜¯é¢å‘æœºå™¨çš„è¯­è¨€</p><p>2ï¼‰é«˜çº§è¯­è¨€ï¼š</p><p>å®ƒæ˜¯æ¯”è¾ƒæ¥è¿‘è‡ªç„¶è¯­è¨€æˆ–è€…è¯´äººç±»è¯­è¨€çš„ä¸€ç§ç¼–ç¨‹ï¼Œç”¨äººä»¬èƒ½å¤Ÿå®¹æ˜“ç†è§£çš„æ–¹å¼è¿›è¡Œç¼–å†™ç¨‹åºï¼Œ</p><p>é™æ€è¯­è¨€ï¼šç¼–è¯‘å‹è¯­è¨€ å¦‚ï¼šc ã€ c++ ã€ javaï¼Œ</p><p>åŠ¨æ€è¯­è¨€ï¼šè§£é‡Šå‹è¯­è¨€ å¦‚ï¼š php ã€ shell ã€ python ã€ perl</p><p>gccç¼–è¯‘å™¨ï¼šï¼ˆè§£é‡Šå™¨ï¼‰  å°†äººç±»ç†è§£çš„è¯­è¨€ç¿»è¯‘æˆæœºå™¨ç†è§£çš„è¯­è¨€</p><h2 id="19-1-3-ä»€ä¹ˆæ˜¯SHELLè„šæœ¬ï¼Ÿ"><a href="#19-1-3-ä»€ä¹ˆæ˜¯SHELLè„šæœ¬ï¼Ÿ" class="headerlink" title="19.1.3  ä»€ä¹ˆæ˜¯SHELLè„šæœ¬ï¼Ÿ"></a>19.1.3  ä»€ä¹ˆæ˜¯SHELLè„šæœ¬ï¼Ÿ</h2><p>shellè„šæœ¬ï¼šå°±æ˜¯è¯´æˆ‘ä»¬æŠŠåŸæ¥linuxå‘½ä»¤æˆ–è¯­å¥æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œç„¶åé€šè¿‡è¿™ä¸ªç¨‹åºæ–‡ä»¶å»æ‰§è¡Œæ—¶ï¼Œæˆ‘ä»¬å°±è¯´è¿™ä¸ªç¨‹åºä¸ºshellè„šæœ¬æˆ–shellç¨‹åºï¼›æˆ‘ä»¬å¯ä»¥åœ¨è„šæœ¬ä¸­è¾“å…¥ä¸€ç³»ç»Ÿçš„å‘½ä»¤ä»¥åŠç›¸å…³çš„è¯­æ³•è¯­å¥ç»„åˆï¼Œæ¯”å¦‚å˜é‡ï¼Œæµç¨‹æ§åˆ¶è¯­å¥ç­‰ï¼ŒæŠŠä»–ä»¬æœ‰æœºç»“åˆèµ·æ¥å°±å½¢æˆäº†ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„shellè„šæœ¬</p><p>å…ˆæ‰‹å†™ä¸€ä¸ªè„šæœ¬ä½“éªŒä¸€ä¸‹ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">[root@xuegod63 ~]# vim test.sh  #å†™å…¥ä»¥ä¸‹å†…å®¹#!/bin/bash# This is shell.echo "hello world"mkdir /tmp/testtouch /tmp/test/a.txt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> <img src="/../assets/blog_res/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E5%9F%BA%E7%A1%80.assets/image-20231224105341201.png" alt="image-20231224105341201"></p><p>æ³¨é‡Šï¼š</p><p>1ã€!/bin/bash ä½œç”¨ï¼šå‘Šè¯‰è„šæœ¬ä½¿ç”¨çš„æ˜¯å“ªç§å‘½ä»¤è§£é‡Šå™¨ã€‚å¦‚ä¸æŒ‡shellï¼Œä»¥å½“å‰shellä½œä¸ºæ‰§è¡Œçš„shellã€‚</p><p> 2ã€åœ¨shellä¸­ä»¥#è¡¨ç¤ºå¼€å¤´ï¼Œæ•´ä¸ªè¡Œå°±è¢«å½“ä½œä¸€ä¸ªæ³¨é‡Šã€‚æ‰§è¡Œæ—¶è¢«å¿½ç•¥ã€‚</p><p>3ã€shellç¨‹åºä¸€èˆ¬ä»¥.shç»“å°¾</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">[root@xuegod63 ~]# chmod +x test.sh [root@xuegod63 ~]# ./test.sh  #æ‰§è¡Œhello world<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>åˆ›å»ºshellç¨‹åºçš„æ­¥éª¤ï¼š</strong></p><p>ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºä¸€ä¸ªåŒ…å«å‘½ä»¤å’Œæ§åˆ¶ç»“æ„çš„æ–‡ä»¶ã€‚</p><p>ç¬¬äºŒæ­¥ï¼šä¿®æ”¹è¿™ä¸ªæ–‡ä»¶çš„æƒé™ä½¿å®ƒå¯ä»¥æ‰§è¡Œã€‚ä½¿ç”¨chmod +x test.sh</p><p>ç¬¬ä¸‰æ­¥ï¼šæ£€æµ‹è¯­æ³•é”™è¯¯</p><p>ç¬¬å››æ­¥ï¼šæ‰§è¡Œ ./example</p><p><strong>shellè„šæœ¬çš„æ‰§è¡Œé€šå¸¸æœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼</strong></p><p>1ã€/root/test.sh  æˆ–è€… ./test.sh (å½“å‰è·¯å¾„ä¸‹æ‰§è¡Œè„šæœ¬çš„è¯è¦æœ‰æ‰§è¡Œæƒé™chmod +x test.sh) </p><p>2ã€bash test.sh æˆ– sh test.sh  ï¼ˆè¿™ç§æ–¹å¼å¯ä»¥ä¸å¯¹è„šæœ¬æ–‡ä»¶æ·»åŠ æ‰§è¡Œæƒé™ï¼‰</p><p>3ã€source test.sh (å¯ä»¥æ²¡æœ‰æ‰§è¡Œæƒé™)</p><p>4ã€sh &lt; test.sh æˆ–è€… cat test.sh |sh(bash)</p><h1 id="19-2-SHELLå˜é‡åŠè¿ç”¨"><a href="#19-2-SHELLå˜é‡åŠè¿ç”¨" class="headerlink" title="19.2  SHELLå˜é‡åŠè¿ç”¨"></a>19.2  SHELLå˜é‡åŠè¿ç”¨</h1><h2 id="19-2-1-shellå˜é‡"><a href="#19-2-1-shellå˜é‡" class="headerlink" title="19.2.1  shellå˜é‡"></a>19.2.1  shellå˜é‡</h2><p>å˜é‡æ˜¯shell ä¼ é€’æ•°æ®çš„ä¸€ç§æ–¹æ³•ã€‚å˜é‡æ˜¯ç”¨æ¥ä»£è¡¨æ¯ä¸ªå€¼çš„ç¬¦å·åã€‚æˆ‘ä»¬å¯ä»¥æŠŠå˜é‡å½“æˆä¸€ä¸ªå®¹å™¨ï¼Œé€šè¿‡å˜é‡ï¼Œå¯ä»¥åœ¨å†…å­˜ä¸­å­˜å‚¨æ•°æ®ã€‚ä¹Ÿå¯ä»¥åœ¨è„šæœ¬æ‰§è¡Œä¸­è¿›è¡Œä¿®æ”¹å’Œè®¿é—®å­˜å‚¨çš„æ•°æ®</p><p>å˜é‡çš„è®¾ç½®è§„åˆ™ï¼š</p><p>1ã€ å˜é‡åç§°é€šå¸¸æ˜¯å¤§å†™å­—æ¯ï¼Œå®ƒå¯ä»¥ç”±æ•°å­—ã€å­—æ¯ï¼ˆå¤§å°å†™ï¼‰å’Œä¸‹åˆ’çº¿_ç»„æˆã€‚å˜é‡ååŒºåˆ†å¤§å°å†™ï¼›ä½†æ˜¯å¤§å®¶è¦æ³¨æ„å˜é‡åç§°ä¸èƒ½<strong>ä»¥æ•°å­—å¼€å¤´</strong></p><p>2ã€ ç­‰å· = ç”¨äºä¸ºå˜é‡åˆ†é…å€¼ï¼Œåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ç­‰å·ä¸¤è¾¹ä¸èƒ½æœ‰ç©ºæ ¼</p><p>3ã€ å˜é‡å­˜å‚¨çš„æ•°æ®ç±»å‹æ˜¯æ•´æ•°å€¼å’Œå­—ç¬¦ä¸²å€¼</p><p>4ã€ åœ¨å¯¹å˜é‡èµ‹äºå­—ç¬¦ä¸²å€¼æ—¶ï¼Œå»ºè®®å¤§å®¶ç”¨å¼•å·å°†å…¶æ‹¬èµ·æ¥ã€‚å› ä¸ºå¦‚æœå­—ç¬¦ä¸²ä¸­å­˜åœ¨ç©ºæ ¼éš”ç¬¦å·ã€‚éœ€è¦ä½¿ç”¨å•å¼•å·æˆ–åŒå¼•å·</p><p>5ã€ è¦å¯¹å˜é‡è¿›è¡Œè°ƒç”¨ï¼Œå¯ä»¥åœ¨å˜é‡åç§°å‰åŠ ç¾å…ƒç¬¦å·$</p><p>6ã€ å¦‚æœéœ€è¦å¢åŠ å˜é‡çš„å€¼ï¼Œé‚£ä¹ˆå¯ä»¥è¿›è¡Œå˜é‡å€¼çš„å åŠ ã€‚ä¸è¿‡å˜é‡éœ€è¦ç”¨åŒå¼•å·åŒ…å«â€œ$å˜é‡åâ€æˆ–ç”¨${å˜é‡å}åŒ…å«</p><p>å˜é‡çš„åˆ†ç±»</p><p>æŒ‰ç…§å˜é‡çš„ä½œç”¨å¯ä»¥åˆ†æˆ4ç±»ï¼š</p><p>â€‹1ã€ç”¨æˆ·è‡ªå®šä¹‰å˜é‡ </p><p>â€‹2ã€ç¯å¢ƒå˜é‡ï¼šè¿™ç§å˜é‡ä¸­ä¸»è¦ä¿å­˜çš„æ˜¯å’Œç³»ç»Ÿæ“ä½œç¯å¢ƒç›¸å…³çš„æ•°æ®ã€‚ </p><p>â€‹3ã€ä½ç½®å‚æ•°å˜é‡ï¼šè¿™ç§å˜é‡ä¸»è¦æ˜¯ç”¨æ¥å‘è„šæœ¬å½“ä¸­ä¼ é€’å‚æ•°æˆ–æ•°æ®çš„ï¼Œå˜é‡åä¸èƒ½è‡ªå®šä¹‰ï¼Œå˜é‡ä½œç”¨æ˜¯å›ºå®šçš„ã€‚ </p><p>â€‹4ã€é¢„å®šä¹‰å˜é‡ï¼šæ˜¯Bashä¸­å·²ç»å®šä¹‰å¥½çš„å˜é‡ï¼Œå˜é‡åä¸èƒ½è‡ªå®šä¹‰ï¼Œå˜é‡ä½œç”¨ä¹Ÿæ˜¯å›ºå®šçš„ã€‚ </p><p>æŒ‰ç…§å˜é‡ä½œç”¨åŸŸå¯ä»¥åˆ†æˆ2ç±»ï¼šå…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡ã€‚</p><p>å±€éƒ¨å˜é‡æ˜¯shell ç¨‹åºå†…éƒ¨å®šä¹‰çš„ï¼Œå…¶ä½¿ç”¨èŒƒå›´ä»…é™äºå®šä¹‰å®ƒçš„ç¨‹åºï¼Œå¯¹å…¶å®ƒç¨‹åºä¸å¯è§ã€‚åŒ…æ‹¬ï¼šç”¨æˆ·è‡ªå®šä¹‰å˜é‡ã€ä½ç½®å˜é‡å’Œé¢„å®šä¹‰å˜é‡ã€‚</p><p>å…¨å±€å˜é‡æ˜¯ç¯å¢ƒå˜é‡ï¼Œå…¶å€¼ä¸éšshell è„šæœ¬çš„æ‰§è¡Œç»“æŸè€Œæ¶ˆå¤±ã€‚</p><h2 id="19-2-2-ç”¨æˆ·å®šä¹‰å˜é‡"><a href="#19-2-2-ç”¨æˆ·å®šä¹‰å˜é‡" class="headerlink" title="19.2.2  ç”¨æˆ·å®šä¹‰å˜é‡"></a>19.2.2  ç”¨æˆ·å®šä¹‰å˜é‡</h2><p>å˜é‡åå‘½åè§„åˆ™ï¼šç”±å­—æ¯æˆ–ä¸‹åˆ’çº¿æ‰“å¤´ï¼Œä¸å…è®¸æ•°å­—å¼€å¤´,åé¢ç”±å­—æ¯ã€æ•°å­—æˆ–ä¸‹åˆ’çº¿ç»„æˆï¼Œå¹¶ä¸”å¤§å°å†™å­—æ¯æ„ä¹‰ä¸åŒã€‚åœ¨ä½¿ç”¨å˜é‡æ—¶ï¼Œåœ¨å˜é‡åå‰åŠ $</p><p>ä¾‹1ï¼šç»™å˜é‡VAR1èµ‹å€¼</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">[root@xuegod63 ~]# VAR1=123[root@xuegod63 ~]# echo $VAR1123<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>variable  [Ëˆ<strong>veÉ™riÉ™bl]</strong> å˜é‡</p><p>ä¾‹2ï¼šé”™è¯¯çš„èµ‹å€¼æ–¹å¼,ä¸å…è®¸æ•°å­—å¼€å¤´ï¼Œç­‰å·ä¸¤è¾¹ä¸èƒ½æœ‰ç©ºæ ¼</p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# VAR2 =456bash: VAR2: æœªæ‰¾åˆ°å‘½ä»¤...[root@xuegod63 ~]# VAR2= 456bash: 456: æœªæ‰¾åˆ°å‘½ä»¤...[root@xuegod63 ~]# VAR2 = 456bash: VAR2: æœªæ‰¾åˆ°å‘½ä»¤...[root@xuegod63 ~]# 3VAR2 = 456bash: 3VAR2: æœªæ‰¾åˆ°å‘½ä»¤...<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¾‹3ï¼šå˜é‡å€¼çš„å åŠ ï¼Œä½¿ç”¨${}</p><p>$nameæ˜¯${name}çš„ç®€åŒ–ç‰ˆæœ¬ï¼Œä½†æ˜¯åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œè¿˜å¿…é¡»ä½¿ç”¨èŠ±æ‹¬å·å¼•èµ·çš„æ–¹å¼æ¥æ¶ˆé™¤æ­§ä¹‰å¹¶é¿å…æ„å¤–çš„ç»“æœ</p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# VAR4=mysql[root@xuegod63 ~]# echo $VAR4mysql[root@xuegod63 ~]# echo $VAR4-db.logmysql-db.log[root@xuegod63 ~]# echo $VAR4.db.logmysql.db.log[root@xuegod63 ~]# echo $VAR4db.log #å‘ç°è¾“å‡ºçš„ç»“æœä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œæ€ä¹ˆåŠï¼Ÿ.log[root@xuegod63 ~]# echo ${VAR4}db.logmysqldb.log <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="19-2-3-å‘½ä»¤çš„æ›¿æ¢-ä½¿ç”¨-æˆ–åå¼•å·"><a href="#19-2-3-å‘½ä»¤çš„æ›¿æ¢-ä½¿ç”¨-æˆ–åå¼•å·" class="headerlink" title="19.2.3  å‘½ä»¤çš„æ›¿æ¢,ä½¿ç”¨$()æˆ–åå¼•å·"></a>19.2.3  å‘½ä»¤çš„æ›¿æ¢,ä½¿ç”¨$()æˆ–åå¼•å·</h2><p>ä¾‹1ï¼šåœ¨å‘½ä»¤å°±è°ƒç”¨dateå‘½ä»¤</p><p>æ‰©å±•ï¼šdateå‘½ä»¤æ˜¯æ˜¾ç¤ºæˆ–è®¾ç½®ç³»ç»Ÿæ—¶é—´ä¸æ—¥æœŸã€‚</p><p>-s&lt;å­—ç¬¦ä¸²&gt;ï¼šæ ¹æ®å­—ç¬¦ä¸²æ¥è®¾ç½®æ—¥æœŸä¸æ—¶é—´ã€‚å­—ç¬¦ä¸²å‰åå¿…é¡»åŠ ä¸ŠåŒå¼•å·ï¼›</p><p>&lt;+æ—¶é—´æ—¥æœŸæ ¼å¼&gt;ï¼šæŒ‡å®šæ˜¾ç¤ºæ—¶ï¼Œä½¿ç”¨ç‰¹å®šçš„æ—¥æœŸæ—¶é—´æ ¼å¼ã€‚</p><p>ä¾‹ï¼šæ ¼å¼åŒ–è¾“å‡ºï¼š</p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# date +"%Y-%m-%d" #ä»Šå¤©æ—¶é—´ï¼Œä¸€èˆ¬å¤‡ä»½æ•°æ®éœ€è¦ç”¨è¿™ä¸ª2018-05-25[root@xuegod63 ~]#  date +"%Y-%m"  #åªæ˜¾ç¤ºå¹´æœˆ2018-05[root@xuegod63 ~]#  date +"%Y-%m-%d %H:%M.%S"  #æ—¥æœŸåŠ æ—¶é—´2018-05-25 17:51.36[root@xuegod63 ~]#  date +"%Y/**%m/%d %H/%M/%S"** #ä½¿ç”¨/åšåˆ†éš”ç¬¦2018-05-25 17-51-43[root@xuegod63 ~]#  date +"%Y-%m-%d-%H-%M-%S" #ä½¿ç”¨-åšåˆ†éš”ç¬¦ï¼Œä¸€èˆ¬å¤‡ä»½æ•°æ®éœ€è¦ç”¨è¿™ä¸ªæ³¨ï¼š %y å¹´ä»½åªæ˜¾ç¤º2ä½ï¼Œ  %Yå¹´ä»½æ˜¾ç¤º4ä½<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>dateå‘½ä»¤åŠ å‡æ“ä½œï¼š</p><p>date +%Y%m%d          #æ˜¾ç¤ºå½“å¤©å¹´æœˆæ—¥</p><p>date -d â€œ+1 dayâ€ +%Y%m%d    #æ˜¾ç¤ºæ˜å¤©çš„æ—¥æœŸ</p><p>date -d â€œ-1 dayâ€ +%Y%m%d    #æ˜¾ç¤ºæ˜¨å¤©çš„æ—¥æœŸ</p><p>date -d â€œ-1 monthâ€ +%Y%m%d   #æ˜¾ç¤ºä¸Šä¸€æœˆçš„æ—¥æœŸ</p><p>date -d â€œ+1 monthâ€ +%Y%m%d   #æ˜¾ç¤ºä¸‹ä¸€æœˆçš„æ—¥æœŸ</p><p>date -d â€œ-1 yearâ€ +%Y%m%d    #æ˜¾ç¤ºå‰ä¸€å¹´çš„æ—¥æœŸ</p><p>date -d â€œ+1 yearâ€ +%Y%m%d    #æ˜¾ç¤ºä¸‹ä¸€å¹´çš„æ—¥æœŸ</p><p>è®¾å®šæ—¶é—´ï¼š</p><p>date -s 20180523        #è®¾ç½®æˆ20120523ï¼Œè¿™æ ·ä¼šæŠŠå…·ä½“æ—¶é—´è®¾ç½®æˆç©º00:00:00</p><p>date -s 01:01:01        #è®¾ç½®å…·ä½“æ—¶é—´ï¼Œä¸ä¼šå¯¹æ—¥æœŸåšæ›´æ”¹</p><p>date -s â€œ2018-05-23 01:01:01â€  #è¿™æ ·å¯ä»¥è®¾ç½®å…¨éƒ¨æ—¶é—´</p><p>ä¾‹1ï¼š åœ¨å‘½ä»¤ä¸­è°ƒç”¨dateå‘½ä»¤è¾“å‡ºå€¼</p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# echo date2018å¹´ 05æœˆ 25æ—¥ æ˜ŸæœŸäº” 17:41:29 CST[root@xuegod63 ~]# echo $(date)2018å¹´ 05æœˆ 25æ—¥ æ˜ŸæœŸäº” 17:41:42 CST[root@xuegod63 ~]# echo date +"%Y-%m-%d"2012-05-23<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="19-2-4-å‘½ä»¤çš„åµŒå¥—ä½¿ç”¨ï¼Œä½¿ç”¨"><a href="#19-2-4-å‘½ä»¤çš„åµŒå¥—ä½¿ç”¨ï¼Œä½¿ç”¨" class="headerlink" title="19.2.4  å‘½ä»¤çš„åµŒå¥—ä½¿ç”¨ï¼Œä½¿ç”¨$( $( ))"></a>19.2.4  å‘½ä»¤çš„åµŒå¥—ä½¿ç”¨ï¼Œä½¿ç”¨$( $( ))</h2><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# find /root/ -name .txt[root@xuegod63 ~]# VAR6=$(tar zcvf root.tar.gz $(find /root/ -name .txt))tar: ä»æˆå‘˜åä¸­åˆ é™¤å¼€å¤´çš„â€œ/â€[root@xuegod63 ~]# echo $VAR6  #æŸ¥çœ‹å€¼ï¼Œ VAR6ä¸­å­˜å‚¨ç€tarçš„æ ‡å‡†è¾“å‡º/root/.cache/tracker/db-version.txt /root/.cache/tracker/db-locale.txt /root/.cache/tracker/parser-sha1.txt /root/.cache/tracker/locale-for-miner-user-guides.txt /root/.cache/tracker/locale-for-miner-apps.txt /root/.cache/tracker/last-crawl.txtâ€¦â€¦<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å®æˆ˜ï¼šåˆ†äº«ä¸€ä¸ªç³»ç»Ÿæ—¶é—´é”™è¯¯ï¼Œå¼•èµ·taræŠ¥è­¦å‘Š</p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# date -s "2012-03-03 21:25:00"[root@xuegod63 ~]# tar zxvf root.tar.gz -C /opt/root/.cache/tracker/db-version.txttar: root/.cache/tracker/db-version.txtï¼šæ—¶é—´æˆ³ 2017-09-19 13:05:18 æ˜¯æœªæ¥çš„ 168094624.438537189 ç§’ä¹‹åæ³¨ï¼š å¦‚æœå¼¹å‡ºè¿™ä¸ªæ¶ˆæ¯ï¼Œæ˜¯å› ä¸ºå’±ä»¬çš„å½“å‰ç³»ç»Ÿçš„æ—¶é—´ä¸å¯¹ã€‚ æ¯”å¦‚ï¼šå½“å‰ç³»ç»Ÿçš„æ—¶é—´æ™šäºæ–‡ä»¶çš„mtimeæ—¶é—´[root@xuegod63 ~]# ls /opt/root/.mozilla/firefox/wggimqlt.default/ -a #è§£å‹æˆåŠŸ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="19-2-5-shellä¸­å•å¼•å·å’ŒåŒå¼•å·åŒºåˆ«"><a href="#19-2-5-shellä¸­å•å¼•å·å’ŒåŒå¼•å·åŒºåˆ«" class="headerlink" title="19.2.5  shellä¸­å•å¼•å·å’ŒåŒå¼•å·åŒºåˆ«"></a>19.2.5  shellä¸­å•å¼•å·å’ŒåŒå¼•å·åŒºåˆ«</h2><p>â€˜â€™åœ¨å•å¼•å·ä¸­æ‰€æœ‰çš„å­—ç¬¦åŒ…æ‹¬ç‰¹æ®Šå­—ç¬¦ï¼ˆ$,â€™â€™,`å’Œ\ï¼‰éƒ½å°†è§£é‡Šæˆå­—ç¬¦æœ¬èº«è€Œæˆä¸ºæ™®é€šå­—ç¬¦ã€‚</p><p>â€œâ€åœ¨åŒå¼•å·ä¸­ï¼Œé™¤äº†$, â€˜â€™, `å’Œ\ä»¥å¤–æ‰€æœ‰çš„å­—ç¬¦éƒ½è§£é‡Šæˆå­—ç¬¦æœ¬èº«ï¼Œæ‹¥æœ‰â€œè°ƒç”¨å˜é‡çš„å€¼â€ã€â€œå¼•ç”¨å‘½ä»¤â€å’Œâ€œè½¬ä¹‰ç¬¦â€çš„ç‰¹æ®Šå«ä¹‰</p><p>æ³¨ï¼š\è½¬ä¹‰ç¬¦ï¼Œè·Ÿåœ¨ä¹‹åçš„ç‰¹æ®Šç¬¦å·å°†å¤±å»ç‰¹æ®Šå«ä¹‰ï¼Œå˜ä¸ºæ™®é€šå­—ç¬¦ã€‚å¦‚**$å°†è¾“å‡ºâ€œ$â€ç¬¦å·ï¼Œè€Œä¸å½“åšæ˜¯å˜é‡å¼•ç”¨</p><p>ä¾‹ï¼š</p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# echo $VAR1123[root@xuegod63 ~]# echo $VAR1$VAR1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¾‹1ï¼šç»™å˜é‡å€¼èµ‹äºå¤šä¸ªå•è¯ï¼Œéœ€è¦ä½¿ç”¨å•å¼•å·å’ŒåŒå¼•å·</p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# VAR8='xuegdo mk'[root@xuegod63 ~]# echo $VAR8xuegdo mk<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¾‹2ï¼šèµ‹å€¼æ—¶å•å¼•å·å’ŒåŒå¼•å·çš„åŒºåˆ«</p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# VAR8='xuegod mk $VAR1'[root@xuegod63 ~]# VAR9="xuegod mk $VAR1"  #åŒå¼•ä¸­$ç¬¦å·æœ‰ä½œç”¨[root@xuegod63 ~]# echo $VAR8xuegod mk $VAR1[root@xuegod63 ~]# echo $VAR9xuegod mk 123<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ³¨ï¼šå•å¼•å·ä¹‹é—´çš„å†…å®¹åŸå°ä¸åŠ¨èµ‹å€¼ç»™å˜é‡ï¼ŒåŒå¼•å·ä¹‹é—´çš„å†…å®¹å¦‚æœ‰ç‰¹æ®Šç¬¦å·ä¼šä¿ç•™å®ƒçš„ç‰¹æ®Šå«ä¹‰</p><p>åˆ é™¤å˜é‡</p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# unset VAR1[root@xuegod63 ~]# echo $VAR1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="19-2-6-ç¯å¢ƒå˜é‡"><a href="#19-2-6-ç¯å¢ƒå˜é‡" class="headerlink" title="19.2.6  ç¯å¢ƒå˜é‡"></a>19.2.6  ç¯å¢ƒå˜é‡</h2><p>åœ¨bash shellä¸­ï¼Œç¯å¢ƒå˜é‡åˆ†ä¸ºä¸¤ç±»ï¼šå…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡</p><p>å…¨å±€å˜é‡ï¼šå¯¹äºshellä¼šè¯å’Œæ‰€æœ‰çš„å­shelléƒ½æ˜¯å¯è§çš„</p><p>å±€éƒ¨å˜é‡ï¼š å®ƒåªåœ¨è‡ªå·±çš„è¿›ç¨‹å½“ä¸­ä½¿ç”¨</p><p>ä¾‹1ï¼šå±€éƒ¨å˜é‡</p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# VAR1=123[root@xuegod63 ~]# echo $VAR1123[root@xuegod63 ~]# vim a.sh#!/bin/bashecho $VAR1[root@xuegod63 ~]# echo $VAR1123[root@xuegod63 ~]# bash a.sh  #æ‰§è¡Œa.sh æ—¶ï¼Œä¼šä½¿ç”¨å¦ä¸€ä¸ªbashå»æ‰§è¡Œï¼Œå°±è®¿é—®ä¸åˆ°$VAR1**çš„å€¼**<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¾‹2ï¼šenvå‘½ä»¤æŸ¥çœ‹æ‰€å…¨å±€å˜é‡</p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# env [root@xuegod63 ~]# env | grep PATHPATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¾‹3ï¼šä½¿ç”¨exportæŠŠè¿™ä¸ªå±€éƒ¨å˜é‡è¾“å‡ºä¸ºå…¨å±€å˜é‡</p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# export  VAR1=xuegod[root@xuegod63 ~]#  echo $VAR1xuegod[root@xuegod63 ~]# vim a.sh  #å†™å…¥ä»¥ä¸‹å†…å®¹#!/bin/bashecho $VAR1[root@xuegod63 ~]# bash a.sh  #å¼•ç”¨å…¨å±€**å˜é‡æˆåŠŸ**xuegod<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>äº’åŠ¨ï¼š è™½ç„¶æˆ‘ä»¬è®¾ç½®äº†exportå…¨å±€å˜é‡ï¼Œä½†æ˜¯æ–°å¼€çš„xshellè¿æ¥ä¸­ï¼Œè¿˜æ˜¯è¯»ä¸åˆ°å˜é‡VAR1ï¼Œæ€ä¹ˆåŠï¼Ÿ</p><p> <img src="/../assets/blog_res/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E5%9F%BA%E7%A1%80.assets/image-20231224105420952.png" alt="image-20231224105420952"></p><p>ä¾‹3ï¼šè®©å˜é‡æ°¸ä¹…ç”Ÿæ•ˆï¼Œå¯ä»¥æŠŠå®šä¹‰å¥½çš„å˜é‡å†™å…¥é…ç½®æ–‡ä»¶</p><p>å½“ç™»å½•ç³»ç»Ÿæˆ–æ–°å¼€å¯ä¸€ä¸ªsshè¿æ¥å¯åŠ¨bashè¿›ç¨‹æ—¶ï¼Œä¸€å®šä¼šåŠ è½½è¿™4ä¸ªé…ç½®æ–‡ä»¶ï¼š</p><p>[root@xuegod63 ~]# vim /etc/profile   #ç³»ç»Ÿå…¨å±€ç¯å¢ƒå’Œç™»å½•ç³»ç»Ÿçš„ä¸€äº›é…ç½®</p><p>[root@xuegod63 ~]# vim /etc/bashrc   #shellå…¨å±€è‡ªä¹‰é…ç½®æ–‡ä»¶ï¼Œç”¨äºè‡ªå®šä¹‰shell</p><p>[root@xuegod63 ~]# vim /root/.bashrc  #ç”¨äºå•ç‹¬è‡ªå®šä¹‰æŸä¸ªç”¨æˆ·çš„bash</p><p>[root@xuegod63 ~]# vim /root/.bash_profile #ç”¨æˆ·å•ç‹¬è‡ªå®šä¹‰æŸä¸ªç”¨æˆ·çš„ç³»ç»Ÿç¯å¢ƒ</p><p>äº’åŠ¨ï¼šå¦‚ä½•çŸ¥é“æ–°å»ºä¸€ä¸ªsshè¿æ¥ï¼ŒåŠ è½½è¿™4ä¸ªé…ç½®æ–‡ä»¶å…ˆåé¡ºåºï¼Ÿ </p><p>æœ‰æ€è·¯ï¼š1ï¼Œæ²¡æœ‰æ€è·¯ï¼š2</p><p>è¦ä¼šæ€è€ƒï¼Œæ€è·¯å¾ˆé‡è¦ï¼</p><p>ç­”ï¼šå¯ä»¥æ¯ä¸ªæ–‡ä»¶çš„æœ€åï¼Œè¿½åŠ ä¸€ä¸ªechoå‘½ä»¤ï¼Œè¾“å‡ºä¸€ä¸‹æ–‡ä»¶çš„åå­—</p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# echo 'echo  /etc/profile ' &gt;&gt; /etc/profile[root@xuegod63 ~]# echo 'echo  /etc/bashrc' &gt;&gt; /etc/bashrc[root@xuegod63 ~]# echo 'echo /root/.bashrc ' &gt;&gt; /root/.bashrc[root@xuegod63 ~]# echo 'echo  /root/.bash_profile ' &gt;&gt; /root/.bash_profile[root@xuegod63 ~]# ssh root@192.168.1.63  #å¼¹å‡ºä»¥ä¸‹ä¿¡æ¯ï¼Œå°±çŸ¥é“æœ‰ä¼˜å…ˆçº§äº†/etc/profile/etc/bashrc/root/.bashrc/root/.bash_profile<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>äº’åŠ¨ï¼šçŸ¥é“åŠ è½½çš„é¡ºåºæœ‰ä»€ä¹ˆç”¨ï¼Ÿ</p><p>å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ æœ¨é©¬ç¨‹åºï¼Œåªè¦ç®¡ç†ç™»å½•ç³»ç»Ÿï¼Œå°±è§¦å‘æœ¨é©¬ç¨‹åºï¼  ç°åœ¨å¤§å®¶çŸ¥é“å­¦ä¹ æ“ä½œç³»ç»ŸåŸç†çš„ä½œç”¨äº†å§ã€‚</p><p>[root@xuegod63 ~]# echo â€˜touch /tmp/profile.txt â€˜ &gt;&gt; /etc/profile </p><p>[root@xuegod63 ~]# echo â€˜touch /tmp/bash_profile.txt â€˜ &gt;&gt; /root/.bash_profile</p><p>ä¸‹é¢å¼€å§‹æ’å…¥æ°¸ä¹…å˜é‡ï¼š</p><p>[root@xuegod63 ~]# vim /etc/profile  #åœ¨æ–‡ä»¶çš„æœ€åæ’å…¥</p><p>export VAR9=xuegod   #=ç­‰å·ä¸¤è¾¹ä¸èƒ½æœ‰ç©ºæ ¼</p><p>[root@xuegod63 ~]# source  /etc/profile  #é‡æ–°åŠ è½½profileæ–‡ä»¶</p><p>æ–°æ‰“å¼€çš„é“¾æ¥ä¸­ï¼Œä¹Ÿæœ‰äº†</p><p> <img src="/../assets/blog_res/shell%E8%84%9A%E6%9C%AC%E7%9A%84%E5%9F%BA%E7%A1%80.assets/image-20231224105605515.png" alt="image-20231224105605515"></p><h2 id="19-2-7-è®¾ç½®PATHç¯å¢ƒå˜é‡"><a href="#19-2-7-è®¾ç½®PATHç¯å¢ƒå˜é‡" class="headerlink" title="19.2.7  è®¾ç½®PATHç¯å¢ƒå˜é‡"></a>19.2.7  è®¾ç½®PATHç¯å¢ƒå˜é‡</h2><p>SHELLè¦æ‰§è¡ŒæŸä¸€ä¸ªç¨‹åºï¼Œå®ƒè¦åœ¨ç³»ç»Ÿä¸­å»æœç´¢è¿™ä¸ªç¨‹åºçš„è·¯å¾„ï¼Œpathå˜é‡æ˜¯ç”¨æ¥å®šä¹‰å‘½ä»¤å’ŒæŸ¥æ‰¾å‘½ä»¤çš„ç›®å½•ï¼Œå½“æˆ‘ä»¬å®‰è£…äº†ç¬¬ä¸‰æ–¹ç¨‹åºåï¼Œå¯ä»¥æŠŠç¬¬ä¸‰æ–¹ç¨‹åºbinç›®å½•æ·»åŠ åˆ°è¿™ä¸ªpathè·¯å¾„å†…ï¼Œå°±å¯ä»¥åœ¨å…¨å±€è°ƒç”¨è¿™ä¸ªç¬¬ä¸‰æ–¹ç¨‹åºçš„</p><p>ä¾‹1ï¼š </p><p>[root@xuegod63 ~]# vim /opt/backup          </p><p>#!/bin/bash</p><p>echo â€œBackup data is OK!â€</p><p>[root@xuegod63 ~]# chmod +x /opt/backup  </p><p>[root@xuegod63 ~]# /opt/backup</p><p>[root@xuegod63 ~]# backup</p><p>bash: backup: æœªæ‰¾åˆ°å‘½ä»¤â€¦</p><p>å°†backupå‘½ä»¤æ·»åŠ PATHä¸­</p><p>[root@xuegod63 ~]# PATH=/opt/:$PATH</p><p>[root@xuegod63 ~]# backup  #å‘ç°å‘½ä»¤å¯ä»¥ç›´æ¥æ‰§è¡Œäº†ï¼Œä¸ç”¨å†™å…¨è·¯å¾„äº†</p><p>[root@xuegod63 ~]# vim /etc/profile # åœ¨æ–‡ä»¶æœ€åè¿½åŠ ä»¥ä¸‹å†…å®¹ï¼Œæ°¸ä¹…ç”Ÿæ•ˆ</p><p>export PATH=/opt/:$PATH</p><p>[root@xuegod63 ~]# source  /etc/profile  #é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶ï¼Œä½¿ç”¨é…ç½®ç”Ÿæ•ˆ</p><h2 id="19-2-8-shellä½ç½®å˜é‡"><a href="#19-2-8-shellä½ç½®å˜é‡" class="headerlink" title="19.2.8  shellä½ç½®å˜é‡"></a>19.2.8  shellä½ç½®å˜é‡</h2><p>Shellè§£é‡Šæ‰§è¡Œç”¨æˆ·çš„å‘½ä»¤æ—¶ï¼Œå°†å‘½ä»¤è¡Œçš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä½œä¸ºå‘½ä»¤åï¼Œè€Œå…¶å®ƒå­—ç¬¦ä½œä¸ºå‚æ•°ã€‚  </p><p>$0  è·å–å½“å‰æ‰§è¡Œshellè„šæœ¬çš„æ–‡ä»¶æ–‡ä»¶åï¼ŒåŒ…æ‹¬è„šæœ¬è·¯å¾„,å‘½ä»¤æœ¬èº«</p><p>$n  è·å–å½“å‰è„šæœ¬çš„ç¬¬nä¸ªå‚æ•° n=1,2â€¦..n å½“nå¤§äº9æ—¶ ç”¨${10}è¡¨ç¤ºã€‚</p><p>ä¾‹å­ï¼š</p><p>[root@xuegod63 ~]# vim print.sh </p><p>#!/bin/bash</p><p>echo â€œæœ¬shellè„šæœ¬çš„æ–‡ä»¶åï¼š $0â€</p><p>echo â€œç¬¬1ä¸ªå‚æ•°ï¼š  $1â€</p><p>echo â€œç¬¬2ä¸ªå‚æ•°ï¼š  $2â€</p><p>echo â€œç¬¬3ä¸ªå‚æ•°ï¼š  $3â€</p><p>echo â€œç¬¬4ä¸ªå‚æ•°ï¼š  $4â€</p><p>[root@xuegod63 ~]# chmod +x print.sh</p><p>[root@xuegod63 ~]# ./print.sh 111  222 a.txt  444</p><p>æœ¬shellè„šæœ¬çš„æ–‡ä»¶åï¼š ./print.sh</p><p>ç¬¬1ä¸ªå‚æ•°ï¼š  111</p><p>ç¬¬2ä¸ªå‚æ•°ï¼š  222</p><p>ç¬¬3ä¸ªå‚æ•°ï¼š  a.txt</p><p>ç¬¬4ä¸ªå‚æ•°ï¼š  444</p><p>ä½¿ç”¨åœºæ™¯ï¼šæœåŠ¡å™¨å¯åŠ¨ä¼ å‚æ•°</p><p>[root@xuegod63 ~]# /etc/init.d/network restart</p><h2 id="19-2-9-ç‰¹æ®Šå˜é‡"><a href="#19-2-9-ç‰¹æ®Šå˜é‡" class="headerlink" title="19.2.9  ç‰¹æ®Šå˜é‡"></a>19.2.9  ç‰¹æ®Šå˜é‡</h2><p>æœ‰äº›å˜é‡æ˜¯ä¸€å¼€å§‹æ‰§è¡ŒScriptè„šæœ¬æ—¶å°±ä¼šè®¾å®šï¼Œä¸”ä¸èƒ½è¢«ä¿®æ”¹ï¼Œä½†æˆ‘ä»¬ä¸å«å®ƒåªè¯»çš„ç³»ç»Ÿå˜é‡ï¼Œè€Œå«å®ƒç‰¹æ®Šå˜é‡ã€‚è¿™äº›å˜é‡å½“ä¸€æ‰§è¡Œç¨‹åºæ—¶å°±æœ‰äº†ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›ç‰¹æ®Šå˜é‡ï¼š</p><table><thead><tr><th>$*</th><th>ä»¥ä¸€ä¸ªå•å­—ç¬¦ä¸²æ˜¾ç¤ºæ‰€æœ‰å‘è„šæœ¬ä¼ é€’çš„å‚æ•°ï¼›å¦‚â€$*â€ç”¨ã€â€ã€‘æ‹¬èµ·æ¥çš„æƒ…å†µã€ä»¥â€$1 $2 â€¦ $nâ€çš„å½¢å¼è¾“å‡ºæ‰€æœ‰å‚æ•°</th></tr></thead><tbody><tr><td>$#</td><td>ä¼ é€’åˆ°è„šæœ¬çš„å‚æ•°ä¸ªæ•°</td></tr><tr><td>$$</td><td>å½“å‰è¿›ç¨‹çš„è¿›ç¨‹å·PID</td></tr><tr><td>$?</td><td>æ˜¾ç¤ºæœ€åå‘½ä»¤çš„é€€å‡ºçŠ¶æ€ï¼›0è¡¨ç¤ºæ²¡æœ‰é”™è¯¯ï¼Œå…¶ä»–ä»»ä½•å€¼è¡¨æ˜æœ‰é”™è¯¯</td></tr><tr><td>$!</td><td>åå°è¿è¡Œçš„æœ€åä¸€ä¸ªè¿›ç¨‹çš„è¿›ç¨‹å·pid</td></tr></tbody></table><p>ä¾‹å­ï¼š</p><p>[root@xuegod63 ~]# vim special_variable.sh #å†™å…¥ä»¥ä¸€ä¸‹å†…å®¹</p><p>#!/bin/bash</p><p>echo â€œ$* è¡¨ç¤ºè¿™ä¸ªç¨‹åºçš„æ‰€æœ‰å‚æ•° â€œ</p><p>echo â€œ$#  è¡¨ç¤ºè¿™ä¸ªç¨‹åºçš„å‚æ•°ä¸ªæ•°â€</p><p>echo â€œ$$  è¡¨ç¤ºç¨‹åºçš„è¿›ç¨‹ID â€œ</p><p>touch /tmp/b.txt &amp;</p><p>echo â€œ$!  æ‰§è¡Œä¸Šä¸€ä¸ªåå°æŒ‡ä»¤çš„PIDâ€</p><p>echo â€œ$$  è¡¨ç¤ºç¨‹åºçš„è¿›ç¨‹ID â€œ</p><p>echo â€œ$? è¡¨ç¤ºä¸Šä¸€ä¸ªç¨‹åºæ‰§è¡Œè¿”å›ç»“æœ â€œ</p><p>[root@xuegod63 ~]# bash special_variable.sh  11 22 33 44 55</p><p>11 22 33 44 55 è¡¨ç¤ºè¿™ä¸ªç¨‹åºçš„æ‰€æœ‰å‚æ•° </p><p>11 22 33 44 55 è¡¨ç¤ºè¿™ä¸ªç¨‹åºçš„æ‰€æœ‰å‚æ•° </p><p>5  è¡¨ç¤ºè¿™ä¸ªç¨‹åºçš„å‚æ•°ä¸ªæ•°</p><p>45502  è¡¨ç¨‹åºçš„è¿›ç¨‹ID </p><p>45504  æ‰§è¡Œä¸Šä¸€ä¸ªåå°æŒ‡ä»¤çš„PID</p><p>45502  è¡¨ç¨‹åºçš„è¿›ç¨‹ID</p><p>0 è¡¨ç¤ºä¸Šä¸€ä¸ªç¨‹åºæ‰§è¡Œè¿”å›ç»“æœ</p><p>ä¾‹2ï¼šå¸¸ç”¨çš„ç¯å¢ƒå˜é‡</p><p>[root@xuegod63 opt]# cd /opt/</p><p>[root@xuegod63 opt]# vim env.sh</p><p>#!/bin/bash</p><p>echo $HOME</p><p>echo $PATH</p><p>echo $PWD</p><p>[root@xuegod63 opt]# bash env.sh </p><p>/root</p><p>/opt/:/opt/:/usr/local/bin:/usr/local/sbin:/usr/bin:/usr/sbin:/bin:/sbin:/root/bin</p><p>/opt</p><h1 id="19-3-æ•°å­¦è¿ç®—"><a href="#19-3-æ•°å­¦è¿ç®—" class="headerlink" title="19.3  æ•°å­¦è¿ç®—"></a>19.3  æ•°å­¦è¿ç®—</h1><h2 id="19-3-1-exprå‘½ä»¤"><a href="#19-3-1-exprå‘½ä»¤" class="headerlink" title="19.3.1  exprå‘½ä»¤"></a>19.3.1  exprå‘½ä»¤</h2><p>(1)å¯¹æ•°å­—çš„åŸºæœ¬è®¡ç®—ï¼Œåšæ¯”è¾ƒæ—¶ï¼Œè¾“å‡ºç»“æœå‡ä¸º0ï¼Œ1ä¸ºçœŸï¼›ç‰¹æ®Šç¬¦å·ç”¨è½¬ä¹‰ç¬¦</p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# expr 2 \&gt; 50[root@xuegod63 ~]# expr 6 \&gt; 51*[root@xuegod63 ~]# expr 3 * 5*expr: è¯­æ³•é”™è¯¯*[root@xuegod63 ~]# expr 3 \* 515[root@xuegod63 ~]# expr 3 \+ 58 <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>(2)å¯¹å­—ç¬¦ä¸²çš„å¤„ç†</p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 ~]# expr length "ni hao"6[root@xuegod63 ~]# expr substr "ni hao" 2 4 #ä»ç¬¬2ä¸ªå¼€å§‹ï¼Œæˆªå–4ä¸ªå­—ç¬¦å‡ºæ¥i ha <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="19-3-2-ä½¿ç”¨"><a href="#19-3-2-ä½¿ç”¨" class="headerlink" title="19.3.2  ä½¿ç”¨$(( ))"></a>19.3.2  ä½¿ç”¨$(( ))</h2><p>æ ¼å¼ï¼š$ï¼ˆï¼ˆè¡¨è¾¾å¼1ï¼Œè¡¨è¾¾2ï¼‰ï¼‰</p><p>ç‰¹ç‚¹ï¼š</p><p>â€‹1ã€åœ¨åŒæ‹¬å·ç»“æ„ä¸­ï¼Œæ‰€æœ‰è¡¨è¾¾å¼å¯ä»¥åƒcè¯­è¨€ä¸€æ ·ï¼Œå¦‚ï¼ša++,bâ€“ç­‰ã€‚a++  ç­‰ä»·äº a=a+1 </p><p>â€‹2ã€åœ¨åŒæ‹¬å·ç»“æ„ä¸­ï¼Œæ‰€æœ‰å˜é‡å¯ä»¥ä¸åŠ å…¥ï¼šâ€œ$â€ç¬¦å·å‰ç¼€ã€‚</p><p>â€‹3ã€åŒæ‹¬å·å¯ä»¥è¿›è¡Œé€»è¾‘è¿ç®—ï¼Œå››åˆ™è¿ç®—</p><p>â€‹4ã€åŒæ‹¬å·ç»“æ„ æ‰©å±•äº†forï¼Œwhile,ifæ¡ä»¶æµ‹è¯•è¿ç®—</p><p>â€‹5ã€æ”¯æŒå¤šä¸ªè¡¨è¾¾å¼è¿ç®—ï¼Œå„ä¸ªè¡¨è¾¾å¼ä¹‹é—´ç”¨â€œï¼Œâ€åˆ†å¼€</p><p>å¸¸ç”¨çš„ç®—æ•°è¿ç®—ç¬¦</p><table><thead><tr><th>è¿ç®—ç¬¦</th><th>æ„ä¹‰</th></tr></thead><tbody><tr><td>++  â€“</td><td>é€’å¢åŠé€’å‡ï¼Œå¯å‰ç½®ä¹Ÿå¯ä»¥åç½®</td></tr><tr><td>+  -  ! ~</td><td>ä¸€å…ƒè¿ç®—çš„æ­£è´Ÿå· é€»è¾‘ä¸å–å</td></tr><tr><td><em>+  -  *  /  %</em></td><td>åŠ å‡ä¹˜é™¤ä¸ä½™æ•°</td></tr><tr><td>&lt;  &lt;=  &gt;  &gt;=</td><td>æ¯”è¾ƒå¤§å°ç¬¦å·</td></tr><tr><td>==  !=</td><td>ç›¸ç­‰ ä¸ç›¸ç­‰</td></tr><tr><td>&gt;&gt;  &lt;&lt;</td><td>å‘å·¦ä½ç§» å‘å³ä½ç§»</td></tr><tr><td>&amp; ^  |</td><td>ä½çš„ä¸ ä½çš„å¼‚æˆ– ä½çš„æˆ–</td></tr><tr><td>&amp;&amp;  ||</td><td>é€»è¾‘ä¸ é€»è¾‘æˆ–</td></tr><tr><td>ï¼Ÿ :</td><td>æ¡ä»¶åˆ¤æ–­</td></tr></tbody></table><p>ä¾‹1ï¼š</p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 opt]# b=$((1+2))[root@xuegod63 opt]# echo $b3[root@xuegod63 opt]# echo $((2*3))6<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¾‹2ï¼šé€’å¢å’Œé€’å‡</p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 opt]# echo $((b++))4[root@xuegod63 opt]# echo $((++b))6<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¯´æ˜ï¼š a++æˆ–aâ€“ä¸ºå…ˆèµ‹å€¼å†+1æˆ–å‡1 ï¼›</p><p> ++aæˆ–â€“aä¸ºå…ˆåŠ 1æˆ–å‡1ï¼Œç„¶åå†è¿›è¡Œèµ‹å€¼</p><p>ä¾‹3ï¼šæ±‚1åˆ°100çš„å’Œ</p><pre class="line-numbers language-none"><code class="language-none">[root@xuegod63 opt]# echo $((100*(1+100)/2))5050<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h1 id="19-4-å®æˆ˜-å‡çº§ç³»ç»Ÿä¸­çš„javaç‰ˆæœ¬åˆ°1-8ç‰ˆæœ¬-ä¸ºåæœŸå®‰è£…Hadoopé›†ç¾¤åšå‡†å¤‡"><a href="#19-4-å®æˆ˜-å‡çº§ç³»ç»Ÿä¸­çš„javaç‰ˆæœ¬åˆ°1-8ç‰ˆæœ¬-ä¸ºåæœŸå®‰è£…Hadoopé›†ç¾¤åšå‡†å¤‡" class="headerlink" title="19.4  å®æˆ˜-å‡çº§ç³»ç»Ÿä¸­çš„javaç‰ˆæœ¬åˆ°1.8ç‰ˆæœ¬-ä¸ºåæœŸå®‰è£…Hadoopé›†ç¾¤åšå‡†å¤‡"></a>19.4  å®æˆ˜-å‡çº§ç³»ç»Ÿä¸­çš„javaç‰ˆæœ¬åˆ°1.8ç‰ˆæœ¬-ä¸ºåæœŸå®‰è£…Hadoopé›†ç¾¤åšå‡†å¤‡</h1><h2 id="19-4-1-å®‰è£…jdk-javaè¿è¡Œç¯å¢ƒ"><a href="#19-4-1-å®‰è£…jdk-javaè¿è¡Œç¯å¢ƒ" class="headerlink" title="19.4.1  å®‰è£…jdk javaè¿è¡Œç¯å¢ƒ"></a>19.4.1  å®‰è£…jdk javaè¿è¡Œç¯å¢ƒ</h2><p>ä¸Šä¼ jdk-8u161-linux-x64.rpmè½¯ä»¶åŒ…åˆ°xuegod63</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">[root@xuegod63 ~]# rpm -ivh jdk-8u161-linux-x64.rpm[root@xuegod63 ~]#rpm -pql /root/jdk-8u161-linux-x64.rpm  #é€šè¿‡æŸ¥çœ‹jdkçš„ä¿¡æ¯å¯ä»¥çŸ¥é“jdkçš„å®‰è£…ç›®å½•åœ¨/usr/java  [root@xuegod63 ~]#vim /etc/profile  #åœ¨æ–‡ä»¶çš„æœ€åæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼šexport JAVA_HOME=/usr/java/jdk1.8.0_161export JAVA_BIN=/usr/java/jdk1.8.0_161/binexport PATH=${JAVA_HOME}/bin:$PATHexport CLASSPATH=.:${JAVA_HOME}/lib/dt.jar:${JAVA_HOME}/lib/tools.jar [root@xuegod63 ~]#source /etc/profile #ä½¿é…ç½®æ–‡ä»¶ç”Ÿæ•ˆ éªŒè¯javaè¿è¡Œç¯å¢ƒæ˜¯å¦å®‰è£…æˆåŠŸï¼š[root@xuegod63 ~]#  java -versionjava version "1.8.0_161"Java(TM) SE Runtime Environment (build 1.8.0_161-b12)Java HotSpot(TM) 64-Bit Server VM (build 25.161-b12, mixed mode)å¦‚æœå‡ºç°å®‰è£…çš„å¯¹åº”ç‰ˆæœ¬ï¼Œè¯´æ˜javaè¿è¡Œç¯å¢ƒå·²ç»å®‰è£…æˆåŠŸã€‚æ³¨ï¼šè¿™é‡Œåªæ˜¯å‡çº§äº†jdkçš„ç‰ˆæœ¬ï¼Œå› ä¸ºåœ¨æˆ‘å®‰è£…çš„ç³»ç»Ÿä¸­å·²ç»å®‰è£…äº†jdkã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ€»ç»“ï¼š</p><p>19.1  shell åŸºæœ¬è¯­æ³•</p><p>19.2  SHELLå˜é‡åŠè¿ç”¨</p><p>19.3  æ•°å­¦è¿ç®—</p><p>19.4  å®æˆ˜-å‡çº§ç³»ç»Ÿä¸­çš„javaç‰ˆæœ¬åˆ°1.8ç‰ˆæœ¬-ä¸ºåæœŸå®‰è£…Hadoopé›†ç¾¤åšå‡†å¤‡</p>]]></content>
      
      
      <categories>
          
          <category> shell </category>
          
      </categories>
      
      
        <tags>
            
            <tag> shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SHELLç¼–ç¨‹å‰å¥_å°å·¥å…·</title>
      <link href="/2023/12/23/shell-bian-cheng-qian-zou-xiao-gong-ju/"/>
      <url>/2023/12/23/shell-bian-cheng-qian-zou-xiao-gong-ju/</url>
      
        <content type="html"><![CDATA[<h1 id="æœ¬èŠ‚è¯¾ç¨‹ç›®æ ‡"><a href="#æœ¬èŠ‚è¯¾ç¨‹ç›®æ ‡" class="headerlink" title="æœ¬èŠ‚è¯¾ç¨‹ç›®æ ‡"></a>æœ¬èŠ‚è¯¾ç¨‹ç›®æ ‡</h1><ul><li>äº†è§£shellä¸­çš„é€šé…ç¬¦</li><li>ç†Ÿæ‚‰grepã€cutã€sortç­‰å°å·¥å…·å’Œshellä¸­çš„é€šé…ç¬¦çš„ä½¿ç”¨</li></ul><h1 id="ä¸€ã€æ–‡æœ¬å¤„ç†å·¥å…·"><a href="#ä¸€ã€æ–‡æœ¬å¤„ç†å·¥å…·" class="headerlink" title="ä¸€ã€æ–‡æœ¬å¤„ç†å·¥å…·"></a>ä¸€ã€æ–‡æœ¬å¤„ç†å·¥å…·</h1><h2 id="1-grepå·¥å…·"><a href="#1-grepå·¥å…·" class="headerlink" title="1.grepå·¥å…·"></a>1.grepå·¥å…·</h2><blockquote><p>grepæ˜¯**==è¡Œ==**è¿‡æ»¤å·¥å…·ï¼›ç”¨äºæ ¹æ®å…³é”®å­—è¿›è¡Œè¡Œè¿‡æ»¤</p></blockquote><h3 id="è¯­æ³•å’Œé€‰é¡¹"><a href="#è¯­æ³•å’Œé€‰é¡¹" class="headerlink" title="è¯­æ³•å’Œé€‰é¡¹"></a>è¯­æ³•å’Œé€‰é¡¹</h3><p><strong>è¯­æ³•ï¼š</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># grep [é€‰é¡¹] 'å…³é”®å­—' æ–‡ä»¶å<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>å¸¸è§é€‰é¡¹ï¼š</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">OPTIONS:    -i: ä¸åŒºåˆ†å¤§å°å†™    -v: æŸ¥æ‰¾ä¸åŒ…å«æŒ‡å®šå†…å®¹çš„è¡Œ,åå‘é€‰æ‹©    -w: æŒ‰å•è¯æœç´¢    -o: æ‰“å°åŒ¹é…å…³é”®å­—    -c: ç»Ÿè®¡åŒ¹é…åˆ°çš„è¡Œæ•°    -n: æ˜¾ç¤ºè¡Œå·    -r: é€å±‚éå†ç›®å½•æŸ¥æ‰¾    -A: æ˜¾ç¤ºåŒ¹é…è¡ŒåŠåé¢å¤šå°‘è¡Œ    -B: æ˜¾ç¤ºåŒ¹é…è¡ŒåŠå‰é¢å¤šå°‘è¡Œ    -C: æ˜¾ç¤ºåŒ¹é…è¡Œå‰åå¤šå°‘è¡Œ    -lï¼šåªåˆ—å‡ºåŒ¹é…çš„æ–‡ä»¶å    -Lï¼šåˆ—å‡ºä¸åŒ¹é…çš„æ–‡ä»¶å    -e: ä½¿ç”¨æ­£åˆ™åŒ¹é…    -E:ä½¿ç”¨æ‰©å±•æ­£åˆ™åŒ¹é…    ^key:ä»¥å…³é”®å­—å¼€å¤´    key$:ä»¥å…³é”®å­—ç»“å°¾    ^$:åŒ¹é…ç©ºè¡Œ    --color=auto ï¼šå¯ä»¥å°†æ‰¾åˆ°çš„å…³é”®è¯éƒ¨åˆ†åŠ ä¸Šé¢œè‰²çš„æ˜¾ç¤º<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>é¢œè‰²æ˜¾ç¤ºï¼ˆåˆ«åè®¾ç½®ï¼‰ï¼š</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">ä¸´æ—¶è®¾ç½®ï¼š# alias grep='grep --color=auto'//åªé’ˆå¯¹å½“å‰ç»ˆç«¯å’Œå½“å‰ç”¨æˆ·ç”Ÿæ•ˆæ°¸ä¹…è®¾ç½®ï¼š1ï¼‰å…¨å±€ï¼ˆé’ˆå¯¹æ‰€æœ‰ç”¨æˆ·ç”Ÿæ•ˆï¼‰vim /etc/bashrcalias grep='grep --color=auto'source /etc/bashrc2ï¼‰å±€éƒ¨ï¼ˆé’ˆå¯¹å…·ä½“çš„æŸä¸ªç”¨æˆ·ï¼‰vim ~/.bashrcalias grep='grep --color=auto'source ~/.bashrc<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>ä¸¾ä¾‹è¯´æ˜ï¼š</strong></p><p>==è¯´æ˜ï¼šä¸è¦ç›´æ¥ä½¿ç”¨/etc/passwdæ–‡ä»¶ï¼Œå°†å…¶æ‹·è´åˆ°/tmpä¸‹åšå®éªŒï¼==</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># grep -i root passwdå¿½ç•¥å¤§å°å†™åŒ¹é…åŒ…å«rootçš„è¡Œ# grep -w ftp passwd ç²¾ç¡®åŒ¹é…ftpå•è¯# grep -w hello passwd ç²¾ç¡®åŒ¹é…helloå•è¯;è‡ªå·±æ·»åŠ åŒ…å«helloçš„è¡Œåˆ°æ–‡ä»¶# grep -wo ftp passwd æ‰“å°åŒ¹é…åˆ°çš„å…³é”®å­—ftp# grep -n root passwd æ‰“å°åŒ¹é…åˆ°rootå…³é”®å­—çš„è¡Œå¥½# grep -ni root passwd å¿½ç•¥å¤§å°å†™åŒ¹é…ç»Ÿè®¡åŒ…å«å…³é”®å­—rootçš„è¡Œ# grep -nic root passwdå¿½ç•¥å¤§å°å†™åŒ¹é…ç»Ÿè®¡åŒ…å«å…³é”®å­—rootçš„è¡Œæ•°# grep -i ^root passwd å¿½ç•¥å¤§å°å†™åŒ¹é…ä»¥rootå¼€å¤´çš„è¡Œ# grep bash$ passwd åŒ¹é…ä»¥bashç»“å°¾çš„è¡Œ# grep -n ^$ passwd åŒ¹é…ç©ºè¡Œå¹¶æ‰“å°è¡Œå·# grep ^# /etc/vsftpd/vsftpd.confåŒ¹é…ä»¥#å·å¼€å¤´çš„è¡Œ# grep -v ^# /etc/vsftpd/vsftpd.confåŒ¹é…ä¸ä»¥#å·å¼€å¤´çš„è¡Œ# grep -A 5 mail passwd  åŒ¹é…åŒ…å«mailå…³é”®å­—åŠå…¶å5è¡Œ# grep -B 5 mail passwd  åŒ¹é…åŒ…å«mailå…³é”®å­—åŠå…¶å‰5è¡Œ# grep -C 5 mail passwd åŒ¹é…åŒ…å«mailå…³é”®å­—åŠå…¶å‰å5è¡Œ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-cutå·¥å…·"><a href="#2-cutå·¥å…·" class="headerlink" title="2. cutå·¥å…·"></a>2. cutå·¥å…·</h2><blockquote><p>cutæ˜¯==åˆ—==æˆªå–å·¥å…·ï¼Œç”¨äºåˆ—çš„æˆªå–</p></blockquote><h3 id="è¯­æ³•å’Œé€‰é¡¹-1"><a href="#è¯­æ³•å’Œé€‰é¡¹-1" class="headerlink" title="è¯­æ³•å’Œé€‰é¡¹"></a>è¯­æ³•å’Œé€‰é¡¹</h3><p><strong>è¯­æ³•ï¼š</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cut é€‰é¡¹  æ–‡ä»¶å<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>å¸¸è§é€‰é¡¹ï¼š</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">-c:ä»¥å­—ç¬¦ä¸ºå•ä½è¿›è¡Œåˆ†å‰²,æˆªå–-d:è‡ªå®šä¹‰åˆ†éš”ç¬¦ï¼Œé»˜è®¤ä¸ºåˆ¶è¡¨ç¬¦\t-f:ä¸-dä¸€èµ·ä½¿ç”¨ï¼ŒæŒ‡å®šæˆªå–å“ªä¸ªåŒºåŸŸ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><strong>ä¸¾ä¾‹è¯´æ˜:</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cut -d: -f1 1.txt ä»¥:å†’å·åˆ†å‰²ï¼Œæˆªå–ç¬¬1åˆ—å†…å®¹# cut -d: -f1,6,7 1.txt ä»¥:å†’å·åˆ†å‰²ï¼Œæˆªå–ç¬¬1,6,7åˆ—å†…å®¹# cut -c4 1.txt æˆªå–æ–‡ä»¶ä¸­æ¯è¡Œç¬¬4ä¸ªå­—ç¬¦# cut -c1-4 1.txt æˆªå–æ–‡ä»¶ä¸­æ¯è¡Œçš„1-4ä¸ªå­—ç¬¦# cut -c4-10 1.txt æˆªå–æ–‡ä»¶ä¸­æ¯è¡Œçš„4-10ä¸ªå­—ç¬¦# cut -c5- 1.txt ä»ç¬¬5ä¸ªå­—ç¬¦å¼€å§‹æˆªå–åé¢æ‰€æœ‰å­—ç¬¦<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è¯¾å ‚ç»ƒä¹ ï¼š</strong><br>ç”¨å°å·¥å…·åˆ—å‡ºä½ å½“ç³»ç»Ÿçš„è¿è¡Œçº§åˆ«ã€‚5/3</p><ol><li>å¦‚ä½•æŸ¥çœ‹ç³»ç»Ÿè¿è¡Œçº§åˆ«<ul><li>å‘½ä»¤<code>runlevel</code></li><li>æ–‡ä»¶<code>/etc/inittab</code></li></ul></li><li>å¦‚ä½•è¿‡æ»¤è¿è¡Œçº§åˆ«</li></ol><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">runlevel |cut -c3runlevel | cut -d ' ' -f2grep -v '^#' /etc/inittab | cut -d: -f2grep '^id' /etc/inittab |cut -d: -f2grep "initdefault:$" /etc/inittab | cut -c4grep -v ^# /etc/inittab |cut -c4grep 'id:' /etc/inittab |cut -d: -f2cut -d':' -f2 /etc/inittab |grep -v ^#cut -c4 /etc/inittab |tail -1cut -d: -f2 /etc/inittab |tail -1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="3-sortå·¥å…·"><a href="#3-sortå·¥å…·" class="headerlink" title="3. sortå·¥å…·"></a>3. sortå·¥å…·</h2><blockquote><p>sortå·¥å…·ç”¨äºæ’åº;å®ƒå°†æ–‡ä»¶çš„æ¯ä¸€è¡Œä½œä¸ºä¸€ä¸ªå•ä½ï¼Œä»é¦–å­—ç¬¦å‘åï¼Œä¾æ¬¡æŒ‰ASCIIç å€¼è¿›è¡Œæ¯”è¾ƒï¼Œæœ€åå°†ä»–ä»¬æŒ‰å‡åºè¾“å‡ºã€‚</p></blockquote><h4 id="è¯­æ³•å’Œé€‰é¡¹-2"><a href="#è¯­æ³•å’Œé€‰é¡¹-2" class="headerlink" title="è¯­æ³•å’Œé€‰é¡¹"></a>è¯­æ³•å’Œé€‰é¡¹</h4><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">-u ï¼šå»é™¤é‡å¤è¡Œ-r ï¼šé™åºæ’åˆ—ï¼Œé»˜è®¤æ˜¯å‡åº-o : å°†æ’åºç»“æœè¾“å‡ºåˆ°æ–‡ä»¶ä¸­,ç±»ä¼¼é‡å®šå‘ç¬¦å·&gt;-n ï¼šä»¥æ•°å­—æ’åºï¼Œé»˜è®¤æ˜¯æŒ‰å­—ç¬¦æ’åº-t ï¼šåˆ†éš”ç¬¦-k ï¼šç¬¬Nåˆ—-b ï¼šå¿½ç•¥å‰å¯¼ç©ºæ ¼ã€‚-R ï¼šéšæœºæ’åºï¼Œæ¯æ¬¡è¿è¡Œçš„ç»“æœå‡ä¸åŒ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>ä¸¾ä¾‹è¯´æ˜</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># sort -n -t: -k3 1.txt æŒ‰ç…§ç”¨æˆ·çš„uidè¿›è¡Œå‡åºæ’åˆ—# sort -nr -t: -k3 1.txt æŒ‰ç…§ç”¨æˆ·çš„uidè¿›è¡Œé™åºæ’åˆ—# sort -n 2.txt æŒ‰ç…§æ•°å­—æ’åº# sort -nu 2.txt æŒ‰ç…§æ•°å­—æ’åºå¹¶ä¸”å»é‡# sort -nr 2.txt # sort -nru 2.txt # sort -nru 2.txt # sort -n 2.txt -o 3.txt æŒ‰ç…§æ•°å­—æ’åºå¹¶å°†ç»“æœé‡å®šå‘åˆ°æ–‡ä»¶# sort -R 2.txt # sort -u 2.txt <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="4-uniqå·¥å…·"><a href="#4-uniqå·¥å…·" class="headerlink" title="4.uniqå·¥å…·"></a>4.uniqå·¥å…·</h2><blockquote><p>uniqç”¨äºå»é™¤**==è¿ç»­==<strong>çš„</strong>==é‡å¤==**è¡Œ</p></blockquote><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">å¸¸è§é€‰é¡¹ï¼š-i: å¿½ç•¥å¤§å°å†™-c: ç»Ÿè®¡é‡å¤è¡Œæ¬¡æ•°-d:åªæ˜¾ç¤ºé‡å¤è¡Œä¸¾ä¾‹è¯´æ˜ï¼š# uniq 2.txt # uniq -d 2.txt # uniq -dc 2.txt <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="5-teeå·¥å…·"><a href="#5-teeå·¥å…·" class="headerlink" title="5.teeå·¥å…·"></a>5.teeå·¥å…·</h2><blockquote><p>teeå·¥å…·æ˜¯ä»æ ‡å‡†è¾“å…¥è¯»å–å¹¶å†™å…¥åˆ°æ ‡å‡†è¾“å‡ºå’Œæ–‡ä»¶ï¼Œå³ï¼šåŒå‘è¦†ç›–é‡å®šå‘ï¼ˆå±å¹•è¾“å‡º|æ–‡æœ¬è¾“å…¥ï¼‰</p></blockquote><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">é€‰é¡¹ï¼š-a åŒå‘è¿½åŠ é‡å®šå‘# echo hello world# echo hello world|tee file1# cat file1 # echo 999|tee -a file1# cat file1 <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="6-diffå·¥å…·"><a href="#6-diffå·¥å…·" class="headerlink" title="6.diffå·¥å…·"></a>6.diffå·¥å…·</h2><blockquote><p>diffå·¥å…·ç”¨äºé€è¡Œæ¯”è¾ƒæ–‡ä»¶çš„ä¸åŒ</p></blockquote><p>æ³¨æ„ï¼šdiffæè¿°ä¸¤ä¸ªæ–‡ä»¶ä¸åŒçš„æ–¹å¼æ˜¯å‘Šè¯‰æˆ‘ä»¬==æ€æ ·æ”¹å˜ç¬¬ä¸€ä¸ª==æ–‡ä»¶ä¹‹å==ä¸ç¬¬äºŒä¸ªæ–‡ä»¶åŒ¹é…==ã€‚</p><h3 id="è¯­æ³•å’Œé€‰é¡¹-3"><a href="#è¯­æ³•å’Œé€‰é¡¹-3" class="headerlink" title="è¯­æ³•å’Œé€‰é¡¹"></a>è¯­æ³•å’Œé€‰é¡¹</h3><p><strong>è¯­æ³•ï¼š</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">diff [é€‰é¡¹] æ–‡ä»¶1 æ–‡ä»¶2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>å¸¸ç”¨é€‰é¡¹ï¼š</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>å«ä¹‰</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>-b</td><td>ä¸æ£€æŸ¥ç©ºæ ¼</td><td></td></tr><tr><td>-B</td><td>ä¸æ£€æŸ¥ç©ºç™½è¡Œ</td><td></td></tr><tr><td>-i</td><td>ä¸æ£€æŸ¥å¤§å°å†™</td><td></td></tr><tr><td>-w</td><td>å¿½ç•¥æ‰€æœ‰çš„ç©ºæ ¼</td><td></td></tr><tr><td>â€“normal</td><td>æ­£å¸¸æ ¼å¼æ˜¾ç¤º(é»˜è®¤)</td><td></td></tr><tr><td>-c</td><td>ä¸Šä¸‹æ–‡æ ¼å¼æ˜¾ç¤º</td><td></td></tr><tr><td>-u</td><td>åˆå¹¶æ ¼å¼æ˜¾ç¤º</td><td></td></tr></tbody></table><p><strong>ä¸¾ä¾‹è¯´æ˜ï¼š</strong></p><ul><li>æ¯”è¾ƒä¸¤ä¸ª==æ™®é€šæ–‡ä»¶==å¼‚åŒï¼Œæ–‡ä»¶å‡†å¤‡ï¼š</li></ul><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">[root@MissHou ~]# cat file1aaaa111hello world222333bbb[root@MissHou ~]#[root@MissHou ~]# cat file2aaahello111222bbb333world<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>1ï¼‰æ­£å¸¸æ˜¾ç¤º</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">diffç›®çš„ï¼šfile1å¦‚ä½•æ”¹å˜æ‰èƒ½å’Œfile2åŒ¹é…[root@MissHou ~]# diff file1 file21c1,2ç¬¬ä¸€ä¸ªæ–‡ä»¶çš„ç¬¬1è¡Œéœ€è¦æ”¹å˜(c=change)æ‰èƒ½å’Œç¬¬äºŒä¸ªæ–‡ä»¶çš„ç¬¬1åˆ°2è¡ŒåŒ¹é…&lt; aaaaå°äºå·"&lt;"è¡¨ç¤ºå·¦è¾¹æ–‡ä»¶(file1)æ–‡ä»¶å†…å®¹------è¡¨ç¤ºåˆ†éš”ç¬¦&gt; aaaå¤§äºå·"&gt;"è¡¨ç¤ºå³è¾¹æ–‡ä»¶(file2)æ–‡ä»¶å†…å®¹&gt; hello3d3ç¬¬ä¸€ä¸ªæ–‡ä»¶çš„ç¬¬3è¡Œåˆ é™¤(d=delete)åæ‰èƒ½å’Œç¬¬äºŒä¸ªæ–‡ä»¶çš„ç¬¬3è¡ŒåŒ¹é…&lt; hello world5d4ç¬¬ä¸€ä¸ªæ–‡ä»¶çš„ç¬¬5è¡Œåˆ é™¤åæ‰èƒ½å’Œç¬¬äºŒä¸ªæ–‡ä»¶çš„ç¬¬4è¡ŒåŒ¹é…&lt; 3336a6,7ç¬¬ä¸€ä¸ªæ–‡ä»¶çš„ç¬¬6è¡Œå¢åŠ (a=add)å†…å®¹åæ‰èƒ½å’Œç¬¬äºŒä¸ªæ–‡ä»¶çš„ç¬¬6åˆ°7è¡ŒåŒ¹é…&gt; 333éœ€è¦å¢åŠ çš„å†…å®¹åœ¨ç¬¬äºŒä¸ªæ–‡ä»¶é‡Œæ˜¯333å’Œworld&gt; world<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>2ï¼‰ä¸Šä¸‹æ–‡æ ¼å¼æ˜¾ç¤º</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">[root@MissHou ~]# diff -c file1 file2å‰ä¸¤è¡Œä¸»è¦åˆ—å‡ºéœ€è¦æ¯”è¾ƒçš„æ–‡ä»¶åå’Œæ–‡ä»¶çš„æ—¶é—´æˆ³ï¼›æ–‡ä»¶åå‰é¢çš„ç¬¦å·***è¡¨ç¤ºfile1ï¼Œ---è¡¨ç¤ºfile2*** file1       2019-04-16 16:26:05.748650262 +0800--- file2       2019-04-16 16:26:30.470646030 +0800***************æˆ‘æ˜¯åˆ†éš”ç¬¦*** 1,6 ****ä»¥***å¼€å¤´è¡¨ç¤ºfile1æ–‡ä»¶ï¼Œ1,6è¡¨ç¤º1åˆ°6è¡Œ! aaaa!è¡¨ç¤ºè¯¥è¡Œéœ€è¦ä¿®æ”¹æ‰ä¸ç¬¬äºŒä¸ªæ–‡ä»¶åŒ¹é…  111- hello world-è¡¨ç¤ºéœ€è¦åˆ é™¤è¯¥è¡Œæ‰ä¸ç¬¬äºŒä¸ªæ–‡ä»¶åŒ¹é…  222- 333-è¡¨ç¤ºéœ€è¦åˆ é™¤è¯¥è¡Œæ‰ä¸ç¬¬äºŒä¸ªæ–‡ä»¶åŒ¹é…  bbb--- 1,7 ----ä»¥---å¼€å¤´è¡¨ç¤ºfile2æ–‡ä»¶ï¼Œ1,7è¡¨ç¤º1åˆ°7è¡Œ! aaaè¡¨ç¤ºç¬¬ä¸€ä¸ªæ–‡ä»¶éœ€è¦ä¿®æ”¹æ‰ä¸ç¬¬äºŒä¸ªæ–‡ä»¶åŒ¹é…! helloè¡¨ç¤ºç¬¬ä¸€ä¸ªæ–‡ä»¶éœ€è¦ä¿®æ”¹æ‰ä¸ç¬¬äºŒä¸ªæ–‡ä»¶åŒ¹é…  111  222  bbb+ 333è¡¨ç¤ºç¬¬ä¸€ä¸ªæ–‡ä»¶éœ€è¦åŠ ä¸Šè¯¥è¡Œæ‰ä¸ç¬¬äºŒä¸ªæ–‡ä»¶åŒ¹é…+ worldè¡¨ç¤ºç¬¬ä¸€ä¸ªæ–‡ä»¶éœ€è¦åŠ ä¸Šè¯¥è¡Œæ‰ä¸ç¬¬äºŒä¸ªæ–‡ä»¶åŒ¹é…<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>3ï¼‰åˆå¹¶æ ¼å¼æ˜¾ç¤º</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">[root@MissHou ~]# diff -u file1 file2å‰ä¸¤è¡Œä¸»è¦åˆ—å‡ºéœ€è¦æ¯”è¾ƒçš„æ–‡ä»¶åå’Œæ–‡ä»¶çš„æ—¶é—´æˆ³ï¼›æ–‡ä»¶åå‰é¢çš„ç¬¦å·---è¡¨ç¤ºfile1ï¼Œ+++è¡¨ç¤ºfile2--- file1       2019-04-16 16:26:05.748650262 +0800+++ file2       2019-04-16 16:26:30.470646030 +0800@@ -1,6 +1,7 @@-aaaa+aaa+hello 111-hello world 222-333 bbb+333+world<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>æ¯”è¾ƒä¸¤ä¸ª==ç›®å½•ä¸åŒ==</li></ul><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">é»˜è®¤æƒ…å†µä¸‹ä¹Ÿä¼šæ¯”è¾ƒä¸¤ä¸ªç›®å½•é‡Œç›¸åŒæ–‡ä»¶çš„å†…å®¹[root@MissHou  tmp]# diff dir1 dir2diff dir1/file1 dir2/file10a1&gt; helloOnly in dir1: file3Only in dir2: test1å¦‚æœåªéœ€è¦æ¯”è¾ƒä¸¤ä¸ªç›®å½•é‡Œæ–‡ä»¶çš„ä¸åŒï¼Œä¸éœ€è¦è¿›ä¸€æ­¥æ¯”è¾ƒæ–‡ä»¶å†…å®¹ï¼Œéœ€è¦åŠ -qé€‰é¡¹[root@MissHou  tmp]# diff -q dir1 dir2Files dir1/file1 and dir2/file1 differOnly in dir1: file3Only in dir2: test1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>å…¶ä»–å°æŠ€å·§ï¼š</strong></p><p>æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦ä»¥ä¸€ä¸ªæ–‡ä»¶ä¸ºæ ‡å‡†ï¼Œå»ä¿®æ”¹å…¶ä»–æ–‡ä»¶ï¼Œå¹¶ä¸”ä¿®æ”¹çš„åœ°æ–¹è¾ƒå¤šæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ‰“è¡¥ä¸çš„æ–¹å¼å®Œæˆã€‚</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">1ï¼‰å…ˆæ‰¾å‡ºæ–‡ä»¶ä¸åŒï¼Œç„¶åè¾“å‡ºåˆ°ä¸€ä¸ªæ–‡ä»¶[root@MissHou ~]# diff -uN file1 file2 &gt; file.patch-u:ä¸Šä¸‹æ–‡æ¨¡å¼-N:å°†ä¸å­˜åœ¨çš„æ–‡ä»¶å½“ä½œç©ºæ–‡ä»¶2ï¼‰å°†ä¸åŒå†…å®¹æ‰“è¡¥ä¸åˆ°æ–‡ä»¶[root@MissHou ~]# patch file1 file.patchpatching file file13ï¼‰æµ‹è¯•éªŒè¯[root@MissHou ~]# diff file1 file2[root@MissHou ~]#<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="7-pasteå·¥å…·"><a href="#7-pasteå·¥å…·" class="headerlink" title="7. pasteå·¥å…·"></a>7. pasteå·¥å…·</h2><blockquote><p>pasteå·¥å…·ç”¨äºåˆå¹¶æ–‡ä»¶è¡Œ</p></blockquote><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">å¸¸ç”¨é€‰é¡¹ï¼š-dï¼šè‡ªå®šä¹‰é—´éš”ç¬¦ï¼Œé»˜è®¤æ˜¯tab-sï¼šä¸²è¡Œå¤„ç†ï¼Œéå¹¶è¡Œ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="8-trå·¥å…·"><a href="#8-trå·¥å…·" class="headerlink" title="8. trå·¥å…·"></a>8. trå·¥å…·</h2><blockquote><p> trç”¨äºå­—ç¬¦è½¬æ¢ï¼Œæ›¿æ¢å’Œåˆ é™¤ï¼›ä¸»è¦ç”¨äº==åˆ é™¤æ–‡ä»¶ä¸­æ§åˆ¶å­—ç¬¦==æˆ–è¿›è¡Œ==å­—ç¬¦è½¬æ¢==</p></blockquote><h3 id="è¯­æ³•å’Œé€‰é¡¹-4"><a href="#è¯­æ³•å’Œé€‰é¡¹-4" class="headerlink" title="è¯­æ³•å’Œé€‰é¡¹"></a>è¯­æ³•å’Œé€‰é¡¹</h3><p><strong>è¯­æ³•ï¼š</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">ç”¨æ³•1ï¼šå‘½ä»¤çš„æ‰§è¡Œç»“æœäº¤ç»™trå¤„ç†ï¼Œå…¶ä¸­string1ç”¨äºæŸ¥è¯¢ï¼Œstring2ç”¨äºè½¬æ¢å¤„ç†# commands|tr  'string1'  'string2'ç”¨æ³•2ï¼štrå¤„ç†çš„å†…å®¹æ¥è‡ªæ–‡ä»¶ï¼Œè®°ä½è¦ä½¿ç”¨"&lt;"æ ‡å‡†è¾“å…¥# tr  'string1'  'string2' &lt; filenameç”¨æ³•3ï¼šåŒ¹é…string1è¿›è¡Œç›¸åº”æ“ä½œï¼Œå¦‚åˆ é™¤æ“ä½œ# tr options 'string1' &lt; filename<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>å¸¸ç”¨é€‰é¡¹ï¼š</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">-d åˆ é™¤å­—ç¬¦ä¸²1ä¸­æ‰€æœ‰è¾“å…¥å­—ç¬¦ã€‚-s åˆ é™¤æ‰€æœ‰é‡å¤å‡ºç°å­—ç¬¦åºåˆ—ï¼Œåªä¿ç•™ç¬¬ä¸€ä¸ªï¼›å³å°†é‡å¤å‡ºç°å­—ç¬¦ä¸²å‹ç¼©ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><strong>å¸¸åŒ¹é…å­—ç¬¦ä¸²ï¼š</strong></p><table><thead><tr><th>å­—ç¬¦ä¸²</th><th>å«ä¹‰</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>==a-z==æˆ–[:lower:]</td><td>åŒ¹é…æ‰€æœ‰å°å†™å­—æ¯</td><td>[a-zA-Z0-9]</td></tr><tr><td>==A-Z==æˆ–[:upper:]</td><td>åŒ¹é…æ‰€æœ‰å¤§å†™å­—æ¯</td><td></td></tr><tr><td>==0-9==æˆ–[:digit:]</td><td>åŒ¹é…æ‰€æœ‰æ•°å­—</td><td></td></tr><tr><td>[:alnum:]</td><td>åŒ¹é…æ‰€æœ‰å­—æ¯å’Œæ•°å­—</td><td></td></tr><tr><td>[:alpha:]</td><td>åŒ¹é…æ‰€æœ‰å­—æ¯</td><td></td></tr><tr><td>[:blank:]</td><td>æ‰€æœ‰æ°´å¹³ç©ºç™½</td><td></td></tr><tr><td>[:punct:]</td><td>åŒ¹é…æ‰€æœ‰æ ‡ç‚¹ç¬¦å·</td><td></td></tr><tr><td>[:space:]</td><td>æ‰€æœ‰æ°´å¹³æˆ–å‚ç›´çš„ç©ºæ ¼</td><td></td></tr><tr><td>[:cntrl:]</td><td>æ‰€æœ‰æ§åˆ¶å­—ç¬¦</td><td>\f Ctrl-L        èµ°è¡Œæ¢é¡µ<br>\n Ctrl-J  æ¢è¡Œ</td></tr><tr><td>\r Ctrl-M        å›è½¦</td><td></td><td></td></tr><tr><td>\t Ctrl-I  tabé”®</td><td></td><td></td></tr></tbody></table><p><strong>ä¸¾ä¾‹è¯´æ˜ï¼š</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">[root@MissHou  shell01]# cat 3.txt è‡ªå·±åˆ›å»ºè¯¥æ–‡ä»¶ç”¨äºæµ‹è¯•ROOT:x:0:0:root:/root:/bin/bashbin:x:1:1:bin:/bin:/sbin/nologindaemon:x:2:2:daemon:/sbin:/sbin/nologinadm:x:3:4:adm:/var/adm:/sbin/nologinlp:x:4:7:lp:/var/spool/lpd:/sbin/nologinsync:x:5:0:sync:/sbin:/bin/syncshutdown:x:6:0:shutdown:/sbin:/sbin/shutdownhalt:x:7:0:halt:/sbin:/sbin/haltmail:x:8:12:mail:/var/spool/mail:/sbin/nologinuucp:x:10:14:uucp:/var/spool/uucp:/sbin/nologinboss02:x:516:511::/home/boss02:/bin/bashvip:x:517:517::/home/vip:/bin/bashstu1:x:518:518::/home/stu1:/bin/bashmailnull:x:47:47::/var/spool/mqueue:/sbin/nologinsmmsp:x:51:51::/var/spool/mqueue:/sbin/nologinaaaaaaaaaaaaaaaaaaaabbbbbb111111122222222222233333333cccccccchello world 888666777999# tr -d '[:/]' &lt; 3.txt åˆ é™¤æ–‡ä»¶ä¸­çš„:å’Œ/# cat 3.txt |tr -d '[:/]'åˆ é™¤æ–‡ä»¶ä¸­çš„:å’Œ/# tr '[0-9]' '@' &lt; 3.txt å°†æ–‡ä»¶ä¸­çš„æ•°å­—æ›¿æ¢ä¸º@ç¬¦å·# tr '[a-z]' '[A-Z]' &lt; 3.txt å°†æ–‡ä»¶ä¸­çš„å°å†™å­—æ¯æ›¿æ¢æˆå¤§å†™å­—æ¯# tr -s '[a-z]' &lt; 3.txt åŒ¹é…å°å†™å­—æ¯å¹¶å°†é‡å¤çš„å‹ç¼©ä¸ºä¸€ä¸ª# tr -s '[a-z0-9]' &lt; 3.txt åŒ¹é…å°å†™å­—æ¯å’Œæ•°å­—å¹¶å°†é‡å¤çš„å‹ç¼©ä¸ºä¸€ä¸ª# tr -d '[:digit:]' &lt; 3.txt åˆ é™¤æ–‡ä»¶ä¸­çš„æ•°å­—# tr -d '[:blank:]' &lt; 3.txt åˆ é™¤æ°´å¹³ç©ºç™½# tr -d '[:space:]' &lt; 3.txt åˆ é™¤æ‰€æœ‰æ°´å¹³å’Œå‚ç›´ç©ºç™½<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å°è¯•ç‰›åˆ€"><a href="#å°è¯•ç‰›åˆ€" class="headerlink" title="å°è¯•ç‰›åˆ€"></a>å°è¯•ç‰›åˆ€</h4><ol><li>ä½¿ç”¨å°å·¥å…·åˆ†åˆ«æˆªå–å½“å‰ä¸»æœºIPï¼›æˆªå–NETMASKï¼›æˆªå–å¹¿æ’­åœ°å€ï¼›æˆªå–MACåœ°å€</li></ol><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ifconfig eth0|grep 'Bcast'|tr -d '[a-zA-Z ]'|cut -d: -f2,3,410.1.1.1:10.1.1.255:255.255.255.0# ifconfig eth0|grep 'Bcast'|tr -d '[a-zA-Z ]'|cut -d: -f2,3,4|tr ':' '\n'10.1.1.110.1.1.255255.255.255.0# ifconfig eth0|grep 'HWaddr'|cut -d: -f2-|cut -d' ' -f400:0C:29:25:AE:54# ifconfig eth0|grep 'HW'|tr -s ' '|cut -d' ' -f500:0C:29:B4:9E:4E# ifconfig eth1|grep Bcast|cut -d: -f2|cut -d' ' -f1# ifconfig eth1|grep Bcast|cut -d: -f2|tr -d '[ a-zA-Z]'# ifconfig eth1|grep Bcast|tr -d '[:a-zA-Z]'|tr ' ' '@'|tr -s '@'|tr '@' '\n'|grep -v ^$# ifconfig eth0|grep 'Bcast'|tr -d [:alpha:]|tr '[ :]' '\n'|grep -v ^$# ifconfig eth1|grep HWaddr|cut -d ' ' -f11# ifconfig eth0|grep HWaddr|tr -s ' '|cut -d' ' -f5# ifconfig eth1|grep HWaddr|tr -s ' '|cut -d' ' -f5# ifconfig eth0|grep 'Bcast'|tr -d 'a-zA-Z:'|tr ' ' '\n'|grep -v '^$'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>å°†ç³»ç»Ÿä¸­æ‰€æœ‰æ™®é€šç”¨æˆ·çš„ç”¨æˆ·åã€å¯†ç å’Œé»˜è®¤shellä¿å­˜åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œè¦æ±‚ç”¨æˆ·åå¯†ç å’Œé»˜è®¤shellä¹‹é—´ç”¨tabé”®åˆ†å‰²</li></ol><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># grep 'bash$' passwd |grep -v 'root'|cut -d: -f1,2,7|tr ':' '\t' |tee abc.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h1 id="äºŒã€bashçš„ç‰¹æ€§"><a href="#äºŒã€bashçš„ç‰¹æ€§" class="headerlink" title="äºŒã€bashçš„ç‰¹æ€§"></a>äºŒã€bashçš„ç‰¹æ€§</h1><h2 id="1ã€å‘½ä»¤å’Œæ–‡ä»¶è‡ªåŠ¨è¡¥å…¨"><a href="#1ã€å‘½ä»¤å’Œæ–‡ä»¶è‡ªåŠ¨è¡¥å…¨" class="headerlink" title="1ã€å‘½ä»¤å’Œæ–‡ä»¶è‡ªåŠ¨è¡¥å…¨"></a>1ã€å‘½ä»¤å’Œæ–‡ä»¶è‡ªåŠ¨è¡¥å…¨</h2><p>Tabåªèƒ½è¡¥å…¨==å‘½ä»¤å’Œæ–‡ä»¶== ï¼ˆRHEL6/Centos6ï¼‰</p><h2 id="2ã€å¸¸è§çš„å¿«æ·é”®"><a href="#2ã€å¸¸è§çš„å¿«æ·é”®" class="headerlink" title="2ã€å¸¸è§çš„å¿«æ·é”®"></a>2ã€å¸¸è§çš„å¿«æ·é”®</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">^c   ç»ˆæ­¢å‰å°è¿è¡Œçš„ç¨‹åº^z  å°†å‰å°è¿è¡Œçš„ç¨‹åºæŒ‚èµ·åˆ°åå°^d   é€€å‡º ç­‰ä»·exit^l   æ¸…å± ^a |home  å…‰æ ‡ç§»åˆ°å‘½ä»¤è¡Œçš„æœ€å‰ç«¯^e |end  å…‰æ ‡ç§»åˆ°å‘½ä»¤è¡Œçš„åç«¯^u   åˆ é™¤å…‰æ ‡å‰æ‰€æœ‰å­—ç¬¦^k   åˆ é™¤å…‰æ ‡åæ‰€æœ‰å­—ç¬¦^r æœç´¢å†å²å‘½ä»¤<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="3-ã€-å¸¸ç”¨çš„é€šé…ç¬¦ï¼ˆé‡ç‚¹ï¼‰"><a href="#3-ã€-å¸¸ç”¨çš„é€šé…ç¬¦ï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="3 ã€==å¸¸ç”¨çš„é€šé…ç¬¦ï¼ˆé‡ç‚¹ï¼‰=="></a>3 ã€==å¸¸ç”¨çš„é€šé…ç¬¦ï¼ˆé‡ç‚¹ï¼‰==</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">*:åŒ¹é…0æˆ–å¤šä¸ªä»»æ„å­—ç¬¦?:åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦[list]:åŒ¹é…[list]ä¸­çš„ä»»æ„å•ä¸ªå­—ç¬¦,æˆ–è€…ä¸€ç»„å•ä¸ªå­—ç¬¦   [a-z][!list]: åŒ¹é…é™¤listä¸­çš„ä»»æ„å•ä¸ªå­—ç¬¦{string1,string2,...}ï¼šåŒ¹é…string1,string2æˆ–æ›´å¤šå­—ç¬¦ä¸²# rm -f file*# cp *.conf  /dir1# touch file{1..5}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="4ã€-bashä¸­çš„å¼•å·ï¼ˆé‡ç‚¹ï¼‰"><a href="#4ã€-bashä¸­çš„å¼•å·ï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="4ã€==bashä¸­çš„å¼•å·ï¼ˆé‡ç‚¹ï¼‰=="></a>4ã€==bashä¸­çš„å¼•å·ï¼ˆé‡ç‚¹ï¼‰==</h2><ul><li>åŒå¼•å·â€â€   :ä¼šæŠŠå¼•å·çš„å†…å®¹å½“æˆæ•´ä½“æ¥çœ‹å¾…ï¼Œå…è®¸é€šè¿‡$ç¬¦å·å¼•ç”¨å…¶ä»–å˜é‡å€¼</li><li>å•å¼•å·â€™â€™     :ä¼šæŠŠå¼•å·çš„å†…å®¹å½“æˆæ•´ä½“æ¥çœ‹å¾…ï¼Œç¦æ­¢å¼•ç”¨å…¶ä»–å˜é‡å€¼ï¼Œshellä¸­ç‰¹æ®Šç¬¦å·éƒ½è¢«è§†ä¸ºæ™®é€šå­—ç¬¦</li><li>åæ’‡å·``  :åæ’‡å·å’Œ$()ä¸€æ ·ï¼Œå¼•å·æˆ–æ‹¬å·é‡Œçš„å‘½ä»¤ä¼šä¼˜å…ˆæ‰§è¡Œï¼Œå¦‚æœå­˜åœ¨åµŒå¥—ï¼Œåæ’‡å·ä¸èƒ½ç”¨</li></ul><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">[root@MissHou  dir1]# echo "$(hostname)"server[root@MissHou  dir1]# echo '$(hostname)'$(hostname)[root@MissHou  dir1]# echo "hello world"hello world[root@MissHou  dir1]# echo 'hello world'hello world[root@MissHou  dir1]# echo $(date +%F)2018-11-22[root@MissHou  dir1]# echo `echo $(date +%F)`2018-11-22[root@MissHou  dir1]# echo `date +%F`2018-11-22[root@MissHou  dir1]# echo `echo `date +%F``date +%F[root@MissHou  dir1]# echo $(echo `date +%F`)2018-11-22<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> shell </category>
          
      </categories>
      
      
        <tags>
            
            <tag> shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DNSåŸŸåç®¡ç†ç³»ç»Ÿä¸LAMPç¼–è¯‘å®‰è£…</title>
      <link href="/2023/12/23/dns-yu-ming-guan-li-xi-tong-yu-lamp-bian-yi-an-zhuang/"/>
      <url>/2023/12/23/dns-yu-ming-guan-li-xi-tong-yu-lamp-bian-yi-an-zhuang/</url>
      
        <content type="html"><![CDATA[<h1 id="DNSåŸŸåç®¡ç†ç³»ç»Ÿä¸LAMPç¼–è¯‘å®‰è£…"><a href="#DNSåŸŸåç®¡ç†ç³»ç»Ÿä¸LAMPç¼–è¯‘å®‰è£…" class="headerlink" title="DNSåŸŸåç®¡ç†ç³»ç»Ÿä¸LAMPç¼–è¯‘å®‰è£…"></a>DNSåŸŸåç®¡ç†ç³»ç»Ÿä¸LAMPç¼–è¯‘å®‰è£…</h1><h1 id="ä¸€ã€DNSåŸŸåç®¡ç†ç³»ç»Ÿ"><a href="#ä¸€ã€DNSåŸŸåç®¡ç†ç³»ç»Ÿ" class="headerlink" title="ä¸€ã€DNSåŸŸåç®¡ç†ç³»ç»Ÿ"></a>ä¸€ã€DNSåŸŸåç®¡ç†ç³»ç»Ÿ</h1><h2 id="1ã€DNSä¸¤ç§è§£æ"><a href="#1ã€DNSä¸¤ç§è§£æ" class="headerlink" title="1ã€DNSä¸¤ç§è§£æ"></a>1ã€DNSä¸¤ç§è§£æ</h2><p>æ­£å‘è§£æï¼šæŠŠåŸŸåè§£æä¸ºå¯¹åº”çš„IPåœ°å€</p><p>åå‘è§£æï¼šæŠŠIPåœ°å€è§£æä¸ºå¯¹åº”çš„åŸŸå</p><h2 id="2ã€DNSçš„åå‘è§£æ"><a href="#2ã€DNSçš„åå‘è§£æ" class="headerlink" title="2ã€DNSçš„åå‘è§£æ"></a>2ã€DNSçš„åå‘è§£æ</h2><p>ç›®æ ‡ï¼šæŠŠ10.1.1.13è¿™ä¸ªIPåœ°å€é€šè¿‡DNSæœåŠ¡å™¨æŒ‡å‘<a href="http://www.itcast.clusteråŸŸå/">www.itcast.clusteråŸŸå</a></p><p>ç¬¬ä¸€æ­¥ï¼šå¼€å¯ç½‘ç»œçš„è®¿é—®æƒé™æ§åˆ¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/named.conf12 options {13         listen-on port 53 { 127.0.0.1;any; };14         listen-on-v6 port 53 { ::1; };15         directory       "/var/named";16         dump-file       "/var/named/data/cache_dump.db";17         statistics-file "/var/named/data/named_stats.txt";18         memstatistics-file "/var/named/data/named_mem_stats.txt";19         recursing-file  "/var/named/data/named.recursing";20         secroots-file   "/var/named/data/named.secroots";21         allow-query     { localhost;any;};<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬äºŒæ­¥ï¼šåœ¨zonesæ–‡ä»¶ä¸­å®šä¹‰zoneæ–‡ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/named.rfc1912.zones49 zone "1.1.10.in-addr.arpa" IN {50         type master;51         file "10.1.1.zone";52         allow-update { none; };53 };<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬ä¸‰æ­¥ï¼šcd /var/namedè¿›å…¥åˆ°DNS zoneé…ç½®æ–‡ä»¶ç›®å½•ï¼Œå¤åˆ¶named.loopbackæ–‡ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cd /var/named# cp -p named.loopback 10.1.1.zone<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç¬¬å››æ­¥ï¼šç¼–è¾‘10.1.1.zoneæ–‡ä»¶ï¼ŒæŠŠIPåœ°å€=&gt;10.1.1.13æŒ‡å‘<a href="http://www.itcast.clusteråŸŸå/">www.itcast.clusteråŸŸå</a></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">$TTL 1D@       IN SOA  @ rname.invalid. (                                        0       ; serial                                        1D      ; refresh                                        1H      ; retry                                        1W      ; expire                                        3H )    ; minimum        NS      @        A       127.0.0.1        AAAA    ::1        PTR     localhost.#å¢åŠ ä¸€æ¡åå‘è§£æï¼ŒæŠŠ10.1.1.13 =&gt; PTR =&gt; www.itcast.cluster13      PTR     www.itcast.cluster<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬äº”æ­¥ï¼šæ£€æŸ¥ä¸å®¢æˆ·ç«¯æµ‹è¯•</p><p>DNSæœåŠ¡å™¨ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># named-checkconf /etc/named.conf# named-checkconf /etc/named.rfc1912.zones# cd /var/named# named-checkzone 10.1.1.zone 10.1.1.zone# systemctl restart named<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å®¢æˆ·ç«¯æ£€æµ‹ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># echo 'nameserver 10.1.1.12' &gt; /etc/resolv.conf# nslookup 10.1.1.13www.itcast.cluster.1.1.10.in-addr.arpa.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="3ã€VMwareä¸CentOS7ç½‘ç»œçš„å°bug"><a href="#3ã€VMwareä¸CentOS7ç½‘ç»œçš„å°bug" class="headerlink" title="3ã€VMwareä¸CentOS7ç½‘ç»œçš„å°bug"></a>3ã€VMwareä¸CentOS7ç½‘ç»œçš„å°bug</h2><p>DNSçš„ä¸´æ—¶é…ç½®æ–¹å¼ =&gt; echo  â€˜nameserver 10.1.1.12â€™ &gt; /etc/resolv.conf</p><blockquote><p>æ³¨ï¼šå½“VMwareå…³é—­æˆ–è€…æŒ‚èµ·æ—¶ï¼Œä¸´æ—¶è®¾ç½®çš„DNSä¼šè¢«é‡ç½®</p></blockquote><p>CentOS7ç‰ˆæœ¬ä¸­ï¼Œæœ‰çš„æ—¶å€™ï¼Œåœ¨ç½‘ç»œé…ç½®æ—¶ï¼Œæ˜æ˜è®¾ç½®äº†é™æ€IPï¼Œä½†æ˜¯æ— è®ºé‡å¯ç½‘ç»œã€é‡å¯ç½‘å¡ï¼Œå…¶è®¾ç½®çš„IPåœ°å€éƒ½æ²¡æœ‰ç”Ÿæ•ˆã€‚</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ifconfig ens33# ip a2: ens33: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000    link/ether 00:0c:29:68:d8:bb brd ff:ff:ff:ff:ff:ff    inet 10.1.1.29/24 brd 10.1.1.255 scope global noprefixroute dynamic ens33       valid_lft 1656sec preferred_lft 1656sec    inet 10.1.1.11/24 brd 10.1.1.255 scope global secondary ens33       valid_lft forever preferred_lft forever    inet6 fe80::20c:29ff:fe68:d8bb/64 scope link        valid_lft forever preferred_lft forever<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>å‡ºç°ä»¥ä¸Šé—®é¢˜çš„ä¸»è¦åŸå› åœ¨äºå›¾å½¢åŒ–ç•Œé¢ä¸­çš„NetworkManageræœåŠ¡æ²¡æœ‰å…³é—­ï¼</p></blockquote><p>è§£å†³æ–¹æ¡ˆï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl stop NetworkManager# systemctl disable NetworkManager<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="4ã€å¤šåŸŸDNSæœåŠ¡å™¨æ­å»º"><a href="#4ã€å¤šåŸŸDNSæœåŠ¡å™¨æ­å»º" class="headerlink" title="4ã€å¤šåŸŸDNSæœåŠ¡å™¨æ­å»º"></a>4ã€å¤šåŸŸDNSæœåŠ¡å™¨æ­å»º</h2><p>éœ€æ±‚ï¼šæ­å»ºä¸€ä¸ªDNSæœåŠ¡å™¨ï¼Œå¯ä»¥åŒæ—¶è§£ætest.netå’Œheima.ccåŸŸ</p><table><thead><tr><th>ç¼–å·</th><th>åŸŸå</th><th>IPåœ°å€</th></tr></thead><tbody><tr><td>1</td><td><a href="http://www.test.net/">www.test.net</a></td><td>10.1.1.13</td></tr><tr><td>2</td><td>bbs.heima.cc</td><td>10.1.1.13</td></tr></tbody></table><p>ç¬¬ä¸€æ­¥ï¼šæ›´æ”¹named.confæ–‡ä»¶ï¼Œè®¾ç½®ç½‘ç»œè®¿é—®æƒé™</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/named.rfc1912.zones49 zone "1.1.10.in-addr.arpa" IN {50         type master;51         file "10.1.1.zone";52         allow-update { none; };53 };<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬äºŒæ­¥ï¼šæ›´æ”¹named.rfc1912.zonesï¼Œæ·»åŠ testä»¥åŠheimaåŸŸ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/named.rfc1912.zones...zone "test.net" IN {        type master;        file "test.net.zone";        allow-update { none; };};zone "heima.cc" IN {        type master;        file "heima.cc.zone";        allow-update { none; };};<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬ä¸‰æ­¥ï¼šè¿›å…¥/var/namedç›®å½•ï¼Œå¤åˆ¶named.localhost</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cd /var/named# cp -p named.localhost test.net.zone# cp -p named.localhost heima.cc.zone<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç¬¬å››æ­¥ï¼šç¼–è¾‘test.net.zoneä¸heima.cc.zoneæ–‡ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim test.net.zone...www A 10.1.1.13# vim heima.cc.zone...bbsA 10.1.1.13<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬äº”æ­¥ï¼šæ£€æµ‹é…ç½®æ–‡ä»¶ï¼Œç„¶åå¯åŠ¨namedæœåŠ¡ï¼ˆé‡å¯ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># named-checkconf /etc/named.conf# named-checkconf /etc/named.rfc1912.zones# cd /var/named# named-checkzone test.net.zone test.net.zone# named-checkzone heima.cc.zone heima.cc.zone# systemctl restart named<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="5ã€ntpæœåŠ¡å™¨æ­å»º"><a href="#5ã€ntpæœåŠ¡å™¨æ­å»º" class="headerlink" title="5ã€ntpæœåŠ¡å™¨æ­å»º"></a>5ã€ntpæœåŠ¡å™¨æ­å»º</h2><p>åŸºç¡€ç­ntpå›é¡¾ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ntpdate cn.ntp.org.cn<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è™½ç„¶ä»¥ä¸Šæ–¹å¼ï¼Œå¯ä»¥å®ç°å¯¹æ—¶é—´çš„æ ¡å¯¹ï¼ä½†æ˜¯ç”±äºéœ€è¦è¿æ¥å¤–ç½‘ï¼Œå…¶åŒæ­¥éœ€è¦æ¶ˆè€—ä¸€å®šçš„æ—¶é—´ï¼Œé‚£æœ‰æ²¡æœ‰æ›´å¥½çš„è§£å†³åŠæ³•å‘¢ï¼Ÿ</p><p>ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡ä¸€å°NTPæ—¶é—´æœåŠ¡å™¨</p><table><thead><tr><th>ç¼–å·</th><th>ä¸»æœºåç§°</th><th>IPåœ°å€</th><th>å¤‡æ³¨ä¿¡æ¯</th></tr></thead><tbody><tr><td>1</td><td>ntp.itcast.cn</td><td>10.1.1.100</td><td>NTPå†…ç½‘æ—¶é—´æœåŠ¡å™¨</td></tr></tbody></table><blockquote><p>æ‰©å±•ï¼šåœ¨åŸæœ‰åŸºç¡€ä¸Šï¼Œè®°ä½è¦å…³é—­NetworkManageræœåŠ¡</p></blockquote><p>ç¬¬äºŒæ­¥ï¼šå®‰è£…ntpæœåŠ¡è½¯ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install ntp -y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬ä¸‰æ­¥ï¼šæ›´æ”¹é…ç½®æ–‡ä»¶ï¼Œå¼€å¯ntpæœåŠ¡</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/ntp.conf13 restrict 127.0.0.114 restrict ::1# æ‰‹å·¥æ·»åŠ 10.1.1.0ç½‘æ®µï¼ŒèŒƒå›´10.1.1.1 ~ 10.1.1.25415 restrict 10.1.1.0 mask 255.255.255.0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬å››æ­¥ï¼šå¯åŠ¨ntpdæœåŠ¡</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ntpdate cn.ntp.org.cn# systemctl restart ntpd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>åˆ°æ­¤NTPæ—¶é—´æœåŠ¡å™¨é…ç½®å®Œæ¯•ï¼Œä»¥åæ‰€æœ‰çš„è®¡ç®—æœºéƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨ntpdateåŒæ­¥æ­¤NTPæœåŠ¡å™¨</p><p>DNS-MASTERã€DNS-SLAVE</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ntpdate 10.1.1.100<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>10.1.1.100æ˜¯å†…ç½‘NTPæ—¶é—´æœåŠ¡å™¨çš„IPåœ°å€</p></blockquote><blockquote><p>é™¤æ­¤ä»¥å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨è®¡åˆ’ä»»åŠ¡ï¼Œå®šæœŸè¿›è¡Œæ—¶é—´çš„åŒæ­¥(é’ˆå¯¹æ‰€æœ‰çš„å®¢æˆ·ç«¯)</p></blockquote><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># crontab -e*/2 * * * * /usr/sbin/ntpdate 10.1.1.100 &amp;&gt;/dev/null<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="6ã€DNSä¸»ä»éƒ¨ç½²"><a href="#6ã€DNSä¸»ä»éƒ¨ç½²" class="headerlink" title="6ã€DNSä¸»ä»éƒ¨ç½²"></a>6ã€DNSä¸»ä»éƒ¨ç½²</h2><p><img src="/../assets/blog_res/DNS%E5%9F%9F%E5%90%8D%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E4%B8%8ELAMP%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85.assets/image-20200416140619919.png" alt="image-20200416140619919"></p><p>ä¸»ä»éƒ¨ç½²çš„æ ¸å¿ƒæ€è·¯ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">1. masterå’Œslaveçš„ç³»ç»Ÿæ—¶é—´ä¿æŒä¸€è‡´2. slaveæœåŠ¡å™¨ä¸Šå®‰è£…ç›¸åº”çš„è½¯ä»¶ï¼ˆç³»ç»Ÿç‰ˆæœ¬ã€è½¯ä»¶ç‰ˆæœ¬ä¿æŒä¸€è‡´ï¼‰3. æ ¹æ®éœ€æ±‚ä¿®æ”¹ç›¸åº”çš„é…ç½®æ–‡ä»¶ï¼ˆmasterå’Œslaveéƒ½åº”è¯¥å»ä¿®æ”¹ï¼‰4. ä¸»ä»åŒæ­¥çš„æ ¸å¿ƒæ˜¯slaveåŒæ­¥masterä¸Šçš„åŒºåŸŸæ–‡ä»¶ï¼ˆzoneæ–‡ä»¶ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>masterï¼šä¸»slaveï¼šä»</p></blockquote><p>ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡ä¸€å°slaveä»æœåŠ¡å™¨(ç•¥)</p><p>â‘  å…‹éš† â‘¡ æ›´æ”¹ä¸»æœºåç§°ä»¥åŠIPåœ°å€ï¼ˆæ›´æ”¹UUIDç¼–å·ã€å…³é—­NetworkManagerï¼‰â‘¢ å…³é—­é˜²ç«å¢™ä¸SELinux â‘£ é…ç½®YUMæº</p><table><thead><tr><th>ç¼–å·</th><th>ä¸»æœºåç§°</th><th>IPåœ°å€</th><th>å¤‡æ³¨ä¿¡æ¯</th></tr></thead><tbody><tr><td>1</td><td>slave.itcast.cn</td><td>10.1.1.14</td><td>dns slaveä»æœåŠ¡å™¨</td></tr></tbody></table><p>ç¬¬äºŒæ­¥ï¼šæ›´æ”¹ä¸»dnsæœåŠ¡å™¨ï¼Œå…è®¸å…¶ä»–çš„ä»æœåŠ¡å™¨ä¸‹è½½åŒæ­¥èµ„æº</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/named.conf12 options {13         listen-on port 53 { 127.0.0.1;any; };14         listen-on-v6 port 53 { ::1; };15         allow-transfer {10.1.1.14; };=&gt;  å…è®¸ä»æœåŠ¡å™¨çš„IPåœ°å€è¿‡æ¥åŒæ­¥èµ„æº16         directory       "/var/named";17         dump-file       "/var/named/data/cache_dump.db";18         statistics-file "/var/named/data/named_stats.txt";19         memstatistics-file "/var/named/data/named_mem_stats.txt";20         recursing-file  "/var/named/data/named.recursing";21         secroots-file   "/var/named/data/named.secroots";22         allow-query     { localhost;any;};# systemctl restart named<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬ä¸‰æ­¥ï¼šSLAVEä»æœåŠ¡å™¨é…ç½®</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install bind -y# vim /etc/named.conf12 options {13         listen-on port 53 { 127.0.0.1;any; };14         listen-on-v6 port 53 { ::1; };15         directory       "/var/named";16         dump-file       "/var/named/data/cache_dump.db";17         statistics-file "/var/named/data/named_stats.txt";18         memstatistics-file "/var/named/data/named_mem_stats.txt";19         recursing-file  "/var/named/data/named.recursing";20         secroots-file   "/var/named/data/named.secroots";21         allow-query     { localhost;any; };# vim /etc/named.rfc1912.zoneszone "test.net" IN {        type slave;        file "slaves/test.net";        masters { 10.1.1.12; };};zone "heima.cc" IN {        type slave;        file "slaves/heima.cc";        masters { 10.1.1.12; };};# æ£€æµ‹é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰é”™ï¼ˆç•¥ï¼‰# named-checkconf ...# systemctl restart named<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬å››æ­¥ï¼šåœ¨Clientå®¢æˆ·ç«¯ï¼ŒæŠŠSlaveä»æœåŠ¡å™¨çš„IPè®¾ç½®ä¸ºDNS</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># echo 'nameserver 10.1.1.14' &gt; /etc/resolv.conf# nslookup www.test.net<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h1 id="äºŒã€LAMPæºç æ„å»º"><a href="#äºŒã€LAMPæºç æ„å»º" class="headerlink" title="äºŒã€LAMPæºç æ„å»º"></a>äºŒã€LAMPæºç æ„å»º</h1><h2 id="1ã€é¡¹ç›®èƒŒæ™¯"><a href="#1ã€é¡¹ç›®èƒŒæ™¯" class="headerlink" title="1ã€é¡¹ç›®èƒŒæ™¯"></a>1ã€é¡¹ç›®èƒŒæ™¯</h2><p>ä¸ºä¼ä¸šå†…éƒ¨çš„å¼€å‘äººå‘˜ï¼Œéƒ¨ç½²ä¸€å¥—â€œé¢„å‘å¸ƒç³»ç»Ÿâ€ï¼Œè¦æ±‚å…¶ç¯å¢ƒä¸çº¿ä¸Šç¯å¢ƒä¸€æ¨¡ä¸€æ ·ã€‚</p><p>ç”±äºé¡¹ç›®æ˜¯åŸºäºPHP + MySQLè¿›è¡Œå¼€å‘è®¾è®¡çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦é€‰é…ç¯å¢ƒã€‚</p><p>LAMP = Linux + Apache + MySQL + PHP</p><p>LNMP = Linux + Nginx + MySQL + PHP</p><p>ç»è¿‡å¼€å‘äººå‘˜çš„æ²Ÿé€šç¡®è®¤ =&gt; LAMPä½œä¸ºé¢„å‘å¸ƒç¯å¢ƒï¼</p><p><img src="/../assets/blog_res/DNS%E5%9F%9F%E5%90%8D%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E4%B8%8ELAMP%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85.assets/image-20200416152428473.png" alt="image-20200416152428473"></p><h2 id="2ã€ä»»åŠ¡è¦æ±‚"><a href="#2ã€ä»»åŠ¡è¦æ±‚" class="headerlink" title="2ã€ä»»åŠ¡è¦æ±‚"></a>2ã€ä»»åŠ¡è¦æ±‚</h2><ul><li>==<strong>æºç </strong>éƒ¨ç½²LAMPç¯å¢ƒ==ï¼Œå’Œç”Ÿäº§ä¿æŒä¸€è‡´</li><li>é™æ€èµ„æºæ–‡ä»¶åŒæ­¥ç”Ÿäº§ç¯å¢ƒï¼ˆç”Ÿäº§å‘ç”Ÿæ”¹å˜ç«‹é©¬åŒæ­¥åˆ°é¢„å‘å¸ƒå¹³å°ï¼‰</li></ul><h2 id="3ã€ç¯å¢ƒå‡†å¤‡"><a href="#3ã€ç¯å¢ƒå‡†å¤‡" class="headerlink" title="3ã€ç¯å¢ƒå‡†å¤‡"></a>3ã€ç¯å¢ƒå‡†å¤‡</h2><p>ç³»ç»Ÿç¯å¢ƒï¼šCentOS7.6</p><p>è½¯ä»¶ç¯å¢ƒï¼šAMPï¼ˆApacheã€MySQLä»¥åŠPHPï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">Apacheâ€”â€”&gt;2.4.37ï¼ˆ2.2ä¸2.4ï¼‰MySQLâ€”â€”&gt;5.6.31ï¼ˆ5.5ã€5.6ä¸5.7ï¼‰PHPâ€”â€”&gt;7.2.17ï¼ˆ5.2ã€5.4ã€5.6ã€7.0ã€7.1ã€7.2ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="4ã€ç³»ç»Ÿç¯å¢ƒ"><a href="#4ã€ç³»ç»Ÿç¯å¢ƒ" class="headerlink" title="4ã€ç³»ç»Ÿç¯å¢ƒ"></a>4ã€ç³»ç»Ÿç¯å¢ƒ</h2><table><thead><tr><th>ç¼–å·</th><th>ä¸»æœºåç§°</th><th>IPåœ°å€</th><th>å¤‡æ³¨ä¿¡æ¯</th></tr></thead><tbody><tr><td>1</td><td>web.itcast.cn</td><td>10.1.1.13</td><td>LAMPé¢„å‘å¸ƒç¯å¢ƒ</td></tr></tbody></table><p>â‘  æ›´æ”¹ä¸»æœºåç§°ã€é…ç½®IPåœ°å€ï¼ˆé™æ€IPã€æ›´æ”¹UUIDç¼–å·ã€å…³é—­NetworkManagerï¼‰</p><p>â‘¡ å…³é—­é˜²ç«å¢™ã€SELinux</p><p>â‘¢ é…ç½®YUMæºï¼ˆæœ‰ç½‘é…å…¬ç½‘ï¼Œæ²¡ç½‘é…å…‰ç›˜æˆ–è‡ªå»ºYUMæºï¼‰</p><h2 id="5ã€ä¾èµ–è½¯ä»¶å®‰è£…"><a href="#5ã€ä¾èµ–è½¯ä»¶å®‰è£…" class="headerlink" title="5ã€ä¾èµ–è½¯ä»¶å®‰è£…"></a>5ã€ä¾èµ–è½¯ä»¶å®‰è£…</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install cmake pcre-devel ncurses-devel openssl-devel libcurl-devel<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="6ã€AMPè½¯ä»¶å®‰è£…æ³¨æ„äº‹é¡¹"><a href="#6ã€AMPè½¯ä»¶å®‰è£…æ³¨æ„äº‹é¡¹" class="headerlink" title="6ã€AMPè½¯ä»¶å®‰è£…æ³¨æ„äº‹é¡¹"></a>6ã€AMPè½¯ä»¶å®‰è£…æ³¨æ„äº‹é¡¹</h2><p><img src="/../assets/blog_res/DNS%E5%9F%9F%E5%90%8D%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E4%B8%8ELAMP%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85.assets/image-20200416154343314.png" alt="image-20200416154343314"></p><p>ç¼–è¯‘å®‰è£…é¡ºåºï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">Linux+Apache(2.4)+MySQL(5.6.31)+PHP(7.2.17)Apacheâ€”â€”&gt;MySQLâ€”â€”&gt;PHP æˆ–è€…  MySQLâ€”â€”&gt;Apacheâ€”â€”&gt;PHP<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h1 id="ä¸‰ã€ç¼–è¯‘å®‰è£…MySQLè½¯ä»¶"><a href="#ä¸‰ã€ç¼–è¯‘å®‰è£…MySQLè½¯ä»¶" class="headerlink" title="ä¸‰ã€ç¼–è¯‘å®‰è£…MySQLè½¯ä»¶"></a>ä¸‰ã€ç¼–è¯‘å®‰è£…MySQLè½¯ä»¶</h1><h2 id="1ã€å®‰è£…éœ€æ±‚"><a href="#1ã€å®‰è£…éœ€æ±‚" class="headerlink" title="1ã€å®‰è£…éœ€æ±‚"></a>1ã€å®‰è£…éœ€æ±‚</h2><table><thead><tr><th>è½¯ä»¶ç‰ˆæœ¬</th><th>å®‰è£…ç›®å½•</th><th>æ•°æ®ç›®å½•</th><th>ç«¯å£</th></tr></thead><tbody><tr><td>mysql-5.6.31</td><td>/usr/local/mysql</td><td>/usr/local/mysql/data</td><td>3306</td></tr></tbody></table><h2 id="2ã€MySQLå®‰è£…è¯¦è§£"><a href="#2ã€MySQLå®‰è£…è¯¦è§£" class="headerlink" title="2ã€MySQLå®‰è£…è¯¦è§£"></a>2ã€MySQLå®‰è£…è¯¦è§£</h2><p>ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºä¸€ä¸ªmysqlç³»ç»Ÿè´¦å·ï¼ˆæ²¡æœ‰è¿™ä¸ªè´¦å·mysqlæ— æ³•è¿è¡Œï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># useradd -r -s /sbin/nologin mysql<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬äºŒæ­¥ï¼šå¯¹è½¯ä»¶è¿›è¡Œè§£å‹</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># tar xf mysql-5.6.31.tar.gz# cd mysql-5.6.31<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç¬¬ä¸‰æ­¥ï¼šä½¿ç”¨cmakeé…ç½®MySQLçš„å®‰è£…å‘å¯¼</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim cmake.shcmake . \-DCMAKE_INSTALL_PREFIX=/usr/local/mysql/ \-DMYSQL_DATADIR=/usr/local/mysql/data \-DENABLED_LOCAL_INFILE=1 \-DWITH_INNOBASE_STORAGE_ENGINE=1 \-DMYSQL_TCP_PORT=3306 \-DDEFAULT_CHARSET=utf8mb4 \-DDEFAULT_COLLATION=utf8mb4_general_ci \-DWITH_EXTRA_CHARSETS=all \-DMYSQL_USER=mysql# chmod +x cmake.sh# ./cmake.sh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬å››æ­¥ï¼šmake &amp;&amp; make install</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># make &amp;&amp; make install<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬äº”æ­¥ï¼šæ›´æ”¹ç›®å½•æƒé™ä»¥åŠåˆå§‹åŒ–æ•°æ®åº“</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chown -R mysql.mysql /usr/local/mysql# cd /usr/local/mysqlåˆ é™¤/etc/my.cnfæ–‡ä»¶ï¼Œå¦‚æœä¸åˆ é™¤æ­¤æ–‡ä»¶ï¼Œä¼šå¯¼è‡´åˆå§‹åŒ–å¤±è´¥# rm -f /etc/my.cnfåˆå§‹åŒ–å°±æ˜¯ç»™mysqlæ•°æ®åº“ä¸€äº›åˆå§‹åŒ–çš„æ•°æ®ï¼ˆå¦‚è´¦å·ã€å¯†ç ã€æ•°æ®æ–‡ä»¶ï¼Œll dataï¼‰# ./scripts/mysql_install_db --user=mysql# ll dataè¿™ä¸ªç›®å½•å¦‚æœäº§ç”Ÿäº†ä¸€ä¸ªmysqlçš„æ–‡ä»¶å¤¹å°±ä»£è¡¨åˆå§‹åŒ–æˆåŠŸäº†<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬å…­æ­¥ï¼šæŠŠmysqlçš„å¯åŠ¨è„šæœ¬copyåˆ°/etc/init.dç›®å½•ä¸‹ï¼Œèµ·ä¸€ä¸ªåç§°å«åšmysql</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cp support-files/mysql.server /etc/init.d/mysql# service mysql start<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç¬¬ä¸ƒæ­¥ï¼šè®¾ç½®å¯†ç ä¸ç¯å¢ƒå˜é‡</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cd /usr/local/mysql# bin/mysqladmin -u root password '123'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><blockquote><p>ç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œå¯†ç ä¸€å®šè¦è¶Šå¤æ‚è¶Šå¥½</p></blockquote><p>ç¬¬å…«æ­¥ï¼šæŠŠ/usr/local/mysql/binç›®å½•æ·»åŠ åˆ°ç¯å¢ƒå˜é‡</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># echo 'export PATH=$PATH:/usr/local/mysql/bin' &gt;&gt; /etc/profile# source /etc/profile# mysql -uroot -pEnter password:123mysql&gt; exit;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="å››ã€ç¼–è¯‘å®‰è£…Apacheè½¯ä»¶"><a href="#å››ã€ç¼–è¯‘å®‰è£…Apacheè½¯ä»¶" class="headerlink" title="å››ã€ç¼–è¯‘å®‰è£…Apacheè½¯ä»¶"></a>å››ã€ç¼–è¯‘å®‰è£…Apacheè½¯ä»¶</h1><h2 id="1ã€æºç å®‰è£…ä¾èµ–è½¯ä»¶apr"><a href="#1ã€æºç å®‰è£…ä¾èµ–è½¯ä»¶apr" class="headerlink" title="1ã€æºç å®‰è£…ä¾èµ–è½¯ä»¶apr"></a>1ã€æºç å®‰è£…ä¾èµ–è½¯ä»¶apr</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">å®‰è£…aprè½¯ä»¶ï¼š# tar xf apr-1.5.2.tar.bz2# cd apr-1.5.2# ./configure &amp;&amp; make &amp;&amp; make installå®‰è£…apr-utilè½¯ä»¶ï¼š# tar xf apr-util-1.5.4.tar.bz2# cd apr-util-1.5.4/# ./configure --with-apr=/usr/local/apr/bin/apr-1-config    æŒ‡å®šè½¯ä»¶aprçš„è·¯å¾„# make &amp;&amp; make install<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2ã€ç¼–è¯‘å®‰è£…Apacheè½¯ä»¶ï¼ˆé‡ç‚¹ï¼‰"><a href="#2ã€ç¼–è¯‘å®‰è£…Apacheè½¯ä»¶ï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="2ã€ç¼–è¯‘å®‰è£…Apacheè½¯ä»¶ï¼ˆé‡ç‚¹ï¼‰"></a>2ã€ç¼–è¯‘å®‰è£…Apacheè½¯ä»¶ï¼ˆé‡ç‚¹ï¼‰</h2><p>ç¬¬ä¸€æ­¥ï¼šè§£å‹è½¯ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum remove httpd -y# tar xf httpd-2.4.37.tar.bz2# cd httpd-2.4.37<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬äºŒæ­¥ï¼šç¼–å†™apache.shè„šæœ¬è¿›è¡Œè½¯ä»¶å®‰è£…</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim apache.sh./configure \--enable-modules=all \--enable-mods-shared=all \--enable-so \--enable-rewrite \--with-pcre \--enable-ssl \--with-mpm=prefork \--with-apr=/usr/local/apr/bin/apr-1-config \--with-apr-util=/usr/local/apr/bin/apu-1-config<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬ä¸‰æ­¥ï¼šç»™äºˆxæƒé™ï¼Œç„¶åmake &amp;&amp; make  install</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chmod +x apache.sh# ./apache.sh# make &amp;&amp; make install<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬å››æ­¥ï¼šè¿è¡ŒApacheè½¯ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cd /usr/local/apache2/# bin/apachectl<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><img src="/../assets/blog_res/DNS%E5%9F%9F%E5%90%8D%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E4%B8%8ELAMP%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85.assets/image-20200416173436794.png" alt="image-20200416173436794"></p><h1 id="äº”ã€æºç å®‰è£…PHPè½¯ä»¶"><a href="#äº”ã€æºç å®‰è£…PHPè½¯ä»¶" class="headerlink" title="äº”ã€æºç å®‰è£…PHPè½¯ä»¶"></a>äº”ã€æºç å®‰è£…PHPè½¯ä»¶</h1><h2 id="1ã€å®‰è£…è¯´æ˜"><a href="#1ã€å®‰è£…è¯´æ˜" class="headerlink" title="1ã€å®‰è£…è¯´æ˜"></a>1ã€å®‰è£…è¯´æ˜</h2><p>ç¬¬ä¸€æ­¥ï¼šå¯¹è½¯ä»¶è¿›è¡Œè§£å‹ç¼©</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># tar xf php-7.2.17.tar.xz# cd php-7.2.17<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç¬¬äºŒæ­¥ï¼šå¯¹phpæºç è¿›è¡Œä¸€ä¸ªé…ç½®</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim php.sh./configure \--with-apxs2=/usr/local/apache2/bin/apxs \--with-mysqli \--with-pdo-mysql \--with-zlib \--with-curl \--enable-zip \--with-gd \--with-freetype-dir \--with-jpeg-dir \--with-png-dir \--enable-sockets \--with-xmlrpc \--enable-soap \--enable-opcache \--enable-mbstring \--enable-mbregex \--enable-pcntl \--enable-shmop \--enable-sysvmsg \--enable-sysvsem \--enable-sysvshm \--enable-calendar \--enable-bcmath# chmod +x php.sh# ./php.sh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬ä¸‰æ­¥ï¼šè§£å†³PHPä¾èµ–å…³ç³»</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">configure: error: libxml2 not found. Please check your libxml2 installation.<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å‡ºç°ä»¥ä¸Šæç¤ºï¼Œä»£è¡¨phpä¸å…¶ä»–è½¯ä»¶å­˜åœ¨ä¾èµ–å…³ç³»ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install libxml2-devel -y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é™¤äº†ä»¥ä¸Šè¿™ä¸ªä¾èµ–ä»¥å¤–ï¼Œè¿˜å­˜åœ¨å…¶ä»–ä¾èµ–ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install libjpeg-devel libpng-devel freetype-devel -y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬å››æ­¥ï¼šç¼–è¯‘+å®‰è£…</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># make &amp;&amp; make install<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬äº”æ­¥ï¼šæ£€æŸ¥phpæœ‰æ²¡æœ‰å®‰è£…æˆåŠŸ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ls /usr/local/apache2/modules/libphp7.so<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="2ã€é…ç½®Apacheä¸PHP"><a href="#2ã€é…ç½®Apacheä¸PHP" class="headerlink" title="2ã€é…ç½®Apacheä¸PHP"></a>2ã€é…ç½®Apacheä¸PHP</h2><p>ç¬¬ä¸€æ­¥ï¼šæ‰“å¼€Apacheçš„é…ç½®æ–‡ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /usr/local/apache2/conf/httpd.conf209è¡Œ ServerName localhost:80<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç¬¬äºŒæ­¥ï¼šé…ç½®Apacheè¯­è¨€æ”¯æŒï¼ˆæ”¯æŒä¸­æ–‡ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">159è¡Œ LoadModule negotiation_module modules/mod_negotiation.so æ­¤æ¨¡å—æ‰“å¼€æ³¨é‡Š483è¡Œ Include conf/extra/httpd-languages.conf  æ‰“å¼€æ­¤é€‰é¡¹ï¼Œæ‰©å±•é…ç½®æ–‡ä»¶å°±ç”Ÿæ•ˆäº†...<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç¬¬ä¸‰æ­¥ï¼šå¼€å¯å¯¹PHPçš„æ”¯æŒ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">166è¡Œ LoadModule php7_module modules/libphp7.soAddHandler php7-script .phpAddType text/html .php<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç¬¬å››æ­¥ï¼šæ·»åŠ index.phpé»˜è®¤é¦–é¡µ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">//é»˜è®¤ä¸»é¡µåŠ ä¸Šindex.php,å¹¶æ”¾åœ¨index.htmlå‰,æ”¯æŒphpçš„é¦–é¡µæ–‡ä»¶&lt;IfModule dir_module&gt;270è¡Œ    DirectoryIndex index.php index.html&lt;/IfModule&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬äº”æ­¥ï¼šè®©Apacheä¼˜å…ˆæ”¯æŒä¸­æ–‡</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /usr/local/apache2/conf/extra/httpd-languages.conf19è¡Œ DefaultLanguage zh-CN  æ‰“å¼€æ³¨é‡Šï¼Œé»˜è®¤è¯­è¨€é›†æ”¹ä¸ºä¸­æ–‡78è¡Œ LanguagePriority zh-CN en ca cs da de el eo es et fr he hr it ja ko ltz nl nn no pl pt pt-BR ru sv tr zh-TWè¯­è¨€é›†ä¼˜å…ˆé›†ï¼ŒæŠŠzh-CN å†™åˆ°å‰é¢<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>è®¾ç½®å®Œæˆåï¼Œé‡å¯Apacheè½¯ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cd /usr/local/apache2# bin/apachectl -k restart# bin/apachectl -k restartå¤‡æ³¨ï¼šå¦‚æœè¿˜ä¸è¡Œï¼Œç›´æ¥pkill httpdï¼Œç„¶åbin/apachectlå¯åŠ¨<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="3ã€ç¼–å†™phpæµ‹è¯•è„šæœ¬"><a href="#3ã€ç¼–å†™phpæµ‹è¯•è„šæœ¬" class="headerlink" title="3ã€ç¼–å†™phpæµ‹è¯•è„šæœ¬"></a>3ã€ç¼–å†™phpæµ‹è¯•è„šæœ¬</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cd /usr/local/apache2/htdocs   htdocså°±æ˜¯apacheçš„é»˜è®¤é¡¹ç›®ç›®å½•# rm -f index.html# vim index.php&lt;?php        phpinfo();?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åˆ°æ­¤ï¼ŒLAMPæºç ç¼–è¯‘å®‰è£…å°±ç»“æŸäº†ï¼</p><h1 id="å…­ã€ä½¿ç”¨LAMPéƒ¨ç½²Webé¡¹ç›®"><a href="#å…­ã€ä½¿ç”¨LAMPéƒ¨ç½²Webé¡¹ç›®" class="headerlink" title="å…­ã€ä½¿ç”¨LAMPéƒ¨ç½²Webé¡¹ç›®"></a>å…­ã€ä½¿ç”¨LAMPéƒ¨ç½²Webé¡¹ç›®</h1><h2 id="1ã€ä¸‹è½½wordpressåšå®¢ç³»ç»Ÿ"><a href="#1ã€ä¸‹è½½wordpressåšå®¢ç³»ç»Ÿ" class="headerlink" title="1ã€ä¸‹è½½wordpressåšå®¢ç³»ç»Ÿ"></a>1ã€ä¸‹è½½wordpressåšå®¢ç³»ç»Ÿ</h2><p>wordpress-4.7.3-zh_CN.tar.gz</p><h2 id="2ã€è§£å‹"><a href="#2ã€è§£å‹" class="headerlink" title="2ã€è§£å‹"></a>2ã€è§£å‹</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># tar xf wordpress-4.7.3-zh_CN.tar.gz<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="3ã€åˆ›å»ºä¸€ä¸ªé¡¹ç›®ç›®å½•"><a href="#3ã€åˆ›å»ºä¸€ä¸ªé¡¹ç›®ç›®å½•" class="headerlink" title="3ã€åˆ›å»ºä¸€ä¸ªé¡¹ç›®ç›®å½•"></a>3ã€åˆ›å»ºä¸€ä¸ªé¡¹ç›®ç›®å½•</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mkdir /www# mv wordpress /www/blog# chown -R daemon.daemon /www/blog/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="4ã€é…ç½®è™šæ‹Ÿä¸»æœº-ä¸€å°æœåŠ¡å™¨å¤šä¸ªé¡¹ç›®"><a href="#4ã€é…ç½®è™šæ‹Ÿä¸»æœº-ä¸€å°æœåŠ¡å™¨å¤šä¸ªé¡¹ç›®" class="headerlink" title="4ã€é…ç½®è™šæ‹Ÿä¸»æœº(ä¸€å°æœåŠ¡å™¨å¤šä¸ªé¡¹ç›®)"></a>4ã€é…ç½®è™šæ‹Ÿä¸»æœº(ä¸€å°æœåŠ¡å™¨å¤šä¸ªé¡¹ç›®)</h2><p>æ­£å¸¸æƒ…å†µä¸‹ï¼š/usr/local/apache2/htdocsç›®å½•ä¸‹ï¼ˆç›¸å½“äº/var/www/htmlï¼‰</p><p>ä¸€å°æœåŠ¡å™¨å¤šä¸ªé¡¹ç›®ï¼šä½¿ç”¨è™šæ‹Ÿä¸»æœº</p><p>ç¬¬ä¸€æ­¥ï¼šåœ¨httpd.confé…ç½®æ–‡ä»¶ä¸­å¼€å¯è™šæ‹Ÿä¸»æœºçš„é…ç½®æ–‡ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /usr/local/apache2/conf/httpd.conf# Virtual hosts494è¡Œ Include conf/extra/httpd-vhosts.conf//æ‰“å¼€åŠ è½½è™šæ‹Ÿä¸»æœºé…ç½®æ–‡ä»¶<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç¬¬äºŒæ­¥ï¼šåœ¨/usr/local/apache2/conf/extra/httpd-vhosts.confå®šä¹‰é¡¹ç›®</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /usr/local/apache2/conf/extra/httpd-vhosts.conf<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/../assets/blog_res/DNS%E5%9F%9F%E5%90%8D%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E4%B8%8ELAMP%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85.assets/image-20200416202109513.png" alt="image-20200416202109513"></p><p>ç¬¬ä¸‰æ­¥ï¼šé‡å¯Apache</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cd /usr/local/apache2# bin/apachectl -k stop# bin/apachectl<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="5ã€åœ¨æ•°æ®åº“ä¸­åˆ›å»ºä¸€ä¸ªblogæ•°æ®åº“"><a href="#5ã€åœ¨æ•°æ®åº“ä¸­åˆ›å»ºä¸€ä¸ªblogæ•°æ®åº“" class="headerlink" title="5ã€åœ¨æ•°æ®åº“ä¸­åˆ›å»ºä¸€ä¸ªblogæ•°æ®åº“"></a>5ã€åœ¨æ•°æ®åº“ä¸­åˆ›å»ºä¸€ä¸ªblogæ•°æ®åº“</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mysql -uroot -pEnter password:123mysql&gt; create database blog default charset utf8;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="6ã€åœ¨Windowsä¸­é…ç½®æœ¬åœ°DNS"><a href="#6ã€åœ¨Windowsä¸­é…ç½®æœ¬åœ°DNS" class="headerlink" title="6ã€åœ¨Windowsä¸­é…ç½®æœ¬åœ°DNS"></a>6ã€åœ¨Windowsä¸­é…ç½®æœ¬åœ°DNS</h2><p>è¿è¡Œï¼ˆWindows + Rï¼‰ =&gt; drivers + å›è½¦ï¼šC:\Windows\System32\drivers\etc\hosts</p><p>Windowsçš„DNSæ–‡ä»¶ =&gt; å¯ä»¥åŠ«æŒåŸŸåï¼Œè‡ªå®šä¹‰åŸŸåæŒ‡å‘ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">10.1.1.13 www.blog.com<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="7ã€ä½¿ç”¨Googleæµè§ˆå™¨æˆ–Firefoxæµè§ˆå™¨å®‰è£…åšå®¢"><a href="#7ã€ä½¿ç”¨Googleæµè§ˆå™¨æˆ–Firefoxæµè§ˆå™¨å®‰è£…åšå®¢" class="headerlink" title="7ã€ä½¿ç”¨Googleæµè§ˆå™¨æˆ–Firefoxæµè§ˆå™¨å®‰è£…åšå®¢"></a>7ã€ä½¿ç”¨Googleæµè§ˆå™¨æˆ–Firefoxæµè§ˆå™¨å®‰è£…åšå®¢</h2><p>ç¬¬ä¸€æ¬¡è®¿é—®ï¼šæŠ¥403 Forbidden</p><p>åŸå› ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œhttpdä¸å…è®¸å…¶ä»–ä¸»æœºè®¿é—®é¡¹ç›®ç›®å½•</p><p>è§£å†³æ–¹æ¡ˆï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /usr/local/apache2/conf/httpd.conf<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/../assets/blog_res/DNS%E5%9F%9F%E5%90%8D%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E4%B8%8ELAMP%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85.assets/image-20200416203955556.png" alt="image-20200416203955556"></p><p>é…ç½®æ•°æ®åº“ï¼š</p><p><img src="/../assets/blog_res/DNS%E5%9F%9F%E5%90%8D%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E4%B8%8ELAMP%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85.assets/image-20200416204100546.png" alt="image-20200416204100546"></p><p>è¿è¡Œç»“æœï¼š</p><p><img src="/../assets/blog_res/DNS%E5%9F%9F%E5%90%8D%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E4%B8%8ELAMP%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85.assets/image-20231223171611263.png" alt="image-20231223171611263"></p>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SAMBAæ–‡ä»¶å…±äº«ä¸DNSåŸŸåæœåŠ¡</title>
      <link href="/2023/12/23/samba-wen-jian-gong-xiang-yu-dns-yu-ming-fu-wu/"/>
      <url>/2023/12/23/samba-wen-jian-gong-xiang-yu-dns-yu-ming-fu-wu/</url>
      
        <content type="html"><![CDATA[<h1 id="SAMBAæ–‡ä»¶å…±äº«ä¸DNSåŸŸåæœåŠ¡"><a href="#SAMBAæ–‡ä»¶å…±äº«ä¸DNSåŸŸåæœåŠ¡" class="headerlink" title="SAMBAæ–‡ä»¶å…±äº«ä¸DNSåŸŸåæœåŠ¡"></a>SAMBAæ–‡ä»¶å…±äº«ä¸DNSåŸŸåæœåŠ¡</h1><h1 id="ä¸€ã€SAMBAæ–‡ä»¶å…±äº«"><a href="#ä¸€ã€SAMBAæ–‡ä»¶å…±äº«" class="headerlink" title="ä¸€ã€SAMBAæ–‡ä»¶å…±äº«"></a>ä¸€ã€SAMBAæ–‡ä»¶å…±äº«</h1><h2 id="1ã€ä»€ä¹ˆæ˜¯SAMBA"><a href="#1ã€ä»€ä¹ˆæ˜¯SAMBA" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯SAMBA"></a>1ã€ä»€ä¹ˆæ˜¯SAMBA</h2><p>SMBï¼ˆServer Message Blockï¼‰åè®®å®ç°æ–‡ä»¶å…±äº«ï¼Œä¹Ÿç§°ä¸ºCIFSï¼ˆCommon Internet File System ï¼‰</p><p>æ˜¯Windowså’Œç±»Unixç³»ç»Ÿä¹‹é—´å…±äº«æ–‡ä»¶çš„ä¸€ç§åè®®</p><p>å®¢æˆ·ç«¯==ä¸»è¦æ˜¯Windows==ï¼›æ”¯æŒå¤šèŠ‚ç‚¹åŒæ—¶æŒ‚è½½ä»¥åŠå¹¶å‘å†™å…¥</p><p>ä¸»è¦ç”¨äºwindowså’ŒLinuxä¸‹çš„æ–‡ä»¶å…±äº«ã€æ‰“å°å…±äº«</p><p>å®ç°==åŒ¿åä¸æœ¬åœ°ç”¨æˆ·==æ–‡ä»¶å…±äº«</p><h2 id="2ã€SAMBAä¸»è¦è¿›ç¨‹"><a href="#2ã€SAMBAä¸»è¦è¿›ç¨‹" class="headerlink" title="2ã€SAMBAä¸»è¦è¿›ç¨‹"></a>2ã€SAMBAä¸»è¦è¿›ç¨‹</h2><p>smbdè¿›ç¨‹    æ§åˆ¶å‘å¸ƒå…±äº«ç›®å½•ä¸æƒé™ã€==è´Ÿè´£æ–‡ä»¶ä¼ è¾“==   ==TCP  139 445==</p><p>nmbdè¿›ç¨‹       ç”¨äºåç§°è§£ænetbios   ==UDP 137 138== ; åŸºäºNETBIOSåè®®è·å¾—è®¡ç®—æœºåç§°â€”â€”&gt;è§£æä¸ºç›¸åº”IPåœ°å€ï¼Œå®ç°ä¿¡æ¯é€šè®¯ </p><p> NetBIOSæ˜¯Network Basic Input/Output Systemçš„ç®€ç§°ï¼Œä¸€èˆ¬æŒ‡ç”¨äºå±€åŸŸç½‘é€šä¿¡çš„ä¸€å¥—API  </p><h2 id="3ã€SAMBAç¯å¢ƒå‡†å¤‡"><a href="#3ã€SAMBAç¯å¢ƒå‡†å¤‡" class="headerlink" title="3ã€SAMBAç¯å¢ƒå‡†å¤‡"></a>3ã€SAMBAç¯å¢ƒå‡†å¤‡</h2><p>ç¬¬ä¸€æ­¥ï¼šä»æ¨¡æ¿æœºä¸­å…‹éš†ä¸€å°LinuxæœåŠ¡å™¨ï¼Œå«åšSAMBA</p><p>ç¬¬äºŒæ­¥ï¼šæ›´æ”¹ä¸»æœºåç§°ä¸IPåœ°å€</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># hostnamectl set-hostname samba.itcast.cn# su# vim /etc/sysconfig/network-scripts/ifcfg-ens33BOOTPROTO=noneIPADDR=10.1.1.10NETMASK=255.255.255.0GATEWAY=10.1.1.2DNS1=8.8.8.8DNS2=114.114.114.114# systemctl restart networkæ‰©å±•ï¼šå¦‚æœæ˜¯å¤šå¼ ç½‘å¡ï¼Œå»ºè®®ä½¿ç”¨ifdown ens33ä»¥åŠifup ens33å®ç°é‡å¯ç½‘ç»œæ“ä½œ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬ä¸‰æ­¥ï¼šå…³é—­é˜²ç«å¢™ä¸SELinux</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl stop firewalld# systemctl disable firewalld# setenforce 0# vim /etc/selinux/configSELINUX=disabled<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬å››æ­¥ï¼šé…ç½®yumæº</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum clean all# yum makecache<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="4ã€SAMBAè½¯ä»¶å®‰è£…ï¼ˆæœåŠ¡å™¨æ­å»ºï¼‰"><a href="#4ã€SAMBAè½¯ä»¶å®‰è£…ï¼ˆæœåŠ¡å™¨æ­å»ºï¼‰" class="headerlink" title="4ã€SAMBAè½¯ä»¶å®‰è£…ï¼ˆæœåŠ¡å™¨æ­å»ºï¼‰"></a>4ã€SAMBAè½¯ä»¶å®‰è£…ï¼ˆæœåŠ¡å™¨æ­å»ºï¼‰</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install samba -y# rpm -qa |grep ^samba<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><blockquote><p>SAMBAä¹Ÿæ˜¯ä¸€ä¸ªC/Sæ¶æ„çš„è½¯ä»¶ï¼ŒClientä¸»è¦æ˜¯Windows</p></blockquote><h2 id="5ã€äº†è§£smbçš„é…ç½®æ–‡ä»¶"><a href="#5ã€äº†è§£smbçš„é…ç½®æ–‡ä»¶" class="headerlink" title="5ã€äº†è§£smbçš„é…ç½®æ–‡ä»¶"></a>5ã€äº†è§£smbçš„é…ç½®æ–‡ä»¶</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/samba/smb.conf[global]  å…¨å±€é€‰é¡¹workgroup = MYGROUP                 å®šä¹‰sambaæœåŠ¡å™¨æ‰€åœ¨çš„å·¥ä½œç»„server string = Samba Server Version %v         smbæœåŠ¡çš„æè¿°log file = /var/log/samba/log.%m            æ—¥å¿—æ–‡ä»¶max log size = 50                   æ—¥å¿—çš„æœ€å¤§å¤§å°KB  security = user             è®¤è¯æ¨¡å¼ï¼šshareåŒ¿å|userç”¨æˆ·å¯†ç |serverå¤–éƒ¨æœåŠ¡å™¨ç”¨æˆ·å¯†ç passdb backend = tdbsam         å¯†ç æ ¼å¼load printers = yes         åŠ è½½æ‰“å°æœºcups options = raw          æ‰“å°æœºé€‰é¡¹[homes]                 å±€éƒ¨é€‰é¡¹ï¼ˆå…±äº«åç§°ï¼‰comment = Home Directories      æè¿°browseable = no      éšè—å…±äº«åç§°writable = yes      å¯è¯»å¯å†™[printers]      å…±äº«åç§°comment = All Printers       æè¿°path = /var/spool/samba  æœ¬åœ°çš„å…±äº«ç›®å½•browseable = no  éšè—guest ok = no â€”â€”&gt;   public = no  éœ€è¦å¸å·å’Œå¯†ç è®¿é—®writable = no  â€”â€”&gt;  read only =yes ä¸å¯å†™ printable = yes      æ‰“å°é€‰é¡¹[share]path = /dir1guest ok = nowritable = yes<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="6ã€SAMBAç»¼åˆæ¡ˆä¾‹"><a href="#6ã€SAMBAç»¼åˆæ¡ˆä¾‹" class="headerlink" title="6ã€SAMBAç»¼åˆæ¡ˆä¾‹"></a>6ã€SAMBAç»¼åˆæ¡ˆä¾‹</h2><p>æ­å»ºä¸€ä¸ªSAMBAæœåŠ¡ï¼Œå…±äº«ä¸€ä¸ªç›®å½•/samba/share,å®¢æˆ·ç«¯ä½¿ç”¨user01/123é€šè¿‡windowsæˆ–è€…Linuxå¯ä»¥åœ¨è¯¥ç›®å½•é‡Œåˆ›å»ºæ–‡ä»¶åˆ é™¤æ–‡ä»¶</p><p>ç¬¬ä¸€æ­¥ï¼šSAMBAæœåŠ¡å™¨ç¯å¢ƒå‡†å¤‡</p><p>æ›´æ”¹ä¸»æœºåç§°ã€IPåœ°å€ã€å…³é—­é˜²ç«å¢™ã€SELinuxã€é…ç½®YUMæº</p><p>ç¬¬äºŒæ­¥ï¼šå®‰è£…SAMBAè½¯ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install samba -y# rpm -aq|grep  ^samba<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç¬¬ä¸‰æ­¥ï¼šæŸ¥è¯¢SAMBAç”Ÿæˆæ–‡ä»¶åˆ—è¡¨ï¼ˆrpm  -qlï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rpm -ql samba/usr/sbin/smbd/usr/sbin/nmbd/usr/lib/systemd/system/smb.service/usr/lib/systemd/system/nmb.service<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬å››æ­¥ï¼šåœ¨æœåŠ¡å™¨ç«¯åˆ›å»ºä¸€ä¸ªå…±äº«ç›®å½•</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mkdir /samba/share -p<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬äº”æ­¥ï¼šç¼–è¾‘/etc/smb.confé…ç½®æ–‡ä»¶ï¼Œå®ç°SAMBAå…±äº«</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/samba/smb.conf...[smb_share]        comment = samba service        path = /samba/share        guest ok = no        writable = yesæˆ–è€…[samba_share]        path = /samba/share        public = no        writable = yeså¤‡æ³¨ï¼šguest ok === public<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬å…­æ­¥ï¼šåˆ›å»ºä¸€ä¸ªuser01ç”¨æˆ·ï¼Œç„¶åæ·»åŠ åˆ°sambaè®¤è¯ä¸­ï¼Œè®¾ç½®å¯†ç ä¸º123</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># useradd user01# smbpasswd -a user01New SMB password:123Retype new SMB password:123Added user user01.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä»¥ä¸Šæ“ä½œå®Œæˆåï¼Œåˆ™SAMBAç³»ç»Ÿä¸­å¢åŠ äº†ä¸€ä¸ªuser01çš„è´¦å·ä»¥åŠ123çš„å¯†ç </p><p>ç¬¬ä¸ƒæ­¥ï¼šå¯åŠ¨nmbä¸smbæœåŠ¡</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl start nmb# systemctl start smb<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç¬¬å…«æ­¥ï¼šåŸºäºWindowsæˆ–Linuxå®ç°æ–‡ä»¶å…±äº«</p><p>Windowsï¼š</p><p>â‘  é¦–å…ˆå®‰è£…SAMBAæ”¯æŒWindows + Xï¼Œé€‰æ‹©æ§åˆ¶é¢æ¿</p><p><img src="/../assets/blog_res/SAMBA%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB%E4%B8%8EDNS%E5%9F%9F%E5%90%8D%E6%9C%8D%E5%8A%A1.assets/image-20200415112837084.png" alt="image-20200415112837084"></p><p>â‘¡ æ‰¾åˆ°WindowsåŠŸèƒ½é€‰é¡¹</p><p><img src="/../assets/blog_res/SAMBA%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB%E4%B8%8EDNS%E5%9F%9F%E5%90%8D%E6%9C%8D%E5%8A%A1.assets/image-20200415112918419.png" alt="image-20200415112918419"></p><p>â‘¢ å®‰è£…SAMBAåŠŸèƒ½ï¼ˆå®¢æˆ·ç«¯ï¼‰</p><p><img src="/../assets/blog_res/SAMBA%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB%E4%B8%8EDNS%E5%9F%9F%E5%90%8D%E6%9C%8D%E5%8A%A1.assets/image-20200415113145929.png" alt="image-20200415113145929"></p><p>â‘£ è¿›å…¥è®¡ç®—æœºï¼ˆæˆ‘çš„ç”µè„‘ï¼‰ï¼Œæ‰¾åˆ°æ˜ å°„ç½‘ç»œé©±åŠ¨å™¨</p><p><img src="/../assets/blog_res/SAMBA%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB%E4%B8%8EDNS%E5%9F%9F%E5%90%8D%E6%9C%8D%E5%8A%A1.assets/image-20200415113252801.png" alt="image-20200415113252801"></p><p>è®¾ç½®SAMBAæœåŠ¡å™¨çš„åœ°å€ä¿¡æ¯ï¼š</p><p> <img src="/../assets/blog_res/SAMBA%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB%E4%B8%8EDNS%E5%9F%9F%E5%90%8D%E6%9C%8D%E5%8A%A1.assets/image-20200415113349174.png" alt="image-20200415113349174"></p><p>10.1.1.10 =&gt; LinuxæœåŠ¡å™¨çš„IPåœ°å€</p><p>smb_share =&gt; SAMBAæ ‡ç­¾</p><blockquote><p>æŒ‚è½½å®Œæˆåï¼Œç›®å½•ä¸å¯å†™ï¼Ÿç­”ï¼šä¸»è¦åŸå› åœ¨äº/samba/shareç›®å½•æ²¡æœ‰å†™å…¥æƒé™</p></blockquote><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># setfacl -m u:user01:rwx /samba/share<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬ä¹æ­¥ï¼šåŸºäºLinuxæˆ–Linuxå®ç°æ–‡ä»¶å…±äº«</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># smbclient -L 10.1.1.10 -U user01<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä½¿ç”¨smbclientæŸ¥çœ‹ç›®å½•ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># smbclient //10.1.1.10/smb_share -U user01<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æŠŠSAMBAæŒ‚è½½åˆ°Linuxç³»ç»Ÿï¼ˆç±»ä¼¼NFSï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mkdir /u01# mount.cifs -o user=user01,pass=123 //10.1.1.10/smb_share /u01<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>è®¿é—®æ§åˆ¶è¯´æ˜ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">æ§åˆ¶è¯»å†™æƒé™writable = yes/noreadonly = yes/noå¦‚æœèµ„æºå¯å†™ï¼Œä½†åªå…è®¸æŸäº›ç”¨æˆ·å¯å†™ï¼Œå…¶ä»–éƒ½æ˜¯åªè¯»write list = admin, root, @staffï¼ˆç”¨æˆ·ç»„ï¼‰read list = mary, @studentsæ§åˆ¶è®¿é—®å¯¹è±¡valid users = tom,mary,@itcastinvalid users = tomæ³¨æ„ï¼šä»¥ä¸Šä¸¤ä¸ªé€‰é¡¹åªèƒ½å­˜åœ¨å…¶ä¸­ä¸€ä¸ªç½‘ç»œè®¿é—®æ§åˆ¶ï¼šhosts deny = 192.168.0.   æ‹’ç»æŸä¸ªç½‘æ®µhosts allow = 192.168.0.254  å…è®¸æŸä¸ªIPhosts deny = all  æ‹’ç»æ‰€æœ‰hosts allow = 192.168.0. EXCEPT 192.168.0.254  å…è®¸æŸä¸ªç½‘æ®µï¼Œä½†æ‹’ç»æŸä¸ªå•ä¸ªIPæ³¨æ„ï¼šdenyå’ŒallowåŒæ—¶å­˜åœ¨ï¼Œallowä¼˜å…ˆ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="7ã€æ€»ç»“"><a href="#7ã€æ€»ç»“" class="headerlink" title="7ã€æ€»ç»“"></a>7ã€æ€»ç»“</h2><ol><li>ftp å±€åŸŸç½‘å’Œå¤–ç½‘éƒ½å¯ä»¥</li><li>nfs  å±€åŸŸç½‘  æŒ‚è½½æ–¹å¼è®¿é—®  mount.nfs  ä¾§é‡äºLinuxä¸Linuxä¹‹é—´</li><li>samba å±€åŸŸç½‘  ç›´æ¥è®¿é—®(smbclinet)æŒ‚è½½çš„æ–¹å¼mount.cifs  ä¾§é‡äºWindowsä¸Linuxä¹‹é—´</li></ol><h1 id="äºŒã€DNSåŸŸåç®¡ç†ç³»ç»Ÿ"><a href="#äºŒã€DNSåŸŸåç®¡ç†ç³»ç»Ÿ" class="headerlink" title="äºŒã€DNSåŸŸåç®¡ç†ç³»ç»Ÿ"></a>äºŒã€DNSåŸŸåç®¡ç†ç³»ç»Ÿ</h1><h2 id="1ã€ä»»åŠ¡èƒŒæ™¯"><a href="#1ã€ä»»åŠ¡èƒŒæ™¯" class="headerlink" title="1ã€ä»»åŠ¡èƒŒæ™¯"></a>1ã€ä»»åŠ¡èƒŒæ™¯</h2><p><img src="/../assets/blog_res/SAMBA%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB%E4%B8%8EDNS%E5%9F%9F%E5%90%8D%E6%9C%8D%E5%8A%A1.assets/image-20200415141710221.png" alt="image-20200415141710221"></p><p>è§£æå†…ç½‘åŸŸåï¼Œèƒ½å¤Ÿè®¿é—®å†…ç½‘webåº”ç”¨ã€‚æŠŠ <a href="http://www.itcast.cluster/">www.itcast.cluster</a>   è§£æåˆ°å†…ç½‘æœåŠ¡å™¨IP</p><h2 id="2ã€DNSæ¦‚è¿°"><a href="#2ã€DNSæ¦‚è¿°" class="headerlink" title="2ã€DNSæ¦‚è¿°"></a>2ã€DNSæ¦‚è¿°</h2><p><strong>DNSï¼ˆdomain name system ï¼‰ åŸŸåç®¡ç†ç³»ç»Ÿ</strong></p><ul><li>åŸŸåï¼š</li></ul><p>ç”±ç‰¹å®šçš„æ ¼å¼ç»„æˆï¼Œç”¨æ¥è¡¨ç¤ºäº’è”ç½‘ä¸­==æŸä¸€å°è®¡ç®—æœºæˆ–è€…è®¡ç®—æœºç»„çš„åç§°==ï¼Œèƒ½å¤Ÿä½¿äººæ›´æ–¹ä¾¿çš„è®¿é—®äº’è”ç½‘ï¼Œè€Œä¸ç”¨è®°ä½èƒ½å¤Ÿè¢«æœºå™¨ç›´æ¥è¯»å–çš„IPåœ°å€ã€‚</p><p>è®¡ç®—æœº =&gt; IPåœ°å€ï¼Œäº’è”ç½‘ä¸­çš„è®¡ç®—æœºéƒ½æ˜¯é€šè¿‡IPåœ°å€è¿›è¡Œäº’ç›¸è®¿é—®çš„ã€‚(IPåœ°å€è¿‡äºå¤æ‚)</p><p>åŸŸåï¼šä»£æ›¿IPå®ç°è®¡ç®—æœºçš„è®¿é—®ï¼ˆé«˜çº§ =&gt; ä¸Šå±‚åº”ç”¨ï¼Œåº•å±‚è¿˜æ˜¯IPåœ°å€ï¼‰</p><p>æ¯ä¸ªåŸŸå =&gt;  DNSæœåŠ¡å™¨  =&gt; å¯¹åº”çš„IPåœ°å€</p><h3 id="â˜†-DNSçš„æ­£å‘è§£æ"><a href="#â˜†-DNSçš„æ­£å‘è§£æ" class="headerlink" title="â˜† DNSçš„æ­£å‘è§£æ"></a>â˜† DNSçš„æ­£å‘è§£æ</h3><p>åŸŸåçš„==æ­£å‘è§£æ==</p><p>å°†ä¸»æœºåŸŸåè½¬æ¢ä¸ºå¯¹åº”çš„IP åœ°å€ï¼Œä»¥ä¾¿ç½‘ç»œç¨‹åºèƒ½å¤Ÿé€šè¿‡ä¸»æœºåŸŸåè®¿é—®åˆ°å¯¹åº”çš„æœåŠ¡å™¨ä¸»æœº</p><p><strong>åŸŸåâ€”â€”&gt;IP</strong>Aè®°å½•</p><h3 id="â˜†-DNSçš„åå‘è§£æ"><a href="#â˜†-DNSçš„åå‘è§£æ" class="headerlink" title="â˜† DNSçš„åå‘è§£æ"></a>â˜† DNSçš„åå‘è§£æ</h3><p>åŸŸåçš„==åå‘è§£æ==</p><p>å°†ä¸»æœºçš„IPåœ°å€è½¬æ¢ä¸ºå¯¹åº”çš„åŸŸåï¼Œä»¥ä¾¿ç½‘ç»œï¼ˆæœåŠ¡ï¼‰ç¨‹åºèƒ½å¤Ÿé€šè¿‡IPåœ°å€æŸ¥è¯¢åˆ°ä¸»æœºçš„åŸŸå</p><p><strong>IPâ€”â€”&gt;åŸŸå</strong>PTRè®°å½•</p><h2 id="3ã€DNSçš„ç»“æ„"><a href="#3ã€DNSçš„ç»“æ„" class="headerlink" title="3ã€DNSçš„ç»“æ„"></a>3ã€DNSçš„ç»“æ„</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">åŸŸåï¼šwww.itheima.comDNSç»“æ„ï¼šwww.itheima.com.  =&gt;  ä»å³å‘å·¦è§£æ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><img src="/../assets/blog_res/SAMBA%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB%E4%B8%8EDNS%E5%9F%9F%E5%90%8D%E6%9C%8D%E5%8A%A1.assets/image-20200415143616891.png" alt="image-20200415143616891"></p><h3 id="â˜†-æ ¹åŸŸï¼ˆ-ï¼‰"><a href="#â˜†-æ ¹åŸŸï¼ˆ-ï¼‰" class="headerlink" title="â˜† æ ¹åŸŸï¼ˆ.ï¼‰"></a>â˜† æ ¹åŸŸï¼ˆ.ï¼‰</h3><ul><li>åœ¨æ•´ä¸ª DNS ç³»ç»Ÿçš„æœ€ä¸Šæ–¹ä¸€å®šæ˜¯ . (å°æ•°ç‚¹) è¿™ä¸ª DNS æœåŠ¡å™¨ (ç§°ä¸º root)ï¼Œä¹Ÿå«â€æ ¹åŸŸâ€œã€‚</li><li>æ ¹åŸŸ ï¼ˆ13å° å…¨ä¸–ç•Œåªæœ‰13å°ã€‚1ä¸ªä¸ºä¸»æ ¹æœåŠ¡å™¨ï¼Œæ”¾ç½®åœ¨ç¾å›½ã€‚å…¶ä½™12ä¸ªå‡ä¸ºè¾…æ ¹æœåŠ¡å™¨ï¼Œå…¶ä¸­9ä¸ªæ”¾ç½®åœ¨ç¾å›½ï¼Œæ¬§æ´²2ä¸ªï¼Œä½äºè‹±å›½å’Œç‘å…¸ï¼Œäºšæ´²1ä¸ªï¼Œä½äºæ—¥æœ¬ã€‚ï¼‰</li></ul><h3 id="â˜†-ä¸€çº§åŸŸå"><a href="#â˜†-ä¸€çº§åŸŸå" class="headerlink" title="â˜† ä¸€çº§åŸŸå<é¡¶çº§åŸŸ|å›½å®¶åŸŸ>"></a><strong>â˜† ä¸€çº§åŸŸå&lt;é¡¶çº§åŸŸ|å›½å®¶åŸŸ&gt;</strong></h3><p>com net edu gov org cc  io| cn uk us ru ja ko </p><p>.com ï¼š å•†ä¸šå…¬å¸</p><p>.net  ï¼šäº’è”ç½‘å…¬å¸</p><p>.edu ï¼šæ•™è‚²ï¼ˆä¸­å°å­¦ã€é«˜ä¸­ã€å¤§å­¦â€¦ï¼‰</p><p>.gov ï¼šæ”¿åºœ</p><p>.ioï¼šå­˜å‚¨è®¾å¤‡ï¼Œredis</p><p>.cn   ï¼šä¸­å›½åŸŸåï¼ˆå›½å®¶åŸŸï¼‰</p><h3 id="â˜†-äºŒçº§åŸŸå-è‡ªå·±è´­ä¹°ç®¡ç†"><a href="#â˜†-äºŒçº§åŸŸå-è‡ªå·±è´­ä¹°ç®¡ç†" class="headerlink" title="â˜† äºŒçº§åŸŸå(è‡ªå·±è´­ä¹°ç®¡ç†)"></a>â˜† <strong>äºŒçº§åŸŸå</strong>(è‡ªå·±è´­ä¹°ç®¡ç†)</h3><p>qq.com**.**   baidu.com.    google.com. </p><h3 id="â˜†-åŸŸåæœºæ„"><a href="#â˜†-åŸŸåæœºæ„" class="headerlink" title="â˜† åŸŸåæœºæ„"></a><strong>â˜† åŸŸåæœºæ„</strong></h3><p>æ”¶è´¹ï¼ˆæ–°ç½‘|ä¸‡ç½‘ï¼‰<br>è€ç‰Œå…è´¹åŸŸåï¼šTKé¡¶çº§åŸŸåã€TKåŸŸåDNSã€TKåŸŸåå•†</p><h2 id="4ã€DNSå·¥ä½œåŸç†"><a href="#4ã€DNSå·¥ä½œåŸç†" class="headerlink" title="4ã€DNSå·¥ä½œåŸç†"></a>4ã€DNSå·¥ä½œåŸç†</h2><p><img src="/../assets/blog_res/SAMBA%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB%E4%B8%8EDNS%E5%9F%9F%E5%90%8D%E6%9C%8D%E5%8A%A1.assets/image-20200415145414259.png" alt="image-20200415145414259"></p><p>å¦‚æœè¯¢é—®ä¸€æ¬¡å¾—åˆ°ç»“æœ  é€’å½’æŸ¥è¯¢    C-S<br>å¦‚æœè¯¢é—®å¤šæ¬¡å¾—åˆ°ç»“æœ  è¿­ä»£æŸ¥è¯¢    S-S </p><p>**ä¸€æ¬¡é€’å½’ å¤šæ¬¡è¿­ä»£ **</p><h2 id="5ã€digå·¥å…·ä½¿ç”¨"><a href="#5ã€digå·¥å…·ä½¿ç”¨" class="headerlink" title="5ã€digå·¥å…·ä½¿ç”¨"></a>5ã€digå·¥å…·ä½¿ç”¨</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># dig +trace www.itcast.cn  è¿½è¸ªDNSçš„è§£æè¿‡ç¨‹# dig www.itcast.cn  æ­£å‘è§£æ# dig -x IPåœ°å€    åå‘è§£æ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h1 id="ä¸‰ã€DNSæœåŠ¡å™¨çš„æ­å»º"><a href="#ä¸‰ã€DNSæœåŠ¡å™¨çš„æ­å»º" class="headerlink" title="ä¸‰ã€DNSæœåŠ¡å™¨çš„æ­å»º"></a>ä¸‰ã€DNSæœåŠ¡å™¨çš„æ­å»º</h1><h2 id="1ã€DNSæœåŠ¡å™¨ç«¯è½¯ä»¶"><a href="#1ã€DNSæœåŠ¡å™¨ç«¯è½¯ä»¶" class="headerlink" title="1ã€DNSæœåŠ¡å™¨ç«¯è½¯ä»¶"></a>1ã€DNSæœåŠ¡å™¨ç«¯è½¯ä»¶</h2><p>DNS çš„==åŸŸåè§£æ==éƒ½æ˜¯ <strong>==udp/53==</strong> . ä¸»ä»ä¹‹é—´çš„==æ•°æ®ä¼ è¾“==é»˜è®¤ä½¿ç”¨**==tcp/53==**</p><p>DNSæœåŠ¡å™¨ç«¯è½¯ä»¶ï¼š</p><p>==Bind==æ˜¯ä¸€æ¬¾å¼€æ”¾æºç çš„DNSæœåŠ¡å™¨è½¯ä»¶ï¼ŒBindç”±ç¾å›½åŠ å·å¤§å­¦Berkeleyï¼ˆä¼¯å…‹åˆ©ï¼‰åˆ†æ ¡å¼€å‘å’Œç»´æŠ¤çš„ï¼Œå…¨åä¸ºBerkeley Internet Name Domainå®ƒæ˜¯ç›®å‰ä¸–ç•Œä¸Šä½¿ç”¨æœ€ä¸ºå¹¿æ³›çš„DNSæœåŠ¡å™¨è½¯ä»¶ï¼Œæ”¯æŒå„ç§unixå¹³å°å’Œwindowså¹³å°ã€‚BINDç°åœ¨ç”±äº’è”ç½‘ç³»ç»Ÿåä¼šï¼ˆInternet Systems Consortiumï¼‰è´Ÿè´£å¼€å‘ä¸ç»´æŠ¤ã€‚</p><h2 id="2ã€DNSæœåŠ¡å™¨æ­å»º"><a href="#2ã€DNSæœåŠ¡å™¨æ­å»º" class="headerlink" title="2ã€DNSæœåŠ¡å™¨æ­å»º"></a>2ã€DNSæœåŠ¡å™¨æ­å»º</h2><h3 id="â˜†-ç¬¬ä¸€æ­¥ï¼šç¯å¢ƒå‡†å¤‡"><a href="#â˜†-ç¬¬ä¸€æ­¥ï¼šç¯å¢ƒå‡†å¤‡" class="headerlink" title="â˜† ç¬¬ä¸€æ­¥ï¼šç¯å¢ƒå‡†å¤‡"></a>â˜† ç¬¬ä¸€æ­¥ï¼šç¯å¢ƒå‡†å¤‡</h3><table><thead><tr><th>ç¼–å·</th><th>ä¸»æœºåç§°</th><th>IPåœ°å€</th><th>å¤‡æ³¨ä¿¡æ¯</th></tr></thead><tbody><tr><td>1</td><td>client.itcast.cn</td><td>10.1.1.11</td><td>clientå®¢æˆ·ç«¯ï¼Œç”¨äºæµ‹è¯•</td></tr><tr><td>2</td><td>dns.itcast.cn</td><td>10.1.1.12</td><td>dnsæœåŠ¡å™¨ï¼Œç”¨äºå®ç°åŸŸåè§£æ</td></tr><tr><td>3</td><td>web.itcast.cn</td><td>10.1.1.13</td><td>webæœåŠ¡å™¨ï¼Œç”¨äºæ­å»ºå†…éƒ¨webæœåŠ¡</td></tr></tbody></table><p>â‘  æ›´æ”¹ä¸»æœºåç§°ä¸IPåœ°å€</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># hostnamectl set-hostname client.itcast.cn# hostnamectl set-hostname dns.itcast.cn# hostnamectl set-hostname web.itcast.cn# su# vim /etc/sysconfig/network-scripts/ifcfg-ens33BOOTPROTO=noneIPADDR=10.1.1.11/10.1.1.12/10.1.1.13æ›´æ”¹UUIDç¼–å·çš„å3ä½ï¼Œå¿…é¡»æ˜¯å”¯ä¸€çš„<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â‘¡ ä½¿ç”¨MXè¿›è¡Œè¿æ¥</p><p>â‘¢ å…³é—­é˜²ç«å¢™ä¸SELinux</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl stop firewalld# systemctl disable firewalld# setenforce 0# vim /etc/selinux/configSELINUX=disabled<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â‘£ é…ç½®YUMæºï¼ˆæœ‰ç½‘é…ç½®å…¬ç½‘YUMæºã€æ— ç½‘å°±é…ç½®å…‰ç›˜æˆ–è‡ªå»ºYUMæºï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum clean all# yum makecache<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="â˜†-ç¬¬äºŒæ­¥ï¼šå®‰è£…DNSè½¯ä»¶"><a href="#â˜†-ç¬¬äºŒæ­¥ï¼šå®‰è£…DNSè½¯ä»¶" class="headerlink" title="â˜† ç¬¬äºŒæ­¥ï¼šå®‰è£…DNSè½¯ä»¶"></a>â˜† ç¬¬äºŒæ­¥ï¼šå®‰è£…DNSè½¯ä»¶</h3><p>DNSæœåŠ¡å™¨ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install bind -y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å®‰è£…å®Œæ¯•åï¼Œå¯ä»¥ä½¿ç”¨rpm  -qæŸ¥è¯¢æ˜¯å¦å®‰è£…æˆåŠŸï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rpm -q bind# rpm -ql bind# æ—¥å¿—è½®è½¬æ–‡ä»¶/etc/logrotate.d/named# é…ç½®æ–‡ä»¶ç›®å½•/etc/named# ä¸»é…ç½®æ–‡ä»¶/etc/named.conf# zoneæ–‡ä»¶,å®šä¹‰åŸŸ/etc/named.rfc1912.zones# æœåŠ¡ç®¡ç†è„šæœ¬/usr/lib/systemd/system/named.service# äºŒè¿›åˆ¶ç¨‹åºæ–‡ä»¶/usr/sbin/named# æ£€æµ‹é…ç½®æ–‡ä»¶/usr/sbin/named-checkconf# æ£€æµ‹åŸŸæ–‡ä»¶/usr/sbin/named-checkzone# æ ¹åŸŸæœåŠ¡å™¨/var/named/named.ca# æ­£å‘è§£æåŒºåŸŸæ–‡ä»¶æ¨¡æ¿/var/named/named.localhost# åå‘è§£æåŒºåŸŸæ–‡ä»¶æ¨¡æ¿/var/named/named.loopback# dnsæœåŠ¡å™¨ä¸‹è½½æ–‡ä»¶çš„é»˜è®¤è·¯å¾„/var/named/slaves# è¿›ç¨‹pid/var/rum/named<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>findä¸»è¦ç”¨æ¥æœç´¢è®¡ç®—æœºä¸­çš„æ–‡ä»¶ï¼Œrpmä¸»è¦ç”¨æ¥æ£€æŸ¥è®¡ç®—æœºä¸­æ˜¯å¦å®‰è£…è¿‡æŸä¸ªè½¯ä»¶</p></blockquote><h3 id="â˜†-ç¬¬ä¸‰æ­¥ï¼šDNSæ­£å‘è§£æé…ç½®-åŸŸå-IP"><a href="#â˜†-ç¬¬ä¸‰æ­¥ï¼šDNSæ­£å‘è§£æé…ç½®-åŸŸå-IP" class="headerlink" title="â˜† ç¬¬ä¸‰æ­¥ï¼šDNSæ­£å‘è§£æé…ç½®(åŸŸå=>IP)"></a>â˜† ç¬¬ä¸‰æ­¥ï¼šDNSæ­£å‘è§£æé…ç½®(åŸŸå=&gt;IP)</h3><p><img src="/../assets/blog_res/SAMBA%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB%E4%B8%8EDNS%E5%9F%9F%E5%90%8D%E6%9C%8D%E5%8A%A1.assets/image-20200415162454902.png" alt="image-20200415162454902"></p><p>/etc/named.confä¸»è¦é…ç½®è®¿é—®æƒé™æ§åˆ¶ï¼ˆå“ªäº›IPæˆ–å“ªäº›ä¸»æœºå¯ä»¥è®¿é—®DNSæœåŠ¡å™¨ï¼‰</p><p>/etc/named.rfc1912.zonesä¸»è¦å®šä¹‰åŸŸåå¦‚ä½•è§£æï¼ˆæ­£å‘è§£æï¼‰ï¼Œè§£æåˆ°å…·ä½“å“ªä¸ªIPåœ°å€</p><p>â‘  å¯¹named.confä»¥åŠnamed.rfc1912.zonesè¿›è¡Œå¤‡ä»½</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">cp /etc/named.conf /etc/named.conf.bakcp /etc/named.rfc1912.zones /etc/named.rfc1912.zones.bak<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>â‘¡ named.confä¸»é…ç½®æ–‡ä»¶è¯¦è§£ï¼ˆè®¿é—®æƒé™æ§åˆ¶ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/named.conf<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ·»åŠ ä»»ä½•ä¸»æœºéƒ½å¯ä»¥è®¿é—®çš„æƒé™ï¼š</p><p><img src="/../assets/blog_res/SAMBA%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB%E4%B8%8EDNS%E5%9F%9F%E5%90%8D%E6%9C%8D%E5%8A%A1.assets/image-20200415163918871.png" alt="image-20200415163918871"></p><p>â‘¢ zoneså­é…ç½®æ–‡ä»¶è¯¦è§£ï¼ˆåŸŸååº”è¯¥æŒ‡å‘å“ªä¸ªIPåœ°å€ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/named.rfc1912.zones...zone "itcast.cluster" IN {        type master;        file "itcast.cluster.zone";        allow-update { none; };};<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>æ‰©å±• =&gt; vim =&gt; ï¼š19ï¼Œ23  co  42ï¼ŒæŠŠ19-23è¡Œï¼Œcopyåˆ°42è¡Œçš„åé¢</p></blockquote><p>â‘£ åœ¨/var/namedç›®å½•åˆ›å»ºitcast.cluster.zoneæ–‡ä»¶å®šä¹‰æ­£å‘è§£æ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cd /var/named# cp -p named.localhost itcast.cluster.zone<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><blockquote><p>æ‰©å±•ï¼š-pä»£è¡¨å¤åˆ¶æ–‡ä»¶æ—¶ä¿ç•™æ–‡ä»¶çš„åŸæœ‰å±æ€§</p></blockquote><p>â‘¤ ç¼–è¾‘itcast.cluster.zoneæ–‡ä»¶ï¼Œå®šä¹‰åŸŸåçš„æŒ‡å‘</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim itcast.cluster.zone<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/../assets/blog_res/SAMBA%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB%E4%B8%8EDNS%E5%9F%9F%E5%90%8D%E6%9C%8D%E5%8A%A1.assets/image-20200415170447838.png" alt="image-20200415170447838"></p><blockquote><p>æ‰©å±•ï¼šzoneæ–‡ä»¶çš„æ ¼å¼è¯´æ˜</p></blockquote><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">zoneæ–‡ä»¶è¯¦è§£# $TTL  ç¼“å­˜çš„ç”Ÿå­˜å‘¨æœŸ# @ = zonename = itcast.com  å½“å‰åŸŸ# IN  äº’è”ç½‘# SOA å¼€å§‹æˆæƒ# NS  dnsæœåŠ¡ç«¯nameserver# A   ipv4 æ­£å‘# AAAA IPV6# CNAME åˆ«å# MX  é‚®ä»¶äº¤äº’è®°å½•  5 æ•°å­—ä»£è¡¨ä¼˜å…ˆçº§ æ•°å­—è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜# 0       ; serial    æ›´æ–°åºåˆ—å·# 1D      ; refresh   æ›´æ–°é—´éš”ï¼ˆä»æœåŠ¡å™¨ä¸‹è½½æ•°æ®ï¼‰# 1H      ; retry     å¤±è´¥é‡è¯•# 1W      ; expire    åŒºåŸŸæ–‡ä»¶çš„è¿‡æœŸæ—¶é—´# 3H )    ; minimum   ç¼“å­˜çš„æœ€å°ç”Ÿå­˜å‘¨æœŸ# D Dayã€H Hourã€W Week<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="â˜†-ç¬¬å››æ­¥ï¼šæ£€æŸ¥named-confä¸zonesæ–‡ä»¶"><a href="#â˜†-ç¬¬å››æ­¥ï¼šæ£€æŸ¥named-confä¸zonesæ–‡ä»¶" class="headerlink" title="â˜† ç¬¬å››æ­¥ï¼šæ£€æŸ¥named.confä¸zonesæ–‡ä»¶"></a>â˜† ç¬¬å››æ­¥ï¼šæ£€æŸ¥named.confä¸zonesæ–‡ä»¶</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># named-checkconf /etc/named.conf# named-checkconf /etc/named.rfc1912.zonesæ£€æŸ¥itcast.cluster.zoneæ–‡ä»¶# cd /var/named# named-checkzone itcast.cluster.zone itcast.cluster.zone<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="â˜†-ç¬¬äº”æ­¥ï¼šå¯åŠ¨DNSæœåŠ¡ï¼ˆnamedï¼‰"><a href="#â˜†-ç¬¬äº”æ­¥ï¼šå¯åŠ¨DNSæœåŠ¡ï¼ˆnamedï¼‰" class="headerlink" title="â˜† ç¬¬äº”æ­¥ï¼šå¯åŠ¨DNSæœåŠ¡ï¼ˆnamedï¼‰"></a>â˜† ç¬¬äº”æ­¥ï¼šå¯åŠ¨DNSæœåŠ¡ï¼ˆnamedï¼‰</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl restart named# netstat -tnlp |grep named<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="3ã€WebæœåŠ¡æ­å»º"><a href="#3ã€WebæœåŠ¡æ­å»º" class="headerlink" title="3ã€WebæœåŠ¡æ­å»º"></a>3ã€WebæœåŠ¡æ­å»º</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install httpd -y# systemctl start httpd# echo 'DNS Test ...' &gt; /var/www/html/index.html<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="4ã€æµ‹è¯•DNSæœåŠ¡å™¨çš„æ­£å‘è§£æ"><a href="#4ã€æµ‹è¯•DNSæœåŠ¡å™¨çš„æ­£å‘è§£æ" class="headerlink" title="4ã€æµ‹è¯•DNSæœåŠ¡å™¨çš„æ­£å‘è§£æ"></a>4ã€æµ‹è¯•DNSæœåŠ¡å™¨çš„æ­£å‘è§£æ</h2><p>Clientï¼šå®¢æˆ·ç«¯æœåŠ¡å™¨æ“ä½œ</p><h3 id="â˜†-æ·»åŠ DNSæœåŠ¡å™¨"><a href="#â˜†-æ·»åŠ DNSæœåŠ¡å™¨" class="headerlink" title="â˜† æ·»åŠ DNSæœåŠ¡å™¨"></a>â˜† æ·»åŠ DNSæœåŠ¡å™¨</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ä¸´æ—¶echo 'nameserver 10.1.1.12' &gt; /etc/resolv.confæ³¨ï¼šç”µè„‘é‡å¯ï¼Œç½‘ç»œåˆ·æ–°restart networkï¼ŒVMwareæŒ‚èµ·ï¼Œä¸´æ—¶DNSéƒ½ä¼šå¤±æ•ˆ# æ°¸ä¹…æ·»åŠ vim /etc/sysconfig/network-scripts/ifcfg-ens33DNS=10.1.1.12<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="â˜†-ä½¿ç”¨nslookupæ£€æµ‹æ­£å‘è§£ææ˜¯å¦ç”Ÿæ•ˆ"><a href="#â˜†-ä½¿ç”¨nslookupæ£€æµ‹æ­£å‘è§£ææ˜¯å¦ç”Ÿæ•ˆ" class="headerlink" title="â˜† ä½¿ç”¨nslookupæ£€æµ‹æ­£å‘è§£ææ˜¯å¦ç”Ÿæ•ˆ"></a>â˜† ä½¿ç”¨nslookupæ£€æµ‹æ­£å‘è§£ææ˜¯å¦ç”Ÿæ•ˆ</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># nslookup www.itcast.cluster<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â˜†-ä½¿ç”¨elinkså‘½ä»¤è¡Œæµè§ˆå™¨æˆ–curlæ¥å®ç°è®¿é—®"><a href="#â˜†-ä½¿ç”¨elinkså‘½ä»¤è¡Œæµè§ˆå™¨æˆ–curlæ¥å®ç°è®¿é—®" class="headerlink" title="â˜† ä½¿ç”¨elinkså‘½ä»¤è¡Œæµè§ˆå™¨æˆ–curlæ¥å®ç°è®¿é—®"></a>â˜† ä½¿ç”¨elinkså‘½ä»¤è¡Œæµè§ˆå™¨æˆ–curlæ¥å®ç°è®¿é—®</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install elinks -y# elinksè¾“å…¥www.itcast.cluster<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># curl http://www.itcast.cluster<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>FTPã€NFSä»¥åŠSAMBAæœåŠ¡ä¸‹</title>
      <link href="/2023/12/23/ftp-nfs-yi-ji-samba-fu-wu-xia/"/>
      <url>/2023/12/23/ftp-nfs-yi-ji-samba-fu-wu-xia/</url>
      
        <content type="html"><![CDATA[<h1 id="FTPã€NFSä»¥åŠSAMBAæœåŠ¡"><a href="#FTPã€NFSä»¥åŠSAMBAæœåŠ¡" class="headerlink" title="FTPã€NFSä»¥åŠSAMBAæœåŠ¡"></a>FTPã€NFSä»¥åŠSAMBAæœåŠ¡</h1><h1 id="ä¸€ã€FTPæœåŠ¡"><a href="#ä¸€ã€FTPæœåŠ¡" class="headerlink" title="ä¸€ã€FTPæœåŠ¡"></a>ä¸€ã€FTPæœåŠ¡</h1><h2 id="1ã€Linuxä¸‹ftpå®¢æˆ·ç«¯ç®¡ç†å·¥å…·"><a href="#1ã€Linuxä¸‹ftpå®¢æˆ·ç«¯ç®¡ç†å·¥å…·" class="headerlink" title="1ã€Linuxä¸‹ftpå®¢æˆ·ç«¯ç®¡ç†å·¥å…·"></a>1ã€Linuxä¸‹ftpå®¢æˆ·ç«¯ç®¡ç†å·¥å…·</h2><p>ftpã€lftpéƒ½æ˜¯Linuxä¸‹ftpçš„å®¢æˆ·ç«¯ç®¡ç†å·¥å…·ï¼Œä½†æ˜¯éœ€è¦ç‹¬ç«‹å®‰è£…</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install ftp lftp -y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â˜†-ftpå·¥å…·"><a href="#â˜†-ftpå·¥å…·" class="headerlink" title="â˜† ftpå·¥å…·"></a>â˜† ftpå·¥å…·</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ftp 10.1.1.10Connected to 10.1.1.10 (10.1.1.10).220 (vsFTPd 3.0.2)Name (10.1.1.10:root): è¾“å…¥FTPçš„è´¦å·331 Please specify the password.Password: è¾“å…¥FTPè´¦å·å¯¹åº”çš„å¯†ç 230 Login successful.Remote system type is UNIX.Using binary mode to transfer files.ftp&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ±‚å¸®åŠ©ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">ftp&gt; ?æˆ–helpCommands may be abbreviated.  Commands are:!               debug           mdir            sendport        site$               dir             mget            put             sizeaccount         disconnect      mkdir           pwd             statusappend          exit            mls             quit            structascii           form            mode            quote           systembell            get             modtime         recv            suniquebinary          glob            mput            reget           tenexbye             hash            newer           rstatus         tickcase            help            nmap            rhelp           tracecd              idle            nlist           rename          typecdup            image           ntrans          reset           userchmod           lcd             open            restart         umaskclose           ls              prompt          rmdir           verbosecr              macdef          passive         runique         ?delete          mdelete         proxy           send<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬ä¸€ä¸ªå‘½ä»¤ï¼šlså‘½ä»¤</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">ftp&gt; ls<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æŸ¥çœ‹å½“å‰è¿æ¥çš„FTPç›®å½•ä¸‹æœ‰å“ªäº›æ–‡ä»¶ã€‚</p><p>ç¬¬äºŒä¸ªå‘½ä»¤ï¼ˆå¿«æ·é”®ï¼‰ï¼šCtrl  + Shift + L</p><p>Ctrl + Shift + Lä»£è¡¨æ¸…å±å‘½ä»¤</p><p>ç¬¬ä¸‰ä¸ªå‘½ä»¤ï¼šhelpå‘½ä»¤</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">ftp&gt; help putput             send one file<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç¬¬å››ä¸ªå‘½ä»¤ï¼šputä¸getå‘½ä»¤</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">ftp&gt; put æœ¬åœ°æ–‡ä»¶è·¯å¾„+åç§° ä¸Šä¼ ftp&gt; get è¿œç¨‹æ–‡ä»¶è·¯å¾„+åç§° ä¸‹è½½<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç¬¬äº”ä¸ªå‘½ä»¤ï¼šæ‰¹é‡ä¸Šä¼ æˆ–ä¸‹è½½å¤šä¸ªæ–‡ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">ftp&gt; mput æ–‡ä»¶åç§°1 æ–‡ä»¶åç§°2 æ–‡ä»¶åç§°3 ...ftp&gt; mget æ–‡ä»¶åç§°1 æ–‡ä»¶åç§°2 æ–‡ä»¶åç§°3 ...<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç¬¬å…­ä¸ªå‘½ä»¤ï¼špromptå±è”½æ‰¹é‡è¾“å‡ºä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">ftp&gt; promptInteractive mode on.=&gt; å¼€å¯æç¤ºftp&gt; promptInteractive mode off.=&gt; å…³é—­æç¤º<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬ä¸ƒä¸ªå‘½ä»¤ï¼šquitå‘½ä»¤</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">ftp&gt; quit<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â˜†-lftpå·¥å…·ï¼šæ‰¹é‡æ“ä½œ"><a href="#â˜†-lftpå·¥å…·ï¼šæ‰¹é‡æ“ä½œ" class="headerlink" title="â˜† lftpå·¥å…·ï¼šæ‰¹é‡æ“ä½œ"></a>â˜† lftpå·¥å…·ï¼šæ‰¹é‡æ“ä½œ</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># lftp ç”¨æˆ·åç§°@è¿œç¨‹IPåœ°å€Password:ç”¨æˆ·åç§°å¯¹åº”çš„å¯†ç <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ±‚å¸®åŠ©ï¼šhelp</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">lftp&gt; help<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é’ˆå¯¹æŸä¸ªå‘½ä»¤æ±‚å¸®åŠ©ï¼šhelp + å‘½ä»¤</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">lftp&gt; help mirror<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæ‰¹é‡ä¸Šä¼ ï¼ˆæŠŠshopæ–‡ä»¶å¤¹ä¸Šä¼ åˆ°FTPæœåŠ¡å™¨ç«¯ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">lftp&gt; mirror -R æœ¬åœ°æ–‡ä»¶å¤¹åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæ‰¹é‡ä¸‹è½½ï¼ˆæŠŠæ•´ä¸ªFTPä¸‹è½½åˆ°æœ¬åœ°ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">lftp&gt; mirror è¿œç¨‹FTPè·¯å¾„<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="2ã€FTPçŸ¥è¯†ç‚¹è¡¥å……"><a href="#2ã€FTPçŸ¥è¯†ç‚¹è¡¥å……" class="headerlink" title="2ã€FTPçŸ¥è¯†ç‚¹è¡¥å……"></a>2ã€FTPçŸ¥è¯†ç‚¹è¡¥å……</h2><h3 id="â˜†-FTPè®¿é—®å¯¹è±¡æ§åˆ¶ï¼ˆé»‘åå•ï¼‰"><a href="#â˜†-FTPè®¿é—®å¯¹è±¡æ§åˆ¶ï¼ˆé»‘åå•ï¼‰" class="headerlink" title="â˜† FTPè®¿é—®å¯¹è±¡æ§åˆ¶ï¼ˆé»‘åå•ï¼‰"></a>â˜† FTPè®¿é—®å¯¹è±¡æ§åˆ¶ï¼ˆé»‘åå•ï¼‰</h3><p>ftpusersé»‘åå•</p><p>user_listé»˜è®¤æ˜¯é»‘åå•ï¼ˆå¯ä»¥æˆä¸ºç™½åå•ï¼‰</p><p>æ¡ˆä¾‹ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œrootè´¦å·æ˜¯å¦å…è®¸ç™»å½•FTPæœåŠ¡å™¨</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">[root@localhost ftp]# ftp 10.1.1.10Connected to 10.1.1.10 (10.1.1.10).220 (vsFTPd 3.0.2)Name (10.1.1.10:root): root530 Permission denied.Login failed.ftp&gt;åŸå› ï¼šrootç”¨æˆ·åœ¨é»‘åå•é‡Œ/etc/vsftpd/ftpusersé»‘åå•ä¸­<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šftpusersä¸       user_listé»‘åå•æ•ˆæœä¸åŒç‚¹</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">ftpusersï¼š[root@localhost ftp]# ftp 10.1.1.10Connected to 10.1.1.10 (10.1.1.10).220 (vsFTPd 3.0.2)Name (10.1.1.10:root): kefu331 Please specify the password.Password:530 Login incorrect.=&gt;       ftpusersè¢«ç¦ç”¨ï¼Œå¯ä»¥è¾“å…¥å¯†ç ï¼Œè¿”å›530Login failed.user_listï¼š[root@localhost ftp]# ftp 10.1.1.10Connected to 10.1.1.10 (10.1.1.10).220 (vsFTPd 3.0.2)Name (10.1.1.10:root): kefu530 Permission denied.Login failed.åŸå› ï¼šé»˜è®¤æƒ…å†µä¸‹user_listæ–‡ä»¶ä¹Ÿæ˜¯é»‘åå•ï¼Œå¦‚æœåœ¨è¯¥æ–‡ä»¶é‡Œç›´æ¥æ‹’ç»ï¼Œä¸ç»™è¾“å…¥å¯†ç çš„æœºä¼šã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šuser_listå¯ä»¥ä»é»‘åå•å˜æˆç™½åå•ï¼ˆå…è®¸æŸä¸ªç”¨æˆ·ç™»å½•FTPç³»ç»ŸæœåŠ¡å™¨ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">user_listè¦æˆä¸ºç™½åå•ï¼Œéœ€è¦å†é…ç½®æ–‡ä»¶é‡Œå¢åŠ ï¼šuserlist_deny=NOæ³¨æ„ï¼šå¦‚æœuser_listæ˜¯ç™½åå•ï¼Œé‚£ä¹ˆå¿…é¡»åœ¨è¯¥æ–‡ä»¶é‡Œçš„ç”¨æˆ·æ‰å¯ä»¥è®¿é—®ftpæœåŠ¡ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ€»ç»“ï¼š</p><ol><li>ç”¨æˆ·åœ¨ftpusersæ–‡ä»¶ä¸­ï¼Œé‚£ä¹ˆç”¨æˆ·ä¸èƒ½è®¿é—®ftpæœåŠ¡å™¨</li><li>ç”¨æˆ·åœ¨user_listæ–‡ä»¶ä¸­ï¼Œå¦‚æœè¯¥æ–‡ä»¶æ˜¯ç™½åå•ï¼Œé‚£ä¹ˆ==<strong>åª</strong>==åœ¨è¯¥æ–‡ä»¶ä¸­çš„ç”¨æˆ·å¯ä»¥è®¿é—®ftpæœåŠ¡</li><li>å¦‚æœuser_listæ–‡ä»¶æ˜¯ç™½åå•ï¼Œç”¨æˆ·å³åœ¨ftpusersä¸­åˆåœ¨user_listä¸­ï¼Œé‚£ä¹ˆftpusersæ‹’ç»ä¼˜å…ˆ</li></ol><h3 id="â˜†-FTPç½‘ç»œè®¿é—®æ§åˆ¶ï¼ˆé™IP-é™é€Ÿï¼‰"><a href="#â˜†-FTPç½‘ç»œè®¿é—®æ§åˆ¶ï¼ˆé™IP-é™é€Ÿï¼‰" class="headerlink" title="â˜† FTPç½‘ç»œè®¿é—®æ§åˆ¶ï¼ˆé™IP+é™é€Ÿï¼‰"></a>â˜† FTPç½‘ç»œè®¿é—®æ§åˆ¶ï¼ˆé™IP+é™é€Ÿï¼‰</h3><p>FTPå¿…é¡»æ”¯æŒtcp_wrappers</p><p>/etc/hosts.allow å…è®¸</p><p>/etc/hosts.deny  æ‹’ç»</p><p><img src="/../assets/blog_res/FTP%E3%80%81NFS%E4%BB%A5%E5%8F%8ASAMBA%E6%9C%8D%E5%8A%A1%E4%B8%8B.assets/image-20200413113242257.png" alt="image-20200413113242257"></p><h4 id="â˜†-é™åˆ¶IPåœ°å€"><a href="#â˜†-é™åˆ¶IPåœ°å€" class="headerlink" title="â˜† é™åˆ¶IPåœ°å€"></a>â˜† é™åˆ¶IPåœ°å€</h4><p>æ¡ˆä¾‹ï¼šå¦‚ä½•ç¦æ­¢æŸä¸ªIPæˆ–IPç½‘æ®µ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/hosts.denyæœåŠ¡ç¨‹åº:ä¸»æœºvsftpd:all                        å…¨éƒ¨æ‹’ç»vsftpd:all EXCEPT 192.168.0.2    æ‹’ç»æ‰€æœ‰é™¤äº†192.168.0.2  vsftpd:192.168.0.254  æ‹’ç»å•ä¸ªIPåœ°å€vsftpd:192.168.0.254:allow  //ä»¥ä¸Šæ˜¯å…è®¸192.168.0.254è®¿é—®ï¼Œç±»ä¼¼/etc/hosts.allowé‡Œå¢åŠ vsftpd:192.168.0.254vsftpd:192.168.0.0/255.255.255.0   æ‹’ç»æŸä¸ªç½‘æ®µvsftpd:192.168.0.0/255.255.255.0 EXCEPT 192.168.0.254   æ‹’ç»æŸä¸ªç½‘æ®µï¼Œä½†æ˜¯é™¤äº†æŸä¸ªipåœ°å€æ³¨æ„ï¼šå­ç½‘æ©ç ä¸æ”¯æŒ192.168.0.0/24è¿™ç§å†™æ³•vim /etc/hosts.denyvsftpd,sshd:10.1.1.1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šå¦‚ä½•åˆ¤æ–­æŸä¸ªæœåŠ¡æ˜¯å¦æ”¯æŒtcp_wrappers</p><p>1ï¼‰./configure ==â€“enable-libwrap==  è¡¨ç¤ºæ”¯æŒtcp_wrappersè®¿é—®æ§åˆ¶ï¼ˆæºç å®‰è£…çœ‹é…ç½®é¡¹ï¼‰</p><p>2ï¼‰rpmå®‰è£…(ä¹ŸåŒ…æ‹¬yumå®‰è£…)</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># lddå‘½ä»¤ +äºŒè¿›åˆ¶ç¨‹åºï¼ŒæŸ¥è¯¢æŸä¸ªè½¯ä»¶åŒ…å«å“ªäº›æ¨¡å—<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŸ¥è¯¢vsftpdä¸sshdæ˜¯å¦æ”¯æŒtcp_wrappers</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ldd /usr/sbin/vsftpd |grep libwrap*libwrap.so.0 =&gt; /lib64/libwrap.so.0 (0x00007f2956480000)# ldd /usr/sbin/sshd |grep libwrap*libwrap.so.0 =&gt; /lib64/libwrap.so.0 (0x00007f015ff29000)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="â˜†-é™åˆ¶FTPæµé‡"><a href="#â˜†-é™åˆ¶FTPæµé‡" class="headerlink" title="â˜† é™åˆ¶FTPæµé‡"></a>â˜† é™åˆ¶FTPæµé‡</h4><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/vsftpd/vsftpd.conflocal_max_rate=00ä»£è¡¨ä¸é™é€Ÿlocal_max_rate=æ•°å€¼ + å­—èŠ‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="3ã€ä½¿ç”¨ç¬¬ä¸‰æ–¹å¹³å°è§†é¢‘"><a href="#3ã€ä½¿ç”¨ç¬¬ä¸‰æ–¹å¹³å°è§†é¢‘" class="headerlink" title="3ã€ä½¿ç”¨ç¬¬ä¸‰æ–¹å¹³å°è§†é¢‘"></a>3ã€ä½¿ç”¨ç¬¬ä¸‰æ–¹å¹³å°è§†é¢‘</h2><p>ç¬¬ä¸€æ­¥ï¼šåœ¨Linuxç”µè„‘ä¸­å®‰è£…httpdï¼ˆé˜¿å¸•å¥‡ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install httpd -y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬äºŒæ­¥ï¼šå¯åŠ¨httpd</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl start httpd<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬ä¸‰æ­¥ï¼šåœ¨/var/www/htmlé¡¹ç›®ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªdemo.htmlæ–‡ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /var/www/html/demo.html&lt;iframe height=498 width=815 src='https://player.youku.com/embed/XNDU4OTM3NzM0NA==' frameborder=0 'allowfullscreen'&gt;&lt;/iframe&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h1 id="äºŒã€NFSæœåŠ¡æ¦‚è¿°"><a href="#äºŒã€NFSæœåŠ¡æ¦‚è¿°" class="headerlink" title="äºŒã€NFSæœåŠ¡æ¦‚è¿°"></a>äºŒã€NFSæœåŠ¡æ¦‚è¿°</h1><h2 id="1ã€ä»»åŠ¡èƒŒæ™¯"><a href="#1ã€ä»»åŠ¡èƒŒæ™¯" class="headerlink" title="1ã€ä»»åŠ¡èƒŒæ™¯"></a>1ã€ä»»åŠ¡èƒŒæ™¯</h2><p>â‘  æ­å»ºNFSæœåŠ¡å™¨ï¼ˆç”¨äºé™æ€èµ„æºçš„å­˜å‚¨å¦‚å›¾ç‰‡ã€è§†é¢‘ã€é™„ä»¶ï¼‰</p><p>â‘¡ ä½¿ç”¨mountæŒ‡å®šå¯¹NFSæœåŠ¡å™¨è¿›è¡ŒæŒ‚è½½ï¼ŒæŒ‚è½½åˆ°WebæœåŠ¡å™¨ä¸­</p><p>â‘¢ å¯¹NFSæœåŠ¡å™¨ä¸­çš„é™æ€èµ„æºè¿›è¡Œå®æ—¶å¤‡ä»½ï¼ˆinotify + rsyncï¼‰</p><h2 id="2ã€ç¯å¢ƒå‡†å¤‡"><a href="#2ã€ç¯å¢ƒå‡†å¤‡" class="headerlink" title="2ã€ç¯å¢ƒå‡†å¤‡"></a>2ã€ç¯å¢ƒå‡†å¤‡</h2><table><thead><tr><th>ç¼–å·</th><th>ä¸»æœºåç§°FQDN</th><th>IPåœ°å€</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>1</td><td>web.itcast.cn</td><td>10.1.1.11</td><td>WebæœåŠ¡å™¨</td></tr><tr><td>2</td><td>nfs.itcast.cn</td><td>10.1.1.12</td><td>NFSæœåŠ¡å™¨</td></tr><tr><td>3</td><td>backup.itcast.cn</td><td>10.1.1.13</td><td>BackupæœåŠ¡å™¨</td></tr></tbody></table><p>ç¬¬ä¸€æ­¥ï¼šè®¾ç½®è®¡ç®—æœºçš„åœ¨ä¸»æœºåç§°</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">Web# hostnamectl set-hostname web.itcast.cnNFS# hostnamectl set-hostname nfs.itcast.cnBackup# hostnamectl set-hostname backup.itcast.cn<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç¬¬äºŒæ­¥ï¼šè®¾ç½®IPåœ°å€</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/sysconfig/network-scripts/ifcfg-ens33BOOTPROTO=noneIPADDR=10.1.1.11   /10.1.1.13   /10.1.1.13NETMASK=255.255.255.0GATEWAY=10.1.1.2DNS1=119.29.29.29DNS2=114.114.114.114UUIDå¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œæ‰€ä»¥è¦ä¹ˆåˆ é™¤ï¼Œè¦ä¹ˆæ›´æ”¹UUIDçš„å€¼ï¼ˆæ›´æ”¹å3ä½ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬ä¸‰æ­¥ï¼šå…³é—­é˜²ç«å¢™ä¸SELinux</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">å…³é—­é˜²ç«å¢™# systemctl stop firewalld# systemctl disable firewalldå…³é—­SELinux# setenforce 0# vim /etc/selinux/configSELINUX=disabled<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬å››æ­¥ï¼šé…ç½®YUMæº</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum clean all# yum mackecache<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="3ã€NFSæ¦‚è¿°"><a href="#3ã€NFSæ¦‚è¿°" class="headerlink" title="3ã€NFSæ¦‚è¿°"></a>3ã€NFSæ¦‚è¿°</h2><p>NFSï¼ˆNetwork File Systemï¼‰ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿï¼Œä¸»è¦ç”¨äº<strong>Linuxç³»ç»Ÿ</strong>ä¸Šå®ç°æ–‡ä»¶å…±äº«çš„ä¸€ç§åè®®ï¼Œå…¶å®¢æˆ·ç«¯<strong>ä¸»è¦æ˜¯Linux</strong></p><p><strong>æ²¡æœ‰ç”¨æˆ·è®¤è¯æœºåˆ¶</strong>ï¼Œä¸”æ•°æ®åœ¨ç½‘ç»œä¸Šä¼ é€çš„æ—¶å€™æ˜¯<strong>æ˜æ–‡ä¼ é€</strong>ï¼Œä¸€èˆ¬åªèƒ½åœ¨<strong>å±€åŸŸç½‘</strong>ä¸­ä½¿ç”¨</p><p>æ”¯æŒå¤šèŠ‚ç‚¹åŒæ—¶æŒ‚è½½åŠå¹¶å‘å†™å…¥</p><p><strong>ä¼ä¸šåº”ç”¨ï¼šä¸ºé›†ç¾¤ä¸­çš„web serveræä¾›åç«¯å­˜å‚¨</strong>(åšé™æ€èµ„æºæœåŠ¡å™¨)</p><h2 id="4ã€NFSç»„æˆ"><a href="#4ã€NFSç»„æˆ" class="headerlink" title="4ã€NFSç»„æˆ"></a>4ã€NFSç»„æˆ</h2><p>rpcbind ï¼š è´Ÿè´£NFSçš„æ•°æ®ä¼ è¾“ï¼Œè¿œç¨‹è¿‡ç¨‹è°ƒç”¨  ==tcp/udpåè®® ç«¯å£111==</p><p>nfs-utils ï¼šæ§åˆ¶å…±äº«å“ªäº›æ–‡ä»¶ï¼Œæƒé™ç®¡ç†</p><blockquote><p>RPCï¼ˆRemote Procedure Call Protocolï¼‰ï¼š<br>è¿œç¨‹è¿‡ç¨‹è°ƒç”¨åè®®ï¼Œå®ƒæ˜¯ä¸€ç§é€šè¿‡ç½‘ç»œä»è¿œç¨‹è®¡ç®—æœºç¨‹åºä¸Šè¯·æ±‚æœåŠ¡ï¼Œä¸éœ€è¦äº†è§£åº•å±‚ç½‘ç»œæŠ€æœ¯çš„åè®®ã€‚</p></blockquote><p><img src="/../assets/blog_res/FTP%E3%80%81NFS%E4%BB%A5%E5%8F%8ASAMBA%E6%9C%8D%E5%8A%A1%E4%B8%8B.assets/image-20200413154315842.png" alt="image-20200413154315842"></p><h2 id="5ã€ä¸NFSç›¸å…³çš„è½¯ä»¶åŒ…"><a href="#5ã€ä¸NFSç›¸å…³çš„è½¯ä»¶åŒ…" class="headerlink" title="5ã€ä¸NFSç›¸å…³çš„è½¯ä»¶åŒ…"></a>5ã€ä¸NFSç›¸å…³çš„è½¯ä»¶åŒ…</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">nfs-utils-1.2.3-26.el6.x86_64 nfsæœåŠ¡çš„ä¸€ä¸ªè„šæœ¬æ§åˆ¶å·¥å…·ï¼ˆæœåŠ¡ç«¯ä¸å®¢æˆ·ç«¯ï¼‰nfs4-acl-tools-0.3.3-6.el6.x86_64acl å·¥å…·åŒ…nfs-utils-lib-1.1.5-4.el6.x86_64  nfs åº“æ–‡ä»¶<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="6ã€å®‰è£…NFSè½¯ä»¶"><a href="#6ã€å®‰è£…NFSè½¯ä»¶" class="headerlink" title="6ã€å®‰è£…NFSè½¯ä»¶"></a>6ã€å®‰è£…NFSè½¯ä»¶</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install rpcbind nfs-utils -y# rpm -q rpcbind# rpm -aq|grep ^nfs<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="7ã€NFSçš„é…ç½®æ–‡ä»¶"><a href="#7ã€NFSçš„é…ç½®æ–‡ä»¶" class="headerlink" title="7ã€NFSçš„é…ç½®æ–‡ä»¶"></a>7ã€NFSçš„é…ç½®æ–‡ä»¶</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/exportså…±äº«ç›®å½•   å…±äº«é€‰é¡¹/share    *(ro,sync)/public  *(ro,sync)å…±äº«ä¸»æœºï¼š*   ï¼šä»£è¡¨æ‰€æœ‰ä¸»æœº192.168.0.0/24ï¼šä»£è¡¨å…±äº«ç»™æŸä¸ªç½‘æ®µ192.168.0.1 ~ 192.168.0.254192.168.0.0/24(rw) 192.168.1.0/24(ro) :ä»£è¡¨å…±äº«ç»™ä¸åŒç½‘æ®µ192.168.0.254ï¼šå…±äº«ç»™æŸä¸ªIP*.itcast.cn:ä»£è¡¨å…±äº«ç»™æŸä¸ªåŸŸä¸‹çš„æ‰€æœ‰ä¸»æœºå…±äº«é€‰é¡¹ï¼šroï¼šåªè¯»rwï¼šè¯»å†™syncï¼šå®æ—¶åŒæ­¥ï¼Œç›´æ¥å†™å…¥ç£ç›˜(å®‰å…¨æ€§æœ€é«˜)asyncï¼šå¼‚æ­¥ï¼Œå…ˆç¼“å­˜æ•°æ®åœ¨å†…å­˜ç„¶åå†åŒæ­¥ç£ç›˜(æ•ˆç‡æœ€é«˜ï¼Œä½†æ˜¯æœ‰ä¸¢å¤±æ–‡ä»¶é£é™©)anonuidï¼šè®¾ç½®è®¿é—®nfsæœåŠ¡çš„ç”¨æˆ·çš„uidï¼Œuidéœ€è¦åœ¨/etc/passwdä¸­å­˜åœ¨anongidï¼šè®¾ç½®è®¿é—®nfsæœåŠ¡çš„ç”¨æˆ·çš„gidroot_squash ï¼šé»˜è®¤é€‰é¡¹ rootç”¨æˆ·åˆ›å»ºçš„æ–‡ä»¶çš„å±ä¸»å’Œå±ç»„éƒ½å˜æˆnfsnobody,å…¶ä»–äººnfs-serverç«¯æ˜¯å®ƒè‡ªå·±ï¼Œclientç«¯æ˜¯nobodyã€‚(è®¿é—®NFSæœåŠ¡å™¨æ—¶ï¼Œæ˜ å°„ä¸ºåŒ¿åè´¦å·)no_root_squashï¼šrootç”¨æˆ·åˆ›å»ºçš„æ–‡ä»¶å±ä¸»å’Œå±ç»„è¿˜æ˜¯rootï¼Œå…¶ä»–äººserverç«¯æ˜¯å®ƒè‡ªå·±uidï¼Œclientç«¯æ˜¯nobodyã€‚(è®¿é—®NFSæœåŠ¡å™¨æ—¶ï¼Œæ˜ å°„ä¸ºrootç®¡ç†å‘˜è´¦å·)all_squashï¼š ä¸ç®¡æ˜¯rootè¿˜æ˜¯å…¶ä»–æ™®é€šç”¨æˆ·åˆ›å»ºçš„æ–‡ä»¶çš„å±ä¸»å’Œå±ç»„éƒ½æ˜¯nfsnobodyè¯´æ˜ï¼šanonuidå’Œanongidå‚æ•°å’Œall_squashä¸€èµ·ä½¿ç”¨ã€‚all_squashè¡¨ç¤ºä¸ç®¡æ˜¯rootè¿˜æ˜¯å…¶ä»–æ™®é€šç”¨æˆ·ä»å®¢æˆ·ç«¯æ‰€åˆ›å»ºçš„æ–‡ä»¶åœ¨æœåŠ¡å™¨ç«¯çš„æ‹¥æœ‰è€…å’Œæ‰€å±ç»„éƒ½æ˜¯nfsnobodyï¼›æœåŠ¡ç«¯ä¸ºäº†å¯¹æ–‡ä»¶åšç›¸åº”ç®¡ç†ï¼Œå¯ä»¥è®¾ç½®anonuidå’Œanongidè¿›è€ŒæŒ‡å®šæ–‡ä»¶çš„æ‹¥æœ‰è€…å’Œæ‰€å±ç»„<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="ä¸‰ã€NFSä»»åŠ¡è§£å†³æ–¹æ¡ˆ"><a href="#ä¸‰ã€NFSä»»åŠ¡è§£å†³æ–¹æ¡ˆ" class="headerlink" title="ä¸‰ã€NFSä»»åŠ¡è§£å†³æ–¹æ¡ˆ"></a>ä¸‰ã€NFSä»»åŠ¡è§£å†³æ–¹æ¡ˆ</h1><h2 id="1ã€æ­å»ºNFSæœåŠ¡å™¨"><a href="#1ã€æ­å»ºNFSæœåŠ¡å™¨" class="headerlink" title="1ã€æ­å»ºNFSæœåŠ¡å™¨"></a>1ã€æ­å»ºNFSæœåŠ¡å™¨</h2><p>ç¬¬ä¸€æ­¥ï¼šå®‰è£…è½¯ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install rpcbind nfs-utils -y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬äºŒæ­¥ï¼šåˆ›å»ºä¸€ä¸ªå…±äº«ç›®å½•ï¼Œå¦‚/share</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mkdir /share<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="2ã€ç¼–å†™NFSä¸»é…ç½®æ–‡ä»¶"><a href="#2ã€ç¼–å†™NFSä¸»é…ç½®æ–‡ä»¶" class="headerlink" title="2ã€ç¼–å†™NFSä¸»é…ç½®æ–‡ä»¶"></a>2ã€ç¼–å†™NFSä¸»é…ç½®æ–‡ä»¶</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/exportså…±äº«ç›®å½•   å…±äº«é€‰é¡¹/share    10.1.1.0/24(rw,sync)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="3ã€å¯åŠ¨ç›¸å…³çš„NFSæœåŠ¡"><a href="#3ã€å¯åŠ¨ç›¸å…³çš„NFSæœåŠ¡" class="headerlink" title="3ã€å¯åŠ¨ç›¸å…³çš„NFSæœåŠ¡"></a>3ã€å¯åŠ¨ç›¸å…³çš„NFSæœåŠ¡</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl start rpcbind# systemctl start nfs# ss -naltp |grep 111       111ç«¯å£<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="4ã€æ­å»ºWebæœåŠ¡å™¨"><a href="#4ã€æ­å»ºWebæœåŠ¡å™¨" class="headerlink" title="4ã€æ­å»ºWebæœåŠ¡å™¨"></a>4ã€æ­å»ºWebæœåŠ¡å™¨</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install httpd -y# systemctl start httpd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å½“Apacheè½¯ä»¶å¯åŠ¨å®Œæ¯•åï¼Œä¼šè‡ªåŠ¨å ç”¨è®¡ç®—æœºçš„80ç«¯å£ã€‚</p><p>80ç«¯å£æŒ‡å‘WebæœåŠ¡å™¨çš„ç›®å½• =&gt; /var/www/html</p><p>æ‰€ä»¥é¡¹ç›®æºä»£ç éƒ½å¯ä»¥ç›´æ¥å­˜æ”¾äº/var/www/htmlç›®å½•ä¸‹</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># echo "NFSå®æˆ˜æ¼”ç»ƒ" &gt; /var/www/html/index.html<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="5ã€åœ¨WebæœåŠ¡å™¨ä¸­æŒ‚è½½NFS"><a href="#5ã€åœ¨WebæœåŠ¡å™¨ä¸­æŒ‚è½½NFS" class="headerlink" title="5ã€åœ¨WebæœåŠ¡å™¨ä¸­æŒ‚è½½NFS"></a>5ã€åœ¨WebæœåŠ¡å™¨ä¸­æŒ‚è½½NFS</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mkdir /var/www/html/media# mount -t nfs 10.1.1.12:/share /var/www/html/media æˆ–# mount.nfs 10.1.1.12:/share /var/www/html/media# df -hFilesystem               Size  Used Avail Use% Mounted on/dev/mapper/centos-root   17G  5.1G   12G  30% /devtmpfs                 894M     0  894M   0% /devtmpfs                    910M     0  910M   0% /dev/shmtmpfs                    910M   11M  900M   2% /runtmpfs                    910M     0  910M   0% /sys/fs/cgroup/dev/sda1               1014M  179M  836M  18% /boottmpfs                    182M   28K  182M   1% /run/user/1000/dev/sr0                 4.3G  4.3G     0 100% /run/media/itheima/CentOS 7 x86_64tmpfs                    182M     0  182M   0% /run/user/010.1.1.12:/share          17G  5.1G   12G  30% /var/www/html/mediaå¦‚æœå®¢æˆ·ç«¯æ²¡æœ‰å®‰è£…nfså·¥å…·å¯èƒ½å¯¼è‡´æŒ‚è½½å¤±è´¥ï¼šyum -y install nfs-utils nfs-utils-lib nfs4-acl-tools<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="6ã€ä¸Šä¼ aws-mp4è§†é¢‘åˆ°NFSæœåŠ¡å™¨çš„-share"><a href="#6ã€ä¸Šä¼ aws-mp4è§†é¢‘åˆ°NFSæœåŠ¡å™¨çš„-share" class="headerlink" title="6ã€ä¸Šä¼ aws.mp4è§†é¢‘åˆ°NFSæœåŠ¡å™¨çš„/share"></a>6ã€ä¸Šä¼ aws.mp4è§†é¢‘åˆ°NFSæœåŠ¡å™¨çš„/share</h2><p>ç¬¬ä¸€æ­¥ï¼šä½¿ç”¨MXä¸Šä¼ aws.mp4åˆ°/shareç›®å½•ï¼ˆNFSæœåŠ¡å™¨ï¼‰</p><p>ç¬¬äºŒæ­¥ï¼šåœ¨WebæœåŠ¡å™¨ä¸­ï¼Œll  /var/www/html/mediaç›®å½•</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ll /var/www/html/mediaaws.mp4<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="7ã€åœ¨htmlç½‘é¡µä¸­è°ƒç”¨aws-mp4æ–‡ä»¶"><a href="#7ã€åœ¨htmlç½‘é¡µä¸­è°ƒç”¨aws-mp4æ–‡ä»¶" class="headerlink" title="7ã€åœ¨htmlç½‘é¡µä¸­è°ƒç”¨aws.mp4æ–‡ä»¶"></a>7ã€åœ¨htmlç½‘é¡µä¸­è°ƒç”¨aws.mp4æ–‡ä»¶</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /var/www/html/index.html&lt;video width="800" height="450" controls&gt;&lt;source src="media/aws.mp4"&gt;&lt;/video&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="8ã€å¯¹NFSæœåŠ¡å™¨è¿›è¡Œå®æ—¶å¤‡ä»½"><a href="#8ã€å¯¹NFSæœåŠ¡å™¨è¿›è¡Œå®æ—¶å¤‡ä»½" class="headerlink" title="8ã€å¯¹NFSæœåŠ¡å™¨è¿›è¡Œå®æ—¶å¤‡ä»½"></a>8ã€å¯¹NFSæœåŠ¡å™¨è¿›è¡Œå®æ—¶å¤‡ä»½</h2><p>NFSæœåŠ¡å™¨ï¼š/shareç›®å½•æœ‰å˜åŒ–ï¼Œé©¬ä¸Šrsyncè¿›è¡ŒåŒæ­¥Backupå¤‡ä»½æœåŠ¡å™¨çš„/backupç›®å½•</p><p>ç¬¬ä¸€æ­¥ï¼šå®‰è£…inotifyå·¥å…·(NFSæœåŠ¡å™¨)</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># tar xf inotify-tools-3.14.tar.gz# cd inotify-tools-3.14# ./configure &amp;&amp; make &amp;&amp; make install<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç¬¬äºŒæ­¥ï¼šç¼–å†™rsync.shè„šæœ¬ï¼Œç›‘æ§/shareç›®å½•çš„å˜åŒ–</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim rsync.sh#!/bin/bash/usr/local/bin/inotifywait -mrq -e modify,delete,create,attrib,move /share |while read eventsdo    rsync -a --delete /share/ 10.1.1.13:/backup/    echo "`date +%F\ %T`å‡ºç°äº‹ä»¶$events" &gt;&gt; /var/log/rsync.log 2&gt;&amp;1done<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬ä¸‰æ­¥ï¼šç»™rsyncæ·»åŠ xæƒé™</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chmod +x rsync.sh<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬å››æ­¥ï¼šæŠŠNFSæœåŠ¡å™¨ä¸Backupå¤‡ä»½æœåŠ¡å™¨è¿›è¡Œå…å¯†ç™»å½•</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ssh-keygen# ssh-copy-id root@10.1.1.13<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç¬¬äº”æ­¥ï¼šåœ¨BackupæœåŠ¡å™¨ä¸­åˆ›å»ºä¸€ä¸ª/backupç›®å½•ï¼Œç”¨äºå®æ—¶å¤‡ä»½</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mkdir /backup<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬å…­æ­¥ï¼šåœ¨NFSæœåŠ¡å™¨ä¸­æ‰§è¡Œrsyncè„šæœ¬</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># nohup ./rsync.sh &amp;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>FTPã€NFSã€SAMBAç³»ç»ŸæœåŠ¡ä¸Š</title>
      <link href="/2023/12/23/ftp-nfs-samba-xi-tong-fu-wu-shang/"/>
      <url>/2023/12/23/ftp-nfs-samba-xi-tong-fu-wu-shang/</url>
      
        <content type="html"><![CDATA[<h1 id="FTPã€NFSã€SAMBAç³»ç»ŸæœåŠ¡"><a href="#FTPã€NFSã€SAMBAç³»ç»ŸæœåŠ¡" class="headerlink" title="FTPã€NFSã€SAMBAç³»ç»ŸæœåŠ¡"></a>FTPã€NFSã€SAMBAç³»ç»ŸæœåŠ¡</h1><h1 id="ä¸€ã€rsyncæ‰˜ç®¡xinetd"><a href="#ä¸€ã€rsyncæ‰˜ç®¡xinetd" class="headerlink" title="ä¸€ã€rsyncæ‰˜ç®¡xinetd"></a>ä¸€ã€rsyncæ‰˜ç®¡xinetd</h1><h2 id="1ã€ä¸ºä»€ä¹ˆè¦è¿›è¡ŒæœåŠ¡æ‰˜ç®¡"><a href="#1ã€ä¸ºä»€ä¹ˆè¦è¿›è¡ŒæœåŠ¡æ‰˜ç®¡" class="headerlink" title="1ã€ä¸ºä»€ä¹ˆè¦è¿›è¡ŒæœåŠ¡æ‰˜ç®¡"></a>1ã€ä¸ºä»€ä¹ˆè¦è¿›è¡ŒæœåŠ¡æ‰˜ç®¡</h2><p>ç‹¬ç«‹æœåŠ¡ï¼šç‹¬ç«‹å¯åŠ¨è„šæœ¬  ssh  ftp nfs dns â€¦</p><p>ä¾èµ–æœåŠ¡:   æ²¡æœ‰ç‹¬ç«‹çš„å¯åŠ¨è„šæœ¬   rsync telnet  ä¾èµ–xinetdæœåŠ¡ï¼ˆç‹¬ç«‹æœåŠ¡ï¼‰</p><h2 id="2ã€å¦‚ä½•å°†rsyncæ‰˜ç®¡ç»™xinetdæœåŠ¡å»ç®¡ç†ï¼Ÿ"><a href="#2ã€å¦‚ä½•å°†rsyncæ‰˜ç®¡ç»™xinetdæœåŠ¡å»ç®¡ç†ï¼Ÿ" class="headerlink" title="2ã€å¦‚ä½•å°†rsyncæ‰˜ç®¡ç»™xinetdæœåŠ¡å»ç®¡ç†ï¼Ÿ"></a>2ã€å¦‚ä½•å°†rsyncæ‰˜ç®¡ç»™xinetdæœåŠ¡å»ç®¡ç†ï¼Ÿ</h2><p>ç¬¬ä¸€æ­¥ï¼šåœ¨ç³»ç»Ÿä¸­å®‰è£…xinetdæœåŠ¡</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum -y install xinetd# rpm -ql xinetd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç¬¬äºŒæ­¥ï¼šç¼–å†™xinetd.confæ–‡ä»¶ï¼ˆ/etc/xinetd.confï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># man 5 xinetd.confdefaults{only_fromåªå…è®¸è®¿é—®no_accessæ‹’ç»è®¿é—®access_timesæ§åˆ¶è®¿é—®æœåŠ¡çš„æ—¶é—´æ®µlog_typeæŒ‡å®šæ—¥å¿—ç±»å‹interfaceå¹¶å‘è¿æ¥æ•°per_sourceæ¯ä¸ªIPçš„æœ€å¤§è¿æ¥æ•°}includedir /etc/xinetd.då­é…ç½®æ–‡ä»¶ç›®å½•ï¼ˆè¿½åŠ rsyncã€telnetï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬ä¸‰æ­¥ï¼šæ‰‹å·¥åˆ›å»º/etc/xinetd.d/rsync</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/xinetd.d/rsyncservice rsync{disable = noflags = IPv6socket_type = streamwait = nouser = rootserver = /usr/bin/rsyncserver_args = --daemonlog_on_failure += USERID}å¤‡æ³¨:disable = no //å¼€å…³ï¼›noè¡¨ç¤ºå¼€å¯è¯¥æœåŠ¡ï¼›yesè¡¨ç¤ºå…³é—­æœåŠ¡<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬å››æ­¥ï¼šé‡å¯xinetdæœåŠ¡ï¼ˆxinetdæœåŠ¡é‡å¯åï¼ŒrsyncæœåŠ¡ä¹Ÿä¼šéšä¹‹é‡å¯ï¼Œæ£€æŸ¥ç«¯å£å ç”¨ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># pkill rsync# systemctl restart xinetd# ss -naltp |grep 873LISTEN     :::873      users:(("xinetd",pid=45079,fd=5))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>åœ¨æŸ¥è¯¢873ç«¯å£å ç”¨æ—¶ï¼Œå‘ç°åªæœ‰xinetdæœåŠ¡ï¼Œæ²¡æœ‰rsyncæœåŠ¡ï¼ŒåŸå› ï¼šrsync =&gt; xinetd</p></blockquote><p>å¸¸è§é—®é¢˜ï¼ˆç»éªŒå€¼ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">å¦‚æœæˆ‘ä»¬åœ¨å¯åŠ¨xinetdæœåŠ¡æ—¶ï¼Œå‘ç°ç³»ç»Ÿä¸­çš„873ç«¯å£ä¸€ç›´æ²¡æœ‰è¢«å ç”¨ï¼Œåªèƒ½æœ‰ä¸€ä¸ªé—®é¢˜ï¼šé…ç½®æ–‡ä»¶æœ‰é”™è¯¯ï¼è§£å†³æ–¹æ¡ˆï¼šcat /var/log/messagesä¸€å®šè¦æ³¨æ„é¢œè‰²çš„å˜åŒ–ï¼Œæœ‰é¢œè‰²å˜åŒ–ä»£è¡¨æ˜¯æ­£ç¡®é€‰é¡¹ï¼Œæ²¡æœ‰ï¼Œå°±è‚¯å®šä½ åœ¨å¤åˆ¶æ—¶æƒ¨å’‹äº†ä¸€äº›çœ‹ä¸è§çš„å­—ç¬¦ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h1 id="äºŒã€FTPæœåŠ¡æ¦‚è¿°"><a href="#äºŒã€FTPæœåŠ¡æ¦‚è¿°" class="headerlink" title="äºŒã€FTPæœåŠ¡æ¦‚è¿°"></a>äºŒã€FTPæœåŠ¡æ¦‚è¿°</h1><h2 id="1ã€FTPæœåŠ¡ä»‹ç»"><a href="#1ã€FTPæœåŠ¡ä»‹ç»" class="headerlink" title="1ã€FTPæœåŠ¡ä»‹ç»"></a>1ã€FTPæœåŠ¡ä»‹ç»</h2><p>FTPï¼ˆFile Transfer Protocolï¼‰æ˜¯ä¸€ç§åº”ç”¨éå¸¸å¹¿æ³›å¹¶ä¸”å¤è€çš„ä¸€ä¸ªäº’è”ç½‘æ–‡ä»¶ä¼ è¾“åè®®ã€‚</p><blockquote><p>æ–‡ä»¶ä¼ è¾“ï¼šæ–‡ä»¶ä¸Šä¼ ä¸æ–‡ä»¶ä¸‹è½½</p></blockquote><p><img src="/../assets/blog_res/FTP%E3%80%81NFS%E3%80%81SAMBA%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1.assets/image-20200412105703919.png" alt="image-20200412105703919"></p><ul><li>ä¸»è¦ç”¨äºäº’è”ç½‘ä¸­==æ–‡ä»¶çš„åŒå‘ä¼ è¾“==ï¼ˆä¸Šä¼ /ä¸‹è½½ï¼‰ã€æ–‡ä»¶å…±äº«</li><li>è·¨å¹³å°   Linuxã€Windows</li><li>FTPæ˜¯==C/S==æ¶æ„ï¼Œæ‹¥æœ‰ä¸€ä¸ªå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ï¼Œä½¿ç”¨==TCPåè®®==ä½œä¸ºåº•å±‚ä¼ è¾“åè®®ï¼Œæä¾›å¯é çš„æ•°æ®ä¼ è¾“</li><li>FTPçš„é»˜è®¤ç«¯å£ ==21å·==ï¼ˆå‘½ä»¤ç«¯å£ï¼‰    ==20å·==ï¼ˆæ•°æ®ç«¯å£ï¼Œä¸»åŠ¨æ¨¡å¼ä¸‹ï¼‰ <strong>é»˜è®¤è¢«åŠ¨æ¨¡å¼</strong>ä¸‹</li><li>FTPç¨‹åºï¼ˆè½¯ä»¶ï¼‰**==vsftpd==**</li></ul><blockquote><p>FTPè½¯ä»¶åç§° =&gt; vsftpd =&gt; vsï¼ˆvery secure ftp daemonï¼‰ </p></blockquote><h2 id="2ã€FTPæœåŠ¡çš„å®¢æˆ·ç«¯å·¥å…·"><a href="#2ã€FTPæœåŠ¡çš„å®¢æˆ·ç«¯å·¥å…·" class="headerlink" title="2ã€FTPæœåŠ¡çš„å®¢æˆ·ç«¯å·¥å…·"></a>2ã€FTPæœåŠ¡çš„å®¢æˆ·ç«¯å·¥å…·</h2><ul><li>Linuxï¼šftpã€lftpï¼ˆå®¢æˆ·ç«¯ç¨‹åºï¼‰</li><li>Windowsï¼šFlashFXP(è™šæ‹Ÿä¸»æœº)ã€FileZillaã€IEã€Chromeã€Firefox</li><li>lftpå’Œftpå·¥å…·åŒºåˆ«ï¼š<ul><li>lftpï¼šé»˜è®¤æ˜¯ä»¥==åŒ¿åç”¨æˆ·==è®¿é—®</li><li>ftpï¼šé»˜è®¤æ˜¯ä»¥==ç”¨æˆ·å/å¯†ç ==æ–¹å¼è®¿é—®</li><li>lftpå¯ä»¥æ‰¹é‡å¹¶ä¸”ä¸‹è½½ç›®å½•</li></ul></li></ul><h2 id="3ã€FTPçš„ä¸¤ç§è¿è¡Œæ¨¡å¼ï¼ˆäº†è§£ï¼‰"><a href="#3ã€FTPçš„ä¸¤ç§è¿è¡Œæ¨¡å¼ï¼ˆäº†è§£ï¼‰" class="headerlink" title="3ã€FTPçš„ä¸¤ç§è¿è¡Œæ¨¡å¼ï¼ˆäº†è§£ï¼‰"></a>3ã€FTPçš„ä¸¤ç§è¿è¡Œæ¨¡å¼ï¼ˆäº†è§£ï¼‰</h2><p>åœ¨FTPæœåŠ¡ä¸­ï¼Œå…¶ä¸€å…±æ‹¥æœ‰ä¸¤ç§æ¨¡å¼ï¼ˆä¸»åŠ¨æ¨¡å¼ + è¢«åŠ¨æ¨¡å¼ï¼‰</p><blockquote><p>å‚è€ƒç‚¹ï¼ŒFTPçš„æœåŠ¡å™¨ç«¯ã€‚å¦‚æœæ˜¯FTPæœåŠ¡å™¨ç«¯ä¸»åŠ¨è¿æ¥å®¢æˆ·ç«¯=&gt;ä¸»åŠ¨æ¨¡å¼ï¼Œå¦‚æœæ˜¯å®¢æˆ·ç«¯ä¸»åŠ¨è¿æ¥FTPæœåŠ¡å™¨ç«¯=&gt;è¢«åŠ¨æ¨¡å¼ã€‚</p></blockquote><h3 id="â˜†-ä¸»åŠ¨æ¨¡å¼"><a href="#â˜†-ä¸»åŠ¨æ¨¡å¼" class="headerlink" title="â˜† ä¸»åŠ¨æ¨¡å¼"></a>â˜† ä¸»åŠ¨æ¨¡å¼</h3><p><img src="/../assets/blog_res/FTP%E3%80%81NFS%E3%80%81SAMBA%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1.assets/image-20200412114935141.png" alt="image-20200412114935141"></p><p>cmdï¼šå‘½ä»¤ç«¯å£ï¼ˆå‘é€FTPè¯·æ±‚ï¼‰</p><p>dataï¼šæ•°æ®ç«¯å£ï¼ˆåæœŸç”¨äºä¼ è¾“æ•°æ®ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">1. å®¢æˆ·ç«¯æ‰“å¼€å¤§äº1023çš„éšæœºå‘½ä»¤ç«¯å£å’Œå¤§äº1023çš„éšæœºæ•°æ®ç«¯å£å‘æœåŠ¡çš„çš„21å·ç«¯å£å‘èµ·è¯·æ±‚2. æœåŠ¡ç«¯çš„21å·å‘½ä»¤ç«¯å£å“åº”å®¢æˆ·ç«¯çš„éšæœºå‘½ä»¤ç«¯å£3. æœåŠ¡ç«¯çš„20å·ç«¯å£ä¸»åŠ¨è¯·æ±‚è¿æ¥å®¢æˆ·ç«¯çš„éšæœºæ•°æ®ç«¯å£4. å®¢æˆ·ç«¯çš„éšæœºæ•°æ®ç«¯å£è¿›è¡Œç¡®è®¤<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="â˜†-è¢«åŠ¨æ¨¡å¼"><a href="#â˜†-è¢«åŠ¨æ¨¡å¼" class="headerlink" title="â˜† è¢«åŠ¨æ¨¡å¼"></a>â˜† è¢«åŠ¨æ¨¡å¼</h3><p><img src="/../assets/blog_res/FTP%E3%80%81NFS%E3%80%81SAMBA%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1.assets/image-20200412120219384.png" alt="image-20200412120219384"></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">1. å®¢æˆ·ç«¯æ‰“å¼€å¤§äº1023çš„éšæœºå‘½ä»¤ç«¯å£å’Œå¤§äº1023çš„éšæœºæ•°æ®ç«¯å£å‘æœåŠ¡çš„çš„21å·ç«¯å£å‘èµ·è¯·æ±‚2. æœåŠ¡ç«¯çš„21å·å‘½ä»¤ç«¯å£å“åº”å®¢æˆ·ç«¯çš„éšæœºå‘½ä»¤ç«¯å£3. å®¢æˆ·ç«¯ä¸»åŠ¨è¿æ¥æœåŠ¡ç«¯æ‰“å¼€çš„å¤§äº1023çš„éšæœºæ•°æ®ç«¯å£4. æœåŠ¡ç«¯è¿›è¡Œç¡®è®¤<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>FTPé»˜è®¤ä½¿ç”¨çš„å°±æ˜¯è¢«åŠ¨æ¨¡å¼ï¼</p><h2 id="4ã€æ­å»ºFTPæœåŠ¡ï¼ˆé‡è¦ï¼‰"><a href="#4ã€æ­å»ºFTPæœåŠ¡ï¼ˆé‡è¦ï¼‰" class="headerlink" title="4ã€æ­å»ºFTPæœåŠ¡ï¼ˆé‡è¦ï¼‰"></a>4ã€æ­å»ºFTPæœåŠ¡ï¼ˆé‡è¦ï¼‰</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">1. å…³é—­é˜²ç«å¢™å’Œselinux2. é…ç½®yumæº(mount /dev/sr0 /mnt)3. è½¯ä»¶ä¸‰éƒ¨æ›²4. äº†è§£é…ç½®æ–‡ä»¶5. æ ¹æ®éœ€æ±‚ä¿®æ”¹é…ç½®æ–‡ä»¶æ¥å®ŒæˆæœåŠ¡çš„æ­å»º6. å¯åŠ¨æœåŠ¡ï¼Œå¼€æœºè‡ªå¯åŠ¨7. æµ‹è¯•éªŒè¯<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬ä¸€æ­¥ï¼šå…³é—­é˜²ç«å¢™ä¸SELinux</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl stop firewalld# systemctl disable firewalld# setenforce 0# vim /etc/selinux/configSELINUX=disabled<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬äºŒæ­¥ï¼šé…ç½®YUMæº</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">æœ‰ç½‘é…ç½®å…¬ç½‘YUMæºï¼ˆé˜¿é‡Œã€æ¸…åã€åä¸ºï¼‰ï¼Œæ²¡ç½‘å°±é…ç½®æœ¬åœ°YUMæº# mount /dev/sr0 /mnt# yum clean all# yum makecache<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬ä¸‰æ­¥ï¼šå®‰è£…vsftpdè½¯ä»¶ï¼ˆFTP =&gt; vsftpdï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install vsftpd -y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬å››æ­¥ï¼šå¯åŠ¨ftpæœåŠ¡å¹¶æ·»åŠ åˆ°å¼€æœºå¯åŠ¨é¡¹ä¸­</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl start vsftpd# systemctl enable vsftpd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç¬¬äº”æ­¥ï¼šæµ‹è¯•FTPæ˜¯å¦å®‰è£…æˆåŠŸ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ifconfig ens33inet 10.1.1.10  netmask 255.255.255.0  broadcast 10.1.1.255<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>â˜† åŸºäºæµè§ˆå™¨çš„è®¿é—®</p><p><img src="/../assets/blog_res/FTP%E3%80%81NFS%E3%80%81SAMBA%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1.assets/image-20200412141644833.png" alt="image-20200412141644833"></p><p>â˜† åŸºäºWindowsèµ„æºç®¡ç†å™¨çš„è®¿é—®</p><p><img src="/../assets/blog_res/FTP%E3%80%81NFS%E3%80%81SAMBA%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1.assets/image-20200412142019101.png" alt="image-20200412142019101"></p><p>â˜† åŸºäºFlashFxpã€FileZillaè½¯ä»¶</p><p><img src="/../assets/blog_res/FTP%E3%80%81NFS%E3%80%81SAMBA%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1.assets/image-20200412142522460.png" alt="image-20200412142522460"></p><p>â˜† åŸºäºftpä»¥åŠlftpå‘½ä»¤è¿›è¡Œè¿æ¥ï¼ˆLinuxä¸Linuxä¹‹é—´çš„FTPæ–‡ä»¶ä¼ è¾“ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"> yum install ftp lftp -y# ftp 10.1.1.10<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="5ã€FTPçš„é…ç½®æ–‡ä»¶è¯¦è§£ï¼ˆé‡è¦ï¼‰"><a href="#5ã€FTPçš„é…ç½®æ–‡ä»¶è¯¦è§£ï¼ˆé‡è¦ï¼‰" class="headerlink" title="5ã€FTPçš„é…ç½®æ–‡ä»¶è¯¦è§£ï¼ˆé‡è¦ï¼‰"></a>5ã€FTPçš„é…ç½®æ–‡ä»¶è¯¦è§£ï¼ˆé‡è¦ï¼‰</h2><p>åœ¨ServeræœåŠ¡å™¨ç«¯ï¼Œä½¿ç”¨rpm  -ql  vsftpd</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rpm -ql vsftpd/usr/lib/systemd/system/vsftpd.serviceå¯åŠ¨è„šæœ¬/etc/vsftpdé…ç½®æ–‡ä»¶çš„ç›®å½•/etc/vsftpd/ftpusers    ç”¨æˆ·åˆ—è¡¨æ–‡ä»¶ï¼Œé»‘åå•/etc/vsftpd/user_list    ç”¨æˆ·åˆ—è¡¨æ–‡ä»¶ï¼Œå¯é»‘å¯ç™½ï¼ˆé»˜è®¤æ˜¯é»‘åå•ï¼‰/etc/vsftpd/vsftpd.confé…ç½®æ–‡ä»¶(ä¸»é…ç½®æ–‡ä»¶)/usr/sbin/vsftpdç¨‹åºæœ¬èº«ï¼ˆäºŒè¿›åˆ¶çš„å‘½ä»¤ï¼‰/var/ftpåŒ¿åç”¨æˆ·çš„é»˜è®¤æ•°æ®æ ¹ç›®å½•/var/ftp/pubåŒ¿åç”¨æˆ·çš„æ‰©å±•æ•°æ®ç›®å½•<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>vsftpdé…ç½®æ–‡ä»¶è¯¦è§£ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># grep -v ^# /etc/vsftpd/vsftpd.confanonymous_enable=YESæ”¯æŒåŒ¿åç”¨æˆ·è®¿é—®local_enable=YESæ”¯æŒéåŒ¿åç”¨æˆ·,æ™®é€šè´¦å·ç™»å½•ï¼Œé»˜è®¤è¿›å…¥åˆ°è‡ªå·±å®¶ç›®å½•write_enable=YESå†™æ€»å¼€å…³local_umask=022åæ©ç   file:644  rw- r-- r-- dir:755dirmessage_enable=YESå¯ç”¨æ¶ˆæ¯åŠŸèƒ½xferlog_enable=YESå¼€å¯æˆ–å¯ç”¨xferlogæ—¥å¿—connect_from_port_20=YESæ”¯æŒä¸»åŠ¨æ¨¡å¼ï¼ˆé»˜è®¤è¢«åŠ¨æ¨¡å¼ï¼‰xferlog_std_format=YESxferlogæ—¥å¿—æ ¼å¼listen=YES    ftpæœåŠ¡ç‹¬ç«‹æ¨¡å¼ä¸‹çš„ç›‘å¬pam_service_name=vsftpdæŒ‡å®šè®¤è¯æ–‡ä»¶userlist_enable=YESå¯ç”¨ç”¨æˆ·åˆ—è¡¨tcp_wrappers=YESæ”¯æŒtcp_wrappersåŠŸèƒ½(FTPé™é€Ÿæ“ä½œ)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p># man  5  vsftpd.conf </p></blockquote><h1 id="ä¸‰ã€FTPä»»åŠ¡è§£å†³æ–¹æ¡ˆ"><a href="#ä¸‰ã€FTPä»»åŠ¡è§£å†³æ–¹æ¡ˆ" class="headerlink" title="ä¸‰ã€FTPä»»åŠ¡è§£å†³æ–¹æ¡ˆ"></a>ä¸‰ã€FTPä»»åŠ¡è§£å†³æ–¹æ¡ˆ</h1><h2 id="1ã€ä»»åŠ¡èƒŒæ™¯"><a href="#1ã€ä»»åŠ¡èƒŒæ™¯" class="headerlink" title="1ã€ä»»åŠ¡èƒŒæ™¯"></a>1ã€ä»»åŠ¡èƒŒæ™¯</h2><p>ç®€å•æ¥è¯´ï¼šæ ¹æ®æˆ‘ä»¬æ‰€å­¦çš„å†…å®¹ï¼ˆFTPï¼‰æ­å»ºä¸€ä¸ªå®¢æˆ·æœåŠ¡ç³»ç»Ÿï¼ˆä¸»è¦æ¶‰åŠå®¢æœèµ„æ–™ä¸Šä¼ ä¸ä¸‹è½½ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">1. å®¢æœäººå‘˜å¿…é¡»ä½¿ç”¨ç”¨æˆ·åå¯†ç (kefu/123)çš„æ–¹å¼ç™»å½•æœåŠ¡å™¨æ¥ä¸‹è½½ç›¸åº”æ–‡æ¡£2. ä¸å…è®¸åŒ¿åç”¨æˆ·è®¿é—®3. å®¢æœéƒ¨é—¨çš„ç›¸å…³æ–‡æ¡£ä¿å­˜åœ¨æŒ‡å®šçš„ç›®å½•é‡Œ/data/kefu    local_root=/data/kefu4. å®¢æœç”¨æˆ·ä½¿ç”¨ç”¨æˆ·kefu/123ç™»å½•åå°±åªèƒ½åœ¨é»˜è®¤çš„/data/kefuç›®å½•é‡Œæ´»åŠ¨<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2ã€åˆ›å»ºå®¢æœè´¦å·-Server"><a href="#2ã€åˆ›å»ºå®¢æœè´¦å·-Server" class="headerlink" title="2ã€åˆ›å»ºå®¢æœè´¦å·(Server)"></a>2ã€åˆ›å»ºå®¢æœè´¦å·(Server)</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># useradd kefu# echo 123 |passwd --stdin kefu<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="3ã€ä¸å…è®¸åŒ¿åç”¨æˆ·è®¿é—®"><a href="#3ã€ä¸å…è®¸åŒ¿åç”¨æˆ·è®¿é—®" class="headerlink" title="3ã€ä¸å…è®¸åŒ¿åç”¨æˆ·è®¿é—®"></a>3ã€ä¸å…è®¸åŒ¿åç”¨æˆ·è®¿é—®</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/vsftpd/vsftpd.conf12è¡Œ anonymous_enable=NO<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>é…ç½®ä¿®æ”¹å®Œæ¯•åï¼Œä¸€å®šè¦é‡å¯vsftpdæœåŠ¡</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl restart vsftpd<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="4ã€æŒ‡å®šè´¦å·è®¿é—®çš„ç›®å½•"><a href="#4ã€æŒ‡å®šè´¦å·è®¿é—®çš„ç›®å½•" class="headerlink" title="4ã€æŒ‡å®šè´¦å·è®¿é—®çš„ç›®å½•"></a>4ã€æŒ‡å®šè´¦å·è®¿é—®çš„ç›®å½•</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mkdir /data/kefu -p# vim /etc/vsftpd/vsftpd.conf17è¡Œ local_root=/data/kefu<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="5ã€é™å®škefu-123åªèƒ½åœ¨-data-kefuç›®å½•ä¸‹æ´»åŠ¨"><a href="#5ã€é™å®škefu-123åªèƒ½åœ¨-data-kefuç›®å½•ä¸‹æ´»åŠ¨" class="headerlink" title="5ã€é™å®škefu/123åªèƒ½åœ¨/data/kefuç›®å½•ä¸‹æ´»åŠ¨"></a>5ã€é™å®škefu/123åªèƒ½åœ¨/data/kefuç›®å½•ä¸‹æ´»åŠ¨</h2><p>ç¦é”¢kefuç”¨æˆ·åªèƒ½åœ¨/data/kefuç›®å½•ä¸‹</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/vsftp/vsftpd.conf18è¡Œ chroot_local_user=YES<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>é…ç½®ä¿®æ”¹å®Œæ¯•åï¼Œä¸€å®šè¦é‡å¯vsftpdæœåŠ¡</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl restart vsftpd<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h1 id="å››ã€ç»éªŒå€¼"><a href="#å››ã€ç»éªŒå€¼" class="headerlink" title="å››ã€ç»éªŒå€¼"></a>å››ã€ç»éªŒå€¼</h1><h2 id="1ã€500-OOPS"><a href="#1ã€500-OOPS" class="headerlink" title="1ã€500 OOPS"></a>1ã€500 OOPS</h2><p><img src="/../assets/blog_res/FTP%E3%80%81NFS%E3%80%81SAMBA%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1.assets/image-20200412171758761.png" alt="image-20200412171758761"></p><p>ä»¥ä¸Šé—®é¢˜ä¸»è¦å‡ºç°åœ¨FTP2.3.5ä»¥åçš„ç‰ˆæœ¬ä¸­ï¼Œå½“ç„¶ä½ å¯ä»¥ä½¿ç”¨</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rpm -qi vsftpd æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è§£å†³æ–¹æ¡ˆï¼š</p><p>â‘  å»é™¤å†™æƒé™ï¼ˆæ²»æ ‡ä¸æ²»æœ¬ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chmod a-w /home/dhj<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â‘¡ æ ¸å¿ƒè§£å†³æ–¹æ¡ˆï¼Œæ·»åŠ ä¸€ä¸ªé€‰é¡¹</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/vsftpd/vsftpd.conf19è¡Œ allow_writeable_chroot=YES<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="2ã€æ— æ³•ä¸Šä¼ "><a href="#2ã€æ— æ³•ä¸Šä¼ " class="headerlink" title="2ã€æ— æ³•ä¸Šä¼ "></a>2ã€æ— æ³•ä¸Šä¼ </h2><p>ä¹‹æ‰€ä»¥æ— æ³•ä¸Šä¼ ï¼Œä¸»è¦åŸå› åœ¨äºkefuè¿™ä¸ªè´¦å·å¯¹äº/data/kefuæ–‡ä»¶å¤¹æ²¡æœ‰wå†™æƒé™</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># setfacl -R -m u:kefu:rwx /data/kefu# systemctl restart vsftpd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="3ã€ç¦é”¢ç›®å½•è¡¥å……"><a href="#3ã€ç¦é”¢ç›®å½•è¡¥å……" class="headerlink" title="3ã€ç¦é”¢ç›®å½•è¡¥å……"></a>3ã€ç¦é”¢ç›®å½•è¡¥å……</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">18è¡Œ chroot_local_user=YES  ç¦é”¢æ‰€æœ‰ç”¨æˆ·<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>éœ€æ±‚ï¼šæˆ‘ä»¬èƒ½ä¸èƒ½ç»™ä¸€å°éƒ¨åˆ†ç”¨æˆ·å¼€é€šéç¦é”¢æƒé™ã€‚</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/vsftpd/vsftpd.conf105è¡Œ chroot_list_enable=YES    å¼€å¯ç”¨æˆ·åˆ—è¡¨æ–‡ä»¶107è¡Œ chroot_list_file=/etc/vsftpd/chroot_listæŒ‡å®šç”¨æˆ·åˆ—è¡¨æ–‡ä»¶echo kefu &gt;&gt; /etc/vsftpd/chroot_list        ä»£è¡¨å®¢æœè¿™ä¸ªè´¦å·ä¸ä¼šè¢«ç¦é”¢åœ¨æŒ‡å®šç›®å½•# systemctl restart vsftpd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxç³»ç»Ÿä¸‹æ•°æ®åŒæ­¥æœåŠ¡RSYNC</title>
      <link href="/2023/12/23/linux-xi-tong-xia-shu-ju-tong-bu-fu-wu-rsync/"/>
      <url>/2023/12/23/linux-xi-tong-xia-shu-ju-tong-bu-fu-wu-rsync/</url>
      
        <content type="html"><![CDATA[<h1 id="Linuxç³»ç»Ÿä¸‹æ•°æ®åŒæ­¥æœåŠ¡RSYNC"><a href="#Linuxç³»ç»Ÿä¸‹æ•°æ®åŒæ­¥æœåŠ¡RSYNC" class="headerlink" title="Linuxç³»ç»Ÿä¸‹æ•°æ®åŒæ­¥æœåŠ¡RSYNC"></a>Linuxç³»ç»Ÿä¸‹æ•°æ®åŒæ­¥æœåŠ¡RSYNC</h1><h1 id="ä¸€ã€RSYNCæ¦‚è¿°"><a href="#ä¸€ã€RSYNCæ¦‚è¿°" class="headerlink" title="ä¸€ã€RSYNCæ¦‚è¿°"></a>ä¸€ã€RSYNCæ¦‚è¿°</h1><h2 id="1ã€ä»€ä¹ˆæ˜¯rsync"><a href="#1ã€ä»€ä¹ˆæ˜¯rsync" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯rsync"></a>1ã€ä»€ä¹ˆæ˜¯rsync</h2><p>rsyncçš„å¥½å§å¦¹</p><ul><li>sync åŒæ­¥ï¼šåˆ·æ–°æ–‡ä»¶ç³»ç»Ÿç¼“å­˜ï¼Œå¼ºåˆ¶å°†ä¿®æ”¹è¿‡çš„æ•°æ®å—å†™å…¥ç£ç›˜ï¼Œå¹¶ä¸”æ›´æ–°è¶…çº§å—ã€‚</li><li>async å¼‚æ­¥ï¼šå°†æ•°æ®å…ˆæ”¾åˆ°ç¼“å†²åŒºï¼Œå†å‘¨æœŸæ€§ï¼ˆä¸€èˆ¬æ˜¯30sï¼‰çš„å»åŒæ­¥åˆ°ç£ç›˜ã€‚</li><li>rsync è¿œç¨‹åŒæ­¥ï¼š==remote  synchronous==</li></ul><p>æ•°æ®åŒæ­¥è¿‡ç¨‹</p><p>syncæ•°æ®åŒæ­¥ =&gt; ä¿å­˜æ–‡ä»¶ï¼ˆç›®æ ‡ï¼‰=&gt; å¼ºåˆ¶æŠŠç¼“å­˜ä¸­çš„æ•°æ®å†™å…¥ç£ç›˜ï¼ˆç«‹å³ä¿å­˜ï¼‰ï¼Œå®æ—¶æ€§è¦æ±‚æ¯”è¾ƒé«˜çš„åœºæ™¯</p><p>asynæ•°æ®å¼‚æ­¥ =&gt; ä¿å­˜æ–‡ä»¶ï¼ˆç›®æ ‡ï¼‰=&gt; å°†æ•°æ®å…ˆæ”¾åˆ°ç¼“å†²åŒºï¼Œå†å‘¨æœŸæ€§ï¼ˆä¸€èˆ¬æ˜¯30sï¼‰çš„å»åŒæ­¥åˆ°ç£ç›˜ï¼Œé€‚åˆå¤§æ‰¹é‡æ•°æ®åŒæ­¥çš„åœºæ™¯</p><h2 id="2ã€rsyncç‰¹ç‚¹"><a href="#2ã€rsyncç‰¹ç‚¹" class="headerlink" title="2ã€rsyncç‰¹ç‚¹"></a>2ã€rsyncç‰¹ç‚¹</h2><ul><li><p>å¯ä»¥é•œåƒä¿å­˜æ•´ä¸ªç›®å½•æ ‘å’Œæ–‡ä»¶ç³»ç»Ÿ</p></li><li><p>å¯ä»¥ä¿ç•™åŸæœ‰çš„æƒé™(permission,mode)ï¼Œowner,group,æ—¶é—´(ä¿®æ”¹æ—¶é—´,modify time)ï¼Œè½¯ç¡¬é“¾æ¥ï¼Œæ–‡ä»¶aclï¼Œæ–‡ä»¶å±æ€§(attributes)ä¿¡æ¯ç­‰</p></li><li><p>ä¼ è¾“==æ•ˆç‡é«˜==ï¼Œä½¿ç”¨åŒæ­¥ç®—æ³•ï¼Œåªæ¯”è¾ƒå˜åŒ–çš„ï¼ˆå¢é‡å¤‡ä»½ï¼‰</p><p>file1.txt file2.txt file3.txt(AæœåŠ¡å™¨)</p><p>rsyncå®ç°æ•°æ®åŒæ­¥=&gt;  åªåŒæ­¥file3.txt =&gt; å¢é‡å¤‡ä»½</p><p>file1.txt file2.txt(BæœåŠ¡å™¨)</p></li><li><p>æ”¯æŒåŒ¿åä¼ è¾“ï¼Œæ–¹ä¾¿ç½‘ç«™é•œåƒï¼›ä¹Ÿå¯ä»¥åšéªŒè¯ï¼ŒåŠ å¼ºå®‰å…¨</p></li></ul><h2 id="3ã€rsyncä¸scpçš„åŒºåˆ«"><a href="#3ã€rsyncä¸scpçš„åŒºåˆ«" class="headerlink" title="3ã€rsyncä¸scpçš„åŒºåˆ«"></a>3ã€rsyncä¸scpçš„åŒºåˆ«</h2><p>ä¸¤è€…éƒ½å¯ä»¥å®ç°è¿œç¨‹åŒæ­¥ï¼Œä½†æ˜¯ç›¸å¯¹æ¯”è€Œè¨€ï¼Œrsyncèƒ½åŠ›æ›´å¼º</p><p>â‘  æ”¯æŒå¢é‡å¤‡ä»½<br>â‘¡ æ•°æ®åŒæ­¥æ—¶ä¿æŒæ–‡ä»¶çš„åŸæœ‰å±æ€§</p><h1 id="äºŒã€RSYNCçš„ä½¿ç”¨"><a href="#äºŒã€RSYNCçš„ä½¿ç”¨" class="headerlink" title="äºŒã€RSYNCçš„ä½¿ç”¨"></a>äºŒã€RSYNCçš„ä½¿ç”¨</h1><h2 id="1ã€åŸºæœ¬è¯­æ³•"><a href="#1ã€åŸºæœ¬è¯­æ³•" class="headerlink" title="1ã€åŸºæœ¬è¯­æ³•"></a>1ã€åŸºæœ¬è¯­æ³•</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># man rsyncNAME       rsync â€” a fast, versatile, remote (and local) file-copying tool       //ä¸€ç§å¿«é€Ÿã€é€šç”¨ã€è¿œç¨‹ï¼ˆå’Œæœ¬åœ°ï¼‰çš„æ–‡ä»¶å¤åˆ¶å·¥å…·SYNOPSIS   //æœ¬åœ°æ–‡ä»¶åŒæ­¥   Local:rsync [OPTION...] SRC... [DEST]   //è¿œç¨‹æ–‡ä»¶åŒæ­¥       Access via remote shell:         Pull: rsync [OPTION...] [USER@]HOST:SRC... [DEST]         Push: rsync [OPTION...] SRC... [USER@]HOST:DEST        OPTIONé€‰é¡¹è¯´æ˜-v    è¯¦ç»†æ¨¡å¼è¾“å‡º-a    å½’æ¡£æ¨¡å¼ï¼Œé€’å½’çš„æ–¹å¼ä¼ è¾“æ–‡ä»¶ï¼Œå¹¶ä¿æŒæ–‡ä»¶çš„å±æ€§ï¼Œequals -rlptgoD-r    é€’å½’æ‹·è´ç›®å½•-lä¿ç•™è½¯é“¾æ¥-p    ä¿ç•™åŸæœ‰æƒé™-t     ä¿ç•™åŸæœ‰æ—¶é—´ï¼ˆä¿®æ”¹ï¼‰-g    ä¿ç•™å±ç»„æƒé™-o     ä¿ç•™å±ä¸»æƒé™-D    ç­‰äº--devices  --specials    è¡¨ç¤ºæ”¯æŒb,c,s,pç±»å‹çš„æ–‡ä»¶-R    ä¿ç•™ç›¸å¯¹è·¯å¾„-H    ä¿ç•™ç¡¬é“¾æ¥-A    ä¿ç•™ACLç­–ç•¥-e     æŒ‡å®šè¦æ‰§è¡Œçš„è¿œç¨‹shellå‘½ä»¤ï¼Œsshæ›´æ”¹ç«¯å£å¸¸ç”¨é€‰é¡¹-E     ä¿ç•™å¯æ‰§è¡Œæƒé™-X     ä¿ç•™æ‰©å±•å±æ€§ä¿¡æ¯  aå±æ€§<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>PUSHï¼šæ¨ï¼Œç›¸å½“äºä¸Šä¼ ï¼›PULLï¼šæ‹‰ï¼Œç›¸å½“äºä¸‹è½½</p></blockquote><h2 id="2ã€æœ¬åœ°æ–‡ä»¶åŒæ­¥"><a href="#2ã€æœ¬åœ°æ–‡ä»¶åŒæ­¥" class="headerlink" title="2ã€æœ¬åœ°æ–‡ä»¶åŒæ­¥"></a>2ã€æœ¬åœ°æ–‡ä»¶åŒæ­¥</h2><p>æœ¬åœ°æ–‡ä»¶åŒæ­¥ç®€å•ç†è§£å°±æ˜¯æŠŠæ–‡ä»¶ä»ä¸€ä¸ªä½ç½®ï¼ˆåŒæ­¥=&gt;æ‹·è´ï¼‰åˆ°å¦å¤–ä¸€ä¸ªä½ç½®ï¼ˆç±»ä¼¼cpï¼‰</p><p>æ¡ˆä¾‹ï¼š/dir1ã€/dir2ä¸/dir3ï¼Œ/dir1ä¸­åˆ›å»ºä¸‰ä¸ªæ–‡ä»¶file1ã€file2ã€file3ï¼Œä½¿ç”¨rsyncæœ¬åœ°åŒæ­¥</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mkdir /dir1# mkdir /dir2# mkdir /dir3# touch /dir1/file{1..3}# rsync -av /dir1/ /dir2=&gt;   æŠŠ/dir1ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶æ‹·è´åˆ°/dir2ç›®å½•ä¸­# rsync -av /dir1 /dir3=&gt;   æŠŠ/dir1ç›®å½•æ•´ä½“åŒæ­¥åˆ°/dir3ç›®å½•ä¸­<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šrsync -Ré€‰é¡¹çš„åº”ç”¨ï¼ˆä¿ç•™ç›¸å¯¹è·¯å¾„ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rsync -avR /dir1/ /dir2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šrsync â€“deleteï¼ˆåˆ é™¤ç›®æ ‡ç›®å½•é‡Œå¤šä½™çš„æ–‡ä»¶ï¼‰</p><p>/dir1    ===  /dir2</p><p>file1ã€file2 file1ã€file2ã€file3</p><p>rsync â€“deleteåŒæ­¥åï¼Œä¼šè‡ªåŠ¨åˆ é™¤file3æ–‡ä»¶ã€‚ï¼ˆè®©dir1ä¸dir2ç›®å½•ä¸­çš„æ–‡ä»¶é«˜åº¦ä¸€è‡´ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rsync -av --delete /dir1/ /dir2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="3ã€è¿œç¨‹æ–‡ä»¶åŒæ­¥"><a href="#3ã€è¿œç¨‹æ–‡ä»¶åŒæ­¥" class="headerlink" title="3ã€è¿œç¨‹æ–‡ä»¶åŒæ­¥"></a>3ã€è¿œç¨‹æ–‡ä»¶åŒæ­¥</h2><p>Pushï¼šä¸Šä¼ æ–‡ä»¶åˆ°è¿œç¨‹æœåŠ¡å™¨ç«¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rsync -av æœ¬åœ°æ–‡ä»¶æˆ–ç›®å½• è¿œç¨‹ç”¨æˆ·å@è¿œç¨‹æœåŠ¡å™¨çš„IPåœ°å€:ç›®æ ‡è·¯å¾„<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠlinux.txtæ–‡æ¡£ä¼ è¾“åˆ°è¿œç¨‹æœåŠ¡å™¨ç«¯ï¼ˆ10.1.1.100ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rsync -av linux.txt <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠshopæ–‡ä»¶å¤¹ä¼ è¾“åˆ°è¿œç¨‹æœåŠ¡å™¨ç«¯ï¼ˆ10.1.1.100ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rsync -av shop root@10.1.1.100:/root<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>Pullï¼šä¸‹è½½æ–‡ä»¶åˆ°æœ¬åœ°æœåŠ¡å™¨ç«¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rsync -av è¿œç¨‹ç”¨æˆ·å@è¿œç¨‹æœåŠ¡å™¨çš„IP:ç›®æ ‡æ–‡ä»¶æˆ–ç›®å½• æœ¬åœ°å­˜å‚¨ä½ç½®<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠè¿œç¨‹æœåŠ¡å™¨ï¼ˆ10.1.1.100ï¼‰çš„/etc/hostsæ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rsync -av root@10.1.1.100:/etc/hosts ./<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠè¿œç¨‹æœåŠ¡å™¨ï¼ˆ10.1.1.100ï¼‰çš„/shopæ–‡ä»¶å¤¹ä¸‹è½½åˆ°æœ¬åœ°</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rsync -av root@10.1.1.100:/shop ./<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>æ€è€ƒï¼š</strong></p><p>é—®é¢˜1ï¼šrsyncè¿œç¨‹åŒæ­¥æ•°æ®æ—¶ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¸ºä»€ä¹ˆéœ€è¦å¯†ç ï¼Ÿå¦‚æœä¸æƒ³è¦å¯†ç åŒæ­¥æ€ä¹ˆå®ç°ï¼Ÿ</p><p>rsyncåœ¨è¿œç¨‹åŒæ­¥æ—¶ï¼Œä¹‹æ‰€ä»¥è¦è¾“å…¥å¯†ç çš„ä¸»è¦åŸå› åœ¨äºå…¶åº•å±‚è¿˜æ˜¯åŸºäºSSHæœåŠ¡çš„ã€‚SSHæœ‰ä¸¤ç§è®¤è¯æ–¹å¼ï¼Œå¦‚æœæ²¡æœ‰é…ç½®å…å¯†åˆ™é»˜è®¤ä½¿ç”¨ç”¨æˆ·å+å¯†ç çš„è®¤è¯æ–¹å¼ã€‚</p><p>ä¸æƒ³è¦å¯†ç åŒæ­¥ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨SSHå…å¯†æ“ä½œã€‚</p><p>Code =&gt; Backup</p><p>Codeï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ssh-keygen -t rsa -P ""# ssh-copy-id root@10.1.1.100<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>é—®é¢˜2ï¼šå¦‚æœBackupæœåŠ¡å™¨ç«¯æ›´æ”¹äº†SSHçš„é»˜è®¤å¯†ç ï¼Œé‚£è¿™ä¸ªæ•°æ®è¯¥å¦‚ä½•ï¼Ÿ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">#  rsync -e "ssh -p 10086" -av rsync.txt root@10.1.1.100:/root<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="4ã€rsyncä½œä¸ºç³»ç»ŸæœåŠ¡"><a href="#4ã€rsyncä½œä¸ºç³»ç»ŸæœåŠ¡" class="headerlink" title="4ã€rsyncä½œä¸ºç³»ç»ŸæœåŠ¡"></a>4ã€rsyncä½œä¸ºç³»ç»ŸæœåŠ¡</h2><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œrsyncåªæ˜¯ä½œä¸ºä¸€ä¸ªå‘½ä»¤æ¥è¿›è¡Œä½¿ç”¨çš„ï¼ˆpsåœ¨æŸ¥è¯¢è¿›ç¨‹æ—¶ï¼Œæ‰¾ä¸åˆ°å¯¹åº”çš„æœåŠ¡ï¼‰ï¼Œä½†æ˜¯rsyncæä¾›äº†ä¸€ç§ä½œä¸ºç³»ç»ŸæœåŠ¡çš„å®ç°æ–¹å¼ã€‚</p><p>Linuxç³»ç»ŸæœåŠ¡çš„æ€è·¯ï¼š</p><p>å¯¹å¤–æä¾›æœåŠ¡â€”â€”&gt;ç«¯å£ç›‘å¬â€”â€”&gt;==å¯åŠ¨æœåŠ¡==â€”â€”&gt;å¯åŠ¨è„šæœ¬â€”â€”&gt;é…ç½®æ–‡ä»¶</p><p>ç¬¬ä¸€æ­¥ï¼šå¯åŠ¨rsyncdæœåŠ¡ï¼ˆCentOS6ä¸­æ²¡æœ‰ï¼ŒCentOS7ä¸­æœ‰è¿™ä¸ªæœåŠ¡ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl start rsyncd<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚æœä¼ä¸šä¸­ä½¿ç”¨åˆ°æ“ä½œç³»ç»Ÿä¸ºCentOS6ç‰ˆæœ¬ï¼Œåˆ™æ²¡æœ‰å¯åŠ¨è„šæœ¬ã€‚å¿…é¡»æ±‚å¸®åŠ©ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># man rsync# rsync --helpUse "rsync --daemon --help" to see the daemon-mode command-line options.CentOS6ï¼šrsyncä½œä¸ºç³»ç»ŸæœåŠ¡# touch /etc/rsyncd.conf# rsync --daemon# ps -ef|grep rsync# netstat -tunlp |grep rsync=&gt;  -t tcp  -u udp<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>æ³¨ï¼šå¦‚æœrsyncä½œä¸ºç³»ç»ŸæœåŠ¡å•ç‹¬è¿è¡Œï¼Œåˆ™å…¶åº•å±‚å°±ä¸éœ€è¦SSHæœåŠ¡äº†ï¼</p></blockquote><p>ç¬¬äºŒæ­¥ï¼šrsyncdæœåŠ¡çš„é…ç½®æ–‡ä»¶/etc/rsyncd.conf</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># man 5 rsyncd.conf<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/../assets/blog_res/Linux%E7%B3%BB%E7%BB%9F%E4%B8%8B%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E6%9C%8D%E5%8A%A1RSYNC.assets/image-20200525153441596.png" alt="image-20200525153441596"></p><h1 id="ä¸‰ã€ä»»åŠ¡è§£å†³æ–¹æ¡ˆ-é‡ç‚¹"><a href="#ä¸‰ã€ä»»åŠ¡è§£å†³æ–¹æ¡ˆ-é‡ç‚¹" class="headerlink" title="ä¸‰ã€ä»»åŠ¡è§£å†³æ–¹æ¡ˆ(é‡ç‚¹)"></a>ä¸‰ã€ä»»åŠ¡è§£å†³æ–¹æ¡ˆ(é‡ç‚¹)</h1><h2 id="1ã€ç¯å¢ƒå‡†å¤‡"><a href="#1ã€ç¯å¢ƒå‡†å¤‡" class="headerlink" title="1ã€ç¯å¢ƒå‡†å¤‡"></a>1ã€ç¯å¢ƒå‡†å¤‡</h2><p><img src="/../assets/blog_res/Linux%E7%B3%BB%E7%BB%9F%E4%B8%8B%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E6%9C%8D%E5%8A%A1RSYNC.assets/image-20200525111900826.png" alt="image-20200525111900826"></p><table><thead><tr><th>ç¼–å·</th><th>IPåœ°å€</th><th>ä¸»æœºåç§°</th><th>è§’è‰²</th></tr></thead><tbody><tr><td>1</td><td>10.1.1.10</td><td>code.itcast.cn</td><td>Codeï¼ˆMISï¼‰</td></tr><tr><td>2</td><td>10.1.1.100</td><td>backup.itcast.cn</td><td>Backupï¼ˆBackupï¼‰</td></tr></tbody></table><p>ç¬¬ä¸€æ­¥ï¼šå…³é—­é˜²ç«å¢™ä¸SELinux</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl stop firewalld# systemctl disable firewalld# setenforce 0# vim /etc/selinux/configSELINUX=disabled<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬äºŒæ­¥ï¼šæ›´æ”¹ä¸»æœºåç§°</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># hostnamectl set-hostname code.itcast.cn# hostnamectl set-hostname backup.itcast.cn# su<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬ä¸‰æ­¥ï¼šæ›´æ”¹IPåœ°å€ï¼ˆé™æ€IPï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/sysconfig/network-scripts/ifcfg-ens33TYPE="Ethernet"BOOTPROTO="none"IPADDR=10.1.1.10NETMASK=255.255.255.0GATEWAY=10.1.1.2DNS1=8.8.8.8DNS2=114.114.114.114NAME="ens33"UUID="a5bb176c-c05c-4bdb-8975-a4aafa2fc90u"=&gt;    æ›´æ”¹UUIDçš„å3ä½DEVICE="ens33"ONBOOT="yes"# vim /etc/sysconfig/network-scripts/ifcfg-ens33TYPE="Ethernet"BOOTPROTO="none"IPADDR=10.1.1.100NETMASK=255.255.255.0GATEWAY=10.1.1.2DNS1=8.8.8.8DNS2=114.114.114.114NAME="ens33"UUID="a5bb176c-c05c-4bdb-8975-a4aafa2fc56y"=&gt;    æ›´æ”¹UUIDçš„å3ä½DEVICE="ens33"ONBOOT="yes"# systemctl restart network<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬å››æ­¥ï¼šå…³é—­NetworkManager</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl stop NetworkManager# systemctl disable NetworkManager<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç¬¬äº”æ­¥ï¼šé…ç½®YUMæº</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">ç•¥<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬å…­æ­¥ï¼šæ—¶é—´åŒæ­¥</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ntpdate cn.ntp.org.cn<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="2ã€ä»»åŠ¡è§£å†³æ–¹æ¡ˆ"><a href="#2ã€ä»»åŠ¡è§£å†³æ–¹æ¡ˆ" class="headerlink" title="2ã€ä»»åŠ¡è§£å†³æ–¹æ¡ˆ"></a>2ã€ä»»åŠ¡è§£å†³æ–¹æ¡ˆ</h2><p>==Codeï¼š10.1.1.10æœåŠ¡å™¨==</p><p>ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡ä»£ç æ–‡ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mkdir /app/java_project -p# mkdir /app/java_project/aa{1..3}# touch /app/java_project/file{1..9}.java<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç¬¬äºŒæ­¥ï¼šæŠŠrsyncä½œä¸ºç³»ç»ŸæœåŠ¡è¿è¡Œ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/rsyncd.conf[app]path=/app/java_projectlog file=/var/log/rsync.log# systemctl start rsyncd# ps -ef |grep rsync# netstat -tnlp |grep rsync<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>==Backupï¼š10.1.1.100==</p><p>ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºå¤‡ä»½ç›®å½•</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mkdir /backup/app1_java -p<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬å››æ­¥ï¼šæµ‹è¯•rsyncæ˜¯å¦å¯ä»¥è¿æ¥åˆ°rsyncæœåŠ¡</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rsync -a root@10.1.1.10::app-aï¼šè·å–rsyncæœåŠ¡å¯¹åº”çš„åŒæ­¥ç›®å½•æ ‡ç­¾<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ä¸‹è½½æ–‡ä»¶åˆ°æœ¬åœ°</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rsync -av root@10.1.1.10::app /backup/app1_java<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬äº”æ­¥ï¼šç¼–å†™è®¡åˆ’ä»»åŠ¡ + Shellçš„è„šæœ¬æ–‡ä»¶ï¼Œè‡ªåŠ¨å®ç°ä»£ç å¤‡ä»½</p><p>â‘  ç¼–å†™è®¡åˆ’ä»»åŠ¡</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># crontab -e3 1 * * * /root/rsync_java.sh <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>â‘¡ ç¼–å†™rsync_java.shè„šæœ¬ç¨‹åº</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim rsync_java.sh#!/bin/bashrsync -av root@10.1.1.10::app /backup/app1_java &amp;&gt;/dev/null# chmod +x rsync_java.sh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="3ã€ä»»åŠ¡æ€»ç»“"><a href="#3ã€ä»»åŠ¡æ€»ç»“" class="headerlink" title="3ã€ä»»åŠ¡æ€»ç»“"></a>3ã€ä»»åŠ¡æ€»ç»“</h2><p>Codeä»£ç æœåŠ¡å™¨ =&gt; 10.1.1.10/app/java_project</p><p>Backupå¤‡ä»½æœåŠ¡å™¨ =&gt; 10.1.1.100</p><p>Codeï¼š</p><p>â‘  å‡†å¤‡ä»£ç </p><p>â‘¡ ç¼–å†™/etc/rsyncd.confæ–‡ä»¶ï¼Œå®šä¹‰åŒæ­¥ä»£ç ç›®å½•</p><p>â‘¢ å¯åŠ¨rsyncdæœåŠ¡</p><p>Backupï¼š</p><p>â‘  æµ‹è¯•rsyncæ˜¯å¦å¯ä»¥è¿æ¥åˆ°CodeæœåŠ¡å™¨ä¸Šçš„rsyncdæœåŠ¡</p><p>â‘¡ åˆ›å»ºå¤‡ä»½ç›®å½•</p><p>â‘¢ ç¼–å†™è®¡åˆ’ä»»åŠ¡ï¼Œå‡Œæ™¨1ç‚¹03å»CodeæœåŠ¡å™¨åŒæ­¥ä»£ç </p><p>â‘£ ç¼–å†™rsync_java.shæ–‡ä»¶ï¼Œå®ç°åŒæ­¥æ“ä½œ</p><h1 id="å››ã€RSYNCè¯¾ç¨‹æ‰©å±•"><a href="#å››ã€RSYNCè¯¾ç¨‹æ‰©å±•" class="headerlink" title="å››ã€RSYNCè¯¾ç¨‹æ‰©å±•"></a>å››ã€RSYNCè¯¾ç¨‹æ‰©å±•</h1><h2 id="1ã€ç»™RSYNCæœåŠ¡æ·»åŠ å¯†ç "><a href="#1ã€ç»™RSYNCæœåŠ¡æ·»åŠ å¯†ç " class="headerlink" title="1ã€ç»™RSYNCæœåŠ¡æ·»åŠ å¯†ç "></a>1ã€ç»™RSYNCæœåŠ¡æ·»åŠ å¯†ç </h2><p>CodeæœåŠ¡å™¨ï¼š</p><p>â‘  æ‰“å¼€/etc/rsyncd.confé…ç½®æ–‡ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/rsyncd.conf[app]path=/app/java_projectlog file=/var/log/rsync.logauth users = user1,user2=&gt;   ç”¨æˆ·åsecrets file = /etc/rsyncd.secrets=&gt;   å¯†ç æ–‡ä»¶<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â‘¡ åœ¨/etcç›®å½•ä¸‹åˆ›å»ºrsyncd.secretsæ–‡ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/rsyncd.secretsuser1:123 =&gt;   è®¾ç½®å¯†ç ï¼Œç”¨æˆ·å:å¯†ç user2:123<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>â‘¢ æ›´æ”¹å¯†ç æ–‡ä»¶æƒé™ä¸º600</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chmod 600 /etc/rsyncd.secrets <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â‘£ é‡å¯rsyncdæœåŠ¡</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl restart rsyncd<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>Backupå¤‡ä»½æœåŠ¡å™¨ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rsync -av user1@10.1.1.10::app ./Password:123<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="2ã€RSYNCé›†åˆINOTIFYå·¥å…·å®ç°ä»£ç å®æ—¶åŒæ­¥-é‡ç‚¹"><a href="#2ã€RSYNCé›†åˆINOTIFYå·¥å…·å®ç°ä»£ç å®æ—¶åŒæ­¥-é‡ç‚¹" class="headerlink" title="2ã€RSYNCé›†åˆINOTIFYå·¥å…·å®ç°ä»£ç å®æ—¶åŒæ­¥(é‡ç‚¹)"></a>2ã€RSYNCé›†åˆINOTIFYå·¥å…·å®ç°ä»£ç å®æ—¶åŒæ­¥(é‡ç‚¹)</h2><p>ç¬¬ä¸€æ­¥ï¼šåœ¨CodeæœåŠ¡å™¨ç«¯å®‰è£…inotify-toolså·¥å…·ï¼ˆç›‘æ§å™¨ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># tar xf inotify-tools-3.13.tar.gz -C /usr/local/# cd /usr/local/inotify-tools-3.14# ./configure# make # make installå®‰è£…å®Œåï¼Œå°±ä¼šäº§ç”Ÿä¸‹é¢ä¸¤ä¸ªå‘½ä»¤/usr/local/bin/inotifywait      ç­‰å¾…/usr/local/bin/inotifywatch     çœ‹å®ˆ/usr/local/bin/inotifywait-m : ä¸€ç›´ç›‘æ§æŸä¸ªç›®å½•ï¼Œcreateã€deleteã€modifyç­‰è¡Œä¸º-r : é€’å½’ï¼Œä¸ä»…ä»…ç›‘æ§ç›®å½•è¿˜è¦ç›‘æ§ç›®å½•ä¸‹çš„æ–‡ä»¶-q : è·å–æ“ä½œä¿¡æ¯ï¼Œä½†æ˜¯ä¸è¾“å‡º-e : å“ªäº›è¡Œä¸ºéœ€è¦è¢«ç›‘æ§ï¼Œmodify,delete,create,attrib,movemodify: æ–‡ä»¶è¢«ä¿®æ”¹delete: æ–‡ä»¶è¢«åˆ é™¤create: æ–‡ä»¶è¢«åˆ›å»ºattrib: æ–‡ä»¶å±æ€§è¢«ä¿®æ”¹move: æ–‡ä»¶è¢«ç§»åŠ¨<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬äºŒæ­¥ï¼šç¼–å†™inotify.sh</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim inotify.sh/usr/local/bin/inotifywait -mrq -e modify,delete,create,attrib,move /app/java_project |while read eventsdorsync -av --delete /app/java_project/ root@10.1.1.100:/backup/app1_javaecho "`date +%F\ %T`å‡ºç°äº‹ä»¶$events" &gt;&gt; /var/log/rsync.log 2&gt;&amp;1doneæˆ‘å¯¹/app/java_projectåšäº†ä¸¤ä»¶äº‹â‘  åœ¨ç›®å½•ä¸‹åˆ›å»ºäº†ä¸€ä¸ªfile9.java=&gt;   createâ‘¡ åœ¨ç›®å½•ä¸‹åˆ é™¤äº†ä¸€ä¸ªfile5.java=&gt;   deletecreate,delete =&gt; while =&gt; æ‰§è¡Œä¸¤æ¬¡creatersyncæ•°æ®åŒæ­¥deletersyncæ•°æ®åŒæ­¥<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>/usr/local/bin/inotifywait -mrq -e modify,delete,create,attrib,move</p></blockquote><p>ç¬¬ä¸‰æ­¥ï¼šæ·»åŠ å¯æ‰§è¡Œæƒé™</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chmod +x inotify.sh<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬å››æ­¥ï¼šè®©inotify.shæ–‡ä»¶ä¸€ç›´æ‰§è¡Œä¸‹å»</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># nohup ./inotify.sh  &amp;&amp; : è®©inotify.shåœ¨è®¡ç®—æœºåå°è¿è¡Œï¼Œå¯ä»¥ä½¿ç”¨jobså‘½ä»¤æŸ¥çœ‹ï¼Œkill %ç¼–å·ç»“æŸï¼Œå½“æˆ‘ä»¬é€€å‡ºç»ˆç«¯æ—¶ï¼Œè¿™ä¸ªæ‰§è¡Œä¼šè‡ªåŠ¨ç»“æŸnohup : è®©ç¨‹åºä¸€ç›´åœ¨åå°è¿è¡Œï¼Œå³ä½¿æˆ‘ä»¬å…³é—­äº†ç»ˆç«¯<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ‰©å±•ï¼šå¦‚ä½•æŸ¥çœ‹rsync.logæ—¥å¿—æ–‡ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cat /var/log/rsync.log<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¿œç¨‹ç®¡ç†SSHæœåŠ¡</title>
      <link href="/2023/12/23/yuan-cheng-guan-li-ssh-fu-wu/"/>
      <url>/2023/12/23/yuan-cheng-guan-li-ssh-fu-wu/</url>
      
        <content type="html"><![CDATA[<h1 id="è¿œç¨‹ç®¡ç†SSHæœåŠ¡"><a href="#è¿œç¨‹ç®¡ç†SSHæœåŠ¡" class="headerlink" title="è¿œç¨‹ç®¡ç†SSHæœåŠ¡"></a>è¿œç¨‹ç®¡ç†SSHæœåŠ¡</h1><h1 id="ä¸€ã€æ­å»ºSSHæœåŠ¡"><a href="#ä¸€ã€æ­å»ºSSHæœåŠ¡" class="headerlink" title="ä¸€ã€æ­å»ºSSHæœåŠ¡"></a>ä¸€ã€æ­å»ºSSHæœåŠ¡</h1><h2 id="1ã€å…³é—­é˜²ç«å¢™ä¸SELinux"><a href="#1ã€å…³é—­é˜²ç«å¢™ä¸SELinux" class="headerlink" title="1ã€å…³é—­é˜²ç«å¢™ä¸SELinux"></a>1ã€å…³é—­é˜²ç«å¢™ä¸SELinux</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># å…³é—­firewalldé˜²ç«å¢™# ä¸´æ—¶å…³é—­systemctl stop firewalld# å…³é—­å¼€æœºè‡ªå¯åŠ¨systemctl disable firewalld# å…³é—­selinux# ä¸´æ—¶å…³é—­setenforce 0# ä¿®æ”¹é…ç½®æ–‡ä»¶  æ°¸ä¹…å…³é—­vim /etc/selinux/configSELINUX=disabled<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2ã€é…ç½®yumæº"><a href="#2ã€é…ç½®yumæº" class="headerlink" title="2ã€é…ç½®yumæº"></a>2ã€é…ç½®yumæº</h2><p><img src="/../assets/blog_res/%E8%BF%9C%E7%A8%8B%E7%AE%A1%E7%90%86SSH%E6%9C%8D%E5%8A%A1.assets/image-20200524092213836.png" alt="image-20200524092213836"></p><p>JumpServeré…ç½®å¤–ç½‘YUMæº =&gt; é˜¿é‡Œäº‘</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup# wget -O /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo# yum clean all# yum makecache<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>RealServeré…ç½®æœ¬åœ°YUMæº =&gt; æŠŠå…‰ç›˜é•œåƒä½œä¸ºä»“åº“ï¼ˆè‡ªå»ºYUMä»“åº“ï¼‰</p><p>â‘  æŒ‚è½½å…‰ç›˜</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mkdir /mnt/cdrom# mount -o ro /dev/sr0 /mnt/cdrom# chmod +x /etc/rc.local# echo 'mount -o ro /dev/sr0 /mnt/cdrom' &gt;&gt; /etc/rc.local<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â‘¡ ç¼–å†™local.repoæ–‡ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cd /etc/yum.repos.d# vim local.repo[local]name=local yumbaseurl=file:///mnt/cdromenabled=1gpgcheck=0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="3ã€opensshè½¯ä»¶çš„å®‰è£…"><a href="#3ã€opensshè½¯ä»¶çš„å®‰è£…" class="headerlink" title="3ã€opensshè½¯ä»¶çš„å®‰è£…"></a>3ã€opensshè½¯ä»¶çš„å®‰è£…</h2><p>SSHæœåŠ¡åº•å±‚çš„è½¯ä»¶åç§°å«åšopensshï¼Œopenå¼€æºï¼Œsshå°±æ˜¯sshæœåŠ¡ã€‚opensshå±äºC/Sæ¶æ„è½¯ä»¶ï¼Œå…¶æ‹¥æœ‰å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ç«¯ã€‚</p><p>å®¢æˆ·ç«¯ï¼šssh</p><p>æœåŠ¡ç«¯ï¼šopenssh-server</p><p>å®‰è£…æ­¥éª¤ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install openssh -y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ£€æŸ¥opensshæ˜¯å¦å®‰è£…æˆåŠŸ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rpm -qa |grep opensshæˆ–# yum list installed |grep openssh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>è·å–opensshç”Ÿæˆçš„æ–‡ä»¶åˆ—è¡¨</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rpm -ql openssh-server# é…ç½®æ–‡ä»¶/etc/ssh/sshd_config    =&gt;      sshæœåŠ¡çš„ä¸»é…ç½®æ–‡ä»¶/etc/sysconfig/sshd# æœåŠ¡ç®¡ç†è„šæœ¬/usr/lib/systemd/system/sshd.service=&gt;      systemctl start sshd# æ–‡ä»¶å…±äº«æœåŠ¡ æä¾›æ–‡ä»¶ä¸Šä¼ ä¸‹è½½çš„æœåŠ¡/usr/libexec/openssh/sftp-server# äºŒè¿›åˆ¶æ–‡ä»¶ç¨‹åºæ–‡ä»¶/usr/sbin/sshd# å…¬é’¥ç”Ÿæˆå·¥å…·/usr/sbin/sshd-keygen# manæ‰‹å†Œ/usr/share/man/man5/sshd_config.5.gz/usr/share/man/man8/sftp-server.8.gz/usr/share/man/man8/sshd.8.gz<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rpm -ql openssh-clients# å®¢æˆ·ç«¯é…ç½®æ–‡ä»¶/etc/ssh/ssh_config# è¿œç¨‹copyå‘½ä»¤ æœåŠ¡å™¨é—´è¿›è¡Œæ–‡ä»¶ä¼ è¾“/usr/bin/scp# sftpå®¢æˆ·ç«¯  ä¸Šä¼ ä¸‹è½½æ–‡ä»¶æ“ä½œ/usr/bin/sftp/usr/bin/slogin/usr/bin/ssh/usr/bin/ssh-add/usr/bin/ssh-agent/usr/bin/ssh-copy-id/usr/bin/ssh-keyscan# å®¢æˆ·ç«¯manæ‰‹å†Œ/usr/share/man/man1/scp.1.gz/usr/share/man/man1/sftp.1.gz/usr/share/man/man1/slogin.1.gz/usr/share/man/man1/ssh-add.1.gz/usr/share/man/man1/ssh-agent.1.gz/usr/share/man/man1/ssh-copy-id.1.gz/usr/share/man/man1/ssh-keyscan.1.gz/usr/share/man/man1/ssh.1.gz/usr/share/man/man5/ssh_config.5.gz/usr/share/man/man8/ssh-pkcs11-helper.8.gz<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="4ã€æŸ¥çœ‹å¹¶ä¿®æ”¹sshæœåŠ¡ç«¯çš„é…ç½®æ–‡ä»¶"><a href="#4ã€æŸ¥çœ‹å¹¶ä¿®æ”¹sshæœåŠ¡ç«¯çš„é…ç½®æ–‡ä»¶" class="headerlink" title="4ã€æŸ¥çœ‹å¹¶ä¿®æ”¹sshæœåŠ¡ç«¯çš„é…ç½®æ–‡ä»¶"></a>4ã€æŸ¥çœ‹å¹¶ä¿®æ”¹sshæœåŠ¡ç«¯çš„é…ç½®æ–‡ä»¶</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># man 5 sshd_config<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>RealServerï¼šç¦æ­¢rootè´¦å·è¿œç¨‹ç™»å½•</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># man 5 sshd_configPermitRootLogin=&gt; yes or noï¼Œé»˜è®¤ä¸ºyes ä»£è¡¨å…è®¸é€šè¿‡rootè´¦å·è¿œç¨‹ç™»å½•æ­¤æœåŠ¡å™¨<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/ssh/sshd_config38è¡Œ PermitRootLogin no<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="5ã€sshdæœåŠ¡ç®¡ç†"><a href="#5ã€sshdæœåŠ¡ç®¡ç†" class="headerlink" title="5ã€sshdæœåŠ¡ç®¡ç†"></a>5ã€sshdæœåŠ¡ç®¡ç†</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl restart sshd=&gt;   é‡å¯# systemctl status sshd=&gt;  çŠ¶æ€# systemctl stop sshd=&gt;   åœæ­¢# systemctl start sshd=&gt;   å¯åŠ¨# systemctl enable sshd=&gt; å¼€æœºè‡ªå¯åŠ¨# systemctl disable sshd=&gt;  å¼€æœºä¸è‡ªå¯# ps -ef |grep sshd=&gt; è¿›ç¨‹æˆ–# netstat -tnlp |grep sshd=&gt;  ç«¯å£æˆ–# ss -naltp |grep sshd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="äºŒã€SSHæœåŠ¡ä»»åŠ¡è§£å†³æ–¹æ¡ˆ"><a href="#äºŒã€SSHæœåŠ¡ä»»åŠ¡è§£å†³æ–¹æ¡ˆ" class="headerlink" title="äºŒã€SSHæœåŠ¡ä»»åŠ¡è§£å†³æ–¹æ¡ˆ"></a>äºŒã€SSHæœåŠ¡ä»»åŠ¡è§£å†³æ–¹æ¡ˆ</h1><h2 id="1ã€åˆ›å»ºç”¨æˆ·å¹¶æˆæƒ"><a href="#1ã€åˆ›å»ºç”¨æˆ·å¹¶æˆæƒ" class="headerlink" title="1ã€åˆ›å»ºç”¨æˆ·å¹¶æˆæƒ"></a>1ã€åˆ›å»ºç”¨æˆ·å¹¶æˆæƒ</h2><p>JumpServerè·³æ¿æœºåˆ›å»ºç”¨æˆ·å¹¶æˆæƒ</p><p>ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºç”¨æˆ·ä¸ç”¨æˆ·ç»„ï¼ˆhtmlå‰ç«¯ç»„ï¼Œtomä¸jerryï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># åˆ›å»ºhtmlå‰ç«¯ç»„# groupadd html# åˆ›å»ºç»„å†…ç”¨æˆ·tomä¸jerry# useradd -g html tom# useradd -g html jerry<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬äºŒæ­¥ï¼šä¸ºç”¨æˆ·æ·»åŠ å¯†ç </p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># echo 123456 |passwd --stdin tom# echo 123456 |passwd --stdin jerry<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç¬¬ä¸‰æ­¥ï¼šä¸ºå¼€å‘äººå‘˜åˆ›å»ºæ•°æ®ç›®å½•å¹¶ä¸”è®¾ç½®ç›¸åº”çš„æƒé™</p><p>â‘  åˆ›å»ºç”¨æˆ·çš„æ•°æ®ç›®å½•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mkdir -p /code/html=&gt;    å‰ç«¯ç»„# ll -d /code/htmldrwxr-xr-x. 2 root root 6 May 24 10:36 /code/html<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>â‘¡ æ›´æ”¹ç›®å½•çš„æ–‡ä»¶æ‰€å±ç»„ï¼ˆæ›´æ”¹ä¸ºhtmlï¼Œä»£è¡¨htmlç»„å†…æˆå‘˜å¯ä»¥å¯¹è¿™ä¸ªç›®å½•è¿›è¡Œç®¡ç†ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chgrp -R html /code/htmldrwxr-xr-x. 2 root html 6 May 24 10:36 /code/html# chmod -R g+w /code/htmldrwxrwxr-x. 2 root html 6 May 24 10:36 /code/html<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>â‘¢ æ·»åŠ ç²˜æ»ä½æƒé™ï¼Œé˜²æ­¢è¯¯åˆ é™¤æ“ä½œ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chmod 1770 /code/htmldrwxrwx--T. 2 root html 6 May 24 10:36 /code/html<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="2ã€æµ‹è¯•ç”¨æˆ·æƒé™"><a href="#2ã€æµ‹è¯•ç”¨æˆ·æƒé™" class="headerlink" title="2ã€æµ‹è¯•ç”¨æˆ·æƒé™"></a>2ã€æµ‹è¯•ç”¨æˆ·æƒé™</h2><p>æµ‹è¯•ç”¨æˆ·æƒé™æ˜¯å¦è®¾ç½®æˆåŠŸï¼Œå¯ä»¥ç»“åˆç¬¬1æ­¥ä¸€èµ·å®Œæˆ</p><h2 id="3ã€ç¦ç”¨rootç™»å½•"><a href="#3ã€ç¦ç”¨rootç™»å½•" class="headerlink" title="3ã€ç¦ç”¨rootç™»å½•"></a>3ã€ç¦ç”¨rootç™»å½•</h2><p>RealServeræœåŠ¡å™¨ç«¯ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/ssh/sshd_configPermitRootLogin no<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="4ã€æ›´æ”¹SSHé»˜è®¤ç«¯å£"><a href="#4ã€æ›´æ”¹SSHé»˜è®¤ç«¯å£" class="headerlink" title="4ã€æ›´æ”¹SSHé»˜è®¤ç«¯å£"></a>4ã€æ›´æ”¹SSHé»˜è®¤ç«¯å£</h2><p>RealServeræœåŠ¡å™¨ç«¯ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/ssh/sshd_config17è¡Œ Port 3712<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="5ã€é‡å¯SSHæœåŠ¡"><a href="#5ã€é‡å¯SSHæœåŠ¡" class="headerlink" title="5ã€é‡å¯SSHæœåŠ¡"></a>5ã€é‡å¯SSHæœåŠ¡</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl restart sshdæˆ–# systemctl reload sshd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>restartä¸reloadçš„æœ¬è´¨åŒºåˆ«ï¼š</p><p>â‘  restartå…¶å®ç›¸å½“äºstopç„¶ååœ¨start</p><p>â‘¡ reloadä¸åœæ­¢ç°æœ‰ä¸šåŠ¡ï¼Œåªæ˜¯é‡æ–°åŠ è½½sshdå¯¹åº”çš„é…ç½®æ–‡ä»¶</p><h2 id="6ã€åœ¨RealServeråˆ›å»ºä¸€ä¸ªcodeè´¦å·"><a href="#6ã€åœ¨RealServeråˆ›å»ºä¸€ä¸ªcodeè´¦å·" class="headerlink" title="6ã€åœ¨RealServeråˆ›å»ºä¸€ä¸ªcodeè´¦å·"></a>6ã€åœ¨RealServeråˆ›å»ºä¸€ä¸ªcodeè´¦å·</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># useradd code# echo 123456 |passwd --stdin code<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æµ‹è¯•ï¼šåœ¨JumpServerè¿œç¨‹è¿æ¥RealServer</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ssh -p 3721 code@11.1.1.100<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="7ã€SSHå®¢æˆ·ç«¯ä¸éªŒè¯æŒ‡çº¹"><a href="#7ã€SSHå®¢æˆ·ç«¯ä¸éªŒè¯æŒ‡çº¹" class="headerlink" title="7ã€SSHå®¢æˆ·ç«¯ä¸éªŒè¯æŒ‡çº¹"></a>7ã€SSHå®¢æˆ·ç«¯ä¸éªŒè¯æŒ‡çº¹</h2><p>ç¬¬ä¸€æ¬¡è¿æ¥è¿œç¨‹æœåŠ¡å™¨æ—¶ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">The authenticity of host '11.1.1.100 (11.1.1.100)' can't be established.ECDSA key fingerprint is SHA256:Y/cQNWWkX15o2MsJ5HOQBI2m8S33qIA+x3zys8J4pOY.ECDSA key fingerprint is MD5:76:61:86:8b:d5:ee:bf:9c:60:e6:12:fa:f6:f0:74:36.Are you sure you want to continue connecting (yes/no)?yesWarning: Permanently added '11.1.1.100' (ECDSA) to the list of known hosts.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¦‚æœæˆ‘ä»¬ä¸æƒ³éªŒè¯æŒ‡çº¹ï¼Œå¯ä»¥é€šè¿‡æ›´æ”¹SSHå®¢æˆ·ç«¯çš„é…ç½®æ–‡ä»¶</p><p>JumpServerï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/ssh/ssh_config35è¡Œ StrictHostKeyChecking no<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="8ã€ç”¨ä¸“ä¸šå·¥å…·pwgenç”Ÿæˆç”¨æˆ·å¯†ç "><a href="#8ã€ç”¨ä¸“ä¸šå·¥å…·pwgenç”Ÿæˆç”¨æˆ·å¯†ç " class="headerlink" title="8ã€ç”¨ä¸“ä¸šå·¥å…·pwgenç”Ÿæˆç”¨æˆ·å¯†ç "></a>8ã€ç”¨ä¸“ä¸šå·¥å…·pwgenç”Ÿæˆç”¨æˆ·å¯†ç </h2><p>åœ¨å®é™…ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå…¶ç”¨æˆ·å¯†ç ä¸€å®šä¸è¦æ‰‹å·¥è®¾ç½®ï¼Œå»ºè®®ä½¿ç”¨ä¸“ä¸šçš„å¯†ç ç”Ÿæˆå·¥å…·å¦‚pwgenã€‚</p><p>â‘  å®‰è£…éšæœºå¯†ç ç”Ÿæˆå·¥å…·pwgen</p><p>â‘¡ ä½¿ç”¨pwgenå·¥å…·ç”Ÿæˆéšæœºå¯†ç </p><p>â‘¢ ç»™è´¦å·codeè®¾ç½®å¯†ç </p><p>ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºcodeå¼€å‘è€…è´¦å·</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># useradd code<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬äºŒæ­¥ï¼šé…ç½®EPELæºï¼Œå®‰è£…pwgenå·¥å…·</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># wget -O /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repo# yum clean all# yum makecache<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç¬¬ä¸‰æ­¥ï¼šå®‰è£…pwgenå¯†ç ç”Ÿæˆå·¥å…·</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install pwgen -y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬å››æ­¥ï¼šä½¿ç”¨pwgenç”Ÿæˆéšæœºå¯†ç </p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># pwgen -cnBs1 10 1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ‰©å±•ï¼špwgenå¯†ç ç”Ÿæˆå™¨çš„ä½¿ç”¨</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># pwgen --help# ç”¨æ³•: pwgen é€‰é¡¹å‚æ•° é•¿åº¦ ç”Ÿæˆä¸ªæ•°Usage: pwgen [ OPTIONS ] [ pw_length ] [ num_pw ]# å¯†ç ä¸­è‡³å°‘åŒ…å«ä¸€ä¸ªå¤§å†™å­—æ¯-c or â€“capitalize# å¯†ç ä¸­ä¸åŒ…å«å¤§å†™å­—æ¯-A or â€“no-capitalize# å¯†ç ä¸­è‡³å°‘åŒ…å«ä¸€ä¸ªæ•°å­—-n or â€“numerals# å¯†ç ä¸­ä¸åŒ…å«æ•°å­—-0 or â€“no-numerals# å¯†ç ä¸­è‡³å°‘åŒ…å«ä¸€ä¸ªç‰¹æ®Šç¬¦å·-y or â€“symbols# ç”Ÿæˆå®Œå…¨éšæœºå¯†ç -s or â€“secure# å¯†ç ä¸­ä¸åŒ…å«æ­§ä¹‰å­—ç¬¦ï¼ˆä¾‹å¦‚1,l,O,0ï¼‰-B or â€“ambiguous# ä½¿ç”¨SHA1 hashç»™å®šçš„æ–‡ä»¶ä½œä¸ºä¸€ä¸ªéšæœºç§å­-H or â€“sha1=path/to/file[#seed]# åœ¨åˆ—ä¸­æ‰“å°ç”Ÿæˆçš„å¯†ç -C# ä¸è¦åœ¨åˆ—ä¸­æ‰“å°ç”Ÿæˆçš„å¯†ç ï¼Œå³ä¸€è¡Œä¸€ä¸ªå¯†ç -1# ä¸è¦ä½¿ç”¨ä»»ä½•å…ƒéŸ³ï¼Œä»¥é¿å…å¶ç„¶çš„è„è¯-v or â€“no-vowels<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="ä¸‰ã€SSHæœåŠ¡è¡¥å……"><a href="#ä¸‰ã€SSHæœåŠ¡è¡¥å……" class="headerlink" title="ä¸‰ã€SSHæœåŠ¡è¡¥å……"></a>ä¸‰ã€SSHæœåŠ¡è¡¥å……</h1><h2 id="1ã€scpå‘½ä»¤"><a href="#1ã€scpå‘½ä»¤" class="headerlink" title="1ã€scpå‘½ä»¤"></a>1ã€scpå‘½ä»¤</h2><p>ä¸»è¦åŠŸèƒ½ï¼šç”¨äºLinuxç³»ç»Ÿä¸Linuxç³»ç»Ÿä¹‹é—´è¿›è¡Œæ–‡ä»¶çš„ä¼ è¾“ï¼ˆä¸Šä¼ ã€ä¸‹è½½ï¼‰</p><p>ä¸Šä¼ ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># scp [é€‰é¡¹] æœ¬åœ°æ–‡ä»¶è·¯å¾„ è¿œç¨‹ç”¨æˆ·å@è¿œç¨‹æœåŠ¡å™¨çš„IPåœ°å€:è¿œç¨‹æ–‡ä»¶å­˜å‚¨è·¯å¾„-r : é€’å½’ä¸Šä¼ ï¼Œä¸»è¦é’ˆå¯¹æ–‡ä»¶å¤¹-P : æ›´æ¢äº†SSHæœåŠ¡çš„é»˜è®¤ç«¯å£å¿…é¡»ä½¿ç”¨-Pé€‰é¡¹<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ä¸‹è½½ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># scp [é€‰é¡¹] è¿œç¨‹ç”¨æˆ·å@è¿œç¨‹æœåŠ¡å™¨çš„IPåœ°å€:è¿œç¨‹æ–‡ä»¶è·¯å¾„ æœ¬åœ°æ–‡ä»¶å­˜å‚¨è·¯å¾„-r : é€’å½’ä¸Šä¼ ï¼Œä¸»è¦é’ˆå¯¹æ–‡ä»¶å¤¹-P : æ›´æ¢äº†SSHæœåŠ¡çš„é»˜è®¤ç«¯å£å¿…é¡»ä½¿ç”¨-Pé€‰é¡¹<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="2ã€è¸¢å‡ºç”¨æˆ·"><a href="#2ã€è¸¢å‡ºç”¨æˆ·" class="headerlink" title="2ã€è¸¢å‡ºç”¨æˆ·"></a>2ã€è¸¢å‡ºç”¨æˆ·</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># æŸ¥çœ‹å½“å‰åœ¨çº¿ç”¨æˆ·w# è¸¢å‡ºæŸä¸ªè´¦å·pkill -kill -t pts/1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h1 id="å››ã€SSHå…å¯†ç™»å½•è§£å†³æ–¹æ¡ˆ"><a href="#å››ã€SSHå…å¯†ç™»å½•è§£å†³æ–¹æ¡ˆ" class="headerlink" title="å››ã€SSHå…å¯†ç™»å½•è§£å†³æ–¹æ¡ˆ"></a>å››ã€SSHå…å¯†ç™»å½•è§£å†³æ–¹æ¡ˆ</h1><h2 id="1ã€ä¸ºä»€ä¹ˆéœ€è¦å…å¯†ç™»å½•"><a href="#1ã€ä¸ºä»€ä¹ˆéœ€è¦å…å¯†ç™»å½•" class="headerlink" title="1ã€ä¸ºä»€ä¹ˆéœ€è¦å…å¯†ç™»å½•"></a>1ã€ä¸ºä»€ä¹ˆéœ€è¦å…å¯†ç™»å½•</h2><p><img src="/../assets/blog_res/%E8%BF%9C%E7%A8%8B%E7%AE%A1%E7%90%86SSH%E6%9C%8D%E5%8A%A1.assets/image-20200524154610968.png" alt="image-20200524154610968"></p><h2 id="2ã€SSHè®¤è¯åŸç†ï¼ˆåŸºäºç”¨æˆ·åå¯†ç -åŸºäºå¯†é’¥å¯¹ï¼‰"><a href="#2ã€SSHè®¤è¯åŸç†ï¼ˆåŸºäºç”¨æˆ·åå¯†ç -åŸºäºå¯†é’¥å¯¹ï¼‰" class="headerlink" title="2ã€SSHè®¤è¯åŸç†ï¼ˆåŸºäºç”¨æˆ·åå¯†ç +åŸºäºå¯†é’¥å¯¹ï¼‰"></a>2ã€SSHè®¤è¯åŸç†ï¼ˆåŸºäºç”¨æˆ·åå¯†ç +åŸºäºå¯†é’¥å¯¹ï¼‰</h2><p>â‘  å›é¡¾åŸºäºç”¨æˆ·åå¯†ç çš„è®¤è¯æ–¹å¼</p><p><img src="/../assets/blog_res/%E8%BF%9C%E7%A8%8B%E7%AE%A1%E7%90%86SSH%E6%9C%8D%E5%8A%A1.assets/image-20200524155050868.png" alt="image-20200524155050868"></p><p>â‘¡ åŸºäºå¯†é’¥å¯¹ï¼ˆå…¬é’¥ä¸ç§é’¥ï¼‰çš„è®¤è¯æ–¹å¼ =&gt; å…å¯†ç™»å½•</p><p><img src="/../assets/blog_res/%E8%BF%9C%E7%A8%8B%E7%AE%A1%E7%90%86SSH%E6%9C%8D%E5%8A%A1.assets/image-20200524155421332.png" alt="image-20200524155421332"></p><p>Aä¸»æœº =&gt; JumpServerï¼ŒBä¸»æœº =&gt; RealServer</p><p>ç¬¬ä¸€æ­¥ï¼šåœ¨Aä¸»æœºï¼ˆJumpServerï¼‰ç”Ÿæˆä¸€ä¸ªå¯†é’¥å¯¹ï¼ˆå…¬é’¥å’Œç§é’¥ï¼‰</p><p>ç¬¬äºŒæ­¥ï¼šæŠŠAä¸»æœºçš„å…¬é’¥é€šè¿‡ç½‘ç»œæ‹·è´åˆ°Bä¸»æœºï¼ˆRealServerï¼‰ä¸Šï¼Œç„¶åæŠŠå…¶å†…å®¹è¿½åŠ åˆ°Bä¸»æœºçš„~/.ssh/authorized_keys</p><p>ç¬¬ä¸‰æ­¥ï¼šç”±Aä¸»æœºï¼ˆJumpServerï¼‰å‘Bä¸»æœºï¼ˆRealServerï¼‰å‘èµ·ç™»å½•è¯·æ±‚ï¼Œç„¶åç›´æ¥åœ¨Bä¸»æœºä¸Šè¿›è¡Œå…¬é’¥æ¯”å¯¹ï¼ˆåˆ¤æ–­Aä¸»æœºçš„å…¬é’¥æ˜¯å¦å·²ç»å­˜å‚¨åœ¨Bä¸»æœºçš„authorized_keysæ–‡ä»¶ä¸­ï¼‰ï¼Œå¦‚æœå­˜åœ¨ä¸”æ­£ç¡®ï¼Œåˆ™ç”Ÿæˆä¸€ä¸ªéšæœºçš„å­—ç¬¦ä¸²ï¼ˆå¦‚itcastï¼‰ï¼Œç„¶åä½¿ç”¨Aä¸»æœºçš„å…¬é’¥å¯¹å…¶åŠ å¯†å¾—åˆ°åŠ å¯†çš„åå­—ç¬¦ä¸²ï¼ˆå¦‚dXdh,34njasz!z.ï¼‰</p><p>ç¬¬å››æ­¥ï¼šé€šè¿‡ç½‘ç»œï¼Œç”±Bä¸»æœºè®²åˆšæ‰ç”Ÿæˆçš„åŠ å¯†åçš„å­—ç¬¦ä¸²ä¼ è¾“ç»™ä¸»æœºAï¼Œä¸»æœºAæ¥æ”¶åˆ°åŠ å¯†åçš„å­—ç¬¦ä¸²ä»¥åï¼Œä½¿ç”¨è‡ªå·±æœ¬åœ°å­˜å‚¨çš„ç§é’¥è¿›è¡Œè§£å¯†æ“ä½œï¼ˆå¾—åˆ°itcastï¼‰</p><p>ç¬¬äº”æ­¥ï¼šæŠŠè§£å¯†å¾—åˆ°çš„itcastå‘é€åˆ°Bä¸»æœºï¼Œç„¶åéªŒè¯ä¸åˆšæ‰ç”Ÿæˆçš„å­—ç¬¦ä¸²æ˜¯å¦ä¸€è‡´ï¼Œå¦‚æœä¸€è‡´ï¼Œè¿”å›ç™»å½•æˆåŠŸã€‚åä¹‹ï¼Œåˆ™è¿”å›ç™»å½•å¤±è´¥ã€‚</p><p>åˆ°æ­¤å…å¯†ç™»å½•å…¨éƒ¨å®Œæˆï¼</p><h2 id="3ã€SSHå…å¯†ç™»å½•çš„å…·ä½“å®ç°"><a href="#3ã€SSHå…å¯†ç™»å½•çš„å…·ä½“å®ç°" class="headerlink" title="3ã€SSHå…å¯†ç™»å½•çš„å…·ä½“å®ç°"></a>3ã€SSHå…å¯†ç™»å½•çš„å…·ä½“å®ç°</h2><p>SSHå…å¯†çš„å®ç°æ€è·¯ä¸€å…±åˆ†ä¸ºä¸‰ä¸ªæ­¥éª¤ï¼ˆä¸‰æ­¥èµ°ï¼‰</p><p>ç¬¬ä¸€æ­¥ï¼šåœ¨Aä¸»æœºé’ˆå¯¹æŸä¸ªè´¦å·ï¼ˆtomæˆ–jerryï¼‰ç”Ÿæˆå…¬é’¥ä¸ç§é’¥</p><p>ç¬¬äºŒæ­¥ï¼šä½¿ç”¨æŸäº›æ–¹æ³•æŠŠå…¬é’¥å‘é€åˆ°Bä¸»æœºä¸­ï¼Œç„¶åè¿½åŠ åˆ°authorized_keysæ–‡ä»¶ä¸­</p><p>ç¬¬ä¸‰æ­¥ï¼šæµ‹è¯•æ˜¯å¦å®ç°å…å¯†ç™»å½•</p><h3 id="â˜†-æ–¹æ³•ä¸€ï¼šæ¯”è¾ƒå¸¸ç”¨-tom"><a href="#â˜†-æ–¹æ³•ä¸€ï¼šæ¯”è¾ƒå¸¸ç”¨-tom" class="headerlink" title="â˜† æ–¹æ³•ä¸€ï¼šæ¯”è¾ƒå¸¸ç”¨(tom)"></a>â˜† æ–¹æ³•ä¸€ï¼šæ¯”è¾ƒå¸¸ç”¨(tom)</h3><p>â‘  åœ¨Aä¸»æœºé’ˆå¯¹æŸä¸ªè´¦å·ç”Ÿæˆå…¬é’¥ä¸ç§é’¥</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ssh-keygen<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/../assets/blog_res/%E8%BF%9C%E7%A8%8B%E7%AE%A1%E7%90%86SSH%E6%9C%8D%E5%8A%A1.assets/image-20200524163237742.png" alt="image-20200524163237742"></p><blockquote><p>æ³¨ï¼šå¦‚æœä¸æƒ³ä¸€è·¯ç¡®è®¤ï¼Œå¯ä»¥åœ¨ssh-keygen -P â€œâ€ï¼Œç›´æ¥ç”Ÿæˆå…¬ç§é’¥</p></blockquote><p>â‘¡ ä½¿ç”¨ssh-copy-idæŠŠå…¬é’¥æ–‡ä»¶ä¸­çš„å†…å®¹ä¼ è¾“åˆ°æœåŠ¡å™¨ç«¯çš„~/.ssh/authorized_keysæ–‡ä»¶ä¸­</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ssh-copy-id -p 3712 code@11.1.1.100code@11.1.1.100's password:123456<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>â‘¢ åœ¨JumpServerå®¢æˆ·ç«¯æµ‹è¯•å…å¯†ç™»å½•æ˜¯å¦æˆåŠŸ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ssh -p 3721 code@11.1.1.100<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â˜†-æ–¹æ³•äºŒï¼šé›†ç¾¤å¸¸ç”¨-jerry"><a href="#â˜†-æ–¹æ³•äºŒï¼šé›†ç¾¤å¸¸ç”¨-jerry" class="headerlink" title="â˜† æ–¹æ³•äºŒï¼šé›†ç¾¤å¸¸ç”¨(jerry)"></a>â˜† æ–¹æ³•äºŒï¼šé›†ç¾¤å¸¸ç”¨(jerry)</h3><p>â‘  ç”Ÿæˆå…¬é’¥ä¸ç§é’¥</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ssh-keygen<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â‘¡ æŠŠid_rsa.pubæ–‡ä»¶ï¼Œscpåˆ°RealServeræœåŠ¡å™¨ç«¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># scp -P 3721 ~/.ssh/id_rsa.pub code@11.1.1.100:/home/code/<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â‘¢ åœ¨RealServeræœåŠ¡å™¨ç«¯ï¼ŒæŠŠid_rsa.pubæ–‡ä»¶ä¸­çš„å†…å®¹è¿½åŠ åˆ°~/.ssh/authorized_keysæ–‡ä»¶ä¸­</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cd ~# cat id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><blockquote><p>æ³¨æ„äº‹é¡¹ï¼šä»¥ä¸Šé…ç½®ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯å®é™…åº”ç”¨æ—¶è¦æ³¨æ„æ–‡ä»¶çš„æƒé™</p></blockquote><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">RealServerï¼š~/.ssh : 700~/.ssh/authorized_keys : 600<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>â‘£ æµ‹è¯•å…å¯†æ˜¯å¦æˆåŠŸ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ssh -p 3721 code@11.1.1.100<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxä¸‹yumæºé…ç½®å®æˆ˜</title>
      <link href="/2023/12/23/linux-xia-yum-yuan-pei-zhi-shi-zhan/"/>
      <url>/2023/12/23/linux-xia-yum-yuan-pei-zhi-shi-zhan/</url>
      
        <content type="html"><![CDATA[<h1 id="Linuxä¸‹yumæºé…ç½®å®æˆ˜"><a href="#Linuxä¸‹yumæºé…ç½®å®æˆ˜" class="headerlink" title="Linuxä¸‹yumæºé…ç½®å®æˆ˜"></a>Linuxä¸‹yumæºé…ç½®å®æˆ˜</h1><h1 id="ä¸€ã€Linuxä¸‹è½¯ä»¶åŒ…çš„ç®¡ç†"><a href="#ä¸€ã€Linuxä¸‹è½¯ä»¶åŒ…çš„ç®¡ç†" class="headerlink" title="ä¸€ã€Linuxä¸‹è½¯ä»¶åŒ…çš„ç®¡ç†"></a>ä¸€ã€Linuxä¸‹è½¯ä»¶åŒ…çš„ç®¡ç†</h1><h2 id="1ã€è½¯ä»¶å®‰è£…æ–¹å¼"><a href="#1ã€è½¯ä»¶å®‰è£…æ–¹å¼" class="headerlink" title="1ã€è½¯ä»¶å®‰è£…æ–¹å¼"></a>1ã€è½¯ä»¶å®‰è£…æ–¹å¼</h2><p>â‘  RPMåŒ…ç®¡ç†ï¼ˆéœ€è¦å•ç‹¬è§£å†³ä¾èµ–é—®é¢˜ï¼‰</p><p>â‘¡ YUMåŒ…ç®¡ç†ï¼ˆéœ€è¦æœ‰ç½‘ç»œåŠYUMä»“åº“çš„æ”¯æŒï¼Œä¼šè‡ªåŠ¨ä»äº’è”ç½‘ä¸‹è½½è½¯ä»¶ï¼Œè‡ªåŠ¨è§£å†³ä¾èµ–ï¼‰</p><p>â‘¢ æºç å®‰è£…ï¼ˆå®‰è£…è¿‡ç¨‹æ¯”è¾ƒå¤æ‚ï¼Œæºç å®‰è£…ä¸‰æ­¥èµ°ã€‚ä¼˜ç‚¹ï¼šå®šåˆ¶æ€§å¾ˆå¼ºï¼‰</p><p>è½¯ä»¶ï¼šä¸»çº¿ç‰ˆï¼ˆmainlineï¼‰ï¼Œç¨³å®šç‰ˆï¼ˆstableï¼‰</p><h2 id="2ã€æºç å®‰è£…çš„é…ç½®è¿‡ç¨‹"><a href="#2ã€æºç å®‰è£…çš„é…ç½®è¿‡ç¨‹" class="headerlink" title="2ã€æºç å®‰è£…çš„é…ç½®è¿‡ç¨‹"></a>2ã€æºç å®‰è£…çš„é…ç½®è¿‡ç¨‹</h2><p>åœ¨Linuxç³»ç»Ÿä¸­ï¼Œæºç å®‰è£…ä¸€å…±åˆ†ä¸ºä¸‰æ­¥ï¼ˆä¸‰æ­¥èµ°ï¼‰ï¼š</p><p>ç¬¬ä¸€æ­¥ï¼šé…ç½®è¿‡ç¨‹ï¼ˆé…ç½®è½¯ä»¶çš„å®‰è£…è·¯å¾„ï¼‰</p><p>ç¬¬äºŒæ­¥ï¼šç¼–è¯‘è¿‡ç¨‹ï¼ˆæŠŠè½¯ä»¶ç”±æºä»£ç ç¼–è¯‘æˆå¯ä»¥å®‰è£…çš„ç¨‹åºï¼‰</p><p>ç¬¬ä¸‰æ­¥ï¼šå®‰è£…è¿‡ç¨‹ï¼ˆæŠŠç¼–è¯‘åçš„ç¨‹åºè¿›è¡Œå®‰è£…ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ./configure &amp;&amp; make &amp;&amp; make install<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="3ã€è¯¦è§£æºç å®‰è£…çš„é…ç½®è¿‡ç¨‹ï¼ˆå®šåˆ¶ï¼‰"><a href="#3ã€è¯¦è§£æºç å®‰è£…çš„é…ç½®è¿‡ç¨‹ï¼ˆå®šåˆ¶ï¼‰" class="headerlink" title="3ã€è¯¦è§£æºç å®‰è£…çš„é…ç½®è¿‡ç¨‹ï¼ˆå®šåˆ¶ï¼‰"></a>3ã€è¯¦è§£æºç å®‰è£…çš„é…ç½®è¿‡ç¨‹ï¼ˆå®šåˆ¶ï¼‰</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cd è½¯ä»¶æºç åŒ…# ./configure [é€‰é¡¹]# ./configure --help--prefix=... Directories to put files in /usr/local è½¯ä»¶å®¶ç›®å½•--bindir=... $prefix/bin å‘½ä»¤çš„ç›®å½•--etcdir=... $prefix/etc é…ç½®æ–‡ä»¶çš„ç›®å½• httpd =&gt; /etc/httpd/httpd.conf--mandir=... $prefix/share/man manæ–‡æ¡£è·¯å¾„--locale=... $prefix/share/locale è¯­è¨€ç¼–ç ...<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="4ã€è¯¦è§£ç¼–è¯‘è¿‡ç¨‹"><a href="#4ã€è¯¦è§£ç¼–è¯‘è¿‡ç¨‹" class="headerlink" title="4ã€è¯¦è§£ç¼–è¯‘è¿‡ç¨‹"></a>4ã€è¯¦è§£ç¼–è¯‘è¿‡ç¨‹</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># make<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>åœ¨Linuxæ“ä½œç³»ç»Ÿä¸­ï¼Œmakeä¸»è¦åŠŸèƒ½å°±æ˜¯å°†å…¶ä»–è¯­è¨€çš„æºä»£ç æ‰“åŒ…æˆLinuxå¯ä»¥è¯†åˆ«å®‰è£…çš„ç¨‹åºã€‚ç¼–è¯‘è¿‡ç¨‹éœ€è¦ä¸€ä¸ªgccè½¯ä»¶ï¼ˆå¼€å‘å·¥å…·ï¼‰çš„æ”¯æŒï¼</p></blockquote><h2 id="5ã€å®‰è£…è¿‡ç¨‹"><a href="#5ã€å®‰è£…è¿‡ç¨‹" class="headerlink" title="5ã€å®‰è£…è¿‡ç¨‹"></a>5ã€å®‰è£…è¿‡ç¨‹</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># make install<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="6ã€axelå¤šçº¿ç¨‹ä¸‹è½½è½¯ä»¶æºç å®‰è£…"><a href="#6ã€axelå¤šçº¿ç¨‹ä¸‹è½½è½¯ä»¶æºç å®‰è£…" class="headerlink" title="6ã€axelå¤šçº¿ç¨‹ä¸‹è½½è½¯ä»¶æºç å®‰è£…"></a>6ã€axelå¤šçº¿ç¨‹ä¸‹è½½è½¯ä»¶æºç å®‰è£…</h2><p>ç¬¬ä¸€æ­¥ï¼šè·å–axelå¤šçº¿ç¨‹ä¸‹è½½è½¯ä»¶</p><p>ç¬¬äºŒæ­¥ï¼šä¸Šä¼ axelè½¯ä»¶åŒ…åˆ°Linuxç³»ç»Ÿä¸­</p><p>ç¬¬ä¸‰æ­¥ï¼šå®‰è£…axelè½¯ä»¶(æºç å®‰è£…ä¸‰æ­¥èµ°=&gt;é…ç½®+ç¼–è¯‘+å®‰è£…)</p><p>â‘  å¯¹è½¯ä»¶è¿›è¡Œè§£å‹ç¼©æ“ä½œ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># tar -zxf axel-2.4.tar.gzæˆ–# tar -xf axel-2.4.tar.gz<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>â‘¡ ä½¿ç”¨cdå‘½ä»¤åˆ‡æ¢åˆ°axelç›®å½•ä¸­</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cd axel-2.4<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â‘¢ å¯¹axelè½¯ä»¶è¿›è¡Œé…ç½®ï¼ˆä¸é‡‡ç”¨é»˜è®¤é…ç½®ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ./configure --helpUsage: ./configure [OPTIONS]Option          Description                             Default--prefix=...    Directories to put files in             /usr/local--bindir=...                                            $prefix/bin--etcdir=...                                            $prefix/etc--mandir=...                                            $sharedir/man--locale=...                                            $sharedir/locale<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è®¾ç½®axelè½¯ä»¶çš„å®‰è£…è·¯å¾„ä¸º/opt/axel</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ./configure --prefix=/opt/axel<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â‘£ å¯¹axelè½¯ä»¶è¿›è¡Œç¼–è¯‘ä¸å®‰è£…</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># make# make installæˆ–# make &amp;&amp; make install&amp;&amp; ï¼šé€»è¾‘ä¸ï¼Œå¦‚æœmakeç¼–è¯‘æˆåŠŸä¼šç«‹å³æ‰§è¡Œå³è¾¹çš„make installå®‰è£…ç¨‹åºï¼Œå¦‚æœmakeç¼–è¯‘å¤±è´¥ï¼Œåˆ™ä»¥ä¸Šç¨‹åºä¼šåœæ­¢æ‰§è¡Œï¼Œç„¶åæŠ›å‡ºé”™è¯¯ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬å››æ­¥ï¼šæµ‹è¯•ä¸ä½¿ç”¨</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">[root@yunwei ~]# axel http://mirrors.163.com/centos/7/os/x86_64/RPM-GPG-KEY-CentOS-7bash: axel: command not found...<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å‡ºç°ä»¥ä¸Šé—®é¢˜çš„ä¸»è¦åŸå› åœ¨äºï¼šæˆ‘ä»¬æ²¡æœ‰é‡‡ç”¨é»˜è®¤çš„å®‰è£…æ–¹å¼ï¼Œæ‰€ä»¥å¯¼è‡´å½“æˆ‘ä»¬æ‰§è¡Œaxelå‘½ä»¤æ—¶ï¼Œå…¶æ‰¾ä¸åˆ°å¯¹åº”çš„è½¯ä»¶ã€‚</p><p>ç¬¬äº”æ­¥ï¼šè§£å†³å‘½ä»¤æ— æ³•è®¿é—®é—®é¢˜</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">ç¬¬ä¸€ç§æ–¹å¼ï¼šé‡‡ç”¨è½¯é“¾æ¥å½¢å¼ï¼ˆç±»ä¼¼Windowsä¸­çš„å¿«æ·æ–¹å¼ï¼‰ç¬¬äºŒç§æ–¹å¼ï¼šä½¿ç”¨ç¯å¢ƒå˜é‡ï¼ˆé‡è¦ï¼ŒLinuxä¸­çš„ç¯å¢ƒå˜é‡ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="7ã€ä½¿ç”¨è½¯é“¾æ¥è§£å†³command-not-found"><a href="#7ã€ä½¿ç”¨è½¯é“¾æ¥è§£å†³command-not-found" class="headerlink" title="7ã€ä½¿ç”¨è½¯é“¾æ¥è§£å†³command not found"></a>7ã€ä½¿ç”¨è½¯é“¾æ¥è§£å†³command not found</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># which axel/usr/bin/which: no axel in (/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin)# ll /opt/axel/binaxelè§£å†³æ–¹æ¡ˆï¼šç»™/opt/axel/bin/axelåˆ›å»ºä¸€ä¸ªå¿«æ·æ–¹å¼åˆ°/usr/local/bin# ln -s /opt/axel/bin/axel /usr/local/bin/axel åŸºæœ¬è¯­æ³•ï¼š# ln -s  æºæ–‡ä»¶è·¯å¾„ è½¯é“¾æ¥è·¯å¾„# axel http://mirrors.163.com/centos/7/os/x86_64/RPM-GPG-KEY-CentOS-7<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="8ã€ä½¿ç”¨ç¯å¢ƒå˜é‡è§£å†³command-not-found"><a href="#8ã€ä½¿ç”¨ç¯å¢ƒå˜é‡è§£å†³command-not-found" class="headerlink" title="8ã€ä½¿ç”¨ç¯å¢ƒå˜é‡è§£å†³command not found"></a>8ã€ä½¿ç”¨ç¯å¢ƒå˜é‡è§£å†³command not found</h2><p>ç¯å¢ƒå˜é‡</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">ç»ˆç«¯ =&gt; å‘½ä»¤ =&gt; ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡(PATH =&gt; /etc/profile) =&gt; ä¸€äº›å‘½ä»¤çš„å­˜æ”¾è·¯å¾„<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>axelå¤šçº¿ç¨‹ä¸‹è½½è½¯ä»¶ï¼Œé€šè¿‡æºç çš„æ–¹å¼å®‰è£…æˆåŠŸåï¼Œç”±äºæ²¡æœ‰ä½¿ç”¨é»˜è®¤çš„å®‰è£…è·¯å¾„ï¼Œå¯¼è‡´axelè¿™ä¸ªå‘½ä»¤æ²¡æœ‰å‡ºç°åœ¨ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡ä¸­ï¼Œæ‰€ä»¥å…¶ä¼šå‡ºç°command not foundã€‚</p><p>ç¬¬ä¸€æ­¥ï¼šæŸ¥è¯¢å½“å‰ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># echo $PATH/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç¬¬äºŒæ­¥ï¼šæŠŠaxelæ‰€åœ¨ç›®å½•æ·»åŠ åˆ°ç¯å¢ƒå˜é‡</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">â‘  ä½¿ç”¨vimç¼–è¾‘/etc/profileæ–‡ä»¶ï¼Œè¿½åŠ åˆ°æœ€åä¸€è¡Œ# vim /etc/profile...export PATH=$PATH:/opt/axel/bin# source /etc/profile=&gt;   ä»£è¡¨è®©ä»¥ä¸Šé…ç½®ç«‹å³ç”Ÿæ•ˆâ‘¡ ä½¿ç”¨echoå‘½ä»¤å‘/etc/profileæ–‡ä»¶ä¸­è¿½åŠ ä¸€è¡Œ# echo 'export PATH=$PATH:/opt/axel/bin' &gt;&gt; /etc/profile# source /etc/profile<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬ä¸‰æ­¥ï¼šæµ‹è¯•axelå‘½ä»¤æ˜¯å¦å¯ä»¥ä½¿ç”¨</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># axel http://mirrors.163.com/centos/7/os/x86_64/RPM-GPG-KEY-CentOS-7<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="9ã€è§£å†³æºç å®‰è£…è½¯ä»¶æ‰‹å†Œæ‰¾ä¸åˆ°é—®é¢˜"><a href="#9ã€è§£å†³æºç å®‰è£…è½¯ä»¶æ‰‹å†Œæ‰¾ä¸åˆ°é—®é¢˜" class="headerlink" title="9ã€è§£å†³æºç å®‰è£…è½¯ä»¶æ‰‹å†Œæ‰¾ä¸åˆ°é—®é¢˜"></a>9ã€è§£å†³æºç å®‰è£…è½¯ä»¶æ‰‹å†Œæ‰¾ä¸åˆ°é—®é¢˜</h2><p>é—®é¢˜é‡ç°ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">[root@localhost axel]# man axelNo manual entry for axelåŸå› ï¼šæ‰¾ä¸åˆ°æŒ‡å®šçš„manæ–‡æ¡£<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>è§£å†³æ–¹æ¡ˆï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">[root@localhost axel]# vim /etc/man.config...å¢åŠ å¦‚ä¸‹å†…å®¹ï¼šMANPATH /opt/axel/share/man<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="10ã€å¸è½½æºç å®‰è£…çš„è½¯ä»¶"><a href="#10ã€å¸è½½æºç å®‰è£…çš„è½¯ä»¶" class="headerlink" title="10ã€å¸è½½æºç å®‰è£…çš„è½¯ä»¶"></a>10ã€å¸è½½æºç å®‰è£…çš„è½¯ä»¶</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">ç¬¬ä¸€æ­¥ï¼šè¿›å…¥åˆ°æºç çš„å®‰è£…åŒ…ä¸­# cd axel-2.4# make uninstall=&gt;   å®‰è£…è½¯ä»¶çš„å®‰è£…åŒ…ç­‰ç¨‹åº# make distclean    =&gt;   å¸è½½ç¼–è¯‘ä¸é…ç½®è¿‡ç¨‹ç¬¬äºŒæ­¥ï¼šåˆ é™¤è½¯ä»¶çš„ç›®å½•# rm -rf /opt/axel<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="äºŒã€YUMæºæ¦‚è¿°"><a href="#äºŒã€YUMæºæ¦‚è¿°" class="headerlink" title="äºŒã€YUMæºæ¦‚è¿°"></a>äºŒã€YUMæºæ¦‚è¿°</h1><h2 id="1ã€yumæºä½œç”¨"><a href="#1ã€yumæºä½œç”¨" class="headerlink" title="1ã€yumæºä½œç”¨"></a>1ã€yumæºä½œç”¨</h2><p>==è½¯ä»¶åŒ…ç®¡ç†å™¨==ï¼Œç±»ä¼¼360çš„è½¯ä»¶ç®¡å®¶</p><p><img src="/../assets/blog_res/Linux%E4%B8%8Byum%E6%BA%90%E9%85%8D%E7%BD%AE%E5%AE%9E%E6%88%98.assets/image-20200405144405069.png" alt="image-20200405144405069"></p><h2 id="2ã€yumæºä¼˜ç‚¹"><a href="#2ã€yumæºä¼˜ç‚¹" class="headerlink" title="2ã€yumæºä¼˜ç‚¹"></a>2ã€yumæºä¼˜ç‚¹</h2><p>RPMå®‰è£…ï¼ˆä¸‹è½½è½¯ä»¶ã€å•ç‹¬å®‰è£…ã€éœ€è¦è§£å†³ä¾èµ–å…³ç³»ï¼‰</p><p>æºç å®‰è£…ï¼ˆä¸‹è½½è½¯ä»¶çš„æºç åŒ…ï¼Œè§£å‹ï¼Œè¿›å…¥ç›®å½•=&gt;é…ç½®+ç¼–è¯‘+å®‰è£…ï¼‰</p><p>yumæºï¼šç›¸å½“äºrpmè½¯ä»¶åŒ…ç®¡ç†çš„å‡çº§ç‰ˆ</p><p>èƒ½å¤Ÿ==è§£å†³è½¯ä»¶åŒ…ä¹‹é—´çš„ä¾èµ–å…³ç³»==ï¼Œæé«˜è¿ç»´äººå‘˜çš„å·¥ä½œæ•ˆç‡ã€‚</p><blockquote><p>yumæºåº•å±‚è¿˜æ˜¯åŸºäºRPMè¿›è¡Œè½¯ä»¶å®‰è£…æ“ä½œçš„ï¼Œæ‰€ä»¥yumå®‰è£…è½¯ä»¶åï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡rpm  -qa  |grep  è½¯ä»¶åç§°</p></blockquote><h2 id="3ã€yumæºåˆ†ç±»"><a href="#3ã€yumæºåˆ†ç±»" class="headerlink" title="3ã€yumæºåˆ†ç±»"></a>3ã€yumæºåˆ†ç±»</h2><h3 id="â˜†-æœ¬åœ°yumæº"><a href="#â˜†-æœ¬åœ°yumæº" class="headerlink" title="â˜† æœ¬åœ°yumæº"></a>â˜† æœ¬åœ°yumæº</h3><p>yumä»“åº“åœ¨==æœ¬åœ°==ï¼ˆç³»ç»Ÿå…‰ç›˜/é•œåƒæ–‡ä»¶ï¼‰ =&gt;  ä¸éœ€è¦ç½‘ç»œçš„æ”¯æŒ</p><h3 id="â˜†-ç½‘ç»œyumæº"><a href="#â˜†-ç½‘ç»œyumæº" class="headerlink" title="â˜† ç½‘ç»œyumæº"></a>â˜† ç½‘ç»œyumæº</h3><p>yumä»“åº“ä¸åœ¨æœ¬åœ°ï¼Œåœ¨==è¿œç¨‹==</p><ul><li><p>å›½å†…è¾ƒçŸ¥åçš„ç½‘ç»œæºï¼ˆaliyunæºï¼Œ163æºï¼Œsohuæºï¼ŒçŸ¥åå¤§å­¦å¼€æºé•œåƒç­‰ï¼‰</p><p>â€‹é˜¿é‡Œæºï¼š<a href="https://opsx.alibaba.com/mirror">https://opsx.alibaba.com/mirror</a></p><p>â€‹ç½‘æ˜“æºï¼š<a href="http://mirrors.163.com/">http://mirrors.163.com/</a></p><p>â€‹æœç‹æºï¼š<a href="http://mirrors.sohu.com/">http://mirrors.sohu.com/</a></p><p>â€‹æ¸…åæºï¼š<a href="https://mirrors.tuna.tsinghua.edu.cn/">https://mirrors.tuna.tsinghua.edu.cn/</a></p></li><li><p>å›½å¤–è¾ƒçŸ¥åçš„ç½‘ç»œæºï¼ˆcentosæºã€redhatæºã€æ‰©å±•[^epel]æºç­‰ï¼‰</p></li><li><p>==ç‰¹å®šè½¯ä»¶==ç›¸å…³çš„ç½‘ç»œæºï¼ˆNginxã€MySQLã€Zabbixç­‰ï¼‰</p></li></ul><h2 id="4ã€æœ¬æœºyumæºå¤‡ä»½ï¼ˆé‡è¦ï¼‰"><a href="#4ã€æœ¬æœºyumæºå¤‡ä»½ï¼ˆé‡è¦ï¼‰" class="headerlink" title="4ã€æœ¬æœºyumæºå¤‡ä»½ï¼ˆé‡è¦ï¼‰"></a>4ã€æœ¬æœºyumæºå¤‡ä»½ï¼ˆé‡è¦ï¼‰</h2><p>ç¬¬ä¸€æ­¥ï¼šä½¿ç”¨cdå‘½ä»¤åˆ‡æ¢åˆ°/etc/yum.repos.dç›®å½•</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cd /etc/yum.repos.d/<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬äºŒæ­¥ï¼šå¯¹æ‰€æœ‰çš„ä»“åº“æ–‡ä»¶è¿›è¡Œå¤‡ä»½</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># tar -zcf repo.tar.gz *.repo<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬ä¸‰æ­¥ï¼šåˆ é™¤æ‰€æœ‰çš„ä»¥.repoç»“å°¾çš„ä»“åº“æ–‡ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rm -rf *.repo<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h1 id="ä¸‰ã€æœ¬åœ°YUMæºé…ç½®"><a href="#ä¸‰ã€æœ¬åœ°YUMæºé…ç½®" class="headerlink" title="ä¸‰ã€æœ¬åœ°YUMæºé…ç½®"></a>ä¸‰ã€æœ¬åœ°YUMæºé…ç½®</h1><h2 id="1ã€æœ¬åœ°YUMé…ç½®"><a href="#1ã€æœ¬åœ°YUMé…ç½®" class="headerlink" title="1ã€æœ¬åœ°YUMé…ç½®"></a>1ã€æœ¬åœ°YUMé…ç½®</h2><p>â‘  ä½¿ç”¨å…‰ç›˜é•œåƒä½œä¸ºYUMæºä»“åº“</p><p>â‘¡ ä¸‹è½½å¾ˆå¤šè½¯ä»¶ï¼Œä½¿ç”¨è½¯ä»¶åŒ…ä½œä¸ºYUMæºä»“åº“</p><h2 id="2ã€ä½¿ç”¨å…‰ç›˜é•œåƒä½œä¸ºYUMæºä»“åº“"><a href="#2ã€ä½¿ç”¨å…‰ç›˜é•œåƒä½œä¸ºYUMæºä»“åº“" class="headerlink" title="2ã€ä½¿ç”¨å…‰ç›˜é•œåƒä½œä¸ºYUMæºä»“åº“"></a>2ã€ä½¿ç”¨å…‰ç›˜é•œåƒä½œä¸ºYUMæºä»“åº“</h2><p>ç¬¬ä¸€æ­¥ï¼šåœ¨VMwareç³»ç»Ÿä¸­è£…åœ¨CentOS7.6ç³»ç»Ÿçš„å…‰ç›˜é•œåƒ</p><p> <img src="/../assets/blog_res/Linux%E4%B8%8Byum%E6%BA%90%E9%85%8D%E7%BD%AE%E5%AE%9E%E6%88%98.assets/image-20200405151939433.png" alt="image-20200405151939433"></p><p>ç¬¬äºŒæ­¥ï¼šæŠŠå…‰ç›˜æŒ‚è½½åˆ°æŸä¸ªç›®å½•ä¸‹</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cd ~# rm -rf /mnt/*# mount -o ro /dev/sr0 /mnté€‰é¡¹è¯´æ˜ï¼š-o ï¼šæŒ‚è½½æ–¹å¼ï¼Œroä»£è¡¨ä»¥readonly=&gt;åªè¯»çš„æ–¹å¼è¿›è¡ŒæŒ‚è½½              rwä»£è¡¨ä»¥read/write=&gt;è¯»å†™çš„æ–¹å¼è¿›è¡ŒæŒ‚è½½# lsblkNAME            MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTsda               8:0    0   20G  0 diskâ”œâ”€sda1            8:1    0    1G  0 part /bootâ””â”€sda2            8:2    0   19G  0 part  â”œâ”€centos-root 253:0    0   17G  0 lvm  /  â””â”€centos-swap 253:1    0    2G  0 lvm  [SWAP]sr0              11:0    1  4.3G  0 rom  /mnt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>å¸è½½æˆ–è§£æŒ‚å¯ä»¥ä½¿ç”¨umount /mnt</p></blockquote><p>ç¬¬ä¸‰æ­¥ï¼šæŠŠå…‰ç›˜æŒ‚è½½æ·»åŠ åˆ°å¼€æœºå¯åŠ¨æ–‡ä»¶ä¸­</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chmod +x /etc/rc.local# echo 'mount -o ro /dev/sr0 /mnt' &gt;&gt; /etc/rc.local<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><blockquote><p>/etc/rc.localï¼Œå±äºç³»ç»Ÿçš„å¼€æœºå¯åŠ¨æ–‡ä»¶ã€‚ç³»ç»Ÿå¯åŠ¨åï¼Œä¼šè‡ªåŠ¨åŠ è½½å¹¶æ‰§è¡Œè¿™ä¸ªæ–‡ä»¶</p></blockquote><p>ç¬¬å››æ­¥ï¼šç¼–å†™æœ¬åœ°YUMä»“åº“æ–‡ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cd /etc/yum.repos.d/åˆ›å»ºä¸€ä¸ªä»¥*.repoç»“å°¾çš„æ–‡ä»¶ï¼Œåç§°ä»»æ„# vim local.repo[local]name=local yumbaseurl=file:///mntgpgcheck=0enabled=1# yum clean all# yum makecache# yum repolist allæ³¨ï¼šfile://æœ¬åœ°åè®®è·¯å¾„ï¼Œåé¢è·Ÿä»“åº“çš„å…·ä½“è·¯å¾„<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>yumä»“åº“çš„æ ‡å‡†æ ¼å¼</p><p>[ä»“åº“æ ‡è¯†åç§°]ï¼Œåç§°ä»»æ„ï¼Œåœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­å¯ä»¥æ‹¥æœ‰å¤šä¸ªæ ‡è¯†</p><p>name=ä»“åº“åç§°</p><p>baseurl=ä»“åº“çš„è·¯å¾„ï¼Œæ”¯æŒå¤šç§æ ¼å¼ï¼Œfile://æœ¬åœ°è·¯å¾„ï¼Œftp://ï¼Œhttp://æˆ–https://</p><p>gpgcheck=gpgå¯†é’¥ï¼Œå€¼å¯ä»¥æ˜¯0ï¼ˆä»£è¡¨ä¸æ£€æµ‹ï¼‰ï¼Œ1ï¼ˆä»£è¡¨æ£€æµ‹ï¼Œå¦‚æœæ˜¯1ï¼Œä¸‹æ–¹è¿˜è¦å®šä¹‰ä¸€ä¸ªgpgkey=å¯†é’¥è¿æ¥ï¼‰</p><p>enabled=æ˜¯å¦å¯åŠ¨å½“å‰ä»“åº“ï¼Œå€¼å¯ä»¥0ï¼Œä¹Ÿå¯ä»¥æ˜¯1ï¼Œé»˜è®¤ä¸º1ï¼Œä»£è¡¨å¯åŠ¨ä»“åº“</p></blockquote><p>ç¬¬äº”æ­¥ï¼šæµ‹è¯•æœ¬åœ°YUMä»“åº“æ˜¯å¦å¯ç”¨</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install httpd -y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="3ã€æ‰©å±•man-5"><a href="#3ã€æ‰©å±•man-5" class="headerlink" title="3ã€æ‰©å±•man 5"></a>3ã€æ‰©å±•man 5</h2><p>åœ¨Linuxç³»ç»Ÿä¸­ï¼Œç»™å®šæˆ‘ä»¬ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œæ€ä¹ˆæŸ¥è¯¢è¿™ä¸ªæ–‡ä»¶ä¸­æ¯ä¸€ä¸ªé€‰é¡¹çš„ä½œç”¨å‘¢ï¼Ÿ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># man å‘½ä»¤<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ‰©å±•ï¼šman  5   é…ç½®æ–‡ä»¶åç§°</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># man 5 yum.conf<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h1 id="å››ã€ç½‘ç»œYUMæºé…ç½®"><a href="#å››ã€ç½‘ç»œYUMæºé…ç½®" class="headerlink" title="å››ã€ç½‘ç»œYUMæºé…ç½®"></a>å››ã€ç½‘ç»œYUMæºé…ç½®</h1><h2 id="1ã€ç½‘ç»œYUMæºçš„åˆ†ç±»"><a href="#1ã€ç½‘ç»œYUMæºçš„åˆ†ç±»" class="headerlink" title="1ã€ç½‘ç»œYUMæºçš„åˆ†ç±»"></a>1ã€ç½‘ç»œYUMæºçš„åˆ†ç±»</h2><p>â‘  ä½¿ç”¨æ¯”è¾ƒçŸ¥åå¹³å°çš„YUMæºï¼ˆé˜¿é‡Œäº‘ã€è…¾è®¯ã€æ¸…åï¼‰</p><p>â‘¡ æœ‰äº›ç‰¹å®šè½¯ä»¶ï¼ˆå¦‚Nginxã€MySQLã€Zabbixç­‰ç­‰ï¼‰éœ€è¦æ ¹æ®å®˜ç½‘æ–‡æ¡£è‡ªå®šä¹‰ç½‘ç»œYUMæº</p><h2 id="2ã€ä½¿ç”¨çŸ¥åå¹³å°çš„YUMæº"><a href="#2ã€ä½¿ç”¨çŸ¥åå¹³å°çš„YUMæº" class="headerlink" title="2ã€ä½¿ç”¨çŸ¥åå¹³å°çš„YUMæº"></a>2ã€ä½¿ç”¨çŸ¥åå¹³å°çš„YUMæº</h2><p>â€‹é˜¿é‡Œæºï¼š<a href="https://opsx.alibaba.com/mirror">https://opsx.alibaba.com/mirror</a></p><p>â€‹ç½‘æ˜“æºï¼š<a href="http://mirrors.163.com/">http://mirrors.163.com/</a></p><p>â€‹æœç‹æºï¼š<a href="http://mirrors.sohu.com/">http://mirrors.sohu.com/</a></p><p>â€‹æ¸…åæºï¼š<a href="https://mirrors.tuna.tsinghua.edu.cn/">https://mirrors.tuna.tsinghua.edu.cn/</a></p><p>è…¾è®¯æºã€åä¸ºæºâ€¦</p><blockquote><p>ç™¾åº¦æœç´¢ =&gt; åä¸º mirroré•œåƒæº</p></blockquote><p>æ¡ˆä¾‹ï¼šé…ç½®é˜¿é‡Œäº‘çš„yumæº</p><p>ç¬¬ä¸€æ­¥ï¼šç™¾åº¦ï¼Œæœç´¢ä½ æƒ³è¦çš„YUMæºï¼Œè¿›å…¥å®˜ç½‘ï¼Œæ‰¾åˆ°CentOS</p><p><img src="/../assets/blog_res/Linux%E4%B8%8Byum%E6%BA%90%E9%85%8D%E7%BD%AE%E5%AE%9E%E6%88%98.assets/image-20200405162153722.png" alt="image-20200405162153722"></p><p>ç¬¬äºŒæ­¥ï¼šæ ¹æ®å®˜ç½‘æç¤ºï¼Œé…ç½®é˜¿é‡Œäº‘çš„YUMæº</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup# wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo# yum clean all# yum makecache<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="3ã€æ‰©å±•ï¼šEPELæºé…ç½®"><a href="#3ã€æ‰©å±•ï¼šEPELæºé…ç½®" class="headerlink" title="3ã€æ‰©å±•ï¼šEPELæºé…ç½®"></a>3ã€æ‰©å±•ï¼šEPELæºé…ç½®</h2><p>ä»€ä¹ˆæ˜¯EPELæºï¼Ÿ</p><p>ç­”ï¼šEPELæ˜¯å¯¹å®˜ç½‘æºçš„ä¸€ä¸ªæ‰©å±•ã€‚</p><p>CentOS-Base.repoæ–‡ä»¶ =&gt; åŸºç¡€æºï¼ˆå®˜æ–¹åœ¨å¸¦çš„YUMæºï¼‰</p><p>epel.repoæ–‡ä»¶ =&gt; æ‰©å±•æºï¼Œæ˜¯å¯¹å®˜æ–¹YUMæºçš„ä¸€ä¸ªè¡¥å……</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install epel-release -y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¯”å¦‚ï¼šä¼šè·‘çš„å°ç«è½¦å°±æ˜¯åœ¨epelæºä¸­</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install sl -y# sl<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="4ã€ç‰¹å®šè½¯ä»¶çš„YUMæºé…ç½®"><a href="#4ã€ç‰¹å®šè½¯ä»¶çš„YUMæºé…ç½®" class="headerlink" title="4ã€ç‰¹å®šè½¯ä»¶çš„YUMæºé…ç½®"></a>4ã€ç‰¹å®šè½¯ä»¶çš„YUMæºé…ç½®</h2><p>æ¯”å¦‚ç‰¹æ®Šçš„å‡ ä¸ªè½¯ä»¶ï¼Œå¦‚Nginxã€MySQLã€Zabbix</p><p>Nginxï¼š<a href="http://www.nginx.org/">http://www.nginx.org</a></p><p>MySQLï¼š<a href="https://www.mysql.com/">https://www.mysql.com/</a></p><p>Zabbixï¼š<a href="https://www.zabbix.com/">https://www.zabbix.com/</a></p><p>æ‰¾åˆ°å®˜æ–¹æ–‡æ¡£ï¼ŒæŠŠYUMæºé…ç½®ï¼Œå†™å…¥åˆ°ä¸€ä¸‹æ–‡ä»¶ä¸­ï¼ˆrepoæ–‡ä»¶ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cd /etc/yum.repos.d# vim nginx.repo[nginx-stable]name=nginx stable repobaseurl=http://nginx.org/packages/centos/$releasever/$basearch/gpgcheck=1enabled=1gpgkey=https://nginx.org/keys/nginx_signing.keymodule_hotfixes=true<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¸…ç†ç¼“å­˜ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum clean all# yum makecache<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å®‰è£…Nginxï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install nginx -y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h1 id="äº”ã€è‡ªå»ºYUMæºä»“åº“"><a href="#äº”ã€è‡ªå»ºYUMæºä»“åº“" class="headerlink" title="äº”ã€è‡ªå»ºYUMæºä»“åº“"></a>äº”ã€è‡ªå»ºYUMæºä»“åº“</h1><h2 id="1ã€ç¼“å­˜å®‰è£…è½¯ä»¶åŒ…"><a href="#1ã€ç¼“å­˜å®‰è£…è½¯ä»¶åŒ…" class="headerlink" title="1ã€ç¼“å­˜å®‰è£…è½¯ä»¶åŒ…"></a>1ã€ç¼“å­˜å®‰è£…è½¯ä»¶åŒ…</h2><p>ä»€ä¹ˆæ—¶å€™éœ€è¦ç¼“å­˜è½¯ä»¶ï¼Ÿ</p><ul><li>ä¸‹æ¬¡è¿˜éœ€è¦å®‰è£…ç›¸åŒç‰ˆæœ¬çš„è½¯ä»¶åŒ…</li><li>ç”±äºç½‘ç»œåŸå› å¯¼è‡´ç½‘ç»œå®‰è£…éå¸¸æ…¢ï¼Œå°†è½¯ä»¶åŒ…ç¼“å­˜ä¸‹æ¥ï¼Œé…ç½®æœ¬åœ°ä»“åº“</li></ul><h2 id="2ã€å¦‚ä½•ç¼“å­˜è½¯ä»¶å®‰è£…åŒ…"><a href="#2ã€å¦‚ä½•ç¼“å­˜è½¯ä»¶å®‰è£…åŒ…" class="headerlink" title="2ã€å¦‚ä½•ç¼“å­˜è½¯ä»¶å®‰è£…åŒ…"></a>2ã€å¦‚ä½•ç¼“å­˜è½¯ä»¶å®‰è£…åŒ…</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/yum.conf[main]cachedir=/var/cache/yum/$basearch/$releaseverå®šä¹‰è½¯ä»¶åŒ…çš„ç¼“å­˜è·¯å¾„keepcache=11å¼€å¯ç¼“å­˜ï¼›0å…³é—­debuglevel=2logfile=/var/log/yum.log...<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="3ã€æŠŠè½¯ä»¶åŠä¾èµ–è½¯ä»¶å…¨éƒ¨ä¸‹è½½åˆ°æŸä¸ªè·¯å¾„"><a href="#3ã€æŠŠè½¯ä»¶åŠä¾èµ–è½¯ä»¶å…¨éƒ¨ä¸‹è½½åˆ°æŸä¸ªè·¯å¾„" class="headerlink" title="3ã€æŠŠè½¯ä»¶åŠä¾èµ–è½¯ä»¶å…¨éƒ¨ä¸‹è½½åˆ°æŸä¸ªè·¯å¾„"></a>3ã€æŠŠè½¯ä»¶åŠä¾èµ–è½¯ä»¶å…¨éƒ¨ä¸‹è½½åˆ°æŸä¸ªè·¯å¾„</h2><p>åªä¸‹è½½ä¸å®‰è£…è½¯ä»¶ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install --downloadonly --downloaddir=ä¿å­˜è·¯å¾„ è½¯ä»¶åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šä¸‹è½½sambaè½¯ä»¶åŠä¾èµ–è½¯ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mkdir /soft# yum install --downloadonly --downloaddir=/soft samba<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="4ã€è‡ªå®šä¹‰YUMä»“åº“"><a href="#4ã€è‡ªå®šä¹‰YUMä»“åº“" class="headerlink" title="4ã€è‡ªå®šä¹‰YUMä»“åº“"></a>4ã€è‡ªå®šä¹‰YUMä»“åº“</h2><p>ç¬¬ä¸€æ­¥ï¼šåœ¨ç³»ç»Ÿä¸­å®‰è£…createrepoåˆ¶ä½œä»“åº“çš„è½¯ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install createrepo -y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬äºŒæ­¥ï¼šæŠŠ/softæ–‡ä»¶å¤¹åšæˆä¸€ä¸ªæœ¬åœ°çš„è‡ªå»ºä»“åº“</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># createrepo /soft<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬ä¸‰æ­¥ï¼šåœ¨/etc/yum.repos.dç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªsoft.repoçš„ä»“åº“</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cd /etc/yum.repos.d/# vim soft.repo[soft]name=soft yumbaseurl=file:///softgpgcheck=0enabled=1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¸…ç†ç¼“å­˜+é‡å»ºç¼“å­˜ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum clean all# yum makecache<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxé«˜çº§å‘½ä»¤ï¼ˆæ‰©å±•ï¼‰</title>
      <link href="/2023/12/23/linux-gao-ji-ming-ling-kuo-zhan/"/>
      <url>/2023/12/23/linux-gao-ji-ming-ling-kuo-zhan/</url>
      
        <content type="html"><![CDATA[<h1 id="Linuxé«˜çº§å‘½ä»¤ï¼ˆæ‰©å±•ï¼‰"><a href="#Linuxé«˜çº§å‘½ä»¤ï¼ˆæ‰©å±•ï¼‰" class="headerlink" title="Linuxé«˜çº§å‘½ä»¤ï¼ˆæ‰©å±•ï¼‰"></a>Linuxé«˜çº§å‘½ä»¤ï¼ˆæ‰©å±•ï¼‰</h1><h1 id="ä¸€ã€findå‘½ä»¤"><a href="#ä¸€ã€findå‘½ä»¤" class="headerlink" title="ä¸€ã€findå‘½ä»¤"></a>ä¸€ã€findå‘½ä»¤</h1><h2 id="1ã€findå‘½ä»¤ä½œç”¨"><a href="#1ã€findå‘½ä»¤ä½œç”¨" class="headerlink" title="1ã€findå‘½ä»¤ä½œç”¨"></a>1ã€findå‘½ä»¤ä½œç”¨</h2><p>åœ¨Linuxæ“ä½œç³»ç»Ÿä¸­ï¼Œfindå‘½ä»¤ä¸»è¦ç”¨äºè¿›è¡Œæ–‡ä»¶çš„æœç´¢ã€‚</p><h2 id="2ã€åŸºæœ¬è¯­æ³•"><a href="#2ã€åŸºæœ¬è¯­æ³•" class="headerlink" title="2ã€åŸºæœ¬è¯­æ³•"></a>2ã€åŸºæœ¬è¯­æ³•</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># find æœç´¢è·¯å¾„ [é€‰é¡¹ é€‰é¡¹çš„å€¼] ...é€‰é¡¹è¯´æ˜ï¼š-name ï¼šæ ¹æ®æ–‡ä»¶çš„åç§°æœç´¢æ–‡ä»¶ï¼Œæ”¯æŒ*é€šé…ç¬¦-type ï¼šfä»£è¡¨æ™®é€šæ–‡ä»¶ã€dä»£è¡¨æ–‡ä»¶å¤¹<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæœç´¢è®¡ç®—æœºä¸­çš„æ‰€æœ‰æ–‡ä»¶ï¼Œç„¶åæ‰¾åˆ°httpd.confæ–‡ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># find /etc -name "httpd.conf" -type f<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="3ã€-æ˜Ÿå·é€šé…ç¬¦"><a href="#3ã€-æ˜Ÿå·é€šé…ç¬¦" class="headerlink" title="3ã€*æ˜Ÿå·é€šé…ç¬¦"></a>3ã€*æ˜Ÿå·é€šé…ç¬¦</h2><p>åœ¨Linuxæ“ä½œç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬æƒ³è¦æŸ¥æ‰¾çš„æ–‡ä»¶åç§°ä¸æ˜¯ç‰¹åˆ«æ¸…æ™°ï¼ˆåªè®°ä½äº†å‰é¢æˆ–åé¢çš„å­—ç¬¦ï¼‰ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ä½¿ç”¨*æ˜Ÿå·é€šé…ç¬¦äº†ã€‚</p><p>æ¡ˆä¾‹ï¼šè·å–/etcç›®å½•ä¸‹ï¼Œæ‰€æœ‰åç¼€åä¸º.confçš„æ–‡ä»¶ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># find /etc -name "*.conf" -type f<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåœ¨/etcç›®å½•ä¸‹ï¼Œæœç´¢æ‰€æœ‰ä»¥httpdå¼€å¤´çš„æ–‡ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># find /etc -name "httpd*" -type f<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="4ã€æ ¹æ®æ–‡ä»¶ä¿®æ”¹æ—¶é—´æœç´¢æ–‡ä»¶"><a href="#4ã€æ ¹æ®æ–‡ä»¶ä¿®æ”¹æ—¶é—´æœç´¢æ–‡ä»¶" class="headerlink" title="4ã€æ ¹æ®æ–‡ä»¶ä¿®æ”¹æ—¶é—´æœç´¢æ–‡ä»¶"></a>4ã€æ ¹æ®æ–‡ä»¶ä¿®æ”¹æ—¶é—´æœç´¢æ–‡ä»¶</h2><h3 id="â˜†-èŠä¸€ä¸‹Windowsä¸­çš„æ–‡ä»¶æ—¶é—´æ¦‚å¿µï¼Ÿ"><a href="#â˜†-èŠä¸€ä¸‹Windowsä¸­çš„æ–‡ä»¶æ—¶é—´æ¦‚å¿µï¼Ÿ" class="headerlink" title="â˜† èŠä¸€ä¸‹Windowsä¸­çš„æ–‡ä»¶æ—¶é—´æ¦‚å¿µï¼Ÿ"></a>â˜† èŠä¸€ä¸‹Windowsä¸­çš„æ–‡ä»¶æ—¶é—´æ¦‚å¿µï¼Ÿ</h3><p> <img src="/../assets/blog_res/Linux%E9%AB%98%E7%BA%A7%E5%91%BD%E4%BB%A4%EF%BC%88%E6%89%A9%E5%B1%95%EF%BC%89.assets/image-20200331112114347.png" alt="image-20200331112114347"></p><p>åˆ›å»ºæ—¶é—´ï¼šä»£è¡¨è¿™ä¸ªæ–‡ä»¶ä»€ä¹ˆæ—¶é—´è¢«åˆ›å»º</p><p>è®¿é—®æ—¶é—´ï¼šä»£è¡¨è¿™ä¸ªæ–‡ä»¶ä»€ä¹ˆæ—¶é—´è¢«è®¿é—®</p><p>ä¿®æ”¹æ—¶é—´ï¼šä»£è¡¨è¿™ä¸ªæ–‡ä»¶ä»€ä¹ˆæ—¶é—´è¢«ä¿®æ”¹</p><h3 id="â˜†-ä½¿ç”¨statå‘½ä»¤è·å–æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´"><a href="#â˜†-ä½¿ç”¨statå‘½ä»¤è·å–æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´" class="headerlink" title="â˜† ä½¿ç”¨statå‘½ä»¤è·å–æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´"></a>â˜† ä½¿ç”¨statå‘½ä»¤è·å–æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># stat æ–‡ä»¶åç§°Modify: 2020-03-31 10:25:20.609010605 +0800<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="â˜†-åˆ›å»ºæ–‡ä»¶æ—¶è®¾ç½®ä¿®æ”¹æ—¶é—´ä»¥åŠä¿®æ”¹æ–‡ä»¶çš„ä¿®æ”¹æ—¶é—´"><a href="#â˜†-åˆ›å»ºæ–‡ä»¶æ—¶è®¾ç½®ä¿®æ”¹æ—¶é—´ä»¥åŠä¿®æ”¹æ–‡ä»¶çš„ä¿®æ”¹æ—¶é—´" class="headerlink" title="â˜† åˆ›å»ºæ–‡ä»¶æ—¶è®¾ç½®ä¿®æ”¹æ—¶é—´ä»¥åŠä¿®æ”¹æ–‡ä»¶çš„ä¿®æ”¹æ—¶é—´"></a>â˜† åˆ›å»ºæ–‡ä»¶æ—¶è®¾ç½®ä¿®æ”¹æ—¶é—´ä»¥åŠä¿®æ”¹æ–‡ä»¶çš„ä¿®æ”¹æ—¶é—´</h3><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># touch -m -d "æ—¥æœŸæ—¶é—´æ ¼å¼" æ–‡ä»¶åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä½œç”¨ï¼šâ‘  å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™è‡ªåŠ¨åˆ›å»ºè¯¥æ–‡ä»¶ï¼Œç„¶åè®¾ç½®å…¶æœ€åçš„ä¿®æ”¹æ—¶é—´</p><p>â€‹     â‘¡ å¦‚æœæ–‡ä»¶å­˜åœ¨ï¼Œtouchå‘½ä»¤å°±æ˜¯åªä¿®æ”¹æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´</p><p>æ¡ˆä¾‹ï¼šåˆ›å»ºä¸€ä¸ªa.txtæ–‡ä»¶ï¼Œè®¾ç½®æœ€åä¿®æ”¹æ—¶é—´ä¸º2020-03-30 00:00</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># touch -m -d "2020-03-30 00:00" a.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåˆ›å»ºä¸€ä¸ªb.txtæ–‡ä»¶ï¼Œç„¶ååœ¨è®¾ç½®æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´ä¸º2020-03-29 00:00</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># touch b.txt# touch -m -d "2020-03-29 00:00" b.txt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåˆ›å»ºä¸€ä¸ªc.txtæ–‡ä»¶ï¼Œè®¾ç½®æœ€åä¿®æ”¹æ—¶é—´ä¸º2020-03-28 00:00</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># touch -m -d "2020-03-28 00:00" c.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â˜†-æ ¹æ®æ–‡ä»¶çš„-æœ€åä¿®æ”¹æ—¶é—´-æœç´¢æ–‡ä»¶"><a href="#â˜†-æ ¹æ®æ–‡ä»¶çš„-æœ€åä¿®æ”¹æ—¶é—´-æœç´¢æ–‡ä»¶" class="headerlink" title="â˜† æ ¹æ®æ–‡ä»¶çš„==æœ€åä¿®æ”¹æ—¶é—´==æœç´¢æ–‡ä»¶"></a>â˜† æ ¹æ®æ–‡ä»¶çš„==æœ€åä¿®æ”¹æ—¶é—´==æœç´¢æ–‡ä»¶</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># find æœç´¢è·¯å¾„ -mtime +days/-day3-mtime ï¼šæ ¹æ®æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´æœç´¢æ–‡ä»¶+ ï¼šåŠ å·ï¼Œä»£è¡¨æœç´¢å‡ å¤©ä¹‹å‰çš„æ–‡ä»¶ä¿¡æ¯- ï¼šå‡å·ï¼Œä»£è¡¨æœç´¢å‡ å¤©ä»¥å†…çš„æ–‡ä»¶ä¿¡æ¯<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæœç´¢3å¤©ä»¥å‰çš„æ–‡ä»¶ä¿¡æ¯ï¼ˆä¸åŒ…å«ç¬¬3å¤©çš„ï¼Œè€Œä¸”åªæœç´¢.txtæ ¼å¼ï¼‰</p><p><img src="/../assets/blog_res/Linux%E9%AB%98%E7%BA%A7%E5%91%BD%E4%BB%A4%EF%BC%88%E6%89%A9%E5%B1%95%EF%BC%89.assets/image-20200331113956170.png" alt="image-20200331113956170"></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># find ./ -name "*.txt" -mtime +3<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæœç´¢3å¤©ä»¥å†…çš„æ–‡ä»¶ä¿¡æ¯ï¼ˆåªæœç´¢.txtæ ¼å¼ï¼‰</p><p><img src="/../assets/blog_res/Linux%E9%AB%98%E7%BA%A7%E5%91%BD%E4%BB%A4%EF%BC%88%E6%89%A9%E5%B1%95%EF%BC%89.assets/image-20200331120315628.png" alt="image-20200331120315628"></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># find ./ -name "*.txt" -mtime -3<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="5ã€æ‰©å±•é€‰é¡¹-execé€‰é¡¹"><a href="#5ã€æ‰©å±•é€‰é¡¹-execé€‰é¡¹" class="headerlink" title="5ã€æ‰©å±•é€‰é¡¹-execé€‰é¡¹"></a>5ã€æ‰©å±•é€‰é¡¹-execé€‰é¡¹</h2><p>æ¡ˆä¾‹ï¼šåˆ é™¤Linuxç³»ç»Ÿä¸­/var/logç›®å½•ä¸‹10å¤©ä»¥å‰çš„æ—¥å¿—ä¿¡æ¯ï¼ˆæ—¥å¿—æ–‡ä»¶æ ¼å¼*.logç»“å°¾ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># find /var/log -name "*.log" -mtime +10<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬ä¸€ç§è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ç®¡é“å‘½ä»¤|</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># find /var/log -name "*.log" -mtime +10 |rm -rf<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä»¥ä¸Šå‘½ä»¤å¹¶ä¸èƒ½æ­£ç¡®çš„æ‰§è¡Œåˆ é™¤æ“ä½œï¼ŒåŸå› åœ¨äºrmå‘½ä»¤å’Œlså‘½ä»¤ä¸€æ ·ï¼Œéƒ½ä¸æ”¯æŒç®¡é“ã€‚</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># find /var/log -name "*.log" -mtime +10 |xargs rm -rf<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬äºŒç§è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨findå‘½ä»¤ + -execé€‰é¡¹</p><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># find /var/log -name "*.log" -mtime +10 -exec rm -rf {} \;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="6ã€æ ¹æ®æ–‡ä»¶çš„å¤§å°æœç´¢æ–‡ä»¶"><a href="#6ã€æ ¹æ®æ–‡ä»¶çš„å¤§å°æœç´¢æ–‡ä»¶" class="headerlink" title="6ã€æ ¹æ®æ–‡ä»¶çš„å¤§å°æœç´¢æ–‡ä»¶"></a>6ã€æ ¹æ®æ–‡ä»¶çš„å¤§å°æœç´¢æ–‡ä»¶</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># find æœç´¢è·¯å¾„ -size [æ–‡ä»¶å¤§å°ï¼Œå¸¸ç”¨å•ä½ï¼škï¼ŒMï¼ŒG]sizeå€¼  : æœç´¢ç­‰äºsizeå€¼å¤§å°çš„æ–‡ä»¶-sizeå€¼ : [0, sizeå€¼)+sizeå€¼ : (sizeå€¼,æ­£æ— ç©·å¤§)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæœç´¢/rootç›®å½•ä¸‹å¤§å°ä¸º5Mçš„æ–‡ä»¶ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># find ./ -type f -size 5M<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæœç´¢/rootç›®å½•ä¸‹å¤§å°ä¸º5Mä»¥å†…çš„æ–‡ä»¶ä¿¡æ¯ï¼ˆ5M&gt;size&gt;=0ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># find ./ -type f -size -5M<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæœç´¢/ç›®å½•ä¸­ï¼Œæ–‡ä»¶å¤§å°å¤§äº100Mçš„æ–‡ä»¶ä¿¡æ¯ï¼ˆsize&gt;100Mï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># find / -type f -size +100M<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="7ã€ddæ‰©å±•å‘½ä»¤"><a href="#7ã€ddæ‰©å±•å‘½ä»¤" class="headerlink" title="7ã€ddæ‰©å±•å‘½ä»¤"></a>7ã€ddæ‰©å±•å‘½ä»¤</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># dd if=/dev/zero of=æ–‡ä»¶åç§° bs=1M count=1é€‰é¡¹è¯´æ˜ï¼šifä»£è¡¨è¾“å…¥æ–‡ä»¶ofä»£è¡¨è¾“å‡ºæ–‡ä»¶bsä»£è¡¨å­—èŠ‚ä¸ºå•ä½çš„å—å¤§å°ã€‚countä»£è¡¨è¢«å¤åˆ¶çš„å—ã€‚å…¶ä¸­/dev/zeroæ˜¯ä¸€ä¸ªå­—ç¬¦è®¾å¤‡ï¼Œä¼šä¸æ–­è¿”å›0å€¼å­—èŠ‚ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸»è¦åŠŸèƒ½ï¼šåœ¨Linuxæ“ä½œç³»ç»Ÿä¸­ï¼Œç”ŸæˆæŸä¸ªå¤§å°çš„æµ‹è¯•æ–‡ä»¶ï¼</p><p>æ¡ˆä¾‹ï¼šä½¿ç”¨ddåˆ›å»ºä¸€ä¸ª1Må¤§å°çš„sun.txtæ–‡ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># dd if=/dev/zero of=moon.txt bs=1M count=1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šä½¿ç”¨ddåˆ›å»ºä¸€ä¸ª5Må¤§å°çš„moon.txtæ–‡ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># dd if=/dev/zero of=moon.txt bs=5M count=1if = input fileof = output file<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h1 id="äºŒã€treeå‘½ä»¤"><a href="#äºŒã€treeå‘½ä»¤" class="headerlink" title="äºŒã€treeå‘½ä»¤"></a>äºŒã€treeå‘½ä»¤</h1><h2 id="1ã€treeå‘½ä»¤çš„ä¸»è¦ä½œç”¨"><a href="#1ã€treeå‘½ä»¤çš„ä¸»è¦ä½œç”¨" class="headerlink" title="1ã€treeå‘½ä»¤çš„ä¸»è¦ä½œç”¨"></a>1ã€treeå‘½ä»¤çš„ä¸»è¦ä½œç”¨</h2><p>Windowså’ŒLinuxéƒ½æœ‰treeå‘½ä»¤ï¼Œä¸»è¦åŠŸèƒ½æ˜¯åˆ›å»ºæ–‡ä»¶åˆ—è¡¨ï¼Œå°†æ‰€æœ‰æ–‡ä»¶ä»¥æ ‘çš„å½¢å¼åˆ—å‡ºæ¥</p><h2 id="2ã€ä½¿ç”¨yumå‘½ä»¤å®‰è£…tree"><a href="#2ã€ä½¿ç”¨yumå‘½ä»¤å®‰è£…tree" class="headerlink" title="2ã€ä½¿ç”¨yumå‘½ä»¤å®‰è£…tree"></a>2ã€ä½¿ç”¨yumå‘½ä»¤å®‰è£…tree</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install tree -y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="3ã€ä»¥æ ‘çŠ¶ç»“æ„æ˜¾ç¤ºè·¯å¾„ä¸‹çš„æ–‡ä»¶ä¿¡æ¯"><a href="#3ã€ä»¥æ ‘çŠ¶ç»“æ„æ˜¾ç¤ºè·¯å¾„ä¸‹çš„æ–‡ä»¶ä¿¡æ¯" class="headerlink" title="3ã€ä»¥æ ‘çŠ¶ç»“æ„æ˜¾ç¤ºè·¯å¾„ä¸‹çš„æ–‡ä»¶ä¿¡æ¯"></a>3ã€ä»¥æ ‘çŠ¶ç»“æ„æ˜¾ç¤ºè·¯å¾„ä¸‹çš„æ–‡ä»¶ä¿¡æ¯</h2><p>æ¡ˆä¾‹ï¼šä»¥æ ‘çŠ¶ç»“æ„æ˜¾ç¤ºå½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># tree <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šä»¥æ ‘çŠ¶ç»“æ„æ˜¾ç¤º/var/logç›®å½•ä¸‹çš„æ–‡ä»¶ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># tree /var/log<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h1 id="ä¸‰ã€scpå‘½ä»¤"><a href="#ä¸‰ã€scpå‘½ä»¤" class="headerlink" title="ä¸‰ã€scpå‘½ä»¤"></a>ä¸‰ã€scpå‘½ä»¤</h1><h2 id="1ã€scpå‘½ä»¤çš„ä¸»è¦ä½œç”¨"><a href="#1ã€scpå‘½ä»¤çš„ä¸»è¦ä½œç”¨" class="headerlink" title="1ã€scpå‘½ä»¤çš„ä¸»è¦ä½œç”¨"></a>1ã€scpå‘½ä»¤çš„ä¸»è¦ä½œç”¨</h2><p>scpå‘½ä»¤çš„ä¸»è¦ä½œç”¨æ˜¯å®ç°Linuxä¸Linuxç³»ç»Ÿä¹‹é—´çš„æ–‡ä»¶ä¼ è¾“ã€‚</p><blockquote><p>å®Œæˆä»¥ä¸Šå®æˆ˜éœ€è¦ä¸¤ä¸ªLinuxç³»ç»Ÿï¼Œè§£å†³æ–¹æ¡ˆå¯ä»¥ä½¿ç”¨å…‹éš†æ“ä½œï¼ˆå…ˆå…³æœºåå…‹éš†ï¼‰å¿«é€Ÿç”Ÿæˆä¸€ä¸ªLinuxç³»ç»Ÿ</p></blockquote><p><img src="/../assets/blog_res/Linux%E9%AB%98%E7%BA%A7%E5%91%BD%E4%BB%A4%EF%BC%88%E6%89%A9%E5%B1%95%EF%BC%89.assets/image-20200331153615311.png" alt="image-20200331153615311"></p><h2 id="2ã€scpæ•ˆæœå›¾"><a href="#2ã€scpæ•ˆæœå›¾" class="headerlink" title="2ã€scpæ•ˆæœå›¾"></a>2ã€scpæ•ˆæœå›¾</h2><p><img src="/../assets/blog_res/Linux%E9%AB%98%E7%BA%A7%E5%91%BD%E4%BB%A4%EF%BC%88%E6%89%A9%E5%B1%95%EF%BC%89.assets/image-20200331154917349.png" alt="image-20200331154917349"></p><p>scpä¼ è¾“è¦æ±‚ï¼šä¸¤å°è®¡ç®—æœºæ‰€ä½¿ç”¨çš„æ“ä½œç³»ç»Ÿéƒ½å¿…é¡»æ˜¯Linuxæ“ä½œç³»ç»Ÿã€‚</p><blockquote><p>ssh: connect to host 10.1.1.17 port 22: Connection refused<br>lost connection</p><p>å‡ºç°ä»¥ä¸Šé—®é¢˜çš„ä¸»è¦åŸå› åœ¨äºSCPå‘½ä»¤æ—¶åŸºäºSSHåè®®ï¼Œæ‰€ä»¥ä¸¤å°æœåŠ¡å™¨çš„sshdæœåŠ¡å¿…é¡»å¤„äºå¼€å¯çŠ¶æ€ï¼Œå¦åˆ™æ— æ³•å®Œæˆä¸Šä¼ ä¸ä¸‹è½½æ“ä½œã€‚</p></blockquote><h2 id="3ã€ä¸‹è½½æ–‡ä»¶æˆ–ç›®å½•"><a href="#3ã€ä¸‹è½½æ–‡ä»¶æˆ–ç›®å½•" class="headerlink" title="3ã€ä¸‹è½½æ–‡ä»¶æˆ–ç›®å½•"></a>3ã€ä¸‹è½½æ–‡ä»¶æˆ–ç›®å½•</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># scp [é€‰é¡¹] ç”¨æˆ·å@linuxä¸»æœºåœ°å€:èµ„æºè·¯å¾„  linuxæœ¬åœ°æ–‡ä»¶è·¯å¾„é€‰é¡¹è¯´æ˜ï¼š-r ï¼šä»£è¡¨é€’å½’æ“ä½œï¼Œä¸»è¦é’ˆå¯¹æ–‡ä»¶å¤¹<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šä»10.1.1.17æœåŠ¡å™¨ä¸‹è½½/rootè·¯å¾„ä¸‹çš„video.mp4æ–‡ä»¶åˆ°æœ¬åœ°çš„/rootç›®å½•ä¸‹</p><p>10.1.1.16ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># scp root@10.1.1.17:/root/video.mp4 ./The authenticity of host '10.1.1.17 (10.1.1.17)' can't be established.ECDSA key fingerprint is SHA256:Wcxibo2ZQulm6bV+jEakz8IniwFgE6CUHopCxYjexrI.ECDSA key fingerprint is MD5:48:25:21:93:ef:2b:22:25:5f:95:39:56:0c:8e:ff:75.Are you sure you want to continue connecting (yes/no)? yesWarning: Permanently added '10.1.1.17' (ECDSA) to the list of known hosts.root@10.1.1.17's password:123456<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šä»10.1.1.17æœåŠ¡å™¨ä¸‹è½½/rootè·¯å¾„ä¸‹çš„shopæ–‡ä»¶å¤¹åˆ°æœ¬åœ°çš„/rootç›®å½•ä¸‹</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># scp -r root@10.1.1.17:/root/shop ./root@10.1.1.17's password:123456<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="4ã€ä¸Šä¼ æ–‡ä»¶æˆ–ç›®å½•"><a href="#4ã€ä¸Šä¼ æ–‡ä»¶æˆ–ç›®å½•" class="headerlink" title="4ã€ä¸Šä¼ æ–‡ä»¶æˆ–ç›®å½•"></a>4ã€ä¸Šä¼ æ–‡ä»¶æˆ–ç›®å½•</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># scp [é€‰é¡¹] linuxæœ¬åœ°æ–‡ä»¶è·¯å¾„ ç”¨æˆ·å@linuxä¸»æœºåœ°å€:è¿œç¨‹è·¯å¾„é€‰é¡¹è¯´æ˜ï¼š-r ï¼šé€’å½’æ“ä½œ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠ10.1.1.16æœåŠ¡å™¨ä¸Šçš„/root/video.mp4ä¸Šä¼ åˆ°10.1.1.17æœåŠ¡å™¨çš„/rootç›®å½•ä¸‹</p><p>10.1.1.16ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># scp /root/video.mp4 root@10.1.1.17:/root/<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠ10.1.1.16æœåŠ¡å™¨ä¸Šçš„/root/shopæ–‡ä»¶å¤¹ä¸Šä¼ åˆ°10.1.1.17æœåŠ¡å™¨çš„/rootç›®å½•ä¸‹</p><p>10.1.1.16ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># scp -r /root/shop root@10.1.1.17:/root/<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h1 id="å››ã€è®¡åˆ’ä»»åŠ¡-tarå‘½ä»¤å®ç°æ–‡ä»¶å¤‡ä»½"><a href="#å››ã€è®¡åˆ’ä»»åŠ¡-tarå‘½ä»¤å®ç°æ–‡ä»¶å¤‡ä»½" class="headerlink" title="å››ã€è®¡åˆ’ä»»åŠ¡+tarå‘½ä»¤å®ç°æ–‡ä»¶å¤‡ä»½"></a>å››ã€è®¡åˆ’ä»»åŠ¡+tarå‘½ä»¤å®ç°æ–‡ä»¶å¤‡ä»½</h1><h2 id="1ã€å›é¡¾è®¡åˆ’ä»»åŠ¡"><a href="#1ã€å›é¡¾è®¡åˆ’ä»»åŠ¡" class="headerlink" title="1ã€å›é¡¾è®¡åˆ’ä»»åŠ¡"></a>1ã€å›é¡¾è®¡åˆ’ä»»åŠ¡</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># crontab [é€‰é¡¹]-l : listç¼©å†™ï¼ŒæŸ¥è¯¢å½“å‰ç”¨æˆ·çš„è®¡åˆ’ä»»åŠ¡ä¿¡æ¯-e : editç¼©å†™ï¼Œç¼–è¾‘è®¡åˆ’ä»»åŠ¡<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="2ã€è®¡åˆ’ä»»åŠ¡æ ¼å¼"><a href="#2ã€è®¡åˆ’ä»»åŠ¡æ ¼å¼" class="headerlink" title="2ã€è®¡åˆ’ä»»åŠ¡æ ¼å¼"></a>2ã€è®¡åˆ’ä»»åŠ¡æ ¼å¼</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">åˆ† æ—¶ æ—¥ æœˆ å‘¨ æ‰§è¡Œçš„å‘½ä»¤ï¼ˆè¦æ±‚ä½¿ç”¨å®Œæ•´è·¯å¾„,whichå‘½ä»¤ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/../assets/blog_res/Linux%E9%AB%98%E7%BA%A7%E5%91%BD%E4%BB%A4%EF%BC%88%E6%89%A9%E5%B1%95%EF%BC%89.assets/image-20200331164953190.png" alt="image-20200331164953190"></p><blockquote><p>å‘¨çš„èŒƒå›´æ¯”è¾ƒç‰¹æ®Šï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼Œåªæœ‰å‘¨ä¸€ ~ å‘¨æ—¥ 1-7ï¼Œä½†æ˜¯è®¡åˆ’ä»»åŠ¡èŒƒå›´0-7ï¼Œ0å’Œ7éƒ½ä»£è¡¨å‘¨æ—¥</p></blockquote><h2 id="3ã€æ¡ˆä¾‹"><a href="#3ã€æ¡ˆä¾‹" class="headerlink" title="3ã€æ¡ˆä¾‹"></a>3ã€æ¡ˆä¾‹</h2><p>æ¡ˆä¾‹ï¼šæ¯å¤©çš„å‡Œæ™¨2ç‚¹0åˆ†æŠŠ/etcç›®å½•å¤‡ä»½ä¸€æ¬¡/tmpç›®å½•ä¸‹ï¼Œè¦æ±‚æŠŠ/etcæ‰“åŒ…æˆetc.tar.gzæ ¼å¼</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># crontab -eåˆ† æ—¶ æ—¥ æœˆ å‘¨ /usr/bin/tar -zcf /tmp/etc.tar.gz /etc0 2 * * * /usr/bin/tar -zcf /tmp/etc.tar.gz /etc<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ä»¥ä¸Šæ¡ˆä¾‹è™½ç„¶å¯ä»¥å®ç°å¯¹/etcç›®å½•çš„å¤‡ä»½ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªå°ç¼ºç‚¹ï¼šæ¯æ¬¡å¤‡ä»½æ—¶ï¼Œç”Ÿæˆçš„æ–‡ä»¶åç§°æ˜¯ä¸€è‡´çš„ï¼Œè¿™æ ·åé¢å¤‡ä»½çš„æ–‡ä»¶å°±ä¼šæŠŠå‰é¢å¤‡ä»½çš„æ–‡ä»¶è¿›è¡Œè¦†ç›–ï¼</p><p>==æ¡ˆä¾‹ï¼šå¤‡ä»½æ–‡ä»¶æ—¶ï¼Œè¦æ±‚æŒ‰æ—¶é—´ä½œä¸ºå¤‡ä»½æ–‡ä»¶çš„åç§°==</p><p>/tmp/etc-20200331.tar.gz</p><p>/tmp/etc-20200401.tar.gz</p><p>â€¦</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># crontab -e0 2 * * * /usr/bin/tar -zcf /tmp/etc-$(date +"\%Y\%m\%d").tar.gz/etcé‡ç‚¹ï¼š/tmp/etc-$(date +"\%Y\%m\%d").tar.gz<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>ç»éªŒä¹‹è°ˆï¼šå¦‚æœåœ¨ç¼–å†™è®¡åˆ’ä»»åŠ¡æ—¶ï¼Œå‡ºç°äº†%ç™¾åˆ†å·ï¼Œå‰é¢å¿…é¡»æ·»åŠ ä¸€ä¸ªåæ–œæ \è¿›è¡Œè½¬ä¹‰ï¼Œå¦åˆ™è®¡åˆ’ä»»åŠ¡ä¼šå¤±æ•ˆï¼</p></blockquote><h2 id="4ã€æ‰©å±•å‘½ä»¤ï¼šdate"><a href="#4ã€æ‰©å±•å‘½ä»¤ï¼šdate" class="headerlink" title="4ã€æ‰©å±•å‘½ä»¤ï¼šdate"></a>4ã€æ‰©å±•å‘½ä»¤ï¼šdate</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># date +"æ—¶é—´æ ¼å¼"%F : å¹´-æœˆ-æ—¥%T : å°æ—¶:åˆ†é’Ÿ:ç§’%Y : Year,å¹´%m : month,æœˆ%d : day,æ—¥%H : Hour,å°æ—¶%M : Minute,åˆ†é’Ÿ%S : Second,ç§’<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šè·å–è®¡ç®—æœºçš„ç³»ç»Ÿæ—¶é—´</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># date<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šè·å–å¹´æœˆæ—¥ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># date +""<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxé«˜çº§å‘½ä»¤ï¼ˆæ‰©å±•ï¼‰ä¸‰</title>
      <link href="/2023/12/23/linux-gao-ji-ming-ling-kuo-zhan-san/"/>
      <url>/2023/12/23/linux-gao-ji-ming-ling-kuo-zhan-san/</url>
      
        <content type="html"><![CDATA[<h1 id="Linuxé«˜çº§å‘½ä»¤ï¼ˆæ‰©å±•ï¼‰"><a href="#Linuxé«˜çº§å‘½ä»¤ï¼ˆæ‰©å±•ï¼‰" class="headerlink" title="Linuxé«˜çº§å‘½ä»¤ï¼ˆæ‰©å±•ï¼‰"></a>Linuxé«˜çº§å‘½ä»¤ï¼ˆæ‰©å±•ï¼‰</h1><h1 id="ä¸€ã€dateå‘½ä»¤"><a href="#ä¸€ã€dateå‘½ä»¤" class="headerlink" title="ä¸€ã€dateå‘½ä»¤"></a>ä¸€ã€dateå‘½ä»¤</h1><h2 id="1ã€dateå‘½ä»¤çš„ä½œç”¨"><a href="#1ã€dateå‘½ä»¤çš„ä½œç”¨" class="headerlink" title="1ã€dateå‘½ä»¤çš„ä½œç”¨"></a>1ã€dateå‘½ä»¤çš„ä½œç”¨</h2><p>dateå‘½ä»¤çš„ä¸»è¦ä½œç”¨ï¼šç”¨äºè·å–è®¡ç®—æœºæ“ä½œç³»ç»Ÿçš„ç³»ç»Ÿæ—¶é—´</p><h2 id="2ã€è·å–è®¡ç®—æœºçš„ç³»ç»Ÿæ—¶é—´"><a href="#2ã€è·å–è®¡ç®—æœºçš„ç³»ç»Ÿæ—¶é—´" class="headerlink" title="2ã€è·å–è®¡ç®—æœºçš„ç³»ç»Ÿæ—¶é—´"></a>2ã€è·å–è®¡ç®—æœºçš„ç³»ç»Ÿæ—¶é—´</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># date<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="3ã€å®šåˆ¶æ—¶é—´æ ¼å¼"><a href="#3ã€å®šåˆ¶æ—¶é—´æ ¼å¼" class="headerlink" title="3ã€å®šåˆ¶æ—¶é—´æ ¼å¼"></a>3ã€å®šåˆ¶æ—¶é—´æ ¼å¼</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># date +"%F %T %Y %m %d %H %M %S"%F : 2020-04-03%T : 09:45:36%Y : å¹´%m : æœˆ%d : æ—¥%H : å°æ—¶%M : åˆ†é’Ÿ%S : ç§’<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šè·å–ç³»ç»Ÿæ—¶é—´ï¼Œæ—¶é—´æ ¼å¼è¦æ±‚20200403</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># date +"%Y%m%d"<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="4ã€è®¾ç½®è®¡ç®—æœºçš„ç³»ç»Ÿæ—¶é—´ï¼ˆæ…ç”¨ï¼‰"><a href="#4ã€è®¾ç½®è®¡ç®—æœºçš„ç³»ç»Ÿæ—¶é—´ï¼ˆæ…ç”¨ï¼‰" class="headerlink" title="4ã€è®¾ç½®è®¡ç®—æœºçš„ç³»ç»Ÿæ—¶é—´ï¼ˆæ…ç”¨ï¼‰"></a>4ã€è®¾ç½®è®¡ç®—æœºçš„ç³»ç»Ÿæ—¶é—´ï¼ˆæ…ç”¨ï¼‰</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># date -s "å¹´-æœˆ-æ—¥ å°æ—¶:åˆ†é’Ÿ:ç§’"<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠå½“å‰ç³»ç»Ÿæ—¶é—´è®¾ç½®ä¸º2020-04-10</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># date -s "2020-04-10"<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="5ã€ntpdateæ‰‹å·¥åŒæ­¥æ—¶é—´"><a href="#5ã€ntpdateæ‰‹å·¥åŒæ­¥æ—¶é—´" class="headerlink" title="5ã€ntpdateæ‰‹å·¥åŒæ­¥æ—¶é—´"></a>5ã€ntpdateæ‰‹å·¥åŒæ­¥æ—¶é—´</h2><p>å¦‚æœæ—¶é—´é”™ä¹±äº†ï¼Œæ²¡æœ‰å…³ç³»ï¼Œåªéœ€è¦ä½¿ç”¨ntpdateæ‰‹å·¥é‡ç½®ä¸€ä¸‹å³å¯ã€‚</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ntpdate cn.ntp.org.cn<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h1 id="äºŒã€æ™®é€šæƒé™rwx"><a href="#äºŒã€æ™®é€šæƒé™rwx" class="headerlink" title="äºŒã€æ™®é€šæƒé™rwx"></a>äºŒã€æ™®é€šæƒé™rwx</h1><h2 id="1ã€rwxå¯¹æ–‡ä»¶çš„å½±å“"><a href="#1ã€rwxå¯¹æ–‡ä»¶çš„å½±å“" class="headerlink" title="1ã€rwxå¯¹æ–‡ä»¶çš„å½±å“"></a>1ã€rwxå¯¹æ–‡ä»¶çš„å½±å“</h2><h3 id="â˜†-rå¯¹æ–‡ä»¶çš„å½±å“"><a href="#â˜†-rå¯¹æ–‡ä»¶çš„å½±å“" class="headerlink" title="â˜† rå¯¹æ–‡ä»¶çš„å½±å“"></a>â˜† rå¯¹æ–‡ä»¶çš„å½±å“</h3><ul><li><p>é’ˆå¯¹==ç›®å½•==</p><p>ä¸€ä¸ªç›®å½•æ‹¥æœ‰ræƒé™ï¼Œè¯´æ˜å¯ä»¥æŸ¥çœ‹è¯¥==ç›®å½•é‡Œçš„å†…å®¹==ï¼ˆlså‘½ä»¤åˆ—å‡ºï¼‰</p></li><li><p>é’ˆå¯¹==æ™®é€šæ–‡ä»¶==</p><p>ä¸€ä¸ªæ™®é€šæ–‡ä»¶æ‹¥æœ‰ræƒé™ï¼Œè¯´æ˜å¯ä»¥æŸ¥çœ‹è¯¥==æ–‡ä»¶çš„å†…å®¹==(cat/head/tail/less/moreç­‰å‘½ä»¤æŸ¥çœ‹)</p></li><li><p>è¯»æƒé™==<strong>r</strong>==ï¼ˆreadï¼‰ç”¨æ•°å­—è¡¨ç¤ºæ˜¯**==4==**</p></li></ul><h3 id="â˜†-wå¯¹æ–‡ä»¶çš„å½±å“"><a href="#â˜†-wå¯¹æ–‡ä»¶çš„å½±å“" class="headerlink" title="â˜† wå¯¹æ–‡ä»¶çš„å½±å“"></a>â˜† wå¯¹æ–‡ä»¶çš„å½±å“</h3><ul><li><p>é’ˆå¯¹==ç›®å½•==</p><p>ä¸€ä¸ªç›®å½•æ‹¥æœ‰wæƒé™ï¼Œè¯´æ˜å¯ä»¥åœ¨è¯¥ç›®å½•é‡Œ==<strong>åˆ›å»ºã€åˆ é™¤ã€é‡å‘½å</strong>==ç­‰æ“ä½œï¼ˆmkdir/touch/mv/rmç­‰ï¼‰</p></li><li><p>é’ˆå¯¹==æ™®é€šæ–‡ä»¶==</p><p>ä¸€ä¸ªæ™®é€šæ–‡ä»¶æ‹¥æœ‰wæƒé™ï¼Œè¯´æ˜å¯ä»¥==<strong>ä¿®æ”¹</strong>==è¯¥==æ–‡ä»¶çš„<strong>å†…å®¹</strong>==ï¼ˆvi/vimç¼–è¾‘å™¨ç¼–è¾‘æ–‡ä»¶ï¼‰</p></li><li><p>å†™æƒé™==<strong>w</strong>==ï¼ˆwriteï¼‰ç”¨æ•°å­—è¡¨ç¤ºæ˜¯==<strong>2</strong>==</p></li></ul><blockquote><p>å¦‚æœæˆ‘ä»¬æƒ³åœ¨Linuxç³»ç»Ÿä¸­åˆ é™¤æŸä¸ªæ–‡ä»¶ï¼Œä¸æ˜¯çœ‹è¿™ä¸ªæ–‡ä»¶æœ‰ä»€ä¹ˆæƒé™ï¼Œè€Œæ˜¯è¦çœ‹è¿™ä¸ªæ–‡ä»¶æ‰€å¤„çš„ä¸Šçº§ç›®å½•æ˜¯å¦å…·æœ‰wæƒé™ã€‚</p></blockquote><h3 id="â˜†-xå¯¹æ–‡ä»¶çš„å½±å“"><a href="#â˜†-xå¯¹æ–‡ä»¶çš„å½±å“" class="headerlink" title="â˜† xå¯¹æ–‡ä»¶çš„å½±å“"></a>â˜† xå¯¹æ–‡ä»¶çš„å½±å“</h3><ul><li><p>é’ˆå¯¹==ç›®å½•==</p><p>ä¸€ä¸ªç›®å½•æ‹¥æœ‰xæƒé™ï¼Œè¯´æ˜å¯ä»¥==<strong>è¿›å…¥æˆ–åˆ‡æ¢åˆ°</strong>==è¯¥ç›®å½•é‡Œï¼ˆcdå‘½ä»¤ï¼‰</p></li><li><p>é’ˆå¯¹==æ™®é€šæ–‡ä»¶==</p><p>ä¸€ä¸ªæ™®é€šæ–‡ä»¶æ‹¥æœ‰xæƒé™ï¼Œè¯´æ˜å¯ä»¥==<strong>æ‰§è¡Œ</strong>==è¯¥æ–‡ä»¶ï¼ˆä¸€èˆ¬ç¨‹åºæ–‡ä»¶ã€è„šæœ¬æ–‡ä»¶ã€å‘½ä»¤éƒ½éœ€è¦æ‰§è¡Œæƒé™ï¼‰</p><p>shell.sh =&gt; ç±»ä¼¼Windowsä¸­çš„exeæ–‡ä»¶</p></li><li><p>æ‰§è¡Œæƒé™==<strong>x</strong>==ï¼ˆexecuteï¼‰ç”¨æ•°å­—è¡¨ç¤ºæ˜¯==<strong>1</strong>==</p></li></ul><h2 id="2ã€å›¾è§£å¸¸è§æ“ä½œæƒé™"><a href="#2ã€å›¾è§£å¸¸è§æ“ä½œæƒé™" class="headerlink" title="2ã€å›¾è§£å¸¸è§æ“ä½œæƒé™"></a>2ã€å›¾è§£å¸¸è§æ“ä½œæƒé™</h2><p>/</p><p>/dir1  /dir2</p><p>/dir1/file1</p><p><img src="/../assets/blog_res/Linux%E9%AB%98%E7%BA%A7%E5%91%BD%E4%BB%A4%EF%BC%88%E6%89%A9%E5%B1%95%EF%BC%89%E4%B8%89.assets/image-20200403113406787.png" alt="image-20200403113406787"></p><h2 id="3ã€ç”¨æˆ·èº«ä»½"><a href="#3ã€ç”¨æˆ·èº«ä»½" class="headerlink" title="3ã€ç”¨æˆ·èº«ä»½"></a>3ã€ç”¨æˆ·èº«ä»½</h2><p>U ï¼š userï¼Œä»£è¡¨æ–‡ä»¶çš„æ‹¥æœ‰è€…ï¼ˆé»˜è®¤ä¸ºæ–‡ä»¶çš„åˆ›å»ºè€…ï¼‰</p><p>G ï¼šgroupï¼Œä¸æ–‡ä»¶æ‰€å±ç»„åŒç»„çš„ç”¨æˆ·ï¼ˆç»„å†…ç”¨æˆ·ï¼‰</p><p>O ï¼šotherï¼Œæ—¢ä¸æ˜¯æ‹¥æœ‰è€…ï¼Œä¹Ÿä¸æ˜¯æ‰€å±ç»„å†…çš„ç”¨æˆ·ï¼Œè¿™äº›ç”¨æˆ·å°±ç§°ä¹‹ä¸ºå…¶ä»–ç”¨æˆ·</p><p>a = UGOï¼Œä»£è¡¨æ‰€æœ‰ç”¨æˆ·</p><h2 id="4ã€å¦‚ä½•åˆ¤æ–­ä¸åŒèº«ä»½çš„ç”¨æˆ·å¯¹æ–‡ä»¶çš„æƒé™"><a href="#4ã€å¦‚ä½•åˆ¤æ–­ä¸åŒèº«ä»½çš„ç”¨æˆ·å¯¹æ–‡ä»¶çš„æƒé™" class="headerlink" title="4ã€å¦‚ä½•åˆ¤æ–­ä¸åŒèº«ä»½çš„ç”¨æˆ·å¯¹æ–‡ä»¶çš„æƒé™"></a>4ã€å¦‚ä½•åˆ¤æ–­ä¸åŒèº«ä»½çš„ç”¨æˆ·å¯¹æ–‡ä»¶çš„æƒé™</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ls -læˆ–# llæ³¨ï¼šllä»£è¡¨çº¢å¸½ä»¥åŠCentOSç³»ç»Ÿä¸“æœ‰çš„ä¸€ä¸ªå‘½ä»¤ï¼Œç­‰ä»·äºls -lã€‚ä½†æ˜¯å…¶ä»–ç³»ç»Ÿå¯èƒ½å¹¶ä¸æ”¯æŒ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="/../assets/blog_res/Linux%E9%AB%98%E7%BA%A7%E5%91%BD%E4%BB%A4%EF%BC%88%E6%89%A9%E5%B1%95%EF%BC%89%E4%B8%89.assets/image-20200403114702172.png" alt="image-20200403114702172"></p><h2 id="5ã€æƒé™çš„è®¾ç½®ï¼ˆé‡ç‚¹ï¼‰"><a href="#5ã€æƒé™çš„è®¾ç½®ï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="5ã€æƒé™çš„è®¾ç½®ï¼ˆé‡ç‚¹ï¼‰"></a>5ã€æƒé™çš„è®¾ç½®ï¼ˆé‡ç‚¹ï¼‰</h2><p>â‘  å­—æ¯æ–¹å¼ï¼ˆugo + rwxï¼‰</p><p>â‘¡ æ•°å­—æ–¹å¼ï¼ˆ4 2 1ï¼‰</p><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chmod [é€‰é¡¹] å­—æ¯å½¢å¼æˆ–æ•°å­—å½¢å¼ æ–‡ä»¶åç§°é€‰é¡¹è¯´æ˜ï¼š-R : é€’å½’è®¾ç½®ï¼Œé’ˆå¯¹æ–‡ä»¶å®¶ï¼ˆç›®å½•ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="â˜†-å­—æ¯å½¢å¼-ä¸‰æ­¥èµ°"><a href="#â˜†-å­—æ¯å½¢å¼-ä¸‰æ­¥èµ°" class="headerlink" title="â˜† å­—æ¯å½¢å¼(ä¸‰æ­¥èµ°)"></a>â˜† å­—æ¯å½¢å¼(ä¸‰æ­¥èµ°)</h3><p>ç¬¬ä¸€æ­¥ï¼šç¡®è®¤ç»™è°è®¾ç½®æƒé™ï¼ˆuï¼Œgï¼Œoï¼Œugo=aï¼‰</p><p>ç¬¬äºŒæ­¥ï¼šæ€ä¹ˆè®¾ç½®æƒé™ï¼ˆ+ï¼Œ -ï¼Œ =ï¼‰</p><p>ç¬¬ä¸‰æ­¥ï¼šæˆäºˆä»€ä¹ˆæ ·çš„æƒé™ï¼ˆrï¼Œwï¼Œxï¼‰</p><p>æ¡ˆä¾‹ï¼šç»™readme.txtè®¾ç½®æƒé™ï¼Œè¦æ±‚æ–‡ä»¶æ‹¥æœ‰è€…rwxæƒé™ï¼Œæ‰€å±ç»„å†…ç”¨æˆ·rwï¼Œå…¶ä»–ç”¨æˆ·ræƒé™</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chmod u=rwx,g=rw,o=r readme.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â˜†-æ•°å­—å½¢å¼-421"><a href="#â˜†-æ•°å­—å½¢å¼-421" class="headerlink" title="â˜† æ•°å­—å½¢å¼(421)"></a>â˜† æ•°å­—å½¢å¼(421)</h3><p>read = 4</p><p>write = 2</p><p>execute = 1</p><p>777</p><p>644</p><p>755</p><blockquote><p>7 = 4 + 2 + 1 = r + w + x = rwx</p><p>6 = 4 + 2 = rw</p><p>5 = 4 + 1 = rx</p></blockquote><p>æ¡ˆä¾‹ï¼šè®¾ç½®shopæ–‡ä»¶å¤¹æƒé™ä¸º777ï¼ˆæ‰€æœ‰æ‹¥æœ‰éƒ½æ‹¥æœ‰rwxï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chmod -R 777 shop<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="6ã€ç»ƒä¹ é¢˜"><a href="#6ã€ç»ƒä¹ é¢˜" class="headerlink" title="==6ã€ç»ƒä¹ é¢˜=="></a>==6ã€ç»ƒä¹ é¢˜==</h2><ol><li>åˆ›å»º5ä¸ªç”¨æˆ·user01~user05å’Œä¸€ä¸ªadminç»„</li><li>å°†user01~user03ç”¨æˆ·åŠ å…¥åˆ°adminç»„é‡Œ</li><li>user01ç”¨æˆ·åœ¨å…¶å®¶ç›®å½•é‡Œåˆ›å»ºfile1~file3ä¸‰ä¸ªæ–‡ä»¶</li><li>user02ç”¨æˆ·ç¼–è¾‘/home/user01/file1æ–‡ä»¶çš„å†…å®¹ï¼šgood good study,day day up!</li><li>user05ç”¨æˆ·å¾€/home/user01/file1æ–‡ä»¶é‡Œè¿½åŠ å†…å®¹ï¼šI known</li><li>user04ç”¨åˆ é™¤/home/user01å®¶ç›®å½•çš„æ‰€æœ‰æ–‡ä»¶</li></ol><h1 id="ä¸‰ã€é«˜çº§æƒé™"><a href="#ä¸‰ã€é«˜çº§æƒé™" class="headerlink" title="ä¸‰ã€é«˜çº§æƒé™"></a>ä¸‰ã€é«˜çº§æƒé™</h1><h2 id="1ã€åœ¨Linuxç³»ç»Ÿä¸­æœ‰å“ªäº›é«˜çº§æƒé™"><a href="#1ã€åœ¨Linuxç³»ç»Ÿä¸­æœ‰å“ªäº›é«˜çº§æƒé™" class="headerlink" title="1ã€åœ¨Linuxç³»ç»Ÿä¸­æœ‰å“ªäº›é«˜çº§æƒé™"></a>1ã€åœ¨Linuxç³»ç»Ÿä¸­æœ‰å“ªäº›é«˜çº§æƒé™</h2><p>â‘  å†’é™©ä½ï¼ˆu + sï¼‰ =&gt; S</p><ul><li>å†’é™©ä½ï¼ŒæŒ‡æ–‡ä»¶æ“ä½œè€…(ç”¨æˆ·)==ä¸´æ—¶æ‹¥æœ‰==æ–‡ä»¶==æ‹¥æœ‰è€…==çš„æƒé™</li><li>å†’é™©ä½ï¼Œä¸€èˆ¬é’ˆå¯¹çš„æ˜¯==å‘½ä»¤==æˆ–è€…==è„šæœ¬æ–‡ä»¶==</li><li>å†’é™©ä½ï¼Œç”¨å­—æ¯è¡¨ç¤ºæ˜¯==sæˆ–S==ï¼›æ•°å­—è¡¨ç¤ºæ˜¯==4==</li><li>å†’é™©ä½çš„è®¾ç½®ï¼š<code>chmod u+s æ–‡ä»¶å</code>æˆ–è€…<code>chmod 4xxx æ–‡ä»¶å</code></li></ul><blockquote><p>ä¸»è¦é’ˆå¯¹å¯æ‰§è¡Œçš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¦‚/usr/bin/passwdæ–‡ä»¶</p></blockquote><p>â‘¡ å¼ºåˆ¶ä½ï¼ˆg + sï¼‰</p><ul><li><p>å¼ºåˆ¶ä½ï¼Œä¸€èˆ¬é’ˆå¯¹çš„æ˜¯==ç›®å½•==</p><p>å¦‚æœä¸€ä¸ªç›®å½•æ‹¥æœ‰å¼ºåˆ¶ä½ï¼Œé‚£ä¹ˆ==ä»»ä½•ç”¨æˆ·==åœ¨è¯¥ç›®å½•é‡Œæ‰€åˆ›å»ºçš„ä»»ä½•æ–‡ä»¶çš„==å±ç»„==éƒ½ä¼šç»§æ‰¿==è¯¥ç›®å½•çš„å±ç»„==ã€‚</p></li><li><p>å¼ºåˆ¶ä½ï¼Œç”¨å­—æ¯è¡¨ç¤ºæ˜¯==sæˆ–S==ï¼›æ•°å­—è¡¨ç¤ºæ˜¯==2==</p></li><li><p>å¼ºåˆ¶ä½çš„è®¾ç½®ï¼š<code>chmod g+s æ–‡ä»¶å</code>æˆ–è€…<code>chmod 2xxx æ–‡ä»¶å</code></p></li></ul><blockquote><p>ä¸»è¦é’ˆå¯¹ç›®å½•è¿›è¡Œè®¾ç½®ï¼Œæ¯”å¦‚shopç›®å½•ï¼Œæ–‡ä»¶æ‹¥æœ‰è€…rootï¼Œæ‰€å±ç»„itheimaï¼Œg+s</p><p>è¿™æ ·ä»¥åæˆ‘ä»¬åœ¨shopç›®å½•ä¸‹åˆ›å»ºçš„æ‰€æœ‰æ–‡ä»¶çš„æ‰€å±ç»„éƒ½ä¼šç»§æ‰¿shopæ–‡ä»¶å¤¹çš„itheima</p></blockquote><p>â‘¢ ç²˜æ»ä½ï¼ˆo + tï¼‰ =&gt; T</p><ul><li><p>ç²˜æ»ä½ï¼Œä¸€èˆ¬é’ˆå¯¹çš„æ˜¯==å…¬å…±ç›®å½•==</p><p>å¦‚æœä¸€ä¸ªå…¬å…±ç›®å½•æ‹¥æœ‰ç²˜æ»ä½ï¼Œé‚£ä¹ˆè¯¥ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œåªæœ‰==root==å’Œ==æ–‡ä»¶çš„åˆ›å»º==è€…å¯ä»¥åˆ é™¤ï¼Œå…¶ä»–äººåªèƒ½è‡ªå·±ç®¡ç†è‡ªå·±ã€‚ï¼ˆAç”¨æˆ·ä¸èƒ½åˆ é™¤Bç”¨æˆ·åˆ›å»ºçš„æ–‡ä»¶ï¼‰</p></li><li><p>ç²˜æ»ä½ï¼Œç”¨å­—æ¯è¡¨ç¤ºæ˜¯==tæˆ–T==ï¼›æ•°å­—è¡¨ç¤ºæ˜¯==1==</p></li><li><p>ç²˜æ»ä½çš„è®¾ç½®ï¼š<code>chmod o+t æ–‡ä»¶å</code>æˆ–è€…<code>chmod 1xxx æ–‡ä»¶å</code></p></li></ul><h1 id="å››ã€é»˜è®¤æƒé™-äº†è§£"><a href="#å››ã€é»˜è®¤æƒé™-äº†è§£" class="headerlink" title="å››ã€é»˜è®¤æƒé™(äº†è§£)"></a>å››ã€é»˜è®¤æƒé™(äº†è§£)</h1><h2 id="1ã€ä»€ä¹ˆæ˜¯æ–‡ä»¶çš„é»˜è®¤æƒé™"><a href="#1ã€ä»€ä¹ˆæ˜¯æ–‡ä»¶çš„é»˜è®¤æƒé™" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯æ–‡ä»¶çš„é»˜è®¤æƒé™"></a>1ã€ä»€ä¹ˆæ˜¯æ–‡ä»¶çš„é»˜è®¤æƒé™</h2><p>æ‰€è°“æ–‡ä»¶çš„é»˜è®¤æƒé™(é®ç½©æƒé™)ï¼Œæ˜¯æŒ‡ç”¨æˆ·åˆ›å»ºæ–‡ä»¶åï¼Œ==æ–‡ä»¶å¤©ç”Ÿ==å°±æœ‰çš„æƒé™ï¼Œä¸éœ€è¦è®¾ç½®ã€‚</p><h2 id="2ã€æ–‡ä»¶é»˜è®¤æƒé™ç”±è°æ§åˆ¶"><a href="#2ã€æ–‡ä»¶é»˜è®¤æƒé™ç”±è°æ§åˆ¶" class="headerlink" title="2ã€æ–‡ä»¶é»˜è®¤æƒé™ç”±è°æ§åˆ¶"></a>2ã€æ–‡ä»¶é»˜è®¤æƒé™ç”±è°æ§åˆ¶</h2><p>æ–‡ä»¶é»˜è®¤æƒé™ç”±ä¸€ä¸ªå«åš**==umask==**çš„ä¸œè¥¿æ¥æ§åˆ¶ã€‚</p><h2 id="3ã€æ–‡ä»¶æˆ–ç›®å½•çš„æœ€é«˜æƒé™"><a href="#3ã€æ–‡ä»¶æˆ–ç›®å½•çš„æœ€é«˜æƒé™" class="headerlink" title="3ã€æ–‡ä»¶æˆ–ç›®å½•çš„æœ€é«˜æƒé™"></a>3ã€æ–‡ä»¶æˆ–ç›®å½•çš„æœ€é«˜æƒé™</h2><p>ç›®å½•ï¼šæœ€é«˜æƒé™0777ï¼Œç®€å†™å°±æ˜¯777</p><p>æ–‡ä»¶ï¼šæœ€é«˜æƒé™0666ï¼Œç®€å†™å°±æ˜¯666</p><p>é»˜è®¤ç›®å½•æƒé™ = 0777 - umask</p><p>é»˜è®¤æ–‡ä»¶æƒé™ = 0666 - umask</p><h2 id="4ã€è·å–umaskå€¼"><a href="#4ã€è·å–umaskå€¼" class="headerlink" title="4ã€è·å–umaskå€¼"></a>4ã€è·å–umaskå€¼</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># umask<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é»˜è®¤umaskå€¼ï¼Œrootè´¦å·0022</p><h2 id="5ã€ä¸´æ—¶æˆ–æ°¸ä¹…æ›´æ”¹umaskå€¼ï¼ˆæ…ç”¨ï¼Œåªäº†è§£ï¼‰"><a href="#5ã€ä¸´æ—¶æˆ–æ°¸ä¹…æ›´æ”¹umaskå€¼ï¼ˆæ…ç”¨ï¼Œåªäº†è§£ï¼‰" class="headerlink" title="5ã€ä¸´æ—¶æˆ–æ°¸ä¹…æ›´æ”¹umaskå€¼ï¼ˆæ…ç”¨ï¼Œåªäº†è§£ï¼‰"></a>5ã€ä¸´æ—¶æˆ–æ°¸ä¹…æ›´æ”¹umaskå€¼ï¼ˆæ…ç”¨ï¼Œåªäº†è§£ï¼‰</h2><h3 id="â˜†-ä¸´æ—¶è®¾ç½®umaskå€¼"><a href="#â˜†-ä¸´æ—¶è®¾ç½®umaskå€¼" class="headerlink" title="â˜† ä¸´æ—¶è®¾ç½®umaskå€¼"></a>â˜† ä¸´æ—¶è®¾ç½®umaskå€¼</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># umask 0002åªåœ¨å½“å‰ç»ˆç«¯å½“å‰è¿›ç¨‹ä¸­æœ‰æ•ˆ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="â˜†-æ°¸ä¹…è®¾ç½®umaskå€¼ï¼ˆå†™å…¥ç³»ç»Ÿé…ç½®ï¼‰"><a href="#â˜†-æ°¸ä¹…è®¾ç½®umaskå€¼ï¼ˆå†™å…¥ç³»ç»Ÿé…ç½®ï¼‰" class="headerlink" title="â˜† æ°¸ä¹…è®¾ç½®umaskå€¼ï¼ˆå†™å…¥ç³»ç»Ÿé…ç½®ï¼‰"></a>â˜† æ°¸ä¹…è®¾ç½®umaskå€¼ï¼ˆå†™å…¥ç³»ç»Ÿé…ç½®ï¼‰</h3><p>é…ç½®æ–‡ä»¶è¯´æ˜ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">å…¨å±€é…ç½®æ–‡ä»¶ï¼ˆé’ˆå¯¹æ‰€æœ‰ç”¨æˆ·æ‰€æœ‰è¿›ç¨‹ï¼‰ =&gt;  é’ˆå¯¹æ‰€æœ‰ç”¨æˆ·æœ‰æ•ˆ/etc/profileç³»ç»Ÿå’Œç”¨æˆ·çš„ç¯å¢ƒå˜é‡ä¿¡æ¯ï¼Œå½“ç”¨æˆ·ç¬¬ä¸€æ¬¡ç™»å½•æ—¶,è¯¥æ–‡ä»¶è¢«è¯»å–/etc/bashrcæ¯ä¸ªè¿è¡Œçš„bashä¿¡æ¯ï¼ˆç³»ç»Ÿåˆ«åã€å‡½æ•°åŠé»˜è®¤æƒé™çš„å®šä¹‰ï¼‰ï¼Œå½“bashè¢«æ‰“å¼€æ—¶,è¯¥æ–‡ä»¶è¢«è¯»å–å±€éƒ¨é…ç½®æ–‡ä»¶ï¼ˆé’ˆå¯¹æŸä¸ªç‰¹å®šç”¨æˆ·ä»¥åŠç”¨æˆ·çš„æ‰€æœ‰è¿›ç¨‹ï¼‰=&gt;  é’ˆå¯¹å½“å‰ç”¨æˆ·æœ‰æ•ˆ~/.bashrcå½“å‰ç”¨æˆ·çš„bashä¿¡æ¯ï¼Œå½“ç”¨æˆ·ç™»å½•å’Œæ¯æ¬¡æ‰“å¼€æ–°çš„shellæ—¶è¯¥æ–‡ä»¶è¢«è¯»å–~/.bash_profileå½“å‰ç”¨æˆ·çš„ç¯å¢ƒå˜é‡ï¼Œå½“ç”¨æˆ·ç™»å½•æ—¶ï¼Œè¯¥æ–‡ä»¶è¢«è¯»å–~/.bash_historyä¿å­˜å½“å‰ç”¨æˆ·å†å²å‘½ä»¤çš„æ–‡ä»¶~/.bash_logoutå½“ç”¨æˆ·é€€å‡ºbashæˆ–è€…ç»ˆç«¯æ—¶ï¼Œä¼šé¦–å…ˆæ‰§è¡Œè¯¥æ–‡ä»¶é‡Œçš„ä»£ç ï¼Œç„¶åå†é€€å‡º<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæ›´æ”¹umaskå€¼ï¼Œé’ˆå¯¹æ‰€æœ‰ç”¨æˆ·æœ‰æ•ˆï¼Œumaskå€¼è®¾ç½®ä¸º0002</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/bashrc...umask 0002# source /etc/bashrc   =&gt;   è®©umaskå€¼ç«‹å³ç”Ÿæ•ˆ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæ›´æ”¹umaskå€¼ï¼Œåªé’ˆå¯¹itheimaç”¨æˆ·æœ‰æ•ˆï¼Œumaskå€¼è®¾ç½®ä¸º0002</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># su - itheima[itheima@localhost ~] # vim ~/.bashrc...umask 0002<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h1 id="äº”ã€æ›´æ”¹æ–‡ä»¶çš„æ‹¥æœ‰è€…ä»¥åŠæ‰€å±ç»„"><a href="#äº”ã€æ›´æ”¹æ–‡ä»¶çš„æ‹¥æœ‰è€…ä»¥åŠæ‰€å±ç»„" class="headerlink" title="äº”ã€æ›´æ”¹æ–‡ä»¶çš„æ‹¥æœ‰è€…ä»¥åŠæ‰€å±ç»„"></a>äº”ã€æ›´æ”¹æ–‡ä»¶çš„æ‹¥æœ‰è€…ä»¥åŠæ‰€å±ç»„</h1><h2 id="1ã€ä»€ä¹ˆæ˜¯æ‹¥æœ‰è€…ä»€ä¹ˆæ˜¯æ‰€å±ç»„"><a href="#1ã€ä»€ä¹ˆæ˜¯æ‹¥æœ‰è€…ä»€ä¹ˆæ˜¯æ‰€å±ç»„" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯æ‹¥æœ‰è€…ä»€ä¹ˆæ˜¯æ‰€å±ç»„"></a>1ã€ä»€ä¹ˆæ˜¯æ‹¥æœ‰è€…ä»€ä¹ˆæ˜¯æ‰€å±ç»„</h2><p><img src="/../assets/blog_res/Linux%E9%AB%98%E7%BA%A7%E5%91%BD%E4%BB%A4%EF%BC%88%E6%89%A9%E5%B1%95%EF%BC%89%E4%B8%89.assets/image-20200403153324872.png" alt="image-20200403153324872"></p><h2 id="2ã€æ›´æ”¹æ–‡ä»¶çš„æ‹¥æœ‰è€…ä¸æ‰€å±ç»„"><a href="#2ã€æ›´æ”¹æ–‡ä»¶çš„æ‹¥æœ‰è€…ä¸æ‰€å±ç»„" class="headerlink" title="2ã€æ›´æ”¹æ–‡ä»¶çš„æ‹¥æœ‰è€…ä¸æ‰€å±ç»„"></a>2ã€æ›´æ”¹æ–‡ä»¶çš„æ‹¥æœ‰è€…ä¸æ‰€å±ç»„</h2><p>æœ‰äº›è½¯ä»¶æˆ–ç¨‹åºè¦æ±‚æ¯”è¾ƒç‰¹æ®Šï¼Œå…¶å¦‚æœæƒ³æ­£å¸¸è¿è¡Œï¼Œæ‹¥æœ‰è€…ä¸æ‰€å±ç»„å¿…é¡»æ˜¯æŸä¸ªå€¼ã€‚</p><blockquote><p>å¦‚mysqlæ•°æ®åº“ï¼Œå…¶è¦æ±‚ç³»ç»Ÿä¸­å¿…é¡»æœ‰ä¸€ä¸ªmysqlçš„ç³»ç»Ÿè´¦å·ï¼Œè€Œä¸”è¦æ±‚å…¶å®‰è£…ç›®å½•çš„æ–‡ä»¶æ‹¥æœ‰è€…ä»¥åŠæ‰€å±ç»„éƒ½å¿…é¡»æ˜¯mysql</p></blockquote><h2 id="3ã€chownæ›´æ”¹æ–‡ä»¶æ‹¥æœ‰è€…"><a href="#3ã€chownæ›´æ”¹æ–‡ä»¶æ‹¥æœ‰è€…" class="headerlink" title="3ã€chownæ›´æ”¹æ–‡ä»¶æ‹¥æœ‰è€…"></a>3ã€chownæ›´æ”¹æ–‡ä»¶æ‹¥æœ‰è€…</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chown [é€‰é¡¹] æ–°æ–‡ä»¶æ‹¥æœ‰è€… æ–‡ä»¶åç§°é€‰é¡¹è¯´æ˜ï¼š-R ï¼šé€’å½’è®¾ç½®ï¼Œä¸»è¦é’ˆå¯¹æ–‡ä»¶å¤¹<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="4ã€chgrpæ›´æ”¹æ–‡ä»¶çš„æ‰€å±ç»„"><a href="#4ã€chgrpæ›´æ”¹æ–‡ä»¶çš„æ‰€å±ç»„" class="headerlink" title="4ã€chgrpæ›´æ”¹æ–‡ä»¶çš„æ‰€å±ç»„"></a>4ã€chgrpæ›´æ”¹æ–‡ä»¶çš„æ‰€å±ç»„</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chgrp [é€‰é¡¹] æ–°æ–‡ä»¶æ‰€å±ç»„ æ–‡ä»¶åç§°é€‰é¡¹è¯´æ˜ï¼š-R ï¼šé€’å½’è®¾ç½®ï¼Œä¸»è¦é’ˆå¯¹æ–‡ä»¶å¤¹<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="5ã€chownåŒæ—¶ä¿®æ”¹æ–‡ä»¶å±ä¸»ä»¥åŠå±ç»„"><a href="#5ã€chownåŒæ—¶ä¿®æ”¹æ–‡ä»¶å±ä¸»ä»¥åŠå±ç»„" class="headerlink" title="5ã€chownåŒæ—¶ä¿®æ”¹æ–‡ä»¶å±ä¸»ä»¥åŠå±ç»„"></a>5ã€chownåŒæ—¶ä¿®æ”¹æ–‡ä»¶å±ä¸»ä»¥åŠå±ç»„</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chown [é€‰é¡¹] æ–°çš„æ–‡ä»¶æ‹¥æœ‰è€…:æ–°çš„æ–‡ä»¶æ‰€å±ç»„ æ–‡ä»¶åç§°# chown [é€‰é¡¹] æ–°çš„æ–‡ä»¶æ‹¥æœ‰è€….æ–°çš„æ–‡ä»¶æ‰€å±ç»„ æ–‡ä»¶åç§°é€‰é¡¹è¯´æ˜ï¼š-R ï¼šé€’å½’è®¾ç½®ï¼Œä¸»è¦é’ˆå¯¹æ–‡ä»¶å¤¹<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="å…­ã€ACLè®¿é—®æƒé™æ§åˆ¶ï¼ˆæ‰©å±•ï¼‰"><a href="#å…­ã€ACLè®¿é—®æƒé™æ§åˆ¶ï¼ˆæ‰©å±•ï¼‰" class="headerlink" title="å…­ã€ACLè®¿é—®æƒé™æ§åˆ¶ï¼ˆæ‰©å±•ï¼‰"></a>å…­ã€ACLè®¿é—®æƒé™æ§åˆ¶ï¼ˆæ‰©å±•ï¼‰</h1><h2 id="1ã€ACLèƒ½åšä»€ä¹ˆ"><a href="#1ã€ACLèƒ½åšä»€ä¹ˆ" class="headerlink" title="1ã€ACLèƒ½åšä»€ä¹ˆ"></a>1ã€ACLèƒ½åšä»€ä¹ˆ</h2><ol><li>ACLè®¿é—®æ§åˆ¶ç­–ç•¥å¯ä»¥ä½œä¸ºå‰é¢æ‰€è®²==æƒé™çš„è¡¥å……==ï¼Œ==æ›´åŠ ç»†==çš„æ¥æ§åˆ¶æ–‡ä»¶çš„æƒé™</li><li>ACLç­–ç•¥å¯ä»¥==åªé’ˆå¯¹æŸä¸ªç”¨æˆ·==åœ¨æ–‡ä»¶ä¸Šæœ‰ç›¸åº”æƒé™</li><li>ACLç­–ç•¥ä¹Ÿå¯ä»¥==åªé’ˆå¯¹å¤šä¸ªç”¨æˆ·æˆ–è€…ä¸€ä¸ªç»„==é‡Œçš„æ‰€æœ‰ç”¨æˆ·åœ¨æ–‡ä»¶ä¸Šæœ‰ç›¸åº”æƒé™</li></ol><h2 id="2ã€getfacl"><a href="#2ã€getfacl" class="headerlink" title="2ã€getfacl"></a>2ã€getfacl</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># getfacl = get + file + acl =&gt; è·å–æŸä¸ªæ–‡ä»¶çš„ACLæƒé™<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šè·å–readme.txtæ–‡ä»¶çš„ACLæƒé™</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># getfacl readme.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="3ã€setfacl"><a href="#3ã€setfacl" class="headerlink" title="3ã€setfacl"></a>3ã€setfacl</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">å¸¸ç”¨é€‰é¡¹ï¼š-m ä¿®æ”¹æˆ–è€…è®¾ç½®ACLç­–ç•¥-R é€’å½’æˆæƒï¼Œå¯¹ç›®å½•ä¸‹å·²å­˜åœ¨çš„ç›®å½•æˆ–æ–‡ä»¶æœ‰aclç­–ç•¥ï¼Œä½†æ–°å»ºçš„æ–‡ä»¶æ²¡æœ‰-x å»æ‰æŸä¸ªç”¨æˆ·æˆ–è€…æŸä¸ªç»„çš„æƒé™-b åˆ é™¤æ‰€æœ‰çš„aclç­–ç•¥-d é»˜è®¤ACLç­–ç•¥ï¼Œåªé’ˆå¯¹ç›®å½•ï¼Œè¯¥ç›®å½•ä¸‹æ–°å»ºçš„ç›®å½•å’Œæ–‡ä»¶éƒ½ä¼šç»§æ‰¿aclç­–ç•¥mask: å®šä¹‰é™¤å…¶ä»–äººå’Œæ‰€æœ‰è€…å¤–çš„æœ€å¤§æƒé™<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šä¿®æ”¹readme.txtæ–‡ä»¶çš„ACLæƒé™ï¼ˆç»™itheimaè¿™ä¸ªè´¦å·å¼€é€šrwæƒé™ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># setfacl -m u:itheima:rw readme.txtuä»£è¡¨useritheimaä»£è¡¨å…·ä½“çš„æŸä¸ªç”¨æˆ·rwä»£è¡¨æƒé™<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šä¿®æ”¹shopæ–‡ä»¶å¤¹çš„ACLæƒé™ï¼ˆç»™itheimaç»„å¼€é€šrwxæƒé™ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># setfacl -R -m g:itheima:rwx shopgä»£è¡¨groupitheimaä»£è¡¨å…·ä½“çš„æŸä¸ªç”¨æˆ·ç»„åç§°rwxä»£è¡¨ç”¨æˆ·ç»„æƒé™<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåˆ é™¤æŸä¸ªç”¨æˆ·æƒé™</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># setfacl -x u:itheima readme.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåˆ é™¤æ‰€æœ‰çš„ACLæƒé™</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># setfacl -b readme.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h1 id="ä¸ƒã€Linuxä¸‹è½¯ä»¶çš„å®‰è£…æ–¹å¼"><a href="#ä¸ƒã€Linuxä¸‹è½¯ä»¶çš„å®‰è£…æ–¹å¼" class="headerlink" title="ä¸ƒã€Linuxä¸‹è½¯ä»¶çš„å®‰è£…æ–¹å¼"></a>ä¸ƒã€Linuxä¸‹è½¯ä»¶çš„å®‰è£…æ–¹å¼</h1><h2 id="1ã€Linuxä¸‹æœ‰å“ªäº›è½¯ä»¶å®‰è£…æ–¹å¼"><a href="#1ã€Linuxä¸‹æœ‰å“ªäº›è½¯ä»¶å®‰è£…æ–¹å¼" class="headerlink" title="1ã€Linuxä¸‹æœ‰å“ªäº›è½¯ä»¶å®‰è£…æ–¹å¼"></a>1ã€Linuxä¸‹æœ‰å“ªäº›è½¯ä»¶å®‰è£…æ–¹å¼</h2><p>â‘  RPMè½¯ä»¶åŒ…ç®¡ç†ï¼ˆè½¯ä»¶åç§°.rpmï¼‰</p><p>â‘¡ YUMè½¯ä»¶åŒ…ç®¡ç†ï¼ˆä½¿ç”¨yumå‘½ä»¤install + è½¯ä»¶åç§°ï¼‰ =&gt; ä¸‹è½½ + å®‰è£…ä¸€ä½“åŒ–</p><p>â‘¢ æºç ç¼–è¯‘å®‰è£…ï¼ˆç›¸å¯¹æ¥è¯´æ˜¯æœ€å¤æ‚çš„ä¸€ç§æ–¹å¼ï¼‰</p><h2 id="2ã€è½¯ä»¶åŒ…ç±»å‹"><a href="#2ã€è½¯ä»¶åŒ…ç±»å‹" class="headerlink" title="2ã€è½¯ä»¶åŒ…ç±»å‹"></a>2ã€è½¯ä»¶åŒ…ç±»å‹</h2><h3 id="â˜†-äºŒè¿›åˆ¶è½¯ä»¶åŒ…-rpmåŒ…"><a href="#â˜†-äºŒè¿›åˆ¶è½¯ä»¶åŒ…-rpmåŒ…" class="headerlink" title="â˜† äºŒè¿›åˆ¶è½¯ä»¶åŒ…(rpmåŒ…)"></a>â˜† äºŒè¿›åˆ¶è½¯ä»¶åŒ…(rpmåŒ…)</h3><p><img src="/../assets/blog_res/Linux%E9%AB%98%E7%BA%A7%E5%91%BD%E4%BB%A4%EF%BC%88%E6%89%A9%E5%B1%95%EF%BC%89%E4%B8%89.assets/image-20200403162253401.png" alt="image-20200403162253401"></p><ol><li>äºŒè¿›åˆ¶åŒ…ï¼ŒæŒ‡çš„æ˜¯å·²ç»[^ç¼–è¯‘]å¥½äº†çš„è½¯ä»¶åŒ…ï¼Œåªéœ€è¦==ç›´æ¥å®‰è£…==å°±å¯ä»¥ä½¿ç”¨ã€‚</li><li>äºŒè¿›åˆ¶åŒ…ï¼Œ==ä¸éœ€è¦ç¼–è¯‘==ï¼Œç›´æ¥ä¸‹è½½å®‰è£…å³å¯</li><li>äºŒè¿›åˆ¶åŒ…ï¼Œéœ€è¦æ ¹æ®è‡ªå·±çš„è®¡ç®—æœºCPUä»¥åŠæ“ä½œç³»ç»Ÿå»==é€‰æ‹©åˆé€‚==çš„</li></ol><blockquote><p>ç±»ä¼¼Windowsä¸­çš„.exeæ–‡ä»¶ï¼Œå¦‚qq.exe</p></blockquote><h3 id="â˜†-è½¯ä»¶æºç åŒ…ï¼ˆé‡ç‚¹ï¼‰"><a href="#â˜†-è½¯ä»¶æºç åŒ…ï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="â˜† è½¯ä»¶æºç åŒ…ï¼ˆé‡ç‚¹ï¼‰"></a>â˜† è½¯ä»¶æºç åŒ…ï¼ˆé‡ç‚¹ï¼‰</h3><p>ä»€ä¹ˆæ˜¯æºç åŒ…ï¼Ÿæœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ</p><ol><li>æºç åŒ…ï¼ŒæŒ‡çš„æ˜¯ç¨‹åºå‘˜å†™çš„åŸå§‹çš„==ç¨‹åºä»£ç æ–‡ä»¶==ï¼Œ==ä¸èƒ½==å¤Ÿ==ç›´æ¥==åœ¨è®¡ç®—æœºä¸Š==è¿è¡Œ==ã€‚</li><li>æºç åŒ…ï¼Œéœ€è¦è¿›è¡Œ==ç¼–è¯‘==ï¼Œå˜æˆ==äºŒè¿›åˆ¶çš„è½¯ä»¶åŒ…å==ï¼Œæ‰å¯å®‰è£…ä½¿ç”¨</li><li>æºç åŒ…ï¼Œä¸€èˆ¬å¯ä»¥åœ¨ä»»ä½•çš„è®¡ç®—æœºä¸Šå®‰è£…ä½¿ç”¨</li><li>æºç åŒ…ï¼Œå‘½åæ–¹å¼ä¸€èˆ¬ä¸ºï¼š<ul><li><code>è½¯ä»¶åŒ…å.tar.gz</code></li><li><code>è½¯ä»¶åŒ…å.tar.bz2</code></li><li><code>è½¯ä»¶åŒ…å.tar.xz</code></li><li><code>è½¯ä»¶åŒ…å.zip</code></li></ul></li></ol><blockquote><p>ç±»ä¼¼äºè…¾è®¯QQå¼€å‘å·¥ç¨‹å¸ˆ =&gt; QQçš„æºä»£ç å‘ç»™ä½ äº† .c =&gt;  ç¼–è¯‘ =&gt; QQ.exeæ–‡ä»¶</p></blockquote><h3 id="â˜†-äºŒè¿›åˆ¶æºç åŒ…-src-rpm"><a href="#â˜†-äºŒè¿›åˆ¶æºç åŒ…-src-rpm" class="headerlink" title="â˜† äºŒè¿›åˆ¶æºç åŒ…(.src.rpm)"></a>â˜† äºŒè¿›åˆ¶æºç åŒ…(.src.rpm)</h3><p>ä»€ä¹ˆæ˜¯äºŒè¿›åˆ¶æºç åŒ…ï¼Ÿæœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ</p><ol><li>äºŒè¿›åˆ¶æºç åŒ…ï¼Œæ˜¯ä¸€ä¸ª==åŠæˆå“==ï¼Œå®‰è£…åä¸èƒ½ç›´æ¥ä½¿ç”¨</li><li>äºŒè¿›åˆ¶æºç åŒ…ï¼Œéœ€è¦ä½¿ç”¨<code>rpmbuild</code>å·¥å…·é‡å»ºæˆçœŸæ­£çš„<code>rpm</code>åŒ…æˆ–è€…é‡å»ºæˆæºç åŒ…æ‰å¯å®‰è£…ä½¿ç”¨</li><li>äºŒè¿›åˆ¶æºç åŒ…ï¼Œå‘½åæ–¹å¼ä¸€èˆ¬ä¸ºï¼š<ul><li>mysql-community-5.7.25-1.el6.==src.==rpm</li><li>mysql-community-5.7.25-1.el7.==src==.rpm</li></ul></li></ol><h2 id="3ã€å¸¸è§çš„äºŒè¿›åˆ¶è½¯ä»¶åŒ…"><a href="#3ã€å¸¸è§çš„äºŒè¿›åˆ¶è½¯ä»¶åŒ…" class="headerlink" title="3ã€å¸¸è§çš„äºŒè¿›åˆ¶è½¯ä»¶åŒ…"></a>3ã€å¸¸è§çš„äºŒè¿›åˆ¶è½¯ä»¶åŒ…</h2><p><img src="/../assets/blog_res/Linux%E9%AB%98%E7%BA%A7%E5%91%BD%E4%BB%A4%EF%BC%88%E6%89%A9%E5%B1%95%EF%BC%89%E4%B8%89.assets/image-20200403163136297.png" alt="image-20200403163136297"></p><h2 id="4ã€æ€»ç»“äºŒè¿›åˆ¶åŒ…å’Œæºç åŒ…åŒºåˆ«"><a href="#4ã€æ€»ç»“äºŒè¿›åˆ¶åŒ…å’Œæºç åŒ…åŒºåˆ«" class="headerlink" title="4ã€æ€»ç»“äºŒè¿›åˆ¶åŒ…å’Œæºç åŒ…åŒºåˆ«"></a>4ã€æ€»ç»“äºŒè¿›åˆ¶åŒ…å’Œæºç åŒ…åŒºåˆ«</h2><p><img src="/../assets/blog_res/Linux%E9%AB%98%E7%BA%A7%E5%91%BD%E4%BB%A4%EF%BC%88%E6%89%A9%E5%B1%95%EF%BC%89%E4%B8%89.assets/image-20200403163218589.png" alt="image-20200403163218589"></p><h2 id="5ã€äºŒè¿›åˆ¶è½¯ä»¶åŒ…çš„å®‰è£…æ–¹å¼"><a href="#5ã€äºŒè¿›åˆ¶è½¯ä»¶åŒ…çš„å®‰è£…æ–¹å¼" class="headerlink" title="5ã€äºŒè¿›åˆ¶è½¯ä»¶åŒ…çš„å®‰è£…æ–¹å¼"></a>5ã€äºŒè¿›åˆ¶è½¯ä»¶åŒ…çš„å®‰è£…æ–¹å¼</h2><p>â‘  åŸºäºRPMè¿›è¡Œå®‰è£…ï¼ˆå…ˆä¸‹è½½è½¯ä»¶ç„¶åæœ¬åœ°è¿›è¡Œå®‰è£…ï¼‰</p><p>â‘¡ åŸºäºYUMè¿›è¡Œå®‰è£…ï¼ˆåœ¨çº¿ä¸‹è½½ç„¶åå®‰è£…ï¼‰</p><h2 id="6ã€RPMè½¯ä»¶åŒ…å®‰è£…"><a href="#6ã€RPMè½¯ä»¶åŒ…å®‰è£…" class="headerlink" title="6ã€RPMè½¯ä»¶åŒ…å®‰è£…"></a>6ã€RPMè½¯ä»¶åŒ…å®‰è£…</h2><h3 id="â˜†-è·å–è½¯ä»¶"><a href="#â˜†-è·å–è½¯ä»¶" class="headerlink" title="â˜† è·å–è½¯ä»¶"></a>â˜† è·å–è½¯ä»¶</h3><p>Linuxåªæ˜¯å†…æ ¸ï¼ŒLinuxå‘è¡Œç‰ˆæœ¬ï¼šGNU/Linux</p><ol><li>RedHat/Centoså…‰ç›˜æˆ–å®˜æ–¹ç½‘ç«™ <a href="ftp://ftp.redhat.com/">ftp://ftp.redhat.com</a></li><li>æ¨èç½‘ç«™<ul><li><a href="http://www.rpmfind.net/">www.rpmfind.net</a></li><li>rpm.pbone.net</li></ul></li><li>ç›¸åº”è½¯ä»¶å®˜æ–¹ç½‘ç«™ <ul><li><a href="http://www.mysql.com/">http://www.mysql.com</a></li><li><a href="http://nginx.org/packages/">http://nginx.org/packages/</a></li></ul></li></ol><h3 id="â˜†-å¦‚ä½•é€‰æ‹©åˆé€‚çš„è½¯ä»¶"><a href="#â˜†-å¦‚ä½•é€‰æ‹©åˆé€‚çš„è½¯ä»¶" class="headerlink" title="â˜† å¦‚ä½•é€‰æ‹©åˆé€‚çš„è½¯ä»¶"></a>â˜† å¦‚ä½•é€‰æ‹©åˆé€‚çš„è½¯ä»¶</h3><ol><li>é€‰æ‹©==é€‚åˆå½“å‰ç³»ç»Ÿ==çš„ç‰ˆæœ¬å·<ul><li>æ‰¾ä¸åˆ°é€‚åˆçš„ï¼Œæ‰å»å°è¯•åˆ«çš„ç³»ç»Ÿç‰ˆæœ¬å·  </li><li>el6å…¼å®¹el5ï¼›el5æ— æ³•å®‰è£… el6</li></ul></li><li>é€‰æ‹©==é€‚åˆå½“å‰è®¡ç®—æœºcpu==çš„æ¶æ„<ul><li>x86_64åŒ…ï¼Œåªèƒ½å®‰è£…åœ¨64ä½çš„ç³»ç»Ÿä¸Š </li><li>i386,i586,i686çš„è½¯ä»¶åŒ…å¯ä»¥å®‰è£…åœ¨32å’Œ64ä½ç³»ç»Ÿä¸Š  </li><li>noarchè¡¨ç¤ºè¿™ä¸ªè½¯ä»¶åŒ…ä¸ç¡¬ä»¶æ„æ¶æ— å…³ï¼Œå¯ä»¥é€šç”¨  </li><li>32ä½ç³»ç»Ÿä¸èƒ½å®‰è£…64ä½åŒ…</li></ul></li></ol><p><strong>å»ºè®®</strong>ï¼š å»ºè®®ä¸è¦è·¨å¤§ç‰ˆæœ¬å·å»å®‰è£…è½¯ä»¶åŒ…ï¼Œå°½é‡ä½¿ç”¨å½“å‰ç³»ç»Ÿç‰ˆæœ¬è‡ªå¸¦è½¯ä»¶åŒ…å®‰è£…</p><h3 id="â˜†-rpmè½¯ä»¶åŒ…çš„å®‰è£…ã€å¸è½½ä»¥åŠå‡çº§"><a href="#â˜†-rpmè½¯ä»¶åŒ…çš„å®‰è£…ã€å¸è½½ä»¥åŠå‡çº§" class="headerlink" title="â˜† rpmè½¯ä»¶åŒ…çš„å®‰è£…ã€å¸è½½ä»¥åŠå‡çº§"></a>â˜† rpmè½¯ä»¶åŒ…çš„å®‰è£…ã€å¸è½½ä»¥åŠå‡çº§</h3><p>å®‰è£…ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rpm -ivh è½¯ä»¶åŒ…åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¸è½½ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rpm -e è½¯ä»¶åŒ…åç§° [--nodepså¼ºåˆ¶]<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æŸ¥è¯¢ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rpm -q è½¯ä»¶åç§°æˆ–# rpm -qa |grep è½¯ä»¶åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å‡çº§ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rpm -Uvh è½¯ä»¶åŒ…åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>æ³¨ï¼šrpm -Uvhä¸ä»…å¯ä»¥å‡çº§è½¯ä»¶ï¼Œå…¶å®å®ƒä¹Ÿå¯ä»¥å®‰è£…è½¯ä»¶ã€‚</p></blockquote><p>RPMåŒ…ç®¡ç†ï¼šä»¥ä¸Šæ“ä½œéƒ½æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯åœ¨å®é™…åº”ç”¨è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½ä¼šé‡åˆ°é—®é¢˜ï¼Œå¾ˆå¤šrpmè½¯ä»¶åŒ…åœ¨å®‰è£…æ—¶éƒ½ä¼šæç¤ºè½¯ä»¶ä¾èµ–ã€‚é‚£è¿™ä¸ªé—®é¢˜å¦‚ä½•è§£å†³å‘¢ï¼Ÿ</p><p>æ–¹æ³•ä¸€ï¼šæ ¹æ®æç¤ºä¸€ä¸ªä¸€ä¸ªè½¯ä»¶åŒ…å®‰è£…ï¼Œå…ˆè§£å†³ä¾èµ–åœ¨å›æ¥å®‰è£…è½¯ä»¶</p><p>æ–¹æ³•äºŒï¼šä½¿ç”¨yum  install å®‰è£…rpmè½¯ä»¶åŒ…</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install è½¯ä»¶åç§°.rpm<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>ä»¥ä¸Šå®‰è£…æ–¹å¼çš„æœ€å¤§å¥½å¤„æ˜¯ï¼Œå¦‚æœå®‰è£…è½¯ä»¶æ—¶ï¼Œäº§ç”Ÿäº†ä¾èµ–ï¼Œä¸ç”¨æ‹…å¿ƒï¼Œyumä¼šè‡ªåŠ¨å¸®åŠ©æˆ‘ä»¬è§£å†³è¿™äº›é—®é¢˜çš„ï¼</p></blockquote><h2 id="7ã€æºç å®‰è£…"><a href="#7ã€æºç å®‰è£…" class="headerlink" title="7ã€æºç å®‰è£…"></a>7ã€æºç å®‰è£…</h2><h3 id="â˜†-è·å–è½¯ä»¶çš„æºç åŒ…"><a href="#â˜†-è·å–è½¯ä»¶çš„æºç åŒ…" class="headerlink" title="â˜† è·å–è½¯ä»¶çš„æºç åŒ…"></a>â˜† è·å–è½¯ä»¶çš„æºç åŒ…</h3><p>å¯ä»¥å»æŸä¸ªè½¯ä»¶çš„å®˜ç½‘è·å–ï¼Œå®˜ç½‘ä¸€èˆ¬æ‘†æ”¾çš„éƒ½æ˜¯æºç åŒ…*.tar.gz</p><h3 id="â˜†-æºç å®‰è£…ä¸‰æ­¥èµ°"><a href="#â˜†-æºç å®‰è£…ä¸‰æ­¥èµ°" class="headerlink" title="â˜† æºç å®‰è£…ä¸‰æ­¥èµ°"></a>â˜† æºç å®‰è£…ä¸‰æ­¥èµ°</h3><p>â‘  é…ç½®./configureï¼ˆé…ç½®è½¯ä»¶å®‰è£…è·¯å¾„ï¼Œä¹Ÿå¯ä»¥ä¸é…ç½®ï¼Œä¸é…ç½®ä½¿ç”¨é»˜è®¤è·¯å¾„ï¼‰</p><p>â‘¡ ç¼–è¯‘makeï¼ˆæŠŠè½¯ä»¶çš„æºä»£ç åšæˆç±»ä¼¼rpmçš„å¯ä»¥ç›´æ¥æŒ‰ç…§çš„è½¯ä»¶ï¼‰</p><p>â‘¢ å®‰è£…make installï¼ˆæŠŠåˆšæ‰ç¼–è¯‘å¥½çš„ç¨‹åºè¿›è¡Œå®‰è£…åˆ°Linuxç³»ç»Ÿï¼‰</p><h3 id="â˜†-ä½¿ç”¨æºç å®‰è£…å®‰è£…cmatrixä»£ç é›¨"><a href="#â˜†-ä½¿ç”¨æºç å®‰è£…å®‰è£…cmatrixä»£ç é›¨" class="headerlink" title="â˜† ä½¿ç”¨æºç å®‰è£…å®‰è£…cmatrixä»£ç é›¨"></a>â˜† ä½¿ç”¨æºç å®‰è£…å®‰è£…cmatrixä»£ç é›¨</h3><p>ç¬¬ä¸€æ­¥ï¼šå¯¹è½¯ä»¶è¿›è¡Œè§£å‹ç¼©</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># tar -zxf cmatrix-1.2a.tar.gz<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p># tar   xf   cmatrix-1.2a.tar.gzï¼Œå› ä¸ºé»˜è®¤è§£å‹éƒ½æ˜¯ä½¿ç”¨gzipå·¥å…·</p></blockquote><p>ç¬¬äºŒæ­¥ï¼šè¿›å…¥åˆ°cmatrixæ–‡ä»¶å¤¹ï¼Œç„¶åå¯¹è½¯ä»¶è¿›è¡Œé…ç½®</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cd cmatrix-1.2a# ./configure=&gt;  è®¾ç½®è½¯ä»¶é»˜è®¤å®‰è£…çš„ä½ç½®ç­‰ä¿¡æ¯<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç¬¬ä¸‰æ­¥ï¼šç¼–è¯‘è½¯ä»¶ï¼Œä½¿ç”¨makeå‘½ä»¤</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># make<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¸¸è§é”™è¯¯ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">cmatrix.c:37:20: fatal error: curses.h: No such file or directoryå‡ºç°ä»¥ä¸Šé—®é¢˜çš„ä¸»è¦åŸå› åœ¨äºç³»ç»Ÿä¸­æ²¡æœ‰æ‰¾åˆ°ncurses-develè½¯ä»¶åŒ…<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>è§£å†³æ–¹æ¡ˆï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install gcc gcc-c++ ncurses-devel -y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬å››æ­¥ï¼šå®‰è£…è½¯ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># make install<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ€»ç»“ï¼š</p><p>è¿›å…¥è§£å‹åçš„è½¯ä»¶ç›®å½•  =&gt;  ./configure =&gt; make =&gt; make install</p><h3 id="â˜†-æµ‹è¯•ä»£ç é›¨æ•ˆæœ"><a href="#â˜†-æµ‹è¯•ä»£ç é›¨æ•ˆæœ" class="headerlink" title="â˜† æµ‹è¯•ä»£ç é›¨æ•ˆæœ"></a>â˜† æµ‹è¯•ä»£ç é›¨æ•ˆæœ</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cmatrix<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxé«˜çº§å‘½ä»¤ï¼ˆæ‰©å±•ï¼‰äºŒ</title>
      <link href="/2023/12/23/linux-gao-ji-ming-ling-kuo-zhan-er/"/>
      <url>/2023/12/23/linux-gao-ji-ming-ling-kuo-zhan-er/</url>
      
        <content type="html"><![CDATA[<h1 id="Linuxé«˜çº§å‘½ä»¤ï¼ˆæ‰©å±•ï¼‰"><a href="#Linuxé«˜çº§å‘½ä»¤ï¼ˆæ‰©å±•ï¼‰" class="headerlink" title="Linuxé«˜çº§å‘½ä»¤ï¼ˆæ‰©å±•ï¼‰"></a>Linuxé«˜çº§å‘½ä»¤ï¼ˆæ‰©å±•ï¼‰</h1><h1 id="ä¸€ã€Linuxä¸‹ç”¨æˆ·ç®¡ç†"><a href="#ä¸€ã€Linuxä¸‹ç”¨æˆ·ç®¡ç†" class="headerlink" title="ä¸€ã€Linuxä¸‹ç”¨æˆ·ç®¡ç†"></a>ä¸€ã€Linuxä¸‹ç”¨æˆ·ç®¡ç†</h1><h2 id="1ã€ç”¨æˆ·æ¦‚å¿µä»¥åŠåŸºæœ¬ä½œç”¨"><a href="#1ã€ç”¨æˆ·æ¦‚å¿µä»¥åŠåŸºæœ¬ä½œç”¨" class="headerlink" title="1ã€ç”¨æˆ·æ¦‚å¿µä»¥åŠåŸºæœ¬ä½œç”¨"></a>1ã€ç”¨æˆ·æ¦‚å¿µä»¥åŠåŸºæœ¬ä½œç”¨</h2><p><strong>ç”¨æˆ·ï¼š</strong>æŒ‡çš„æ˜¯==Linuxæ“ä½œç³»ç»Ÿä¸­==ç”¨äºç®¡ç†ç³»ç»Ÿæˆ–è€…æœåŠ¡çš„==äºº==</p><p>ä¸€é—®ï¼šç®¡ç†ç³»ç»Ÿåˆ°åº•åœ¨<strong>ç®¡ç†ä»€ä¹ˆ</strong>ï¼Ÿ</p><p>ç­”ï¼šLinuxä¸‹ä¸€åˆ‡çš†<strong>æ–‡ä»¶</strong>ï¼Œæ‰€ä»¥ç”¨æˆ·ç®¡ç†çš„æ˜¯ç›¸åº”çš„==æ–‡ä»¶==</p><p>äºŒé—®ï¼š<strong>å¦‚ä½•ç®¡ç†</strong>æ–‡ä»¶å‘¢ï¼Ÿ</p><p>ç­”ï¼š</p><ol><li>æ–‡ä»¶==åŸºæœ¬ç®¡ç†==ï¼Œæ¯”å¦‚æ–‡ä»¶çš„åˆ›å»ºã€åˆ é™¤ã€å¤åˆ¶ã€æŸ¥æ‰¾ã€æ‰“åŒ…å‹ç¼©ç­‰ï¼›æ–‡ä»¶çš„æƒé™å¢åŠ ã€å‡å°‘ç­‰ï¼›</li><li>æ–‡ä»¶==é«˜çº§ç®¡ç†==ï¼Œæ¯”å¦‚<strong>ç¨‹åºæ–‡ä»¶</strong>çš„å®‰è£…ã€å¸è½½ã€é…ç½®ç­‰ã€‚ç»ˆæç›®çš„æ˜¯å¯¹å¤–æä¾›ç¨³å®šçš„æœåŠ¡ã€‚</li></ol><h2 id="2ã€ç”¨æˆ·çš„ç±»åˆ«"><a href="#2ã€ç”¨æˆ·çš„ç±»åˆ«" class="headerlink" title="2ã€ç”¨æˆ·çš„ç±»åˆ«"></a>2ã€ç”¨æˆ·çš„ç±»åˆ«</h2><p>â‘  rootè¶…çº§ç®¡ç†å‘˜ï¼Œ==åœ¨Linuxç³»ç»Ÿä¸­æ‹¥æœ‰è‡³é«˜æ— ä¸Šçš„æƒåŠ›==ã€‚</p><p>â‘¡ ç³»ç»Ÿç”¨æˆ·ï¼ŒCentOS6=&gt; 1 ~ 499ï¼ŒCentOS7=&gt; 1 ~ 999ï¼Œç³»ç»Ÿè´¦å·==é»˜è®¤ä¸å…è®¸ç™»å½•==</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># useradd -s /sbin/nologin ç³»ç»Ÿç”¨æˆ·<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â‘¢ æ™®é€šç”¨æˆ·ï¼Œå¤§éƒ¨åˆ†æ˜¯ç”±rootç®¡ç†å‘˜åˆ›å»ºçš„ï¼ŒUIDçš„å–å€¼èŒƒå›´ï¼šCentOS6=&gt; 500 ~ 60000ï¼ŒCentOS7=&gt; 1000 ~ 60000ï¼Œ==å¯¹ç³»ç»Ÿè¿›è¡Œæœ‰é™çš„ç®¡ç†ç»´æŠ¤æ“ä½œ==</p><p>æ€»ç»“</p><p>â‘  ç”¨æˆ·æŒ‡çš„æ˜¯æ“ä½œç³»ç»Ÿä¸Š==ç®¡ç†ç³»ç»Ÿæˆ–æœåŠ¡==çš„==äºº==ï¼Œæ˜¯äººï¼Œå°±æœ‰ç›¸å…³çš„==å±æ€§ä¿¡æ¯==</p><p>â‘¡ ç”¨æˆ·çš„å±æ€§ä¿¡æ¯åŒ…æ‹¬ä½†ä¸é™äºï¼Œå¦‚ï¼š==å®¶ç›®å½•ã€å”¯ä¸€èº«ä»½æ ‡è¯†(UID)ã€æ‰€å±ç»„(GID)==ç­‰</p><p>â‘¢ ä»Šå¤©æˆ‘ä»¬è®¨è®ºçš„ç”¨æˆ·æŒ‡çš„æ˜¯==æ™®é€šç”¨æˆ·==ï¼Œå³ç”±ç®¡ç†å‘˜åˆ›å»ºçš„ç”¨æˆ·</p><h2 id="3ã€ç”¨æˆ·ç®¡ç†"><a href="#3ã€ç”¨æˆ·ç®¡ç†" class="headerlink" title="3ã€ç”¨æˆ·ç®¡ç†"></a>3ã€ç”¨æˆ·ç®¡ç†</h2><p>ä¸ç”¨æˆ·ç®¡ç†ç›¸å…³çš„å‡ ä¸ªå•è¯ =&gt; userï¼ˆç”¨æˆ·ï¼‰ã€addï¼ˆæ·»åŠ ï¼‰ã€modï¼ˆä¿®æ”¹ï¼‰ã€delï¼ˆåˆ é™¤ï¼‰</p><p>â‘  ç”¨æˆ·æ·»åŠ   useradd</p><p>â‘¡ ç”¨æˆ·ä¿®æ”¹  usermod</p><p>â‘¢ ç”¨æˆ·åˆ é™¤  userdel</p><h3 id="â˜†-useraddç”¨æˆ·æ·»åŠ "><a href="#â˜†-useraddç”¨æˆ·æ·»åŠ " class="headerlink" title="â˜† useraddç”¨æˆ·æ·»åŠ "></a>â˜† useraddç”¨æˆ·æ·»åŠ </h3><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># useradd [é€‰é¡¹ é€‰é¡¹çš„å€¼] æ–°ç”¨æˆ·åç§°-uæŒ‡å®šç”¨æˆ·uidï¼Œå”¯ä¸€æ ‡è¯†ï¼Œå¿…é¡»å”¯ä¸€-gæŒ‡å®šç”¨æˆ·çš„é»˜è®¤ç»„(ä¸»ç»„)-GæŒ‡å®šç”¨æˆ·é™„åŠ ç»„(ä¸€ä¸ªç”¨æˆ·å¯ä»¥åŠ å…¥å¤šä¸ªç»„ï¼Œä½†æ˜¯é»˜è®¤ç»„åªæœ‰ä¸€ä¸ª)-dæŒ‡å®šç”¨æˆ·å®¶ç›®å½•(æ¯ä¸ªç”¨æˆ·éƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„å®¶ï¼Œå¹¶ä¸”é»˜è®¤åœ¨/home/xxx)-sæŒ‡å®šç”¨æˆ·é»˜è®¤shellï¼Œå¸¸è§/bin/bashæˆ–/sbin/nologinæ‰©å±•ï¼š-r  æŒ‡å®šç”¨æˆ·ä¸ºç³»ç»Ÿç”¨æˆ·ï¼Œå¦‚åˆ›å»ºä¸€ä¸ªç³»ç»Ÿè´¦å·mysql<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåœ¨Linuxç³»ç»Ÿä¸­åˆ›å»ºä¸€ä¸ªè´¦å·zhangsan</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># useradd zhangsan<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é—®é¢˜ï¼šä¸€ä¸ªç”¨æˆ·åˆ›å»ºæˆåŠŸåï¼Œå¦‚ä½•åˆ¤æ–­æ˜¯å¦æ·»åŠ åˆ°ç³»ç»Ÿï¼Ÿ</p><p>ç­”ï¼šç¬¬ä¸€ç§æ–¹æ¡ˆæˆ‘ä»¬å¯ä»¥é€šè¿‡tailå‘½ä»¤æŸ¥çœ‹/etc/passwdæ–‡ä»¶</p><p>â€‹ ç¬¬äºŒç§æ–¹æ¡ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨idå‘½ä»¤æŸ¥çœ‹zhangsanä¿¡æ¯</p><p>æ¡ˆä¾‹ï¼šåœ¨Linuxç³»ç»Ÿä¸­åˆ›å»ºä¸€ä¸ªè´¦å·lisiï¼ŒæŒ‡å®šç”¨æˆ·çš„å®¶ç›®å½•ä¸º/rhome/lisi</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mkdir /rhome# useradd -d /rhome/lisi lisi<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><blockquote><p>å½“æˆ‘ä»¬ä¸ºç”¨æˆ·è‡ªå®šä¹‰å®¶ç›®å½•æ—¶ï¼Œå…¶ä¸Šçº§ç›®å½•å¿…é¡»æ˜¯çœŸå®å­˜åœ¨çš„ï¼Œå¦‚/rhome</p></blockquote><p>æ¡ˆä¾‹ï¼šåœ¨Linuxç³»ç»Ÿä¸­åˆ›å»ºä¸€ä¸ªmysqlè´¦å·ï¼Œè¦æ±‚çœŸå®å­˜åœ¨çš„ï¼Œä½†æ˜¯å…¶ä¸å…è®¸ç™»å½•æ“ä½œç³»ç»Ÿ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># useradd -s /sbin/nologin mysql<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåœ¨Linuxç³»ç»Ÿä¸­åˆ›å»ºä¸€ä¸ªmysqlç³»ç»Ÿè´¦å·ï¼Œè¦æ±‚çœŸå®å­˜åœ¨ï¼Œä½†æ˜¯ä¸å…è®¸ç™»å½•æ“ä½œç³»ç»Ÿ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># userdel -r mysql# useradd -r -s /sbin/nologin mysql<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="â˜†-ä¸ç”¨æˆ·ç›¸å…³çš„æ–‡ä»¶"><a href="#â˜†-ä¸ç”¨æˆ·ç›¸å…³çš„æ–‡ä»¶" class="headerlink" title="â˜† ä¸ç”¨æˆ·ç›¸å…³çš„æ–‡ä»¶"></a>â˜† ä¸ç”¨æˆ·ç›¸å…³çš„æ–‡ä»¶</h3><p>Linuxä¸­ä¸€åˆ‡çš†æ–‡ä»¶ï¼Œæ‰€ä»¥ä¿å­˜ç”¨æˆ·çš„ä¿¡æ¯çš„ä¹Ÿæ˜¯ä¸€ä¸ªæ–‡ä»¶ =&gt; /etc/passwd</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/passwdroot:x:0:0:root:/root:/bin/bashç¬¬1åˆ—ï¼šç”¨æˆ·åç§°ç¬¬2åˆ—ï¼šç”¨æˆ·å¯†ç ï¼Œä½¿ç”¨ä¸€ä¸ªxå ä½ç¬¦ï¼ŒçœŸå®å¯†ç å­˜å‚¨åœ¨/etc/shadowæ–‡ä»¶ä¸­ç¬¬3åˆ—ï¼šç”¨æˆ·çš„ç¼–å·UIDï¼Œ0ï¼Œ1-999ï¼Œ1000 ~ 60000ç¬¬4åˆ—ï¼šç”¨æˆ·çš„ä¸»ç»„ç¼–å·GIDç¬¬5åˆ—ï¼šç”¨æˆ·çš„å¤‡æ³¨ä¿¡æ¯ï¼ˆæ‰©å±•ï¼Œå¯ä»¥ä½¿ç”¨-cè¿›è¡ŒæŒ‡å®šï¼‰ useradd -c "mysql" mysqlç¬¬6åˆ—ï¼šç”¨æˆ·çš„å®¶ç›®å½•ï¼Œ/rootï¼Œè¶…çº§ç®¡ç†å‘˜çš„å®¶/homeï¼Œæ™®é€šè´¦å·çš„å®¶ç¬¬7åˆ—ï¼šç”¨æˆ·çš„Shellæ–‡ä»¶ï¼Œå¸¸è§/bin/bashæˆ–/sbin/nologin=&gt;/bin/false<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="â˜†-usermodç”¨æˆ·ä¿®æ”¹"><a href="#â˜†-usermodç”¨æˆ·ä¿®æ”¹" class="headerlink" title="â˜† usermodç”¨æˆ·ä¿®æ”¹"></a>â˜† usermodç”¨æˆ·ä¿®æ”¹</h3><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># usermod [é€‰é¡¹ é€‰é¡¹çš„å€¼] ç”¨æˆ·åç§°-uæŒ‡å®šç”¨æˆ·uidï¼Œå”¯ä¸€æ ‡è¯†ï¼Œå¿…é¡»å”¯ä¸€-gæŒ‡å®šç”¨æˆ·çš„é»˜è®¤ç»„(ä¸»ç»„)-GæŒ‡å®šç”¨æˆ·é™„åŠ ç»„(ä¸€ä¸ªç”¨æˆ·å¯ä»¥åŠ å…¥å¤šä¸ªç»„ï¼Œä½†æ˜¯é»˜è®¤ç»„åªæœ‰ä¸€ä¸ª)-dæŒ‡å®šç”¨æˆ·å®¶ç›®å½•(æ¯ä¸ªç”¨æˆ·éƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„å®¶ï¼Œå¹¶ä¸”é»˜è®¤åœ¨/home/xxx)-sæŒ‡å®šç”¨æˆ·é»˜è®¤shell<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šä¿®æ”¹zhangsanè´¦å·çš„ä¸»ç»„ä¸ºitheimaç»„ï¼ˆåªèƒ½æŒ‡å®šä¸€ä¸ªï¼‰</p><p>â‘  å¯ä»¥è·å–itheimaç»„çš„ç¼–å·ä¿¡æ¯GID</p><p>â‘¡ ä½¿ç”¨usermod  -g  GIDç¼–å·ä¿®æ”¹æŸä¸ªç”¨æˆ·çš„ä¸»ç»„ä¿¡æ¯</p><blockquote><p>å…¶å®åœ¨usermodä¿®æ”¹ç”¨æˆ·çš„ä¸»ç»„ä¸­ï¼Œusermod  -g  å¯ä»¥ä½¿ç”¨GIDç¼–å·ä¹Ÿå¯ä»¥ä½¿ç”¨ç»„åç§°</p></blockquote><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cat /etc/group |grep itheima# usermod -g 1000 zhangsan<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æˆ–</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># usermod -g itheima zhangsan<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šä¿®æ”¹lisiè´¦å·çš„é™„åŠ ç»„ï¼Œå°†å…¶æ·»åŠ åˆ°itheimaä¸­</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># usermod -G 1000 lisi<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æˆ–</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># usermod -G itheima lisi<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåˆ›å»ºä¸€ä¸ªitcastç»„ï¼Œåœ¨åˆ›å»ºä¸€ä¸ªwangwuçš„è´¦å·ï¼Œä¿®æ”¹wangwuçš„é™„åŠ ç»„ä¸ºitcastä¸itheima</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># groupadd itcast# useradd wangwu# usermod -G itcast,itheima wangwu<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>é—®é¢˜ï¼šå¦‚æœä¸€ä¸ªç”¨æˆ·åŒæ—¶æ‹¥æœ‰å¤šä¸ªé™„å±ç»„ï¼Œæ€ä¹ˆæŸ¥çœ‹å‘¢ï¼Ÿ</p><p>ç­”ï¼šä½¿ç”¨idå‘½ä»¤å³å¯</p><p>æ¡ˆä¾‹ï¼šä¿®æ”¹ç”¨æˆ·zhangsançš„å®¶ç›®å½•ä¸º/rhome/zhangsanï¼ˆé»˜è®¤/home/zhangsanï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mkdir /rhome/zhangsan# usermod -d /rhome/zhangsan zhangsan# su - zhangsan-bash-4.2$å‡ºç°ä»¥ä¸Šé—®é¢˜çš„ä¸»è¦åŸå› åœ¨äºï¼šæˆ‘ä»¬è¿ç§»ç”¨æˆ·çš„å®¶ç›®å½•æ—¶ï¼Œæ²¡æœ‰è¿ç§»å®¶ç›®å½•ä¸­çš„é…ç½®æ–‡ä»¶"å®¶å…·"è§£å†³æ–¹æ¡ˆï¼šâ‘  å®¶ç›®å½•å·²ç»è¿ç§»ï¼Œæˆ‘ä»¬æŠŠ/etc/skelä¸­çš„æ–‡ä»¶ï¼Œcopyåˆ°æ–°å®¶ä¸­# cp -a /etc/skel/. /rhome/zhangsan/é€‰é¡¹è¯´æ˜ï¼š-a ï¼šallæ‰€æœ‰ï¼Œå¤åˆ¶æ—¶ï¼Œä¿ç•™æ–‡ä»¶çš„åŸæœ‰å±æ€§â‘¡ å®¶ç›®å½•è¿˜æ²¡æœ‰è¿ç§»ï¼Œå‡†å¤‡è¿ç§»æ—¶ï¼Œä½¿ç”¨usermod -md /rhome/zhangsan ç”¨æˆ·å-m ï¼šmoveï¼Œè¿ç§»å®¶ç›®å½•æ—¶ï¼ŒæŠŠ"å®¶å…·"ä¸€èµ·è¿ç§»åˆ°æ–°çš„å®¶ç›®å½•# usermod -md /rhome/zhangsan zhangsan<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>æ³¨ï¼šè¦æ±‚/rhome/zhangsanå¿…é¡»æ˜¯çœŸå®å­˜åœ¨çš„ï¼</p></blockquote><p>æ¡ˆä¾‹ï¼šå½“æˆ‘ä»¬åˆ›å»ºäº†æŸä¸ªè´¦å·ï¼Œä½†æ˜¯ä¸å¸Œæœ›è¿™ä¸ªè´¦å·ç™»å½•æ“ä½œç³»ç»Ÿ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># usermod -s /sbin/nologin ç”¨æˆ·åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â˜†-userdelç”¨æˆ·çš„åˆ é™¤"><a href="#â˜†-userdelç”¨æˆ·çš„åˆ é™¤" class="headerlink" title="â˜† userdelç”¨æˆ·çš„åˆ é™¤"></a>â˜† userdelç”¨æˆ·çš„åˆ é™¤</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># userdel [é€‰é¡¹] ç”¨æˆ·åç§°é€‰é¡¹è¯´æ˜ï¼š-r ï¼šåˆ é™¤ç”¨æˆ·çš„åŒæ—¶ï¼Œåˆ é™¤ç”¨æˆ·çš„å®¶ç›®å½•-f ï¼šå¼ºåˆ¶åˆ é™¤ç”¨æˆ·ï¼ˆå³ä½¿ç”¨æˆ·å¤„äºç™»å½•çŠ¶æ€ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåˆ é™¤zhangsanè¿™ä¸ªè´¦å·</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># userdel zhangsan<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåˆ é™¤zhangsanè¿™ä¸ªè´¦å·ï¼ŒåŒæ—¶åˆ é™¤è¿™ä¸ªè´¦å·çš„å®¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># userdel -r zhangsan<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåˆ é™¤æŸä¸ªæ­£åœ¨ä½¿ç”¨çš„è´¦å·ï¼ˆå¼ºåˆ¶åˆ é™¤ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># userdel -f zhangsan<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="4ã€ç”¨æˆ·å¯†ç "><a href="#4ã€ç”¨æˆ·å¯†ç " class="headerlink" title="4ã€ç”¨æˆ·å¯†ç "></a>4ã€ç”¨æˆ·å¯†ç </h2><h3 id="â˜†-passwdä¿®æ”¹ç”¨æˆ·å¯†ç "><a href="#â˜†-passwdä¿®æ”¹ç”¨æˆ·å¯†ç " class="headerlink" title="â˜† passwdä¿®æ”¹ç”¨æˆ·å¯†ç "></a>â˜† passwdä¿®æ”¹ç”¨æˆ·å¯†ç </h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># passwd [ç”¨æˆ·åç§°]è¯´æ˜ï¼š1.ç®¡ç†å‘˜rootå¯ä»¥ç»™ä»»ä½•ç”¨æˆ·ä¿®æ”¹å¯†ç 2.æ™®é€šç”¨æˆ·å¯ä»¥è‡ªå·±ç»™è‡ªå·±ä¿®æ”¹å¯†ç ï¼Œä½†æ˜¯å¯†ç å¤æ‚åº¦è¦ç¬¦åˆè§„èŒƒ(å¤§å°å†™ã€ç‰¹æ®Šå­—ç¬¦ã€é•¿åº¦)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šä½¿ç”¨rootè´¦å·ç»™itheimaç”¨æˆ·ä¿®æ”¹å¯†ç ï¼Œæ–°å¯†ç ä¸º123456</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># su - root# passwd itheimaChanging password for user itheima.New password:BAD PASSWORD: The password is shorter than 8 charactersRetype new password:passwd: all authentication tokens updated successfully.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåˆ‡æ¢åˆ°itheimaè¿™ä¸ªè´¦å·ï¼Œè‡ªå·±ç»™è‡ªå·±ä¿®æ”¹å¯†ç ï¼ˆå¯†ç è§„èŒƒï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># su - itheima# passwdChanging password for user itheima.Changing password for itheima.(current) UNIX password:New password:Retype new password:passwd: all authentication tokens updated successfully.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="â˜†-â€“stdinä¿®æ”¹ç”¨æˆ·å¯†ç "><a href="#â˜†-â€“stdinä¿®æ”¹ç”¨æˆ·å¯†ç " class="headerlink" title="â˜† â€“stdinä¿®æ”¹ç”¨æˆ·å¯†ç "></a>â˜† â€“stdinä¿®æ”¹ç”¨æˆ·å¯†ç </h3><p>â€“stdin ï¼šæ ‡å‡†è¾“å…¥</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># echo 123 |passwd --stdin itheima# history -c =&gt;         æ¸…é™¤historyå†å²è®°å½•<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><blockquote><p>æ³¨æ„ï¼šä»¥ä¸Šæ–¹å¼æ“ä½œéå¸¸ç®€å•ï¼Œä½†æ˜¯ä»¥ä¸Šå‘½ä»¤ä¼šç•™åœ¨historyå†å²å‘½ä»¤ä¸­ï¼</p></blockquote><h2 id="5ã€chageæ›´æ”¹ç”¨æˆ·çš„è´¦å·ä¿¡æ¯"><a href="#5ã€chageæ›´æ”¹ç”¨æˆ·çš„è´¦å·ä¿¡æ¯" class="headerlink" title="5ã€chageæ›´æ”¹ç”¨æˆ·çš„è´¦å·ä¿¡æ¯"></a>5ã€chageæ›´æ”¹ç”¨æˆ·çš„è´¦å·ä¿¡æ¯</h2><p>èƒŒæ™¯ï¼šå¾ˆå¤šå…¬å¸è¿ç»´å·¥ç¨‹å¸ˆåˆšå…¥èŒï¼Œéƒ½ä¼šé»˜è®¤å¾—åˆ°ä¸€ä¸ªæœåŠ¡å™¨çš„ç®¡ç†è´¦å·ï¼Œå¯†ç é»˜è®¤ï¼Œå¦‚123456ï¼Œæˆ‘ä»¬æœ‰æ²¡æœ‰åŠæ³•è®©è¿ç»´å·¥ç¨‹å¸ˆåœ¨ç¬¬ä¸€æ¬¡ç™»é™†æ“ä½œç³»ç»Ÿåï¼Œå¼ºåˆ¶è¦æ±‚å…¶æ›´æ–°å¯†ç ã€‚</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chage --help-lï¼šåˆ—å‡ºç”¨æˆ·çš„è¯¦ç»†å¯†ç çŠ¶æ€;-d æ—¥æœŸï¼šä¿®æ”¹ /etc/shadow æ–‡ä»¶ä¸­æŒ‡å®šç”¨æˆ·å¯†ç ä¿¡æ¯çš„ç¬¬3ä¸ªå­—æ®µï¼Œä¹Ÿå°±æ˜¯æœ€åä¸€æ¬¡ä¿®æ”¹å¯†ç çš„æ—¥æœŸï¼Œæ ¼å¼ä¸º YYYY-MM-DD;-m å¤©æ•°ï¼šä¿®æ”¹å¯†ç æœ€çŸ­ä¿ç•™çš„å¤©æ•°ï¼Œä¹Ÿå°±æ˜¯ /etc/shadow æ–‡ä»¶ä¸­çš„ç¬¬4ä¸ªå­—æ®µ;æ³¨ï¼šå‡ å¤©åæ‰èƒ½ä¿®æ”¹ä¸€æ¬¡å¯†ç -M å¤©æ•°ï¼šä¿®æ”¹å¯†ç çš„æœ‰æ•ˆæœŸï¼Œä¹Ÿå°±æ˜¯ /etc/shadow æ–‡ä»¶ä¸­çš„ç¬¬5ä¸ªå­—æ®µ;æ³¨ï¼šæ¯éš”å¤šå°‘å¤©æ›´æ–°ä¸€æ¬¡å¯†ç -W å¤©æ•°ï¼šä¿®æ”¹å¯†ç åˆ°æœŸå‰çš„è­¦å‘Šå¤©æ•°ï¼Œä¹Ÿå°±æ˜¯ /etc/shadow æ–‡ä»¶ä¸­çš„ç¬¬6ä¸ªå­—æ®µ;-i å¤©æ•°ï¼šä¿®æ”¹å¯†ç è¿‡æœŸåçš„å®½é™å¤©æ•°ï¼Œä¹Ÿå°±æ˜¯ /etc/shadow æ–‡ä»¶ä¸­çš„ç¬¬7ä¸ªå­—æ®µ;æ³¨ï¼šè¿‡æœŸåè¿˜å¯ä»¥ä½¿ç”¨çš„å¤©æ•°ï¼Œè¾¾åˆ°è¿™ä¸ªå¤©æ•°åï¼Œè´¦å·å¤±æ•ˆ-E æ—¥æœŸï¼šä¿®æ”¹è´¦å·å¤±æ•ˆæ—¥æœŸï¼Œæ ¼å¼ä¸º YYYY-MM-DDï¼Œä¹Ÿå°±æ˜¯ /etc/shadow æ–‡ä»¶ä¸­çš„ç¬¬8ä¸ªå­—æ®µ;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>==æ¡ˆä¾‹ï¼šæ–°åˆ›å»ºä¸€ä¸ªè´¦å·lampï¼Œè®¾ç½®åˆå§‹åŒ–å¯†ç ä¸º123456ã€‚è¦æ±‚ç”¨æˆ·ç¬¬ä¸€æ¬¡ç™»é™†åå¿…é¡»å¼ºåˆ¶ä¿®æ”¹ç”¨æˆ·çš„å¯†ç ã€‚==</p><p>è§£å†³æ€è·¯ï¼šæŠŠå¯†ç çš„æœ€åä¿®æ”¹æ—¶é—´é‡ç½®ä¸º0ï¼ˆå›åˆ°1970å¹´1æœˆ1æ—¥ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># useradd lamp# echo 123456 |passwd --stdin lamp# chage -d 0 lamp<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œæ•ˆæœï¼š</p><p> <img src="/../assets/blog_res/Linux%E9%AB%98%E7%BA%A7%E5%91%BD%E4%BB%A4%EF%BC%88%E6%89%A9%E5%B1%95%EF%BC%89%E4%BA%8C.assets/image-20200401154801244.png" alt="image-20200401154801244"></p><p>æ¡ˆä¾‹ï¼šè®¾ç½®lampè´¦å·çš„è¿‡æœŸæ—¶é—´ä¸º2010-04-10</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chage -E "2020-04-10" lamp<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šè®¾ç½®lampè´¦å·çš„10å¤©åè¿‡æœŸï¼ˆå»¶ä¼¸ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chage -E $(date +%F -d '+10 days') lamp%Fï¼šYYYY-mm-ddï¼Œæ ¼å¼2020-04-01-dï¼šå¤šå°‘å¤©ä»¥åçš„æ—¥æœŸ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šè®¾ç½®mysqlç”¨æˆ·60å¤©åå¯†ç è¿‡æœŸï¼Œè‡³å°‘7å¤©åæ‰èƒ½ä¿®æ”¹å¯†ç ï¼Œå¯†ç è¿‡æœŸå‰7å¤©å¼€å§‹æ”¶åˆ°å‘Šè­¦ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># useradd mysql# echo 123456 |passwd --stdin mysql# chage -M 60 -m 7 -W 7 mysql<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="â˜†-ç»ƒä¹ é¢˜-ï¼š"><a href="#â˜†-ç»ƒä¹ é¢˜-ï¼š" class="headerlink" title="â˜† ==ç»ƒä¹ é¢˜==ï¼š"></a>â˜† ==ç»ƒä¹ é¢˜==ï¼š</h2><p>åˆ›å»º3ä¸ªæ™®é€šç”¨æˆ·stu1~stu3,è¦æ±‚å¦‚ä¸‹ï¼š</p><ol><li>stu1é»˜è®¤åˆ›å»ºï¼Œå¯†ç ä¸º123</li><li>stu2çš„å®¶ç›®å½•ä¸º/rhome/redhat/stu2,å¯†ç ä¸º123</li><li>stu3ç”¨æˆ·ä¸èƒ½ç™»å½•æ“ä½œç³»ç»Ÿï¼Œå¯†ç ä¸º123</li></ol><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="6ã€ç”¨æˆ·ç»„ç®¡ç†"><a href="#6ã€ç”¨æˆ·ç»„ç®¡ç†" class="headerlink" title="6ã€ç”¨æˆ·ç»„ç®¡ç†"></a>6ã€ç”¨æˆ·ç»„ç®¡ç†</h2><h3 id="â˜†-ç”¨æˆ·å’Œç»„çš„å…³ç³»"><a href="#â˜†-ç”¨æˆ·å’Œç»„çš„å…³ç³»" class="headerlink" title="â˜† ç”¨æˆ·å’Œç»„çš„å…³ç³»"></a>â˜† ç”¨æˆ·å’Œç»„çš„å…³ç³»</h3><p><img src="/../assets/blog_res/Linux%E9%AB%98%E7%BA%A7%E5%91%BD%E4%BB%A4%EF%BC%88%E6%89%A9%E5%B1%95%EF%BC%89%E4%BA%8C.assets/image-20200401112755448.png" alt="image-20200401112755448"></p><p><strong>æ ¸å¿ƒï¼š</strong>==ç»„çš„ç›®çš„æ˜¯ä¸ºäº†æ–¹ä¾¿ç®¡ç†ç”¨æˆ·==</p><ul><li>ç”¨æˆ·æ˜¯æ“ä½œç³»ç»Ÿä¸Šç®¡ç†ç»´æŠ¤ç³»ç»Ÿæˆ–æœåŠ¡çš„äºº</li><li>ç»„æ˜¯ç”¨æˆ·çš„ä¸€ä¸ª==å±æ€§ä¿¡æ¯==</li><li>ä»»ä½•ä¸€ä¸ªç”¨æˆ·==é»˜è®¤éƒ½ä¼šæœ‰==ä¸€ä¸ª==ä¸»ç»„==(é»˜è®¤ç»„)</li><li>ä¸€ä¸ªç”¨æˆ·é™¤äº†ä¸»ç»„ä¹Ÿ==å¯ä»¥æœ‰å¤šä¸ªå…¶ä»–ç»„==(<strong>é™„åŠ ç»„</strong>)</li></ul><p><strong>ä¸€é—®ï¼š</strong>ç”¨æˆ·çš„ä¸»ç»„å’Œé™„åŠ ç»„åˆ°åº•æœ‰å•¥å…³ç³»å‘¢ï¼Ÿ</p><p><strong>ç­”ï¼š</strong>ç”¨æˆ·çš„ä¸»ç»„å’Œé™„åŠ ç»„==åŠæ¯›é’±å…³ç³»éƒ½æœ¨æœ‰==</p><p><strong>äºŒé—®ï¼š</strong>é‚£è¦è¿™ä¸ªä¸»ç»„æˆ–è€…é™„åŠ ç»„æœ‰å•¥ç”¨å‘¢ï¼Ÿ</p><p><strong>ç­”ï¼š</strong>è‚¯å®šæ˜¯<strong>æœ‰ç”¨</strong>çš„ï¼Œç»„çš„ç›®çš„æ˜¯æ–¹ä¾¿ç®¡ç†ç”¨æˆ·ï¼Œç”¨æˆ·çš„ç›®çš„æ˜¯ç®¡ç†==æ“ä½œæ–‡ä»¶==ï¼Œæ–‡ä»¶å°±æœ‰==æƒé™==è¿™ä¸ªå±æ€§ã€‚</p><ol><li>ç”¨æˆ·è¦æ“ä½œä¸€äº›æ–‡ä»¶ï¼Œæ–‡ä»¶æ˜¯ç”±ç”¨æˆ·åˆ›å»ºï¼Œä¸åŒç”¨æˆ·åˆ›å»ºçš„æ–‡ä»¶çš„==å±æ€§ä¿¡æ¯==ä¹Ÿå°±ä¸ä¸€æ ·</li><li>æ–‡ä»¶çš„å±æ€§éƒ½æœ‰å•¥å‘¢ï¼Ÿæ¯”å¦‚ï¼Œæ–‡ä»¶çš„==åˆ›å»ºè€…==ï¼Œæ–‡ä»¶==å±äºå“ªä¸ªç»„==ï¼Œæ–‡ä»¶å¤§å°ï¼Œæ–‡ä»¶æ—¶é—´ç­‰</li><li>å…¶ä¸­ï¼Œä¸åŒç”¨æˆ·æ‰€åˆ›å»ºçš„==æ–‡ä»¶çš„å±ç»„==å°±æ˜¯==è¯¥ç”¨æˆ·çš„ä¸»ç»„==(é»˜è®¤ç»„)</li><li>Aç”¨æˆ·é™„åŠ ç»„ä¹Ÿæœ‰å¯èƒ½æ˜¯å…¶ä»–ç”¨æˆ·çš„ä¸»ç»„ï¼Œé“ç†åŒä¸Šï¼ˆæƒé™ç« èŠ‚å†ç»†ç»†ä½“ä¼šç»„çš„ä½œç”¨ï¼‰</li></ol><h3 id="â˜†-ç”¨æˆ·ç»„ç®¡ç†"><a href="#â˜†-ç”¨æˆ·ç»„ç®¡ç†" class="headerlink" title="â˜† ç”¨æˆ·ç»„ç®¡ç†"></a>â˜† ç”¨æˆ·ç»„ç®¡ç†</h3><p>groupç»„ï¼Œæ·»åŠ addï¼Œä¿®æ”¹modï¼Œåˆ é™¤del</p><p>groupadd æ·»åŠ ç”¨æˆ·ç»„</p><p>groupmod ä¿®æ”¹ç”¨æˆ·ç»„</p><p>groupdel  åˆ é™¤ç”¨æˆ·ç»„</p><h3 id="â˜†-æ·»åŠ ç”¨æˆ·ç»„"><a href="#â˜†-æ·»åŠ ç”¨æˆ·ç»„" class="headerlink" title="â˜† æ·»åŠ ç”¨æˆ·ç»„"></a>â˜† æ·»åŠ ç”¨æˆ·ç»„</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># groupadd [é€‰é¡¹ é€‰é¡¹çš„å€¼] ç”¨æˆ·ç»„åç§°é€‰é¡¹è¯´æ˜ï¼š-g ï¼šåˆ›å»ºç”¨æˆ·ç»„æ—¶æŒ‡å®šç”¨æˆ·ç»„ç¼–å·GIDï¼Œ0ä»£è¡¨è¶…çº§ç®¡ç†å‘˜rootç»„ï¼Œ1-999ä»£è¡¨ç³»ç»Ÿç”¨æˆ·ç»„ï¼Œ1000ä»¥åä»£è¡¨æ™®é€šç”¨æˆ·ç»„<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåœ¨ç³»ç»Ÿä¸­åˆ›å»ºä¸€ä¸ªadminç»„</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># groupadd admin<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåœ¨ç³»ç»Ÿä¸­åˆ›å»ºä¸€ä¸ªitcastç»„ï¼Œå¹¶æŒ‡å®šç”¨æˆ·ç»„çš„ç¼–å·ä¸º1200</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># groupadd -g 1200 itcast<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é—®é¢˜ï¼šç”¨æˆ·ç»„åˆ›å»ºå®Œæˆåï¼Œå¦‚ä½•åˆ¤æ–­æ˜¯å¦åˆ›å»ºæˆåŠŸï¼Ÿ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># tail -1 /etc/group<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â˜†-ä¸ç”¨æˆ·ç»„ç›¸å…³çš„æ–‡ä»¶"><a href="#â˜†-ä¸ç”¨æˆ·ç»„ç›¸å…³çš„æ–‡ä»¶" class="headerlink" title="â˜† ä¸ç”¨æˆ·ç»„ç›¸å…³çš„æ–‡ä»¶"></a>â˜† ä¸ç”¨æˆ·ç»„ç›¸å…³çš„æ–‡ä»¶</h3><p>åœ¨Linuxç³»ç»Ÿä¸­ï¼Œä¸ç”¨æˆ·ç»„ç›¸å…³çš„æ–‡ä»¶ =&gt; /etc/group</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/grouproot:x:0:ç¬¬1åˆ—ï¼šä»£è¡¨ç”¨æˆ·ç»„çš„ç»„åç§°ç¬¬2åˆ—ï¼šä»£è¡¨ç”¨æˆ·ç»„çš„ç»„å¯†ç ï¼Œä½¿ç”¨ä¸€ä¸ªxå ä½ç¬¦ï¼ˆåŸºæœ¬å·²ç»ä¸ä½¿ç”¨äº†ï¼‰ç¬¬3åˆ—ï¼šä»£è¡¨ç”¨æˆ·çš„ç»„IDç¼–å·GIDçš„å€¼ç¬¬4åˆ—ï¼šä»£è¡¨ç”¨æˆ·ç»„å†…çš„ç”¨æˆ·ä¿¡æ¯<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="â˜†-ä¿®æ”¹ç”¨æˆ·ç»„"><a href="#â˜†-ä¿®æ”¹ç”¨æˆ·ç»„" class="headerlink" title="â˜† ä¿®æ”¹ç”¨æˆ·ç»„"></a>â˜† ä¿®æ”¹ç”¨æˆ·ç»„</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># groupmod [é€‰é¡¹ é€‰é¡¹çš„å€¼] ç”¨æˆ·ç»„åç§°é€‰é¡¹è¯´æ˜ï¼š-g ï¼šgidç¼©å†™ï¼Œä»£è¡¨ä¿®æ”¹ç”¨æˆ·æ‰€å±ç»„çš„IDç¼–å·-n ï¼šnameç¼©å†™ï¼Œä»£è¡¨ä¿®æ”¹ç”¨æˆ·ç»„çš„åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæ›´æ”¹itcastç”¨æˆ·çš„GIDç¼–å·ï¼ˆä»1200 =&gt; 1005ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># groupmod -g 1005 itcast<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â˜†-åˆ é™¤ç”¨æˆ·ç»„"><a href="#â˜†-åˆ é™¤ç”¨æˆ·ç»„" class="headerlink" title="â˜† åˆ é™¤ç”¨æˆ·ç»„"></a>â˜† åˆ é™¤ç”¨æˆ·ç»„</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># groupdel ç”¨æˆ·ç»„çš„åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>æ³¨æ„ï¼šåœ¨Linuxæ“ä½œç³»ç»Ÿä¸­ï¼Œå¦‚æœæƒ³åˆ é™¤æŸä¸ªç”¨æˆ·ç»„ï¼Œå¿…é¡»è¦ä¿è¯è¿™ä¸ªç»„ä¸èƒ½æ˜¯æŸä¸ªç”¨æˆ·çš„ä¸»ç»„ã€‚</p></blockquote><p>æ¡ˆä¾‹ï¼šåˆ é™¤itcastç”¨æˆ·ç»„</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># groupdel itcast<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåˆ é™¤adminç”¨æˆ·ç»„</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># groupdel admin<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="7ã€é™„å±ç»„ç®¡ç†"><a href="#7ã€é™„å±ç»„ç®¡ç†" class="headerlink" title="7ã€é™„å±ç»„ç®¡ç†"></a>7ã€é™„å±ç»„ç®¡ç†</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># gpasswd [é€‰é¡¹ é€‰é¡¹çš„å€¼] ç”¨æˆ·ç»„çš„åç§°-a ï¼šæ·»åŠ ç”¨æˆ·åˆ°ç»„ï¼Œappendè¿½åŠ -d ï¼šä»ç»„ä¸­åˆ é™¤æˆå‘˜ï¼Œdeleteç§»é™¤-A ï¼šæŒ‡å®šç®¡ç†å‘˜ï¼ŒAdminç®¡ç†å‘˜-M ï¼šæŒ‡å®šç»„æˆå‘˜ï¼Œå¯ä»¥æ‰¹é‡æ·»åŠ ç”¨æˆ·åˆ°ç»„ä¸­é—®é¢˜è§£æï¼š-aä¸-Måˆ°åº•æœ‰å•¥åŒºåˆ«ï¼Ÿ-aä¸€æ¬¡åªèƒ½è¿½åŠ ä¸€ä¸ªç”¨æˆ·åˆ°é™„å±ç»„ä¸­ï¼ˆ-aï¼Œappendï¼Œè¿½åŠ çš„å½¢å¼ï¼ŒåŸæœ‰ç”¨æˆ·ä¸è¦†ç›–ï¼‰-Mä¸€æ¬¡å¯ä»¥è¿½åŠ å¤šä¸ªç”¨æˆ·åˆ°é™„å±ç»„ä¸­ï¼ˆè¦†ç›–è¿½åŠ ï¼Œå…ˆæŠŠåŸæœ‰ç”¨æˆ·åˆ é™¤ï¼Œç„¶åæ·»åŠ æˆ‘ä»¬çš„ç”¨æˆ·ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåˆ›å»º3ä¸ªç”¨æˆ·user01~user03ï¼Œå°†user01æ·»åŠ åˆ°sysadminç»„é‡Œï¼ˆé™„å±ç»„ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># useradd user01# useradd user02# useradd user03# groupadd sysadminâ‘  æ–¹æ¡ˆ1# usermod -G sysadmin user01â‘¡ æ–¹æ¡ˆ2# gpasswd -a user01 sysadmin<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠuser02ã€user03æ·»åŠ åˆ°sysadminç»„ä¸­</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">â‘  æ–¹æ¡ˆ1# gpasswd -a user02 sysadmin# gpasswd -a user03 sysadminâ‘¡ æ–¹æ¡ˆ2# gpasswd -M user02,user03 sysadmin<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šä»é™„å±ç»„ä¸­ç§»é™¤æŸä¸ªè´¦å·</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># gpasswd -d ç§»é™¤çš„ç”¨æˆ·åç§° é™„å±ç»„åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># gpasswd -d user03 sysadminRemoving user user03 from group sysadmin<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="â˜†-ç»ƒä¹ é¢˜-ï¼š-1"><a href="#â˜†-ç»ƒä¹ é¢˜-ï¼š-1" class="headerlink" title="â˜† ==ç»ƒä¹ é¢˜==ï¼š"></a>â˜† ==ç»ƒä¹ é¢˜==ï¼š</h2><p>1ã€åˆ›å»ºä¸€ä¸ªadminç»„ï¼Œç»„idä¸º900</p><p>2ã€åˆ›å»ºä¸€ä¸ªç”¨æˆ·tom,å¹¶ä¸”adminç»„ä½œä¸ºtomç”¨æˆ·çš„é™„åŠ ç»„ï¼ˆè¦æ±‚åœ¨å»ºç«‹ç”¨æˆ·çš„æ—¶å€™å°±å®Œæˆï¼‰,å¯†ç ä¸º123</p><p>3ã€åˆ›å»ºä¸€ä¸ªç”¨æˆ·jack,è¦æ±‚åœ¨å»ºç«‹ç”¨æˆ·ä¹‹åä½¿ç”¨gpasswdæŠŠjackåŠ å…¥åˆ°adminç»„ï¼Œå¯†ç ä¸º123</p><p>4ã€ç»™adminç»„è®¾å®šä¸€ä¸ªé»˜è®¤å¯†ç ä¸º123 ï¼ˆgpasswdå‘½ä»¤ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># gpasswd adminç»„åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>ç§»é™¤gpasswd -r  adminç»„åç§°ï¼Œä»£è¡¨ç§»é™¤ç»„å¯†ç </p></blockquote><p>5ã€æŠŠtomç”¨æˆ·è®¾å®šä¸ºadminç»„çš„ç»„ç®¡ç†å‘˜</p><blockquote><p>gpasswd -A tom admin</p></blockquote><h2 id="â˜†-ä½œä¸š1"><a href="#â˜†-ä½œä¸š1" class="headerlink" title="â˜† ==ä½œä¸š1=="></a>â˜† ==ä½œä¸š1==</h2><ol><li><p>åˆ›å»ºä¸€ä¸ªå…¬å¸itcastï¼Œ3ä¸ªéƒ¨é—¨è´¢åŠ¡(cw)ï¼Œäººäº‹(rs)ï¼Œå¸‚åœº(sc)</p><p>è¯´æ˜ï¼š==å®é™…æ˜¯åˆ›å»º4ä¸ªç»„==ï¼Œåˆ†åˆ«ä¸ºitcastã€cwã€rsã€scï¼Œæ²¡æœ‰åŒ…å«çš„å…³ç³»</p></li><li><p>æ¯ä¸ªéƒ¨é—¨åˆ›å»º2ä¸ªç”¨æˆ·ï¼Œå¦‚ cw01 cw02ï¼Œrs01ï¼Œrs02ï¼Œsc01ï¼Œsc02ï¼›boss01ç®¡ç†å…¬å¸æ‰€æœ‰éƒ¨é—¨ï¼›è¯´æ˜ï¼šboss01ç®¡ç†æ‰€æœ‰éƒ¨é—¨è¯´æ˜ï¼Œboss01çš„é™„åŠ ç»„ä¸ºè´¢åŠ¡ã€äººäº‹å’Œå¸‚åœºéƒ¨é—¨</p></li><li><p>æ‰€æœ‰ç”¨æˆ·è´¦å·æœ‰æ•ˆæœŸ3ä¸ªæœˆ&lt;90å¤©&gt;ï¼Œç¬¬ä¸€æ¬¡ç™»å½•å¼ºåˆ¶ä¿®æ”¹å¯†ç ï¼Œæ¯éš”15å¤©æ›´æ–°ä¸€æ¬¡å¯†ç ï¼›é»˜è®¤å¯†ç ä¸º123456</p></li></ol><h2 id="â˜†-ä½œä¸š2"><a href="#â˜†-ä½œä¸š2" class="headerlink" title="â˜† ==ä½œä¸š2=="></a>â˜† ==ä½œä¸š2==</h2><ol><li>æ·»åŠ 3ä¸ªç”¨æˆ·ï¼Œç”¨æˆ·harryï¼Œnatashaï¼Œsarshï¼Œè¦æ±‚harryï¼Œnatashaç”¨æˆ·çš„é™„åŠ ç»„ä¸ºadminç»„ï¼Œsarshç”¨æˆ·çš„ç™»å½•shellä¸ºéäº¤äº’å¼shellã€‚å¯†ç å‡ä¸ºredhat</li><li>ä¿®æ”¹harryç”¨æˆ·çš„å®¶ç›®å½•ä¸º/home/heima/redhat/harry</li><li>ä¿®æ”¹natashaï¼Œsarshç”¨æˆ·çš„ä¸»ç»„ä¸ºheimaï¼Œå¹¶ä¸”å¯ä»¥ç™»å½•ç³»ç»Ÿ</li></ol><h1 id="äºŒã€æ–‡ä»¶æƒé™ç®¡ç†"><a href="#äºŒã€æ–‡ä»¶æƒé™ç®¡ç†" class="headerlink" title="äºŒã€æ–‡ä»¶æƒé™ç®¡ç†"></a>äºŒã€æ–‡ä»¶æƒé™ç®¡ç†</h1><h2 id="1ã€ä»€ä¹ˆæ˜¯æƒé™"><a href="#1ã€ä»€ä¹ˆæ˜¯æƒé™" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯æƒé™"></a>1ã€ä»€ä¹ˆæ˜¯æƒé™</h2><p><strong>æƒé™ï¼š</strong>åœ¨è®¡ç®—æœº==ç³»ç»Ÿä¸­==ï¼Œæƒé™æ˜¯æŒ‡æŸä¸ª==è®¡ç®—æœºç”¨æˆ·==å…·æœ‰==ä½¿ç”¨è½¯ä»¶èµ„æºçš„æƒåˆ©==ã€‚</p><h2 id="2ã€æƒé™çš„ç›®çš„"><a href="#2ã€æƒé™çš„ç›®çš„" class="headerlink" title="2ã€æƒé™çš„ç›®çš„"></a>2ã€æƒé™çš„ç›®çš„</h2><p>æ–‡ä»¶æƒé™çš„è®¾ç½®ç›®çš„ï¼š==æ˜¯æƒ³è®©æŸä¸ªç”¨æˆ·æœ‰æƒåˆ©æ“ä½œæ–‡ä»¶==</p><h2 id="3ã€æƒé™çš„åˆ†ç±»"><a href="#3ã€æƒé™çš„åˆ†ç±»" class="headerlink" title="3ã€æƒé™çš„åˆ†ç±»"></a>3ã€æƒé™çš„åˆ†ç±»</h2><ul><li><p><strong>æ™®é€šæƒé™</strong>rwx</p><p>ç”¨æˆ·æ­£å¸¸æƒ…å†µå»æ“ä½œæ–‡ä»¶æ‰€å…·æœ‰çš„æƒé™</p></li><li><p><strong>é«˜çº§æƒé™</strong>st</p><p>ç”¨æˆ·å¯¹æŸä¸ªæ–‡ä»¶æ“ä½œæœ‰ç‰¹æ®Šéœ€æ±‚ï¼Œè€Œæ™®é€šæƒé™ä¸èƒ½æ»¡è¶³ï¼Œéœ€è¦ç»™æ–‡ä»¶è®¾ç½®é«˜çº§æƒé™</p></li><li><p><strong>é»˜è®¤æƒé™</strong>umask</p><p>ç”¨æˆ·åœ¨ç³»ç»Ÿä¸­åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶é»˜è®¤éƒ½ä¼šæœ‰ä¸€ä¸ªæƒé™ï¼Œè¯¥æƒé™æ˜¯é»˜è®¤æœ‰çš„</p></li></ul><p><strong>æ³¨æ„ï¼š</strong></p><p>æƒé™æ˜¯==è®¾ç½®åœ¨æ–‡ä»¶ä¸Š==çš„ï¼Œè€Œä¸æ˜¯ç”¨æˆ·</p><h2 id="4ã€æ™®é€šæƒé™rwxï¼ˆé‡ç‚¹ï¼‰"><a href="#4ã€æ™®é€šæƒé™rwxï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="4ã€æ™®é€šæƒé™rwxï¼ˆé‡ç‚¹ï¼‰"></a>4ã€æ™®é€šæƒé™rwxï¼ˆé‡ç‚¹ï¼‰</h2><h3 id="â˜†-readè¯»æƒé™"><a href="#â˜†-readè¯»æƒé™" class="headerlink" title="â˜† readè¯»æƒé™"></a>â˜† readè¯»æƒé™</h3><ul><li><p>é’ˆå¯¹==ç›®å½•==</p><p>ä¸€ä¸ªç›®å½•æ‹¥æœ‰ræƒé™ï¼Œè¯´æ˜å¯ä»¥æŸ¥çœ‹è¯¥==ç›®å½•é‡Œçš„å†…å®¹==ï¼ˆlså‘½ä»¤åˆ—å‡ºï¼‰</p></li><li><p>é’ˆå¯¹==æ™®é€šæ–‡ä»¶==</p><p>ä¸€ä¸ªæ™®é€šæ–‡ä»¶æ‹¥æœ‰ræƒé™ï¼Œè¯´æ˜å¯ä»¥æŸ¥çœ‹è¯¥==æ–‡ä»¶çš„å†…å®¹==(cat/head/tail/less/moreç­‰å‘½ä»¤æŸ¥çœ‹)</p></li><li><p>è¯»æƒé™==<strong>r</strong>==ï¼ˆreadï¼‰ç”¨æ•°å­—è¡¨ç¤ºæ˜¯**==4==**</p></li></ul><h3 id="â˜†-writeå†™æƒé™"><a href="#â˜†-writeå†™æƒé™" class="headerlink" title="â˜† writeå†™æƒé™"></a>â˜† writeå†™æƒé™</h3><ul><li><p>é’ˆå¯¹==ç›®å½•==</p><p>ä¸€ä¸ªç›®å½•æ‹¥æœ‰wæƒé™ï¼Œè¯´æ˜å¯ä»¥åœ¨è¯¥ç›®å½•é‡Œ==<strong>åˆ›å»ºã€åˆ é™¤ã€é‡å‘½å</strong>==ç­‰æ“ä½œï¼ˆmkdir/touch/mv/rmç­‰ï¼‰</p></li><li><p>é’ˆå¯¹==æ™®é€šæ–‡ä»¶==</p><p>ä¸€ä¸ªæ™®é€šæ–‡ä»¶æ‹¥æœ‰wæƒé™ï¼Œè¯´æ˜å¯ä»¥==<strong>ä¿®æ”¹</strong>==è¯¥==æ–‡ä»¶çš„<strong>å†…å®¹</strong>==ï¼ˆvi/vimç¼–è¾‘å™¨ç¼–è¾‘æ–‡ä»¶ï¼‰</p></li><li><p>å†™æƒé™==<strong>w</strong>==ï¼ˆwriteï¼‰ç”¨æ•°å­—è¡¨ç¤ºæ˜¯==<strong>2</strong>==</p></li></ul><h3 id="â˜†-executeæ‰§è¡Œæƒé™"><a href="#â˜†-executeæ‰§è¡Œæƒé™" class="headerlink" title="â˜† executeæ‰§è¡Œæƒé™"></a>â˜† executeæ‰§è¡Œæƒé™</h3><ul><li><p>é’ˆå¯¹==ç›®å½•==</p><p>ä¸€ä¸ªç›®å½•æ‹¥æœ‰xæƒé™ï¼Œè¯´æ˜å¯ä»¥==<strong>è¿›å…¥æˆ–åˆ‡æ¢åˆ°</strong>==è¯¥ç›®å½•é‡Œï¼ˆcdå‘½ä»¤ï¼‰</p></li><li><p>é’ˆå¯¹==æ™®é€šæ–‡ä»¶==</p><p>ä¸€ä¸ªæ™®é€šæ–‡ä»¶æ‹¥æœ‰xæƒé™ï¼Œè¯´æ˜å¯ä»¥==<strong>æ‰§è¡Œ</strong>==è¯¥æ–‡ä»¶ï¼ˆä¸€èˆ¬ç¨‹åºæ–‡ä»¶ã€è„šæœ¬æ–‡ä»¶ã€å‘½ä»¤éƒ½éœ€è¦æ‰§è¡Œæƒé™ï¼‰</p></li><li><p>æ‰§è¡Œæƒé™==<strong>x</strong>==ï¼ˆexecuteï¼‰ç”¨æ•°å­—è¡¨ç¤ºæ˜¯==<strong>1</strong>==</p></li></ul><p>rwx = è¯»å†™æ‰§è¡Œ = 4 + 2 + 1</p><h3 id="â˜†-æ²¡æœ‰æƒé™"><a href="#â˜†-æ²¡æœ‰æƒé™" class="headerlink" title="â˜† -æ²¡æœ‰æƒé™"></a>â˜† -æ²¡æœ‰æƒé™</h3><p>æ²¡æœ‰ä»»ä½•æƒé™ç”¨æ¨ªæ ==-==è¡¨ç¤ºï¼Œæ•°å­—è¡¨ç¤ºæ˜¯==<strong>0</strong>==</p><h2 id="5ã€ç†è§£UGO"><a href="#5ã€ç†è§£UGO" class="headerlink" title="5ã€ç†è§£UGO"></a>5ã€ç†è§£UGO</h2><p>UGOï¼ŒæŒ‡çš„æ˜¯==<strong>ç”¨æˆ·èº«ä»½</strong>==ï¼Œæ¯ä¸ªå­—æ¯ä»£è¡¨==ä¸åŒçš„==ç”¨æˆ·èº«ä»½ã€‚</p><ul><li><p>Uï¼ˆthe user who owns itï¼‰</p><p>æ–‡ä»¶çš„==æ‹¥æœ‰è€…==(owner)æˆ–è€…==åˆ›å»ºè€…==</p></li><li><p>Gï¼ˆother users in the fileâ€™s ==g==roupï¼‰</p><p>åœ¨æ–‡ä»¶çš„æ‰€å±ç»„ï¼ˆé»˜è®¤æ˜¯åˆ›å»ºæ–‡ä»¶çš„ç”¨æˆ·çš„ä¸»ç»„ï¼‰é‡Œçš„ç”¨æˆ·</p></li><li><p>Oï¼ˆ==o==ther users ==not in== the fileâ€™s groupï¼‰</p><p>æ—¢ä¸æ˜¯æ–‡ä»¶çš„åˆ›å»ºè€…ï¼Œä¹Ÿä¸åœ¨æ–‡ä»¶å±ç»„é‡Œçš„ç”¨æˆ·ï¼Œç§°ä¸ºå…¶ä»–äºº</p></li></ul><p>æ³¨æ„ï¼š</p><p>â€‹é™¤äº†ä¸Šé¢ugoä»¥å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªå­—æ¯==<strong>a</strong>==ï¼ˆall usersï¼‰,è¡¨ç¤º==æ‰€æœ‰ç”¨æˆ·==ï¼ŒåŒ…å«ugo</p><h2 id="6ã€æŸ¥çœ‹æ–‡ä»¶çš„æƒé™"><a href="#6ã€æŸ¥çœ‹æ–‡ä»¶çš„æƒé™" class="headerlink" title="6ã€æŸ¥çœ‹æ–‡ä»¶çš„æƒé™"></a>6ã€æŸ¥çœ‹æ–‡ä»¶çš„æƒé™</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ls -l æ–‡ä»¶åç§°æˆ–# ll æ–‡ä»¶åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><blockquote><p>æ³¨ï¼šå¦‚æœæŸ¥çœ‹ä¸€ä¸ªæ–‡ä»¶å¤¹çš„æƒé™ï¼Œå»ºè®®ä½¿ç”¨-d</p></blockquote><p><img src="/../assets/blog_res/Linux%E9%AB%98%E7%BA%A7%E5%91%BD%E4%BB%A4%EF%BC%88%E6%89%A9%E5%B1%95%EF%BC%89%E4%BA%8C.assets/image-20231223170850987.png" alt="image-20231223170850987"></p>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SSHè¿œç¨‹ç®¡ç†æœåŠ¡</title>
      <link href="/2023/12/23/ssh-yuan-cheng-guan-li-fu-wu/"/>
      <url>/2023/12/23/ssh-yuan-cheng-guan-li-fu-wu/</url>
      
        <content type="html"><![CDATA[<h1 id="SSHè¿œç¨‹ç®¡ç†æœåŠ¡"><a href="#SSHè¿œç¨‹ç®¡ç†æœåŠ¡" class="headerlink" title="SSHè¿œç¨‹ç®¡ç†æœåŠ¡"></a>SSHè¿œç¨‹ç®¡ç†æœåŠ¡</h1><h1 id="ä¸€ã€SSHæ¦‚è¿°"><a href="#ä¸€ã€SSHæ¦‚è¿°" class="headerlink" title="ä¸€ã€SSHæ¦‚è¿°"></a>ä¸€ã€SSHæ¦‚è¿°</h1><p>â€‹     ç†Ÿæ‚‰Linuxçš„äººé‚£è‚¯å®šéƒ½å¯¹SSHä¸é™Œç”Ÿã€‚sshæ˜¯ä¸€ç§ç”¨äºå®‰å…¨è®¿é—®è¿œç¨‹æœåŠ¡å™¨çš„åè®®ï¼Œè¿œç¨‹ç®¡ç†å·¥å…·ã€‚å®ƒä¹‹æ‰€ä»¥é›†ä¸‡åƒå® çˆ±ä¸ºä¸€èº«ï¼Œå°±æ˜¯å› ä¸ºå®ƒçš„å®‰å…¨æ€§ã€‚é‚£ä¹ˆå®ƒåˆ°åº•æ˜¯æ€ä¹ˆæ ·æ¥ä¿è¯å®‰å…¨çš„å‘¢ï¼Ÿåˆ°åº•æ˜¯å¦‚ä½•å·¥ä½œçš„å‘¢ï¼Ÿ</p><h2 id="1ã€åŠ å¯†ç®—æ³•ï¼ˆäº†è§£ï¼‰"><a href="#1ã€åŠ å¯†ç®—æ³•ï¼ˆäº†è§£ï¼‰" class="headerlink" title="1ã€åŠ å¯†ç®—æ³•ï¼ˆäº†è§£ï¼‰"></a>1ã€åŠ å¯†ç®—æ³•ï¼ˆäº†è§£ï¼‰</h2><h3 id="â˜†-å¯¹ç§°åŠ å¯†ç®—æ³•-DES"><a href="#â˜†-å¯¹ç§°åŠ å¯†ç®—æ³•-DES" class="headerlink" title="â˜† å¯¹ç§°åŠ å¯†ç®—æ³•(DES)"></a>â˜† å¯¹ç§°åŠ å¯†ç®—æ³•(DES)</h3><p><img src="/../assets/blog_res/SSH%E8%BF%9C%E7%A8%8B%E7%AE%A1%E7%90%86%E6%9C%8D%E5%8A%A1.assets/image-20200523093832693.png" alt="image-20200523093832693"></p><ol><li>Jackæƒ³è¦ç»™Harryå‘é€ä¿¡æ¯ä¸€ä¸ªä¿¡æ¯ï¼¡ï¼Œä¸ºäº†å®‰å…¨èµ·è§ï¼ŒJackä½¿ç”¨ä¸€ç§åŠ å¯†ç®—æ³•ï¼Œæ¯”å¦‚ç»™ä¿¡æ¯é€šè¿‡åŠ ä¸€ä¸ªæ•°å­—Bå¾—åˆ°ä¸€ä¸ªæ–°çš„æ•°å­—Cï¼Œç„¶åä»¥å…¬å¼€çš„æ–¹å¼å‘é€ç»™Harry</li><li>Harryæ¥å—åˆ°æ•°å­—Cåï¼Œé€šè¿‡å‡å»ä¸€ä¸ªæ•°å­—Bå¾—åˆ°æœ€ç»ˆçš„çœŸæ­£çš„ä¿¡æ¯A</li><li>Jackå‘é€ç»™Harryçš„ä¿¡æ¯Aç§°ä¸ºæ˜æ–‡ï¼›åŠ å¯†åçš„ä¿¡æ¯Cç§°ä¸ºå¯†æ–‡ï¼›åŠ å¯†ç”¨çš„Bç§°ä¹‹ä¸ºå¯†é’¥</li><li>åŠ å¯†ç®—æ³•ï¼ˆæ–¹æ³•ï¼‰å¯ä»¥å¾ˆå¤æ‚ï¼Œä¸ä¸€å®šæ˜¯åŠ å’Œå‡ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¹˜å’Œé™¤ç­‰ç­‰</li><li>ä»¥ä¸Šè¿‡ç¨‹ä¸­ï¼ŒåŠ å¯†å’Œè§£å¯†çš„ç§˜é’¥æ˜¯åŒä¸€ä¸ªå¯†é’¥B</li></ol><p><strong>æ€»ç»“ï¼š</strong></p><ol><li>å‘é€æ–¹ä½¿ç”¨**==å¯†é’¥==<strong>å°†==<strong>æ˜æ–‡æ•°æ®</strong>==åŠ å¯†æˆ</strong>==å¯†æ–‡==**ï¼Œç„¶åå‘é€å‡ºå»</li><li>æ¥æ”¶æ–¹æ”¶åˆ°å¯†æ–‡åï¼Œä½¿ç”¨==åŒä¸€ä¸ªå¯†é’¥==å°†å¯†æ–‡è§£å¯†æˆæ˜æ–‡è¿›è¡Œè¯»å–</li></ol><h3 id="â˜†-éå¯¹ç§°åŠ å¯†ç®—æ³•-RSA"><a href="#â˜†-éå¯¹ç§°åŠ å¯†ç®—æ³•-RSA" class="headerlink" title="â˜† éå¯¹ç§°åŠ å¯†ç®—æ³•(RSA)"></a>â˜† éå¯¹ç§°åŠ å¯†ç®—æ³•(RSA)</h3><p><img src="/../assets/blog_res/SSH%E8%BF%9C%E7%A8%8B%E7%AE%A1%E7%90%86%E6%9C%8D%E5%8A%A1.assets/image-20200523095219704.png" alt="image-20200523095219704"></p><ol><li>é¦–å…ˆHarryç”Ÿæˆä¸€å¯¹æœ‰ç›¸äº’å…³ç³»çš„å¯†é’¥å¯¹ï¼Œæ¯”å¦‚eï¼ˆå…¬é’¥ï¼‰å’Œfï¼ˆç§é’¥ï¼‰ï¼›å…¶ä¸­å…¬é’¥æ˜¯å¯ä»¥å…¬å¼€ç»™æ‰€æœ‰äººçš„ï¼Œç§é’¥å¿…é¡»Harryæœ¬äººç§è‡ªç•™å­˜ï¼Œä¸å¾—æ³„éœ²ã€‚</li><li>å½“Jackå‘é€è¯·æ±‚æ—¶ï¼ŒHarryä¼šæŠŠè‡ªå·±çš„å…¬é’¥eå‘é€ç»™Jack</li><li>Jackæ‹¿ç€Harryçš„å…¬é’¥eé€šè¿‡ä¸€ç§åŠ å¯†ç®—æ³•å°†ä¿¡æ¯ï¼¡åŠ å¯†æˆå¯†æ–‡ï¼£ï¼Œä»¥å…¬å¼€çš„æ–¹å¼å‘é€ç»™Harry</li><li>Harryæ”¶åˆ°å¯†æ–‡ï¼£åï¼Œé€šè¿‡è‡ªå·±æœ¬åœ°ç•™å­˜çš„ç§é’¥ï½†å°†å¯†æ–‡è§£å¯†æˆæœ€ç»ˆçš„ä¿¡æ¯A</li><li>ä»¥ä¸Šè¿‡ç¨‹ä¸­ï¼ŒåŠ å¯†ä½¿ç”¨çš„æ˜¯å…¬é’¥eï¼Œè§£å¯†ä½¿ç”¨çš„æ˜¯ç§é’¥fï¼›ä½¿ç”¨ä¸åŒçš„ç§˜é’¥åŠ è§£å¯†</li></ol><p><strong>æ€»ç»“ï¼š</strong></p><ol><li>å‘é€æ–¹ä½¿ç”¨æ¥æ”¶æ–¹å‘é€è¿‡æ¥çš„**==å…¬é’¥==<strong>å°†==<strong>æ˜æ–‡æ•°æ®</strong>==åŠ å¯†æˆ</strong>==å¯†æ–‡==**ï¼Œç„¶åå‘é€å‡ºå»</li><li>æ¥æ”¶æ–¹æ”¶åˆ°å¯†æ–‡åï¼Œä½¿ç”¨è‡ªå·±æœ¬åœ°ç•™å­˜çš„==<strong>ç§é’¥</strong>==å°†å¯†æ–‡è§£å¯†æˆæ˜æ–‡è¿›è¡Œè¯»å–</li></ol><h3 id="â˜†-å¯¹ç§°åŠ å¯†ä¸éå¯¹ç§°åŠ å¯†åŒºåˆ«"><a href="#â˜†-å¯¹ç§°åŠ å¯†ä¸éå¯¹ç§°åŠ å¯†åŒºåˆ«" class="headerlink" title="â˜† å¯¹ç§°åŠ å¯†ä¸éå¯¹ç§°åŠ å¯†åŒºåˆ«"></a>â˜† å¯¹ç§°åŠ å¯†ä¸éå¯¹ç§°åŠ å¯†åŒºåˆ«</h3><ul><li>==<strong>å¯¹ç§°åŠ å¯†</strong>==<ol><li>ä½¿ç”¨==åŒä¸€ä¸ªå¯†é’¥==è¿›è¡ŒåŠ å¯†å’Œè§£å¯†ï¼Œå¯†é’¥å®¹æ˜“æ³„éœ²</li><li>==åŠ å¯†é€Ÿåº¦å¿«==ï¼Œæ•ˆç‡é«˜ï¼Œ==æ•°æ®ä¼ è¾“==é€Ÿåº¦==å¿«==ï¼Œå®‰å…¨æ€§è¾ƒ==ä½==</li></ol></li><li>==<strong>éå¯¹ç§°åŠ å¯†</strong>==<ol><li>ä½¿ç”¨==ä¸åŒçš„å¯†é’¥==ï¼ˆå…¬é’¥å’Œç§é’¥ï¼‰è¿›è¡ŒåŠ å¯†å’Œè§£å¯†</li><li>==åŠ å¯†é€Ÿåº¦==è¿œè¿œ==æ…¢==äºå¯¹ç§°åŠ å¯†ï¼Œ==æ•°æ®ä¼ è¾“==é€Ÿåº¦==æ…¢==ï¼Œå®‰å…¨æ€§è¾ƒ==é«˜==</li></ol></li></ul><h2 id="2ã€ç¯å¢ƒå‡†å¤‡ï¼ˆä»»åŠ¡èƒŒæ™¯ï¼‰"><a href="#2ã€ç¯å¢ƒå‡†å¤‡ï¼ˆä»»åŠ¡èƒŒæ™¯ï¼‰" class="headerlink" title="2ã€ç¯å¢ƒå‡†å¤‡ï¼ˆä»»åŠ¡èƒŒæ™¯ï¼‰"></a>2ã€ç¯å¢ƒå‡†å¤‡ï¼ˆä»»åŠ¡èƒŒæ™¯ï¼‰</h2><p>ç¬¬ä¸€æ­¥ï¼šæŠŠç°æœ‰çš„CentOS7æ“ä½œç³»ç»Ÿæ¢å¤å¿«ç…§ï¼ˆåˆšè£…å®Œç³»ç»Ÿçš„LinuxæœåŠ¡å™¨ï¼‰ =&gt; æ¯æœºï¼ˆæ¨¡æ¿æœºï¼‰</p><p>ç¬¬äºŒæ­¥ï¼šå¯¹CentOS7æ“ä½œç³»ç»Ÿè¿›è¡Œå…‹éš†ï¼Œç”ŸæˆJumpServerä¸RealServerï¼ˆçº¿ä¸Šç”Ÿäº§æœåŠ¡å™¨ï¼‰</p><table><thead><tr><th>ç¼–å·</th><th>IPåœ°å€</th><th>ä¸»æœºåç§°</th><th>è§’è‰²ä¿¡æ¯</th></tr></thead><tbody><tr><td>1</td><td>10.1.1.37(NAT)<br>11.1.1.10(ä»…ä¸»æœº)</td><td>jumpserver.itcast.cn</td><td>JumpServer</td></tr><tr><td>2</td><td>11.1.1.100(ä»…ä¸»æœº)</td><td>realserver.itcast.cn</td><td>RealServer</td></tr></tbody></table><h2 id="3ã€SSHåŸºäºç”¨æˆ·åå¯†ç çš„è®¤è¯åŸç†"><a href="#3ã€SSHåŸºäºç”¨æˆ·åå¯†ç çš„è®¤è¯åŸç†" class="headerlink" title="3ã€SSHåŸºäºç”¨æˆ·åå¯†ç çš„è®¤è¯åŸç†"></a>3ã€SSHåŸºäºç”¨æˆ·åå¯†ç çš„è®¤è¯åŸç†</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ssh [é€‰é¡¹] è¿œç¨‹æœåŠ¡å™¨çš„ç”¨æˆ·å@è¿œç¨‹æœåŠ¡å™¨çš„IPåœ°å€é€‰é¡¹è¯´æ˜ï¼š-pï¼šæŒ‡å®šsshæœåŠ¡çš„ç«¯å£å·ï¼Œé»˜è®¤ä¸º22<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šé€šè¿‡JumpServerä¸RealServerè¿œç¨‹è¿æ¥ï¼Œäº†è§£SSHåŸºäºç”¨æˆ·åå¯†ç çš„è®¤è¯åŸç†</p><p>JumpServerï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ssh root@10.1.1.38<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è®¤è¯åŸç†ï¼š</p><p><img src="/../assets/blog_res/SSH%E8%BF%9C%E7%A8%8B%E7%AE%A1%E7%90%86%E6%9C%8D%E5%8A%A1.assets/image-20200523112338294.png" alt="image-20200523112338294"></p><ol><li><p>SSHå®¢æˆ·ç«¯å‘SSHæœåŠ¡ç«¯å‘èµ·ä¸€ä¸ªç™»å½•è¯·æ±‚</p></li><li><p>SSHæœåŠ¡ç«¯å°†è‡ªå·±çš„å…¬é’¥å‘é€ç»™SSHå®¢æˆ·ç«¯</p><p>æ³¨æ„ï¼šå¦‚æœæ˜¯ç¬¬ä¸€æ¬¡è®¿é—®ï¼Œåˆ™æç¤ºä»¥ä¸‹å†…å®¹ï¼š</p></li></ol><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># sshè¿œç¨‹ç™»å½•æ“ä½œ é¦–æ¬¡ssh 192.168.19.101# æ˜¾ç¤ºç»“æœ# æ— æ³•ç¡®è®¤ä¸»æœºçš„çœŸå®æ€§The authenticity of host '192.168.19.101 (192.168.19.101)' can't be established.ECDSA key fingerprint is SHA256:Y/cQNWWkX15o2MsJ5HOQBI2m8S33qIA+x3zys8J4pOY.ECDSA key fingerprint is MD5:76:61:86:8b:d5:ee:bf:9c:60:e6:12:fa:f6:f0:74:36.Are you sure you want to continue connecting (yes/no)?yesWarning: Permanently added '192.168.19.101' (ECDSA) to the list of known hosts.#è¯´æ˜ï¼š#å½“å®¢æˆ·ç«¯è¾“å…¥yesç¡®è®¤å¯¹æ–¹çš„å…¬é’¥æŒ‡çº¹å,serverç«¯çš„å…¬é’¥å°±ä¼šè¢«å­˜æ”¾åˆ°å®¢æˆ·æœºçš„ç”¨æˆ·å®¶ç›®å½•é‡Œ~/.ssh/known_hostsæ–‡ä»¶ä¸­ï¼Œä¸‹æ¬¡å†è®¿é—®å°±ç›´æ¥é€šè¿‡å¯†ç ç™»å½•ï¼Œä¸éœ€è¦å†ç¡®è®¤å…¬é’¥ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol><li><p>SSHå®¢æˆ·ç«¯ä½¿ç”¨æœåŠ¡ç«¯å‘è¿‡æ¥çš„å…¬é’¥å°†è‡ªå·±çš„å¯†ç åŠ å¯†å¹¶ä¸”å‘é€ç»™SSHæœåŠ¡ç«¯</p></li><li><p>SSHæœåŠ¡ç«¯æ”¶åˆ°SSHå®¢æˆ·ç«¯å‘è¿‡æ¥çš„åŠ å¯†å¯†ç åä½¿ç”¨æœ¬åœ°ç•™å­˜çš„ç§é’¥è¿›è¡Œè§£å¯†</p></li><li><p>SSHæœåŠ¡ç«¯å°†è§£å¯†å‡ºæ¥çš„å¯†ç å’Œ<code>/etc/shadow</code>æ–‡ä»¶é‡Œçš„ç”¨æˆ·å¯†ç å¯¹æ¯”è®¤è¯</p></li><li><p>SSHæœåŠ¡ç«¯è®¤è¯æˆåŠŸï¼Œåˆ™è¿”å›ç™»å½•æˆåŠŸç»“æœï¼Œå¹¶å‘é€ä¸€ä¸ªéšæœºä¼šè¯å£ä»¤ç»™å®¢æˆ·ç«¯ï¼Œè¯¥å£ä»¤ç”¨äºåé¢ä¸¤å°ä¸»æœºè¿›è¡Œæ•°æ®ä¼ è¾“çš„ä¸€ä¸ªä¸´æ—¶åŠ å¯†ä¼šè¯å£ä»¤</p></li></ol><h2 id="4ã€SSHæ€»ç»“"><a href="#4ã€SSHæ€»ç»“" class="headerlink" title="4ã€SSHæ€»ç»“"></a>4ã€SSHæ€»ç»“</h2><ul><li>SSHæ˜¯Linuxä¸‹è¿œç¨‹ç®¡ç†çš„å·¥å…·ï¼Œç›¸æ¯”Telnetå®‰å…¨ï¼Œè¿ç»´äººå‘˜å¿…å¤‡çš„ç¥å™¨ï¼</li><li>SSHçš„å…¨ç§°Secure Shellï¼Œå®‰å…¨çš„shellï¼Œæ˜¯Client/Serveræ¶æ„ï¼Œé»˜è®¤==ç«¯å£å·ä¸º22ï¼ŒTCPåè®®==</li><li>SSHå…¶å®ç”¨äºå•†ä¸šï¼Œè€ŒOpenSSHå³ä¸ºå¼€æºçš„ï¼Œåœ¨Linuxä¸­é»˜è®¤å®‰è£…</li></ul><h1 id="äºŒã€SSHæœåŠ¡æ­å»º"><a href="#äºŒã€SSHæœåŠ¡æ­å»º" class="headerlink" title="äºŒã€SSHæœåŠ¡æ­å»º"></a>äºŒã€SSHæœåŠ¡æ­å»º</h1><h2 id="1ã€æ‰€æœ‰æœåŠ¡çš„æ­å»ºæ€è·¯"><a href="#1ã€æ‰€æœ‰æœåŠ¡çš„æ­å»ºæ€è·¯" class="headerlink" title="1ã€æ‰€æœ‰æœåŠ¡çš„æ­å»ºæ€è·¯"></a>1ã€æ‰€æœ‰æœåŠ¡çš„æ­å»ºæ€è·¯</h2><ul><li>å…³é—­é˜²ç«å¢™å’Œselinux(å®éªŒç¯å¢ƒéƒ½å…ˆå…³é—­æ‰)</li><li>é…ç½®yumæº(å…¬ç½‘æºæˆ–è€…æœ¬åœ°æº)</li><li>è½¯ä»¶å®‰è£…å’Œæ£€æŸ¥</li><li>äº†è§£å¹¶ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼ˆæ ¸å¿ƒï¼‰</li><li>å¯åŠ¨æœåŠ¡æ£€æŸ¥è¿è¡ŒçŠ¶æ€å¹¶è®¾ç½®å¼€æœºè‡ªå¯åŠ¨</li></ul><h2 id="2ã€æ­å»ºSSHæœåŠ¡å™¨ï¼ˆJumpServerä¸RealServerï¼‰"><a href="#2ã€æ­å»ºSSHæœåŠ¡å™¨ï¼ˆJumpServerä¸RealServerï¼‰" class="headerlink" title="2ã€æ­å»ºSSHæœåŠ¡å™¨ï¼ˆJumpServerä¸RealServerï¼‰"></a>2ã€æ­å»ºSSHæœåŠ¡å™¨ï¼ˆJumpServerä¸RealServerï¼‰</h2><p>ç¬¬ä¸€æ­¥ï¼šå…³é—­é˜²ç«å¢™ä¸SELinux</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl stop firewalld# systemctl disable firewalld# setenforce 0# vim /etc/selinux/configSELINUX=disabled<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬äºŒæ­¥ï¼šé…ç½®YUMæº</p><p><img src="/../assets/blog_res/SSH%E8%BF%9C%E7%A8%8B%E7%AE%A1%E7%90%86%E6%9C%8D%E5%8A%A1.assets/image-20200523142205752.png" alt="image-20200523142205752"></p><p>JumpServeré…ç½®å¤–ç½‘YUMæº =&gt; é˜¿é‡Œäº‘</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup# wget -O /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo# yum clean all# yum makecache<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>RealServeré…ç½®æœ¬åœ°YUMæº =&gt; æŠŠå…‰ç›˜é•œåƒä½œä¸ºä»“åº“ï¼ˆè‡ªå»ºYUMä»“åº“ï¼‰</p><p>â‘  æŒ‚è½½å…‰ç›˜</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mkdir /mnt/cdrom# mount -o ro /dev/sr0 /mnt/cdrom# chmod +x /etc/rc.local# echo 'mount -o ro /dev/sr0 /mnt/cdrom' &gt;&gt; /etc/rc.local<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â‘¡ ç¼–å†™local.repoæ–‡ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cd /etc/yum.repos.d# vim local.repo[local]name=local yumbaseurl=file:///mnt/cdromenabled=1gpgcheck=0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="3ã€VMwareä¸­çš„ä¸‰ç§ç½‘ç»œ"><a href="#3ã€VMwareä¸­çš„ä¸‰ç§ç½‘ç»œ" class="headerlink" title="3ã€VMwareä¸­çš„ä¸‰ç§ç½‘ç»œ"></a>3ã€VMwareä¸­çš„ä¸‰ç§ç½‘ç»œ</h2><p><img src="/../assets/blog_res/SSH%E8%BF%9C%E7%A8%8B%E7%AE%A1%E7%90%86%E6%9C%8D%E5%8A%A1.assets/image-20200523145610295.png" alt="image-20200523145610295"></p><p> <img src="/../assets/blog_res/SSH%E8%BF%9C%E7%A8%8B%E7%AE%A1%E7%90%86%E6%9C%8D%E5%8A%A1.assets/image-20200523145635628.png" alt="image-20200523145635628"></p><p>ç”±ä¸Šå›¾å¯çŸ¥ï¼šåœ¨VMwareä¸­ï¼Œä¸€å…±å­˜åœ¨3ç§ç½‘ç»œæ¨¡å¼ã€‚</p><table><thead><tr><th>é€‰æ‹©ç½‘ç»œè¿æ¥å±æ€§</th><th>æ„ä¹‰</th></tr></thead><tbody><tr><td>Use bridged networkingï¼ˆä½¿ç”¨æ¡¥æ¥ç½‘ç»œï¼‰</td><td>ä½¿ç”¨ï¼ˆè¿æ¥ï¼‰VMnet0è™šæ‹Ÿäº¤æ¢æœºï¼Œæ­¤æ—¶è™šæ‹Ÿæœºç›¸å½“äºç½‘ç»œä¸Šçš„ä¸€å°ç‹¬ç«‹è®¡ç®—æœºï¼Œä¸ä¸»æœºä¸€æ ·ï¼Œæ‹¥æœ‰ä¸€ä¸ªç‹¬ç«‹çš„IPåœ°å€</td></tr><tr><td>Use network address translationï¼ˆNATï¼‰ï¼ˆä½¿ç”¨NATç½‘ç»œï¼‰</td><td>ä½¿ç”¨ï¼ˆè¿æ¥ï¼‰VMnet8è™šæ‹Ÿäº¤æ¢æœºï¼Œæ­¤æ—¶è™šæ‹Ÿæœºå¯ä»¥é€šè¿‡ä¸»æœºå•å‘è®¿é—®ç½‘ç»œä¸Šçš„å…¶ä»–å·¥ä½œç«™ï¼ˆåŒ…æ‹¬Internetç½‘ç»œï¼‰ï¼Œå…¶ä»–å·¥ä½œç«™ä¸èƒ½è®¿é—®è™šæ‹Ÿæœº</td></tr><tr><td>Use Host-Only networkingï¼ˆä»…ä¸»æœºç½‘ç»œï¼‰</td><td>ä½¿ç”¨ï¼ˆè¿æ¥ï¼‰VMnet1è™šæ‹Ÿäº¤æ¢æœºï¼Œæ­¤æ—¶è™šæ‹Ÿæœºåªèƒ½ä¸è™šæ‹Ÿæœºã€ä¸»æœºäº’è¿ï¼Œä¸ç½‘ç»œä¸Šçš„å…¶ä»–å·¥ä½œç«™ä¸èƒ½è®¿é—®</td></tr></tbody></table><p>VMnet0 æ¡¥æ¥æ¨¡å¼ ï¼š å’Œç‰©ç†çœŸæœºè¿æ¥åœ¨åŒä¸€äº¤æ¢æœºï¼Œç›¸å½“äºç³»ç»Ÿä¸Windowså¤„äºåŒä¸€ä¸ªç½‘æ®µ</p><p>â‘  ä¸ç‰©ç†çœŸæœºåŒç½‘æ®µï¼Œå¦‚192.168.43.X</p><p>â‘¡ æ¡¥æ¥æ¨¡å¼å¯ä»¥è¿æ¥å¤–ç½‘ï¼ˆæœ‰ç½‘ç»œï¼‰</p><p>æ¡¥æ¥æ¨¡å¼ä¸­ï¼ŒLinuxç³»ç»Ÿå°±ç›¸å½“äºä¸€å°ç‹¬ç«‹çš„è®¡ç®—æœºï¼Œä¸Windowsç‰©ç†çœŸæœºå¤„äºåŒä¸€ä¸ªç½‘ç»œç¯å¢ƒä¸­ã€‚</p><p><img src="/../assets/blog_res/SSH%E8%BF%9C%E7%A8%8B%E7%AE%A1%E7%90%86%E6%9C%8D%E5%8A%A1.assets/image-20200523152614843.png" alt="image-20200523152614843"></p><p><img src="/../assets/blog_res/SSH%E8%BF%9C%E7%A8%8B%E7%AE%A1%E7%90%86%E6%9C%8D%E5%8A%A1.assets/image-20200523155503251.png" alt="image-20200523155503251"></p><p>VMnet1 ä»…ä¸»æœºæ¨¡å¼ï¼šå°é—­çš„ç½‘ç»œç¯å¢ƒï¼Œä»…èƒ½ä¸Windowsç‰©ç†çœŸæœºè¿›è¡Œè¿æ¥ã€‚æ— æ³•è¿æ¥å¤–ç½‘</p><p>â‘  ä¸ç‰©ç†çœŸæœºä¸åœ¨åŒä¸€ä¸ªç½‘æ®µï¼Œæ‹¥æœ‰ç‹¬ç«‹çš„IPç½‘æ®µ</p><p>â‘¡ ä»…ä¸»æœºæ¨¡å¼ä»…èƒ½ç”¨äºå†…éƒ¨è¿é€šï¼ˆVMware=&gt;JumpServerã€RealServerï¼‰</p><p>â‘¢ ä»…ä¸»æœºæ¨¡å¼æ— æ³•è¿æ¥å¤–ç½‘</p><p><img src="/../assets/blog_res/SSH%E8%BF%9C%E7%A8%8B%E7%AE%A1%E7%90%86%E6%9C%8D%E5%8A%A1.assets/image-20200523152724509.png" alt="image-20200523152724509"></p><p><img src="/../assets/blog_res/SSH%E8%BF%9C%E7%A8%8B%E7%AE%A1%E7%90%86%E6%9C%8D%E5%8A%A1.assets/image-20200523160615196.png" alt="image-20200523160615196"></p><p>VMnet8 NATæ¨¡å¼ï¼šç›¸å½“äºä¸€ä¸ªç‹¬ç«‹çš„ç½‘ç»œç¯å¢ƒï¼Œä¸ç‰©ç†çœŸæœºä¸å¤„äºåŒä¸€ä¸ªç½‘æ®µã€‚ä½†æ˜¯å…¶å¯ä»¥é€šè¿‡è™šæ‹Ÿç½‘ç»œè·¯ç”±å™¨ï¼ˆNATåœ°å€è½¬åŒ–ï¼‰è¿æ¥å¤–ç½‘ã€‚</p><p>â‘   ä¸ç‰©ç†çœŸæœºä¸åœ¨åŒä¸€ä¸ªç½‘æ®µï¼Œæ‹¥æœ‰ç‹¬ç«‹çš„IPç½‘æ®µ</p><p>â‘¡ ä¸ä»…å¯ä»¥è¿›è¡Œå†…éƒ¨è¿æ¥ï¼ˆVMware=&gt; CentOS6ã€CentOS7ï¼‰</p><p>â‘¢ æ‹¥æœ‰ä¸€ä¸ªè™šæ‹Ÿçš„è·¯ç”±å™¨ï¼ˆNATè®¾å¤‡ï¼‰å¯ä»¥è®©æˆ‘ä»¬è™šæ‹Ÿæœºè¿æ¥åˆ°å¤–ç½‘ç¯å¢ƒ</p><p><img src="/../assets/blog_res/SSH%E8%BF%9C%E7%A8%8B%E7%AE%A1%E7%90%86%E6%9C%8D%E5%8A%A1.assets/image-20200523153126141.png" alt="image-20200523153126141"></p><p><img src="/../assets/blog_res/SSH%E8%BF%9C%E7%A8%8B%E7%AE%A1%E7%90%86%E6%9C%8D%E5%8A%A1.assets/image-20200523162436168.png" alt="image-20200523162436168"></p><h2 id="4ã€é™æ€IPé…ç½®"><a href="#4ã€é™æ€IPé…ç½®" class="headerlink" title="4ã€é™æ€IPé…ç½®"></a>4ã€é™æ€IPé…ç½®</h2><h3 id="â˜†-JumpServerç½‘å¡é…ç½®"><a href="#â˜†-JumpServerç½‘å¡é…ç½®" class="headerlink" title="â˜† JumpServerç½‘å¡é…ç½®"></a>â˜† JumpServerç½‘å¡é…ç½®</h3><p>ç»™JumpServeré…ç½®ä¸¤å¼ ç½‘å¡ï¼ˆNATæ¨¡å¼ + ä»…ä¸»æœºæ¨¡å¼ï¼‰</p><p> <img src="/../assets/blog_res/SSH%E8%BF%9C%E7%A8%8B%E7%AE%A1%E7%90%86%E6%9C%8D%E5%8A%A1.assets/image-20200523163054314.png" alt="image-20200523163054314"></p><p>æ·»åŠ ä»…ä¸»æœºæ¨¡å¼ç½‘å¡ï¼š</p><p> <img src="/../assets/blog_res/SSH%E8%BF%9C%E7%A8%8B%E7%AE%A1%E7%90%86%E6%9C%8D%E5%8A%A1.assets/image-20200523163439258.png" alt="image-20200523163439258"></p><p>é‡å¯networkç½‘ç»œï¼Œç„¶åä½¿ç”¨ifconfigè·å–ä»…ä¸»æœºæ¨¡å¼çš„ç½‘å¡ä¿¡æ¯ã€‚</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl restart network# ifconfig<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><img src="/../assets/blog_res/SSH%E8%BF%9C%E7%A8%8B%E7%AE%A1%E7%90%86%E6%9C%8D%E5%8A%A1.assets/image-20200523163634762.png" alt="image-20200523163634762"></p><p>ç”±ä¸Šå›¾å¯çŸ¥ï¼Œä»…ä¸»æœºæ¨¡å¼çš„ç½‘å¡ä¸ºens37ï¼ŒNATæ¨¡å¼ç½‘å¡ä¸ºens33ã€‚é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œens37è¿™å¼ ç½‘å¡æ²¡æœ‰é…ç½®æ–‡ä»¶ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cd /etc/sysconfig/network-scripts/# ls<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ·»åŠ ens37é…ç½®æ–‡ä»¶ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cp ifcfg-ens33 ifcfg-ens37# vim ifcfg-ens37TYPE="Ethernet"BOOTPROTO="none"IPADDR=11.1.1.10NETMASK=255.255.255.0NAME="ens37"DEVICE="ens37"ONBOOT="yes"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é‡å¯è®¡ç®—æœºç½‘ç»œï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl restart network<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â˜†-å…³é—­NetworkManager"><a href="#â˜†-å…³é—­NetworkManager" class="headerlink" title="â˜† å…³é—­NetworkManager"></a>â˜† å…³é—­NetworkManager</h3><p>Linuxå›¾å½¢åŒ–ç•Œé¢ä¸­çš„ç½‘ç»œç®¡ç†å™¨ï¼Œæœ‰äº›æ—¶å€™æˆ‘ä»¬è®¾ç½®äº†é™æ€IPã€‚ä½†æ˜¯é‡å¯ç½‘ç»œåï¼Œå…¶å¹¶æ²¡æœ‰ç”Ÿæ•ˆæˆ–è€…å’Œä½ è®¾ç½®çš„IPåœ°å€ä¸ä¸€è‡´ï¼Œå¾ˆå¯èƒ½æ˜¯ç”±äºNetworkManagerå·¥å…·çš„å½±å“ã€‚</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl stop NetworkManager# systemctl disable NetworkManager<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="â˜†-RealServerç½‘å¡é…ç½®"><a href="#â˜†-RealServerç½‘å¡é…ç½®" class="headerlink" title="â˜† RealServerç½‘å¡é…ç½®"></a>â˜† RealServerç½‘å¡é…ç½®</h3><p>æŠŠNATæ¨¡å¼çš„ç½‘å¡æ›´æ”¹ä¸ºä»…ä¸»æœºæ¨¡å¼ï¼Œç„¶åè®¾ç½®ä¸€ä¸ªé™æ€IPåœ°å€ã€‚</p><p> <img src="/../assets/blog_res/SSH%E8%BF%9C%E7%A8%8B%E7%AE%A1%E7%90%86%E6%9C%8D%E5%8A%A1.assets/image-20200523170732237.png" alt="image-20200523170732237"></p><p>ç”±äºç°åœ¨åªæœ‰ä¸€å¼ ç½‘å¡ï¼Œæ‰€ä»¥ä»…ä¸»æœºæ¨¡å¼å¯¹åº”çš„ç½‘å¡ä¸ºens33ï¼Œé…ç½®ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/sysconfig/network-scripts/ifcfg-ens33TYPE="Ethernet"BOOTPROTO="none"IPADDR=11.1.1.100NETMASK=255.255.255.0NAME="ens33"DEVICE="ens33"ONBOOT="yes"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è®¾ç½®å®Œæˆåï¼Œé‡å¯è®¡ç®—æœºç½‘ç»œ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl stop NetworkManager# systemctl disable NetworkManager# systemctl restart network<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>live2Då®‰è£…æŒ‡å—</title>
      <link href="/2023/12/23/live2d-an-zhuang-zhi-nan/"/>
      <url>/2023/12/23/live2d-an-zhuang-zhi-nan/</url>
      
        <content type="html"><![CDATA[<h1 id="ä¸ªäººåšå®¢å®‰è£…live2dæ’ä»¶"><a href="#ä¸ªäººåšå®¢å®‰è£…live2dæ’ä»¶" class="headerlink" title="ä¸ªäººåšå®¢å®‰è£…live2dæ’ä»¶"></a>ä¸ªäººåšå®¢å®‰è£…live2dæ’ä»¶</h1><p>å‚è€ƒèµ„æ–™ï¼š</p><p><a href="https://polar-bear.eu.org/2023/06/27/wei-wang-zhan-tian-jia-live2d">ä¸ºç½‘ç«™æ·»åŠ live2D | polar-bearï½Blog</a></p><h3 id="ç¬¬ä¸€æ­¥ï¼Œå®‰è£…æ’ä»¶"><a href="#ç¬¬ä¸€æ­¥ï¼Œå®‰è£…æ’ä»¶" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼Œå®‰è£…æ’ä»¶"></a>ç¬¬ä¸€æ­¥ï¼Œå®‰è£…æ’ä»¶</h3><pre class="line-numbers language-none"><code class="language-none">npm install --save hexo-helper-live2d<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="ç¬¬äºŒæ­¥ï¼Œé€‰æ‹©å®‰è£…çš„æ¨¡å‹"><a href="#ç¬¬äºŒæ­¥ï¼Œé€‰æ‹©å®‰è£…çš„æ¨¡å‹" class="headerlink" title="ç¬¬äºŒæ­¥ï¼Œé€‰æ‹©å®‰è£…çš„æ¨¡å‹"></a>ç¬¬äºŒæ­¥ï¼Œé€‰æ‹©å®‰è£…çš„æ¨¡å‹</h3><pre class="line-numbers language-none"><code class="language-none">npm install live2d-widget-model-miku<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ­¤å¤„çš„ï¼šlive2d-widget-model-tororoå°±æ˜¯æ¨¡å‹å®‰è£…çš„åç§°</p><p>æ¨¡å‹æ•°é‡å¾ˆå¤šï¼Œä¸ªäººé€‰æ‹©çš„æ˜¯mikuçš„æ¨¡å‹ã€‚</p><p>æ•ˆæœå¦‚å›¾ï¼š</p><p><img src="/../assets/blog_res/live2D%E5%AE%89%E8%A3%85%E6%8C%87%E5%8D%97.assets/image-20231223123135263.png" alt="image-20231223123135263"></p><p>éqç‰ˆï¼Œæœ‰å…¶ä»–æ¨¡å‹äººç‰©é€‰æ‹©ï¼Œå¦‚å‚è€ƒçš„èµ„æ–™ä½œè€…é€‰æ‹©çš„å°±æ˜¯çŒ«çŒ«ã€‚</p><p>å…¶ä»–å¯é€‰æ’ä»¶æ¨¡å‹ï¼š</p><pre class="line-numbers language-none"><code class="language-none">live2d-widget-model-chitoselive2d-widget-model-epsilon2_1live2d-widget-model-gflive2d-widget-model-haru/01 (use npm install --save live2d-widget-model-haru)live2d-widget-model-haru/02 (use npm install --save live2d-widget-model-haru)live2d-widget-model-harutolive2d-widget-model-hibikilive2d-widget-model-hijikilive2d-widget-model-izumilive2d-widget-model-koharulive2d-widget-model-mikulive2d-widget-model-ni-jlive2d-widget-model-nicolive2d-widget-model-nietzschelive2d-widget-model-nipsilonlive2d-widget-model-nitolive2d-widget-model-shizukulive2d-widget-model-tororolive2d-widget-model-tsumikilive2d-widget-model-unitychanlive2d-widget-model-wankolive2d-widget-model-z16<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åªéœ€æ›¿æ¢åé¢çš„åç§°å³å¯ä¸‹è½½ã€‚</p><h3 id="ç¬¬ä¸‰æ­¥ï¼Œæ·»åŠ live2dçš„ä»£ç ä½¿å…¶è¿è¡Œåœ¨ç½‘ç«™åšå®¢ä¹‹ä¸­"><a href="#ç¬¬ä¸‰æ­¥ï¼Œæ·»åŠ live2dçš„ä»£ç ä½¿å…¶è¿è¡Œåœ¨ç½‘ç«™åšå®¢ä¹‹ä¸­" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼Œæ·»åŠ live2dçš„ä»£ç ä½¿å…¶è¿è¡Œåœ¨ç½‘ç«™åšå®¢ä¹‹ä¸­"></a>ç¬¬ä¸‰æ­¥ï¼Œæ·»åŠ live2dçš„ä»£ç ä½¿å…¶è¿è¡Œåœ¨ç½‘ç«™åšå®¢ä¹‹ä¸­</h3><p>åœ¨ç«™ç‚¹é…ç½®ä¸‹çš„_config.ymlæ–‡ä»¶ä¹‹ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</p><pre class="line-numbers language-none"><code class="language-none">live2d:  enable: true  scriptFrom: local  pluginRootPath: live2dw/  pluginJsPath: lib/  pluginModelPath: assets/  tagMode: false  debug: false  model:    use: live2d-widget-model-tororo #è¿™é‡Œæ”¹ä¸ºä½ æ¨¡å‹çš„åå­—  display:    position: right  #leftæ”¾å·¦ï¼Œrightæ”¾å³    width: 180    height: 300  mobile:    show: true  react:    opacity: 0.7<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä»¥ä¸‹æ˜¯ä»£ç çš„å‚æ•°å«ä¹‰ï¼Œå¼•ç”¨åŸæ–‡è§£é‡Šï¼š</p><pre class="line-numbers language-none"><code class="language-none">- `enable`ï¼šè®¾ç½®ä¸º `true` è¡¨ç¤ºå¯ç”¨Live2Dæ’ä»¶ï¼Œå…è®¸åœ¨ç½‘ç«™ä¸Šæ˜¾ç¤ºLive2Dæ¨¡å‹ã€‚- `scriptFrom`ï¼šè®¾ç½®ä¸º `local` è¡¨ç¤ºä»æœ¬åœ°åŠ è½½æ’ä»¶çš„JavaScriptæ–‡ä»¶ã€‚- `pluginRootPath`ï¼šLive2Dæ’ä»¶æ ¹ç›®å½•çš„è·¯å¾„ã€‚åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œè®¾ç½®ä¸º `live2dw/`ã€‚- `pluginJsPath`ï¼šæ’ä»¶JavaScriptæ–‡ä»¶å­˜æ”¾çš„è·¯å¾„ã€‚åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œè®¾ç½®ä¸º `lib/`ã€‚- `pluginModelPath`ï¼šLive2Dæ¨¡å‹æ–‡ä»¶å­˜æ”¾çš„è·¯å¾„ã€‚åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œè®¾ç½®ä¸º `assets/`ã€‚- `tagMode`ï¼šè®¾ç½®ä¸º `false` è¡¨ç¤ºä¸ä»¥æ ‡ç­¾å½¢å¼å±•ç¤ºLive2Dæ¨¡å‹ã€‚- `debug`ï¼šè®¾ç½®ä¸º `false` è¡¨ç¤ºå…³é—­è°ƒè¯•æ¨¡å¼ã€‚æ¥ä¸‹æ¥æ˜¯å…·ä½“çš„æ¨¡å‹ç›¸å…³è®¾ç½®ï¼š- `model.use`ï¼šæŒ‡å®šä½¿ç”¨çš„Live2Dæ¨¡å‹çš„åç§°ã€‚åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæ¨¡å‹åå­—è¢«è®¾ç½®ä¸º `live2d-widget-model-tororo`ï¼Œæ‚¨å¯ä»¥æ›´æ”¹ä¸ºæ‚¨æƒ³è¦ä½¿ç”¨çš„æ¨¡å‹çš„åå­—ã€‚- `display.position`ï¼šæŒ‡å®šLive2Dæ¨¡å‹åœ¨ç½‘é¡µä¸­çš„ä½ç½®ï¼Œå¯ä»¥è®¾ç½®ä¸º `left` æˆ– `right`ã€‚- `display.width`ï¼šæŒ‡å®šLive2Dæ¨¡å‹çš„å®½åº¦ã€‚- `display.height`ï¼šæŒ‡å®šLive2Dæ¨¡å‹çš„é«˜åº¦ã€‚æ¥ä¸‹æ¥æ˜¯ç§»åŠ¨è®¾å¤‡çš„æ˜¾ç¤ºè®¾ç½®ï¼š- `mobile.show`ï¼šè®¾ç½®ä¸º `true` è¡¨ç¤ºåœ¨ç§»åŠ¨è®¾å¤‡ä¸Šæ˜¾ç¤ºLive2Dæ¨¡å‹ã€‚æœ€åæ˜¯äº¤äº’ç›¸å…³è®¾ç½®ï¼š- `react.opacity`ï¼šæŒ‡å®šLive2Dæ¨¡å‹çš„é€æ˜åº¦ã€‚è¯·æ³¨æ„ï¼Œè¿™äº›å‚æ•°å¯ä»¥æ ¹æ®æ‚¨çš„éœ€æ±‚è¿›è¡Œè°ƒæ•´å’Œä¿®æ”¹ï¼Œä»¥é€‚åº”æ‚¨çš„ç½‘ç«™è®¾è®¡å’ŒLive2Dæ¨¡å‹çš„è¦æ±‚ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è®¾ç½®å¥½ä¹‹åè¿è¡Œå°±å¯ä»¥æ­£å¸¸æ˜¾ç¤ºäº†ï¼Œä¸­é€”æœªå‡ºç°ä»»ä½•é”™è¯¯ï¼Œæ„Ÿè°¢å¤§ä½¬polar-bearçš„æ•™ç¨‹ã€‚</p><p>è¿™é‡Œæ˜¯å¤§ä½¬çš„åšå®¢ï¼š<a href="https://polar-bear.eu.org/">polar-bearï½Blog - Websites that record life</a></p><p>è¿™é‡Œæ˜¯å¤§ä½¬çš„bç«™ï¼š<a href="https://space.bilibili.com/1326131544">é˜¿å·´å§å§å·´å•Šçš„ä¸ªäººç©ºé—´-é˜¿å·´å§å§å·´å•Šä¸ªäººä¸»é¡µ-å“”å“©å“”å“©è§†é¢‘ (bilibili.com)</a></p>]]></content>
      
      
      <categories>
          
          <category> blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
            <tag> live2d </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŠåŒæ­¥å¤åˆ¶ä¸MHAé«˜å¯ç”¨æ¶æ„è®¾è®¡</title>
      <link href="/2023/12/23/ban-tong-bu-fu-zhi-yu-mha-gao-ke-yong-jia-gou-she-ji/"/>
      <url>/2023/12/23/ban-tong-bu-fu-zhi-yu-mha-gao-ke-yong-jia-gou-she-ji/</url>
      
        <content type="html"><![CDATA[<h1 id="åŠåŒæ­¥å¤åˆ¶ä¸MHAé«˜å¯ç”¨æ¶æ„è®¾è®¡"><a href="#åŠåŒæ­¥å¤åˆ¶ä¸MHAé«˜å¯ç”¨æ¶æ„è®¾è®¡" class="headerlink" title="åŠåŒæ­¥å¤åˆ¶ä¸MHAé«˜å¯ç”¨æ¶æ„è®¾è®¡"></a>åŠåŒæ­¥å¤åˆ¶ä¸MHAé«˜å¯ç”¨æ¶æ„è®¾è®¡</h1><h1 id="ä¸€ã€åŠåŒæ­¥å¤åˆ¶"><a href="#ä¸€ã€åŠåŒæ­¥å¤åˆ¶" class="headerlink" title="ä¸€ã€åŠåŒæ­¥å¤åˆ¶"></a>ä¸€ã€åŠåŒæ­¥å¤åˆ¶</h1><h2 id="1ã€ä»€ä¹ˆæ˜¯åŠåŒæ­¥å¤åˆ¶"><a href="#1ã€ä»€ä¹ˆæ˜¯åŠåŒæ­¥å¤åˆ¶" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯åŠåŒæ­¥å¤åˆ¶"></a>1ã€ä»€ä¹ˆæ˜¯åŠåŒæ­¥å¤åˆ¶</h2><p><img src="/../assets/blog_res/%E5%8D%8A%E5%90%8C%E6%AD%A5%E5%A4%8D%E5%88%B6%E4%B8%8EMHA%E9%AB%98%E5%8F%AF%E7%94%A8%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1.assets/image-20200901093404443.png" alt="image-20200901093404443"></p><p>æ‰€è°“çš„åŠåŒæ­¥å¤åˆ¶å°±æ˜¯masteræ¯commitä¸€ä¸ªäº‹åŠ¡(ç®€å•æ¥è¯´å°±æ˜¯åšä¸€ä¸ªæ”¹å˜æ•°æ®çš„æ“ä½œï¼‰,è¦ç¡®ä¿slaveæ¥å—å®Œä¸»æœåŠ¡å™¨å‘é€çš„binlogæ—¥å¿—æ–‡ä»¶==å¹¶å†™å…¥åˆ°è‡ªå·±çš„ä¸­ç»§æ—¥å¿—relay logé‡Œ==ï¼Œç„¶åä¼šç»™masterä¿¡å·ï¼Œå‘Šè¯‰å¯¹æ–¹å·²ç»æ¥æ”¶å®Œæ¯•ï¼Œè¿™æ ·masteræ‰èƒ½æŠŠäº‹ç‰©æˆåŠŸ==commit==ã€‚è¿™æ ·å°±ä¿è¯äº†master-slaveçš„==æ•°æ®ç»å¯¹çš„ä¸€è‡´==ï¼ˆä½†æ˜¯ä»¥ç‰ºç‰²==masterçš„æ€§èƒ½ä¸ºä»£ä»·==).ä½†ç­‰å¾…æ—¶é—´ä¹Ÿæ˜¯å¯ä»¥è°ƒæ•´çš„ã€‚</p><h2 id="2ã€åŠåŒæ­¥å¤åˆ¶çš„åŸºæœ¬å®ç°"><a href="#2ã€åŠåŒæ­¥å¤åˆ¶çš„åŸºæœ¬å®ç°" class="headerlink" title="2ã€åŠåŒæ­¥å¤åˆ¶çš„åŸºæœ¬å®ç°"></a>2ã€åŠåŒæ­¥å¤åˆ¶çš„åŸºæœ¬å®ç°</h2><p>ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡ä¸€å¥—M-Sçš„ä¸»ä»æ¶æ„ï¼ˆå»ºè®®ä½¿ç”¨åŸºäºGTIDsæ¶æ„è®¾è®¡ï¼‰</p><p>ç¬¬äºŒæ­¥ï¼šç»™MASTERä¸SLAVEå®‰è£…pluginæ’ä»¶(`$basedir/lib/plugin/)</p><p>MASTERï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; install plugin rpl_semi_sync_master soname 'semisync_master.so';mysql&gt; show global variables like 'rpl_semi_sync%';<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>SLAVEï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; install plugin rpl_semi_sync_slave soname 'semisync_slave.so';mysql&gt; show global variables like 'rpl_semi_sync%';<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç¬¬ä¸‰æ­¥ï¼šæ¿€æ´»MASTERä¸SLAVEæœåŠ¡å™¨ä¸­çš„åŠåŒæ­¥å¤åˆ¶æ’ä»¶</p><p>MASTERï¼š</p> <pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; set global rpl_semi_sync_master_enabled=on;mysql&gt; show global status like 'rpl_semi_sync%';<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>SLAVEï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; set global rpl_semi_sync_slave_enabled=on;mysql&gt; show global variables like 'rpl_semi_sync%';<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç¬¬å››æ­¥ï¼šåœ¨SLAVEæœåŠ¡å™¨ä¸­é‡å¯IOçº¿ç¨‹</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; stop slave IO_THREAD;mysql&gt; start slave IO_THREAD;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç¬¬äº”æ­¥ï¼šæµ‹è¯•éªŒè¯åŠåŒæ­¥å¤åˆ¶</p><p>å½“slaveä»åº“çš„IO_Thread çº¿ç¨‹å°†binlogæ—¥å¿—æ¥å—å®Œæ¯•åï¼Œè¦ç»™masterä¸€ä¸ªç¡®è®¤ï¼Œå¦‚æœè¶…è¿‡10sæœªæ”¶åˆ°slaveçš„æ¥æ”¶ç¡®è®¤ä¿¡å·ï¼Œé‚£ä¹ˆå°±ä¼šè‡ªåŠ¨è½¬æ¢ä¸ºä¼ ç»Ÿçš„å¼‚æ­¥å¤åˆ¶æ¨¡å¼ã€‚</p><p>1ï¼‰masteræ’å…¥ä¸€æ¡è®°å½•ï¼ŒæŸ¥çœ‹slaveæ˜¯å¦æœ‰æˆåŠŸè¿”å›</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; insert into db_itheima.tb_student values (null,'j');mysql&gt; show global status like 'rpl_semi_sync%_yes_tx'; +-----------------------------+-------+| Variable_name               | Value |+-----------------------------+-------+| Rpl_semi_sync_master_yes_tx |  1    |è¡¨ç¤ºè¿™æ¬¡äº‹ç‰©æˆåŠŸä»slaveè¿”å›ä¸€æ¬¡ç¡®è®¤ä¿¡å·+-----------------------------+-------+<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>2ï¼‰æ¨¡æ‹ŸslaveæœåŠ¡å™¨æ•…éšœ</p><p>SLAVEï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># service mysqld stop<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>MASTERï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; insert into db_itheima.tb_student values (null,'k'); mysql&gt; insert into db_itheima.tb_student values (null,'l'); è¿™æ¬¡æ’å…¥ä¸€ä¸ªå€¼éœ€è¦ç­‰å¾…10ç§’ï¼ˆé»˜è®¤çš„ç­‰å¾…æ—¶é—´)mysql&gt; insert into db_itheima.tb_student values (null,'m'); ç°åœ¨è‡ªåŠ¨è½¬æˆäº†åŸæ¥çš„å¼‚æ­¥æ¨¡å¼<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>3ï¼‰é‡æ–°å¯åŠ¨åŠåŒæ­¥å¤åˆ¶</p><p>SLAVEï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># service mysqld start# mysql -P 3310 -pmysql&gt; set global rpl_semi_sync_slave_enabled=on;mysql&gt; stop slave IO_THREAD;mysql&gt; start slave IO_THREAD;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>masteréœ€è¦ç­‰åˆ°slaveç¡®è®¤åæ‰èƒ½æäº¤ï¼Œå¦‚æœç­‰ä¸åˆ°ç¡®è®¤æ¶ˆæ¯ï¼Œmasterç­‰å¾…10sç§åè‡ªåŠ¨å˜æˆå¼‚æ­¥åŒæ­¥;slaveå¯èµ·æ¥åï¼Œmasterä¸Šæ”¹å˜çš„æ•°æ®è¿˜æ˜¯ä¼šè‡ªåŠ¨å¤åˆ¶è¿‡æ¥ï¼Œæ•°æ®åˆå›åˆ°ä¸€è‡´ã€‚</p><h2 id="3ã€ç­‰å¾…æ—¶é—´çš„ä¿®æ”¹ï¼ˆé»˜è®¤10sï¼‰"><a href="#3ã€ç­‰å¾…æ—¶é—´çš„ä¿®æ”¹ï¼ˆé»˜è®¤10sï¼‰" class="headerlink" title="3ã€ç­‰å¾…æ—¶é—´çš„ä¿®æ”¹ï¼ˆé»˜è®¤10sï¼‰"></a>3ã€ç­‰å¾…æ—¶é—´çš„ä¿®æ”¹ï¼ˆé»˜è®¤10sï¼‰</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; set global rpl_semi_sync_master_timeout=3600000;mysql&gt; show global variables like 'rpl_semi_sync%';+------------------------------------+---------+| Variable_name                      | Value   |+------------------------------------+---------+| rpl_semi_sync_master_enabled       | ON      || rpl_semi_sync_master_timeout       | 3600000 || rpl_semi_sync_master_trace_level   | 32      || rpl_semi_sync_master_wait_no_slave | ON      |+------------------------------------+---------+<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="4ã€å¸è½½åŠåŒæ­¥å¤åˆ¶æ’ä»¶ï¼ˆä¸éœ€è¦æ—¶ï¼‰"><a href="#4ã€å¸è½½åŠåŒæ­¥å¤åˆ¶æ’ä»¶ï¼ˆä¸éœ€è¦æ—¶ï¼‰" class="headerlink" title="4ã€å¸è½½åŠåŒæ­¥å¤åˆ¶æ’ä»¶ï¼ˆä¸éœ€è¦æ—¶ï¼‰"></a>4ã€å¸è½½åŠåŒæ­¥å¤åˆ¶æ’ä»¶ï¼ˆä¸éœ€è¦æ—¶ï¼‰</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select plugin_name,load_option from information_schema.plugins;mysql&gt; uninstall plugin æ’ä»¶åç§°;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="è¡¥å……ï¼šmysqldé‡å¯åï¼Œéœ€è¦æ‰‹å·¥å¯åŠ¨ä¸»ä»åŒæ­¥"><a href="#è¡¥å……ï¼šmysqldé‡å¯åï¼Œéœ€è¦æ‰‹å·¥å¯åŠ¨ä¸»ä»åŒæ­¥" class="headerlink" title="è¡¥å……ï¼šmysqldé‡å¯åï¼Œéœ€è¦æ‰‹å·¥å¯åŠ¨ä¸»ä»åŒæ­¥"></a>è¡¥å……ï¼šmysqldé‡å¯åï¼Œéœ€è¦æ‰‹å·¥å¯åŠ¨ä¸»ä»åŒæ­¥</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># service mysqld stop# service mysqld start# mysql -P 3310 -pmysql&gt; show slave status\GSlave_IO_Running: NoSlave_SQL_Running: No<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä»¥ä¸Šæƒ…å†µä»£è¡¨ï¼Œmysqldé‡å¯åï¼Œä¸»ä»åŒæ­¥ä¹Ÿä¼šéšä¹‹å…³é—­ï¼Œéœ€è¦æ‰‹å·¥å¼€å¯ã€‚</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; start slave;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h1 id="äºŒã€MHAç®€ä»‹"><a href="#äºŒã€MHAç®€ä»‹" class="headerlink" title="äºŒã€MHAç®€ä»‹"></a>äºŒã€MHAç®€ä»‹</h1><h2 id="1ã€ä»€ä¹ˆæ˜¯MHA"><a href="#1ã€ä»€ä¹ˆæ˜¯MHA" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯MHA"></a>1ã€ä»€ä¹ˆæ˜¯MHA</h2><p>MHAï¼ˆMaster High Availabilityï¼‰ç›®å‰åœ¨MySQLé«˜å¯ç”¨æ–¹é¢æ˜¯ä¸€ä¸ªç›¸å¯¹æˆç†Ÿçš„è§£å†³æ–¹æ¡ˆï¼Œå®ƒç”±æ—¥æœ¬DeNAå…¬å¸youshimatonï¼ˆç°å°±èŒäºFacebookå…¬å¸ï¼‰å¼€å‘ï¼Œæ˜¯ä¸€å¥—ä¼˜ç§€çš„ä½œä¸ºMySQLé«˜å¯ç”¨æ€§ç¯å¢ƒä¸‹==æ•…éšœåˆ‡æ¢å’Œä¸»ä»æå‡==çš„é«˜å¯ç”¨è½¯ä»¶ã€‚åœ¨MySQLæ•…éšœåˆ‡æ¢è¿‡ç¨‹ä¸­ï¼ŒMHAèƒ½åšåˆ°åœ¨0~30ç§’ä¹‹å†…è‡ªåŠ¨å®Œæˆæ•°æ®åº“çš„æ•…éšœåˆ‡æ¢æ“ä½œï¼Œå¹¶ä¸”åœ¨è¿›è¡Œæ•…éšœåˆ‡æ¢çš„è¿‡ç¨‹ä¸­ï¼ŒMHAèƒ½åœ¨==è¾ƒå¤§ç¨‹åº¦==ä¸Šä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ï¼Œä»¥è¾¾åˆ°çœŸæ­£æ„ä¹‰ä¸Šçš„é«˜å¯ç”¨ã€‚</p><h2 id="2ã€MHAå·¥ä½œåŸç†"><a href="#2ã€MHAå·¥ä½œåŸç†" class="headerlink" title="2ã€MHAå·¥ä½œåŸç†"></a>2ã€MHAå·¥ä½œåŸç†</h2><p><img src="/../assets/blog_res/%E5%8D%8A%E5%90%8C%E6%AD%A5%E5%A4%8D%E5%88%B6%E4%B8%8EMHA%E9%AB%98%E5%8F%AF%E7%94%A8%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1.assets/image-20200901105954602.png" alt="image-20200901105954602"></p><ol><li>å½“masterå‡ºç°æ•…éšœæ—¶ï¼Œé€šè¿‡å¯¹æ¯”slaveä¹‹é—´I/Oçº¿ç¨‹è¯»å–masterä¸Šbinlogçš„ä½ç½®ï¼Œé€‰å–æœ€æ¥è¿‘çš„slaveåšä¸ºæœ€æ–°çš„slaveï¼ˆlatest slaveï¼‰ã€‚ </li><li>å…¶å®ƒslaveé€šè¿‡ä¸latest slaveå¯¹æ¯”==ç”Ÿæˆå·®å¼‚ä¸­ç»§æ—¥å¿—ï¼Œå¹¶åº”ç”¨==ã€‚</li><li>åœ¨latest slaveä¸Š==åº”ç”¨ä»masterä¿å­˜çš„binlog==ï¼ŒåŒæ—¶å°†latest slave==æå‡ä¸ºmaster==ã€‚</li><li>æœ€ååœ¨å…¶å®ƒslaveä¸Šåº”ç”¨ç›¸åº”çš„å·®å¼‚ä¸­ç»§æ—¥å¿—å¹¶å¼€å§‹ä»æ–°çš„masterå¼€å§‹å¤åˆ¶.</li></ol><h2 id="3ã€MHAç»„ä»¶"><a href="#3ã€MHAç»„ä»¶" class="headerlink" title="3ã€MHAç»„ä»¶"></a>3ã€MHAç»„ä»¶</h2><ul><li><p><strong>MHA Manager</strong>(ç®¡ç†èŠ‚ç‚¹) </p><p>MHA Managerå¯ä»¥å•ç‹¬éƒ¨ç½²åœ¨ä¸€å°ç‹¬ç«‹çš„æœºå™¨ä¸Šç®¡ç†å¤šä¸ª==master-slaveé›†ç¾¤==ï¼Œä¹Ÿå¯ä»¥éƒ¨ç½²åœ¨ä¸€å°slaveèŠ‚ç‚¹ä¸Šã€‚</p></li><li><p><strong>MHA Node</strong>ï¼ˆæ•°æ®èŠ‚ç‚¹ï¼‰</p><p>MHA Nodeè¿è¡Œåœ¨==æ¯å°MySQLæœåŠ¡å™¨==ä¸Šï¼ŒMHA Managerä¼šå®šæ—¶æ¢æµ‹é›†ç¾¤ä¸­çš„masterèŠ‚ç‚¹ï¼Œå½“masterå‡ºç°æ•…éšœæ—¶ï¼Œå®ƒå¯ä»¥è‡ªåŠ¨å°†æ•°æ®çš„slaveæå‡ä¸ºæ–°çš„masterï¼Œç„¶åå°†æ‰€æœ‰å…¶ä»–çš„slaveé‡æ–°æŒ‡å‘æ–°çš„masterã€‚æ•´ä¸ªæ•…éšœè½¬ç§»è¿‡ç¨‹å¯¹åº”ç”¨ç¨‹åºå®Œå…¨é€æ˜ã€‚</p></li></ul><h2 id="4ã€MHAç»„ä»¶ä»‹ç»"><a href="#4ã€MHAç»„ä»¶ä»‹ç»" class="headerlink" title="4ã€MHAç»„ä»¶ä»‹ç»"></a>4ã€MHAç»„ä»¶ä»‹ç»</h2><ul><li>MHA Manager</li></ul><p> è¿è¡Œä¸€äº›å·¥å…·ï¼Œæ¯”å¦‚masterha_managerå·¥å…·å®ç°==è‡ªåŠ¨ç›‘æ§MySQL Master==å’Œå®ç°==masteræ•…éšœåˆ‡æ¢==ï¼Œå…¶å®ƒå·¥å…·æ‰‹åŠ¨å®ç°masteræ•…éšœåˆ‡æ¢ã€åœ¨çº¿materè½¬ç§»ã€è¿æ¥æ£€æŸ¥ç­‰ç­‰ã€‚ä¸€ä¸ªManagerå¯ä»¥ç®¡ç†å¤š ä¸ªmaster-slaveé›†ç¾¤</p><ul><li>MHA Node</li></ul><p> éƒ¨ç½²åœ¨æ‰€æœ‰è¿è¡ŒMySQLçš„æœåŠ¡å™¨ä¸Šï¼Œæ— è®ºæ˜¯masterè¿˜æ˜¯slaveã€‚ä¸»è¦æœ‰ä¸‰ä¸ªä½œç”¨ï¼š</p><p>1ï¼‰ä¿å­˜äºŒè¿›åˆ¶æ—¥å¿—</p><pre><code> å¦‚æœèƒ½å¤Ÿè®¿é—®æ•…éšœmasterï¼Œä¼šæ‹·è´masterçš„äºŒè¿›åˆ¶æ—¥å¿—</code></pre><p> 2ï¼‰åº”ç”¨å·®å¼‚ä¸­ç»§æ—¥å¿—</p><p>â€‹ä»æ‹¥æœ‰æœ€æ–°æ•°æ®çš„slaveä¸Šç”Ÿæˆå·®å¼‚ä¸­ç»§æ—¥å¿—ï¼Œç„¶ååº”ç”¨å·®å¼‚æ—¥å¿—ã€‚</p><p> 3ï¼‰æ¸…é™¤ä¸­ç»§æ—¥å¿—</p><pre><code> åœ¨ä¸åœæ­¢SQLçº¿ç¨‹çš„æƒ…å†µä¸‹åˆ é™¤ä¸­ç»§æ—¥å¿—</code></pre><h2 id="5ã€MHAä¸­å·¥å…·ä»‹ç»"><a href="#5ã€MHAä¸­å·¥å…·ä»‹ç»" class="headerlink" title="5ã€MHAä¸­å·¥å…·ä»‹ç»"></a>5ã€MHAä¸­å·¥å…·ä»‹ç»</h2><h4 id="ãˆ -Managerå·¥å…·"><a href="#ãˆ -Managerå·¥å…·" class="headerlink" title="ãˆ  Managerå·¥å…·"></a>ãˆ  Managerå·¥å…·</h4><table><thead><tr><th>å·¥å…·</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>==masterha_check_ssh==</td><td>æ£€æŸ¥MHAçš„SSHé…ç½®</td></tr><tr><td>==masterha_check_repl==</td><td>æ£€æŸ¥MySQLå¤åˆ¶</td></tr><tr><td>==masterha_manager==</td><td>å¯åŠ¨MHA</td></tr><tr><td>==masterha_check_status==</td><td>æ£€æµ‹å½“å‰MHAè¿è¡ŒçŠ¶æ€</td></tr><tr><td>masterha_master_monitor</td><td>ç›‘æµ‹masteræ˜¯å¦å®•æœº</td></tr><tr><td>masterha_master_switch</td><td>æ§åˆ¶æ•…éšœè½¬ç§»(è‡ªåŠ¨æˆ–æ‰‹åŠ¨)</td></tr><tr><td>masterha_conf_host</td><td>æ·»åŠ æˆ–åˆ é™¤é…ç½®çš„serverä¿¡æ¯</td></tr></tbody></table><h4 id="ãˆ¡-Nodeå·¥å…·"><a href="#ãˆ¡-Nodeå·¥å…·" class="headerlink" title="ãˆ¡ Nodeå·¥å…·"></a>ãˆ¡ Nodeå·¥å…·</h4><table><thead><tr><th>å·¥å…·</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>save_binary_logs</td><td>ä¿å­˜å’Œå¤åˆ¶masterçš„äºŒè¿›åˆ¶æ—¥å¿—</td></tr><tr><td>apply_diff_relay_logs</td><td>è¯†åˆ«å·®å¼‚çš„ä¸­ç»§æ—¥å¿—äº‹ä»¶å¹¶åº”ç”¨äºå…¶å®ƒslave</td></tr><tr><td>filter_mysqlbinlog</td><td>å»é™¤ä¸å¿…è¦çš„ROLLBACKäº‹ä»¶(MHAå·²ä¸å†ä½¿ç”¨è¿™ä¸ªå·¥å…·)</td></tr><tr><td>purge_relay_logs</td><td>æ¸…é™¤ä¸­ç»§æ—¥å¿—(ä¸ä¼šé˜»å¡SQLçº¿ç¨‹)</td></tr></tbody></table><p><em>==æ³¨æ„ï¼šNodeè¿™äº›å·¥å…·é€šå¸¸ç”±MHA Managerçš„è„šæœ¬è§¦å‘,æ— éœ€äººæ‰‹æ“ä½œ==ã€‚</em></p><h1 id="ä¸‰ã€MHAéƒ¨ç½²æ¶æ„"><a href="#ä¸‰ã€MHAéƒ¨ç½²æ¶æ„" class="headerlink" title="ä¸‰ã€MHAéƒ¨ç½²æ¶æ„"></a>ä¸‰ã€MHAéƒ¨ç½²æ¶æ„</h1><h2 id="1ã€éƒ¨ç½²è§„åˆ’"><a href="#1ã€éƒ¨ç½²è§„åˆ’" class="headerlink" title="1ã€éƒ¨ç½²è§„åˆ’"></a>1ã€éƒ¨ç½²è§„åˆ’</h2><table><thead><tr><th>è§’è‰²</th><th>IP</th><th>ä¸»æœºå</th><th>server-id</th><th>åŠŸèƒ½</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>MHA-Manager</td><td>10.1.1.40</td><td>mha.itcast.cn</td><td>â€”</td><td>ç®¡ç†èŠ‚ç‚¹</td><td></td></tr><tr><td>MHA-Nodeï¼ˆMasterï¼‰</td><td>10.1.1.10</td><td>master.itcast.cn</td><td>10</td><td>æ•°æ®èŠ‚ç‚¹</td><td>å†™</td></tr><tr><td>MHA-Nodeï¼ˆSlave1ï¼‰</td><td>10.1.1.20</td><td>slave1.itcast.cn</td><td>20</td><td>æ•°æ®èŠ‚ç‚¹</td><td>è¯»</td></tr><tr><td>MHA-Nodeï¼ˆSlave2ï¼‰</td><td>10.1.1.30</td><td>slave2.itcast.cn</td><td>30</td><td>æ•°æ®èŠ‚ç‚¹</td><td>è¯»</td></tr></tbody></table><p>##2ã€ç³»ç»Ÿå’Œè½¯ä»¶ç‰ˆæœ¬</p><table><thead><tr><th>ç³»ç»Ÿç‰ˆæœ¬</th><th>MySQLç‰ˆæœ¬</th><th>MHAç‰ˆæœ¬</th></tr></thead><tbody><tr><td>CentOS  7.6</td><td>MySQL-5.7.31</td><td>mha4mysql-manager-0.57      mha4mysql-node-0.57</td></tr></tbody></table><h2 id="3ã€ç³»ç»Ÿç¯å¢ƒåˆå§‹åŒ–"><a href="#3ã€ç³»ç»Ÿç¯å¢ƒåˆå§‹åŒ–" class="headerlink" title="3ã€ç³»ç»Ÿç¯å¢ƒåˆå§‹åŒ–"></a>3ã€ç³»ç»Ÿç¯å¢ƒåˆå§‹åŒ–</h2><p>ç¬¬ä¸€æ­¥ï¼šå…‹éš†æœºå™¨ï¼Œé¦–å…ˆå¯åŠ¨MASTERï¼Œç„¶ååœ¨ä¸€æ¬¡å¯åŠ¨SLAVE1ã€SLAVE2ä»¥åŠMHA</p><p>ç¬¬äºŒæ­¥ï¼šæ›´æ”¹è®¡ç®—æœºçš„ä¸»æœºåç§°</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># hostnamectl set-hostname master.itcast.cn# su# hostnamectl set-hostname slave1.itcast.cn# su# hostnamectl set-hostname slave2.itcast.cn# su# hostnamectl set-hostname mha.itcast.cn# su<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬ä¸‰æ­¥ï¼šæ›´æ”¹IPåœ°å€ä»¥åŠç»‘å®šä¸»æœºåç§°åŠIPåœ°å€åˆ°/etc/hostsæ–‡ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/sysconfig/network-scripts/ifcfg-ens33...IPADDR=10.1.1.10ã€IPADDR=10.1.1.20ã€IPADDR=10.1.1.30ã€IPADDR=10.1.1.40...# systemctl stop NetworkManager# systemctl disable NetworkManager# systemctl restart network<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä½¿ç”¨MXè¿æ¥4å°æœåŠ¡å™¨ï¼Œç»‘å®šIPåœ°å€ä¸ä¸»æœºåç§°åˆ°/etc/hostsæ–‡ä»¶ä¸­</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/hosts10.1.1.10 master.itcast.cn10.1.1.20 slave1.itcast.cn10.1.1.30 slave2.itcast.cn10.1.1.40 mha.itcast.cn<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬å››æ­¥ï¼šå…³é—­é˜²ç«å¢™ä¸SELinux</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl stop firewalld# systemctl disable firewalld# setenforce 0# sed -i '/SELINUX=enforcing/cSELINUX=disabled' /etc/selinux/config<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬äº”æ­¥ï¼šé…ç½®YUMæº</p><p>åŸºç¡€æºï¼ˆç•¥ï¼Œå»ºè®®ä½¿ç”¨è…¾è®¯æºï¼‰</p><p>é…ç½®epelæº</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># wget -O /etc/yum.repos.d/epel.repo http://mirrors.cloud.tencent.com/repo/epel-7.repo# yum clean all# yum makecache<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>é…ç½®æœ¬åœ°è‡ªå»ºä»“åº“çš„yumæº</p><p>â‘  ä¸Šä¼ mha-yumè½¯ä»¶åŒ…åˆ°/soft/mhaç›®å½•</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mkdir -p /soft/mha<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â‘¡ é…ç½®æœ¬åœ°yumæºï¼Œå½“æˆ‘ä»¬ä½¿ç”¨yumæ—¶ï¼Œå¯ä»¥è‡ªåŠ¨æ‰¾åˆ°mha-yumè¿™ä¸ªä»“åº“ç›®å½•</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/yum.repos.d/local.repo[mha]name=mha softbaseurl=file:///soft/mha/mha-yumenabled=1gpgcheck=0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æµ‹è¯•MHAä¾èµ–è½¯ä»¶åº“çš„å®‰è£…</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">yum -y install perl-DBD-MySQL \perl-Config-Tiny \perl-Time-HiRes \perl-Mail-Sender \perl-Mail-Sendmail \perl-MIME-Base32 \perl-MIME-Charset \perl-MIME-EncWords \perl-Params-Classify \perl-Params-Validate.x86_64 \perl-Log-Dispatch \perl-Parallel-ForkManager \net-tools<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬å…­æ­¥ï¼šntpdateæ—¶é—´åŒæ­¥ï¼ˆéå¸¸é‡è¦ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ntpdate 182.92.12.11<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="4ã€éƒ¨ç½²MySQLä¸»ä»å¤åˆ¶ç¯å¢ƒ"><a href="#4ã€éƒ¨ç½²MySQLä¸»ä»å¤åˆ¶ç¯å¢ƒ" class="headerlink" title="4ã€éƒ¨ç½²MySQLä¸»ä»å¤åˆ¶ç¯å¢ƒ"></a>4ã€éƒ¨ç½²MySQLä¸»ä»å¤åˆ¶ç¯å¢ƒ</h2><p>æ•°æ®åº“å®‰è£…ä½ç½®ï¼š/usr/local/mysql</p><p>æ•°æ®åº“çš„æ•°æ®ç›®å½•ï¼š/usr/local/mysql/data</p><p>å¥—æ¥å­—æ–‡ä»¶ï¼š/tmp/mysql.sock</p><p>ç«¯å£è®¾ç½®ï¼š3306</p><p>é…ç½®æ–‡ä»¶ä½ç½®ï¼š/usr/local/mysql/my.cnfï¼ˆMySQL =&gt; å®‰è£…ç›®å½•ä¸‹ =&gt; /etcç›®å½•ä¸‹ï¼‰</p><h3 id="â˜†-MASTERä¸»æœåŠ¡å™¨"><a href="#â˜†-MASTERä¸»æœåŠ¡å™¨" class="headerlink" title="â˜† MASTERä¸»æœåŠ¡å™¨"></a>â˜† MASTERä¸»æœåŠ¡å™¨</h3><p>ç¬¬ä¸€æ­¥ï¼šä¸Šä¼ è½¯ä»¶åˆ°/rootç›®å½•</p><p>ç¬¬äºŒæ­¥ï¼šä½¿ç”¨è„šæœ¬å®‰è£…MySQLè½¯ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim mysql.sh#!/bin/bashyum install libaio -ytar -xf mysql-5.7.31-linux-glibc2.12-x86_64.tar.gzmv mysql-5.7.31-linux-glibc2.12-x86_64 /usr/local/mysqluseradd -r -s /sbin/nologin mysqlrm -rf /etc/my.cnfcd /usr/local/mysqlmkdir mysql-fileschown mysql:mysql mysql-fileschmod 750 mysql-filesbin/mysqld --initialize --user=mysql --basedir=/usr/local/mysql &amp;&gt; /root/password.txtbin/mysql_ssl_rsa_setup --datadir=/usr/local/mysql/datacp support-files/mysql.server /etc/init.d/mysqldservice mysqld startecho 'export PATH=$PATH:/usr/local/mysql/bin' &gt;&gt; /etc/profilesource /etc/profile# source mysql.sh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬ä¸‰æ­¥ï¼šè®¾ç½®MySQLå¯†ç </p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mysql -pmysql&gt; set password='123';mysql&gt; flush privileges;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç¬¬å››æ­¥ï¼šè¿›è¡Œå®‰å…¨åˆå§‹åŒ–</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mysql_secure_installation<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬äº”æ­¥ï¼šç¼–å†™MASTERä¸»æœºä¸­my.cnfé…ç½®æ–‡ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /usr/local/mysql/my.cnf[mysqld]basedir=/usr/local/mysqldatadir=/usr/local/mysql/datasocket=/tmp/mysql.sockport=3306log-error=/usr/local/mysql/data/master.errlog-bin=/usr/local/mysql/data/binlogserver-id=10character_set_server=utf8mb4gtid-mode=onlog-slave-updates=1enforce-gtid-consistency# service mysqld restart<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="â˜†-SLAVE1-SLAVE2ä»æœåŠ¡å™¨"><a href="#â˜†-SLAVE1-SLAVE2ä»æœåŠ¡å™¨" class="headerlink" title="â˜† SLAVE1/SLAVE2ä»æœåŠ¡å™¨"></a>â˜† SLAVE1/SLAVE2ä»æœåŠ¡å™¨</h3><p>ç¬¬ä¸€æ­¥ï¼šä¸Šä¼ MySQLè½¯ä»¶åˆ°æœåŠ¡å™¨ç«¯</p><p>ç¬¬äºŒæ­¥ï¼šä½¿ç”¨è„šæœ¬å®‰è£…MySQLï¼Œä½†æ˜¯ä¸éœ€è¦è¿›è¡Œåˆå§‹åŒ–</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim mysql.sh#!/bin/bashyum install libaio -ytar -xf mysql-5.7.31-linux-glibc2.12-x86_64.tar.gzrm -rf /usr/local/mysqlmv mysql-5.7.31-linux-glibc2.12-x86_64 /usr/local/mysqluseradd -r -s /sbin/nologin mysqlrm -rf /etc/my.cnfcd /usr/local/mysqlmkdir mysql-fileschown mysql:mysql mysql-fileschmod 750 mysql-filescp support-files/mysql.server /etc/init.d/mysqldecho 'export PATH=$PATH:/usr/local/mysql/bin' &gt;&gt; /etc/profilesource /etc/profile# source mysql.sh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬ä¸‰æ­¥ï¼šä½¿ç”¨rsyncæŠŠMASTERæœåŠ¡å™¨ä¸­çš„dataæ•°æ®ç›®å½•åŒæ­¥åˆ°SLAVE1ä¸SLAVE2</p><p>MASTERï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rm -rf /usr/local/mysql/data/auto.cnf# rsync -av /usr/local/mysql/data root@10.1.1.20:/usr/local/mysql/# rsync -av /usr/local/mysql/data root@10.1.1.30:/usr/local/mysql/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç¬¬å››æ­¥ï¼šç»™SLAVE1ä¸SLAVE2é…ç½®my.cnfæ–‡ä»¶</p><p>SLAVE1ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /usr/local/mysql/my.cnf[mysqld]basedir=/usr/local/mysqldatadir=/usr/local/mysql/datasocket=/tmp/mysql.sockport=3306log-error=/usr/local/mysql/data/slave1.errlog-bin=/usr/local/mysql/data/binlogrelay-log=/usr/local/mysql/data/relaylogserver-id=20character_set_server=utf8mb4gtid-mode=onlog-slave-updates=1enforce-gtid-consistencyskip-slave-start<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>SLAVE2ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /usr/local/mysql/my.cnf[mysqld]basedir=/usr/local/mysqldatadir=/usr/local/mysql/datasocket=/tmp/mysql.sockport=3306log-error=/usr/local/mysql/data/slave2.errlog-bin=/usr/local/mysql/data/binlogrelay-log=/usr/local/mysql/data/relaylogserver-id=30character_set_server=utf8mb4gtid-mode=onlog-slave-updates=1enforce-gtid-consistencyskip-slave-start<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é…ç½®å®Œæˆåï¼Œå¯åŠ¨MySQLè½¯ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># service mysqld restart<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â˜†-é…ç½®ä¸»ä»æ•°æ®åŒæ­¥"><a href="#â˜†-é…ç½®ä¸»ä»æ•°æ®åŒæ­¥" class="headerlink" title="â˜† é…ç½®ä¸»ä»æ•°æ®åŒæ­¥"></a>â˜† é…ç½®ä¸»ä»æ•°æ®åŒæ­¥</h3><p>ç¬¬ä¸€æ­¥ï¼šåœ¨MASTERæœåŠ¡å™¨ä¸­åˆ›å»ºä¸€ä¸ªslaveåŒæ­¥è´¦å·</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; create user 'slave'@'10.1.1.%' identified by '123';mysql&gt; grant replication slave on *.* to 'slave'@'10.1.1.%';mysql&gt; flush privileges;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç¬¬äºŒæ­¥ï¼šåˆ›å»ºä¸€ä¸ªmhaè´¦å·ï¼ˆæ–¹ä¾¿åæœŸMHAç›‘æ§ä¸»ä»åŒæ­¥çŠ¶æ€ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; create user 'mha'@'10.1.1.40' identified by '123';mysql&gt; grant all privileges on *.* to 'mha'@'10.1.1.40';mysql&gt; flush privileges;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç¬¬ä¸‰æ­¥ï¼šåœ¨SLAVE1ä¸SLAVE2ä¸­é…ç½®ä¸»ä»æ•°æ®åŒæ­¥</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; change master to master_host='10.1.1.10',master_port=3306,master_user='slave',master_password='123',master_auto_position=1;mysql&gt; start slave;mysql&gt; show slave status\G<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>åˆ°æ­¤æ•´ä¸ªä¸€ä¸»ä¸¤ä»å°±é…ç½®å®Œæ¯•äº†ï¼</p><h2 id="5ã€MHAè½¯ä»¶çš„å®‰è£…"><a href="#5ã€MHAè½¯ä»¶çš„å®‰è£…" class="headerlink" title="5ã€MHAè½¯ä»¶çš„å®‰è£…"></a>5ã€MHAè½¯ä»¶çš„å®‰è£…</h2><h3 id="ãˆ -ä¸åŒèŠ‚ç‚¹å®‰è£…è½¯ä»¶"><a href="#ãˆ -ä¸åŒèŠ‚ç‚¹å®‰è£…è½¯ä»¶" class="headerlink" title="ãˆ  ä¸åŒèŠ‚ç‚¹å®‰è£…è½¯ä»¶"></a>ãˆ  ä¸åŒèŠ‚ç‚¹å®‰è£…è½¯ä»¶</h3><p>è¯´æ˜ï¼šåœ¨æ‰€æœ‰èŠ‚ç‚¹å®‰è£… ==mha-node== è½¯ä»¶åŒ…ï¼Œåœ¨ ==mha ç®¡ç†==ç«¯å†å®‰è£… mha-manager è½¯ä»¶åŒ…</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">[root@mha ~]# yum â€“y install mha4mysql-node-0.57-0.el7.noarch.rpm[root@master ~]# yum â€“y install mha4mysql-node-0.57-0.el7.noarch.rpm[root@slave1 ~]# yum -y install mha4mysql-node-0.57-0.el7.noarch.rpm[root@slave2 ~]# yum â€“y install mha4mysql-node-0.57-0.el7.noarch.rpm[root@mha ~]# yum â€“y install mha4mysql-manager-0.57-0.el7.noarch.rpm<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>å¦‚æœå·²ç»æå‰å®‰è£…ä¾èµ–è½¯ä»¶ï¼Œåˆ™å¤§å®¶å¯ä»¥ä½¿ç”¨rpm -ivhç›´æ¥å®‰è£…</p></blockquote><h3 id="ãˆ¡-é…ç½®sshäº’ä¿¡ï¼ˆå…å¯†ç™»å½•ï¼‰"><a href="#ãˆ¡-é…ç½®sshäº’ä¿¡ï¼ˆå…å¯†ç™»å½•ï¼‰" class="headerlink" title="ãˆ¡ é…ç½®sshäº’ä¿¡ï¼ˆå…å¯†ç™»å½•ï¼‰"></a>ãˆ¡ é…ç½®sshäº’ä¿¡ï¼ˆå…å¯†ç™»å½•ï¼‰</h3><p>è¯´æ˜ï¼š</p><ol><li>åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å‡ ä¹éƒ½æ˜¯ç¦æ­¢rootè¿œç¨‹ç™»é™†æœåŠ¡å™¨çš„ï¼Œæ‰€ä»¥sshå…å¯†ç ç™»é™†è¦åœ¨adminç”¨æˆ·ä¸‹è¿›è¡Œé…ç½®ï¼Œè¿™æ˜¯å¤„äºå®‰å…¨è§’åº¦è€ƒè™‘å‡ºå‘ã€‚ </li><li>adminç”¨æˆ·å¯ä»¥æ˜¯ä»»æ„æ™®é€šç”¨æˆ·</li><li>è¯¥æ™®é€šç”¨æˆ·ç”¨äºmhaçš„ç®¡ç†èŠ‚ç‚¹è¿œç¨‹è®¿é—®mysqlå¤åˆ¶ç»„ä¸­çš„æ‰€æœ‰ä¸»æœºï¼Œå®Œæˆä¸€äº›å…¶ä»–å·¥ä½œ</li></ol><p>ç¬¬ä¸€æ­¥ï¼šåœ¨æ‰€æœ‰æœºå™¨ä¸Šåˆ›å»ºä¸€ä¸ªæ™®é€šè´¦å·adminï¼Œå¯†ç 123</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># useradd admin# echo 123|passwd --stdin admin<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç¬¬äºŒæ­¥ï¼šé…ç½®mhaä¸»æœºåˆ°å…¶ä»–ä¸»æœºçš„adminç”¨æˆ·äº’ä¿¡</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mhaç«¯ï¼š[root@mha ~]# su - admin[admin@mha ~]$ ssh-keygen -P "" -f ~/.ssh/id_rsa[admin@mha ~]$ cd .ssh/[admin@mha .ssh]$ lsid_rsa  id_rsa.pub[admin@mha .ssh]$ mv id_rsa.pub authorized_keys[admin@mha .ssh]$ for i in 10 20 30;do scp -r ../.ssh/ 10.1.1.$i:~/;doneæµ‹è¯•å…å¯†ç™»å½•ï¼š[admin@mha .ssh]$ ssh 10.1.1.10[admin@mha .ssh]$ ssh 10.1.1.20[admin@mha .ssh]$ ssh 10.1.1.30<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>ç–‘é—®ï¼šSSHå…å¯†åªéœ€è¦æ‹·è´å…¬é’¥ï¼Œä½†æ˜¯ä»¥ä¸Šä»£ç æ˜¯æŠŠæ•´ä¸ª.sshç›®å½•æ‹·è´è¿‡å»äº†ã€‚</p><p>ç­”ï¼šå› ä¸ºMHAçš„äº’ä¿¡ï¼Œè¦æ±‚ä¸ä»…ä»…æ˜¯MHAå…å¯†åˆ°MASTERã€SLAVE1ã€SLAVE2ï¼ŒMASTERä¹Ÿè¦å…å¯†åˆ°MHAã€SLAVE1ã€SLAVE2â€¦</p></blockquote><h3 id="ãˆ¢-é…ç½®adminç”¨æˆ·çš„sudoæƒé™"><a href="#ãˆ¢-é…ç½®adminç”¨æˆ·çš„sudoæƒé™" class="headerlink" title="ãˆ¢ é…ç½®adminç”¨æˆ·çš„sudoæƒé™"></a>ãˆ¢ é…ç½®adminç”¨æˆ·çš„sudoæƒé™</h3><p>MASTERä¸»æœºä¸Šï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">[root@master ~]# vim /etc/sudoers.d/admin#User_Alias  è¡¨ç¤ºå…·æœ‰sudoæƒé™çš„ç”¨æˆ·åˆ—è¡¨; Host_Aliasè¡¨ç¤ºä¸»æœºçš„åˆ—è¡¨User_Alias MYSQL_USERS = admin#Runas_Alias  è¡¨ç¤ºç”¨æˆ·ä»¥ä»€ä¹ˆèº«ä»½ç™»å½•Runas_Alias MYSQL_RUNAS = root#Cmnd_Alias  è¡¨ç¤ºå…è®¸æ‰§è¡Œå‘½ä»¤çš„åˆ—è¡¨ï¼ˆå‘½ä»¤éœ€è¦ä½¿ç”¨å®Œæ•´è·¯å¾„ï¼‰Cmnd_Alias MYSQL_CMNDS = /sbin/ifconfig,/sbin/arpingMYSQL_USERS ALL = (MYSQL_RUNAS) NOPASSWD: MYSQL_CMNDS<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æŠŠè¿™ä¸ªæƒé™åˆ†å‘ç»™SLAVE1ä¸SLAVE2ä¸€ä»½ï¼ˆå½“æ•…éšœå‘ç”Ÿæ—¶ï¼Œä»æœåŠ¡å™¨ä¹Ÿå¯ä»¥è‡ªå·±è®¾ç½®VIPï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">[root@master ~]# for i in 20 30;do scp /etc/sudoers.d/admin 10.1.1.$i:/etc/sudoers.d/;done<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æµ‹è¯•adminç”¨æˆ·æ˜¯å¦å¯ä»¥æŒ‚è½½VIPï¼ˆåªèƒ½åœ¨MASTERæœºå™¨ä¸ŠæŒ‚è½½VIPï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># su - admin[admin@master ~]$ sudo /sbin/ifconfig ens33:1 10.1.1.100 broadcast 10.1.1.255 netmask 255.255.255.0[admin@master ~]$ sudo /sbin/arping -fqc 5 -w 5 -I ens33 -s 10.1.1.100 -U 10.1.1.10[admin@master ~]$ ip a è¡¥å……ï¼šarpingï¼šç”¨æ¥å‘å±€åŸŸç½‘å†…çš„å…¶å®ƒä¸»æœºå‘é€ARPè¯·æ±‚çš„æŒ‡ä»¤ï¼Œå¯ä»¥ç”¨æ¥æµ‹è¯•å±€åŸŸç½‘å†…çš„æŸä¸ªIPæ˜¯å¦å·²è¢«ä½¿ç”¨ã€‚-fï¼šæ”¶åˆ°ç¬¬ä¸€ä¸ªå“åº”åŒ…åé€€å‡ºã€‚-qï¼šquiteæ¨¡å¼ï¼Œä¸æ˜¾ç¤ºè¾“å‡ºã€‚ -cï¼šå‘é€æŒ‡å®šçš„countä¸ªARP REQUESTåŒ…ååœæ­¢ã€‚å¦‚æœæŒ‡å®šäº†-wå‚æ•°ï¼Œåˆ™ä¼šç­‰å¾…ç›¸åŒæ•°é‡çš„ARP REPLYåŒ…ï¼Œç›´åˆ°è¶…æ—¶ä¸ºæ­¢ã€‚-wï¼šæŒ‡å®šä¸€ä¸ªè¶…æ—¶æ—¶é—´ï¼Œå•ä½ä¸ºç§’ï¼Œarpingåœ¨åˆ°è¾¾æŒ‡å®šæ—¶é—´åé€€å‡ºï¼Œæ— è®ºæœŸé—´å‘é€æˆ–æ¥æ”¶äº†å¤šå°‘åŒ…ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œarpingåœ¨å‘é€å®ŒæŒ‡å®šçš„countï¼ˆ-cï¼‰ä¸ªåŒ…åå¹¶ä¸ä¼šåœæ­¢ï¼Œè€Œæ˜¯ç­‰å¾…åˆ°è¶…æ—¶æˆ–å‘é€çš„countä¸ªåŒ…éƒ½è¿›è¡Œäº†å›åº”åæ‰ä¼šé€€å‡ºã€‚ -Iï¼šæŒ‡å®šè®¾å¤‡åï¼Œç”¨æ¥å‘é€ARP REQUESTåŒ…çš„ç½‘ç»œè®¾å¤‡çš„åç§°ã€‚-Dï¼šé‡å¤åœ°å€æ¢æµ‹æ¨¡å¼ï¼Œç”¨æ¥æ£€æµ‹æœ‰æ²¡æœ‰IPåœ°å€å†²çªï¼Œå¦‚æœæ²¡æœ‰IPå†²çªåˆ™è¿”å›0ã€‚ -sï¼šè®¾ç½®å‘é€ARPåŒ…çš„IPèµ„æºåœ°å€-Uï¼šæ— ç†ç”±çš„ï¼ˆå¼ºåˆ¶çš„ï¼‰ARPæ¨¡å¼å»æ›´æ–°åˆ«çš„ä¸»æœºä¸Šçš„ARP CACHEåˆ—è¡¨ä¸­çš„æœ¬æœºçš„ä¿¡æ¯ï¼Œä¸éœ€è¦å“åº”ã€‚-hï¼šæ˜¾ç¤ºå¸®åŠ©é¡µã€‚ <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ãˆ£-åˆ›å»ºmhaç›¸å…³é…ç½®æ–‡ä»¶"><a href="#ãˆ£-åˆ›å»ºmhaç›¸å…³é…ç½®æ–‡ä»¶" class="headerlink" title="ãˆ£ åˆ›å»ºmhaç›¸å…³é…ç½®æ–‡ä»¶"></a>ãˆ£ åˆ›å»ºmhaç›¸å…³é…ç½®æ–‡ä»¶</h3><p>MHAæœåŠ¡å™¨ï¼šåˆ›å»ºå·¥ä½œç›®å½•</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">[root@mha ~]# mkdir /etc/mha/[root@mha ~]# mkdir -p /data/mha/masterha/app1[root@mha ~]# chown -R admin. /data/mha<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>åˆ›å»ºmhaå±€éƒ¨é…ç½®æ–‡ä»¶ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">[root@mha ~]# vim /etc/mha/app1.conf[server default]# è®¾ç½®ç›‘æ§ç”¨æˆ·å’Œå¯†ç ï¼ˆä¿®æ”¹1ï¼‰user=mhapassword=123# è®¾ç½®å¤åˆ¶ç¯å¢ƒä¸­çš„å¤åˆ¶ç”¨æˆ·å’Œå¯†ç ï¼ˆä¿®æ”¹2ï¼‰repl_user=slaverepl_password=123# è®¾ç½®sshçš„ç™»å½•ç”¨æˆ·åï¼ˆä¿®æ”¹3ï¼‰ssh_user=admin# è®¾ç½®ç›‘æ§ä¸»åº“,å‘é€pingåŒ…çš„æ—¶é—´é—´éš”,é»˜è®¤æ˜¯3ç§’,å°è¯•ä¸‰æ¬¡æ²¡æœ‰å›åº”çš„æ—¶å€™è‡ªåŠ¨è¿›è¡Œfailoverping_interval=3# è®¾ç½®mgrçš„å·¥ä½œç›®å½•manager_workdir=/data/mha/masterha/app1# è®¾ç½®mysql masterä¿å­˜binlogçš„ç›®å½•,ä»¥ä¾¿MHAå¯ä»¥æ‰¾åˆ°masterçš„äºŒè¿›åˆ¶æ—¥å¿—ï¼ˆä¿®æ”¹4ï¼‰master_binlog_dir=/usr/local/mysql/data# è®¾ç½®masterçš„pidæ–‡ä»¶ï¼ˆä¿®æ”¹5ï¼‰master_pid_file=/usr/local/mysql/data/master.itcast.cn.pid# è®¾ç½®mysql masteråœ¨å‘ç”Ÿåˆ‡æ¢æ—¶ä¿å­˜binlogçš„ç›®å½•ï¼ˆåœ¨mysql masterä¸Šåˆ›å»ºè¿™ä¸ªç›®å½•ï¼‰remote_workdir=/data/mysql/mha# è®¾ç½®mgræ—¥å¿—æ–‡ä»¶ï¼ˆMHAé‡åˆ°é—®é¢˜ï¼Œä¸»è¦çœ‹è¿™ä¸ªæ—¥å¿—ï¼‰manager_log=/data/mha/masterha/app1/app1-3306.log# MHAåˆ°masterçš„ç›‘æ§ä¹‹é—´å‡ºç°é—®é¢˜,MHA Managerå°†ä¼šå°è¯•ä»slave1å’Œslave2ç™»å½•åˆ°masterä¸Šsecondary_check_script=/usr/bin/masterha_secondary_check -s 10.1.1.20 -s 10.1.1.30 --user=admin --port=22 --master_host=10.1.1.10 --master_port=3306# è®¾ç½®è‡ªåŠ¨failoveræ—¶å€™çš„åˆ‡æ¢è„šæœ¬ï¼ˆæ•…éšœå‘ç”Ÿæ—¶ï¼Œè‡ªåŠ¨æŒ‚è½½VIPåˆ°SLAVE1æˆ–SLAVE2ï¼‰master_ip_failover_script="/etc/mha/master_ip_failover.sh 10.1.1.100 1"# è®¾ç½®æ‰‹åŠ¨åˆ‡æ¢æ—¶å€™çš„åˆ‡æ¢è„šæœ¬#master_ip_online_change_script="/etc/mha/master_ip_online_change.sh 10.1.1.100 1"# è®¾ç½®æ•…éšœå‘ç”Ÿåå…³é—­æ•…éšœä¸»æœºè„šæœ¬# shutdown_script="/etc/mha/power_manager"[server1]hostname=10.1.1.10port= 3306candidate_master=1[server2]hostname=10.1.1.20port= 3306candidate_master=1[server3]hostname=10.1.1.30port= 3306candidate_master=1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ãˆ¤-ä¸Šä¼ ç›¸åº”è„šæœ¬-etc-mhaç›®å½•ï¼Œç„¶åæ›´æ”¹é…ç½®ä¿¡æ¯ï¼Œæˆæƒ"><a href="#ãˆ¤-ä¸Šä¼ ç›¸åº”è„šæœ¬-etc-mhaç›®å½•ï¼Œç„¶åæ›´æ”¹é…ç½®ä¿¡æ¯ï¼Œæˆæƒ" class="headerlink" title="ãˆ¤ ä¸Šä¼ ç›¸åº”è„šæœ¬/etc/mhaç›®å½•ï¼Œç„¶åæ›´æ”¹é…ç½®ä¿¡æ¯ï¼Œæˆæƒ"></a>ãˆ¤ ä¸Šä¼ ç›¸åº”è„šæœ¬/etc/mhaç›®å½•ï¼Œç„¶åæ›´æ”¹é…ç½®ä¿¡æ¯ï¼Œæˆæƒ</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">[root@mha ~]# ls /etc/mha/app1.conf  master_ip_failover.shæ³¨æ„ï¼šè„šæœ¬å†…å®¹ä¸­è¦ä¿®æ”¹ç½‘å¡åå­—å’Œè¿æ¥ç”¨æˆ·ä¸ºadminmy $vip  = shift;my $interface = 'ens33';ç½‘å¡åï¼ˆ38è¡Œï¼‰my $key = shift;...sub stop_vip() {    my $ssh_user = "admin";ç”¨æˆ·åï¼ˆ110è¡Œï¼‰    print "=======$ssh_stop_vip==================\n";    `ssh $ssh_user\@$orig_master_host \" $ssh_stop_vip \"`;}[root@mha ~]# chmod +x /etc/mha/master_ip_*<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="6ã€æ£€æµ‹SSHäº’ä¿¡ä»¥åŠMySQLä¸»ä»çŠ¶æ€"><a href="#6ã€æ£€æµ‹SSHäº’ä¿¡ä»¥åŠMySQLä¸»ä»çŠ¶æ€" class="headerlink" title="6ã€æ£€æµ‹SSHäº’ä¿¡ä»¥åŠMySQLä¸»ä»çŠ¶æ€"></a>6ã€æ£€æµ‹SSHäº’ä¿¡ä»¥åŠMySQLä¸»ä»çŠ¶æ€</h2><p>MHAï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># su - admin# æ£€æµ‹SSHäº’ä¿¡[admin@mha ~]$ masterha_check_ssh --conf=/etc/mha/app1.conf# æ£€æµ‹é›†ç¾¤çŠ¶æ€[admin@mha ~]$ masterha_check_repl --conf=/etc/mha/app1.conf<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="7ã€æ£€æŸ¥MHAçŠ¶æ€ï¼Œç„¶åè¿è¡ŒMHAï¼ˆç›‘æ§å¼€å§‹ï¼‰"><a href="#7ã€æ£€æŸ¥MHAçŠ¶æ€ï¼Œç„¶åè¿è¡ŒMHAï¼ˆç›‘æ§å¼€å§‹ï¼‰" class="headerlink" title="7ã€æ£€æŸ¥MHAçŠ¶æ€ï¼Œç„¶åè¿è¡ŒMHAï¼ˆç›‘æ§å¼€å§‹ï¼‰"></a>7ã€æ£€æŸ¥MHAçŠ¶æ€ï¼Œç„¶åè¿è¡ŒMHAï¼ˆç›‘æ§å¼€å§‹ï¼‰</h2><p>MHAï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">[admin@mha ~]$ masterha_check_status --conf=/etc/mha/app1.confapp1 is stopped(2:NOT_RUNNING).å¼€å¯MHA Managerç›‘æ§ï¼ˆå…³é”®ï¼Œä»£è¡¨å¯åŠ¨MHAï¼‰ï¼š[admin@mha ~]$ nohup masterha_manager --conf=/etc/mha/app1.conf --remove_dead_master_conf --ignore_last_failover &amp;å†æ¬¡æŸ¥çœ‹ç›‘æ§çŠ¶æ€ï¼š[admin@mha ~]$ masterha_check_status --conf=/etc/mha/app1.confapp1 (pid:8913) is running(0:PING_OK), master:10.1.1.10æ³¨æ„ï¼š1. å¦‚æœæ­£å¸¸ï¼Œä¼šæ˜¾ç¤ºâ€PING_OK â€ï¼Œå¦åˆ™ä¼šæ˜¾ç¤ºâ€NOT_RUNNING â€ï¼Œè¯´æ˜ MHAç›‘æ§æ²¡æœ‰å¼€å¯2. ä½¿ç”¨adminç”¨æˆ·å¯åŠ¨ç›‘æ§ï¼Œå¦åˆ™ä¼šæŠ¥æƒé™æ‹’ç»3. æ‰‹åŠ¨åœæ­¢ç›‘æ§å‘½ä»¤:masterha_stop --conf=/etc/mha/app1.conf<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å…¶å®åˆ°æ­¤ï¼Œå’±ä»¬MHAå°±å·²ç»é…ç½®å®Œæ¯•äº†ï¼</p><h1 id="å››ã€è‡ªåŠ¨Failoveræµ‹è¯•"><a href="#å››ã€è‡ªåŠ¨Failoveræµ‹è¯•" class="headerlink" title="å››ã€è‡ªåŠ¨Failoveræµ‹è¯•"></a>å››ã€è‡ªåŠ¨Failoveræµ‹è¯•</h1><h2 id="1ã€åœ¨MASTERæœåŠ¡å™¨å®‰è£…æµ‹è¯•å·¥å…·"><a href="#1ã€åœ¨MASTERæœåŠ¡å™¨å®‰è£…æµ‹è¯•å·¥å…·" class="headerlink" title="1ã€åœ¨MASTERæœåŠ¡å™¨å®‰è£…æµ‹è¯•å·¥å…·"></a>1ã€åœ¨MASTERæœåŠ¡å™¨å®‰è£…æµ‹è¯•å·¥å…·</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">[root@master ~]# yum -y install sysbench<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="2ã€æ’å…¥æµ‹è¯•æ•°æ®"><a href="#2ã€æ’å…¥æµ‹è¯•æ•°æ®" class="headerlink" title="2ã€æ’å…¥æµ‹è¯•æ•°æ®"></a>2ã€æ’å…¥æµ‹è¯•æ•°æ®</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">masteræœåŠ¡å™¨ä¸Šåˆ›å»ºæµ‹è¯•åº“testmysql&gt; create database test charset utf8mb4;Query OK, 1 row affected (0.17 sec)mysql&gt; grant all on *.* to 'mha'@'localhost' identified by '123'; Query OK, 0 rows affected (0.14 sec)mysql&gt; flush privileges;Query OK, 0 rows affected (0.11 sec)mysql&gt; exitBye[root@master ~]# sysbench /usr/share/sysbench/oltp_read_only.lua \ --mysql-host=10.1.1.10  --mysql-port=3306  --mysql-user=mha \ --mysql-password=123  --mysql-socket=/tmp/mysql.sock \ --mysql-db=test  --db-driver=mysql  --tables=1 \ --table-size=100000 --report-interval=10 --threads=128 --time=120 prepare mysql&gt; select count(*) from sbtest1;+----------+| count(*) |+----------+|   100000 |+----------+1 row in set (0.01 sec)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="3ã€æ‹æ‘„å¿«ç…§"><a href="#3ã€æ‹æ‘„å¿«ç…§" class="headerlink" title="3ã€æ‹æ‘„å¿«ç…§"></a>3ã€æ‹æ‘„å¿«ç…§</h2><p>MHAã€MASTERã€SLAVE1ã€SLAVE2</p><h2 id="4ã€æ¨¡æ‹ŸMASTERæœåŠ¡å™¨æ•…éšœ"><a href="#4ã€æ¨¡æ‹ŸMASTERæœåŠ¡å™¨æ•…éšœ" class="headerlink" title="4ã€æ¨¡æ‹ŸMASTERæœåŠ¡å™¨æ•…éšœ"></a>4ã€æ¨¡æ‹ŸMASTERæœåŠ¡å™¨æ•…éšœ</h2><p>MHAæœåŠ¡å™¨ï¼šç›‘æ§æ—¥å¿—</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">[root@mgr ~]# tail -f /data/mha/masterha/app1/app1-3306.log<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>MASTERæœåŠ¡å™¨ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># service mysqld stop<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>MHAæ—¥å¿—æ˜¾ç¤ºç»“æœï¼š</p><p>æ•…éšœåˆ‡æ¢ï¼š</p><p><img src="/../assets/blog_res/%E5%8D%8A%E5%90%8C%E6%AD%A5%E5%A4%8D%E5%88%B6%E4%B8%8EMHA%E9%AB%98%E5%8F%AF%E7%94%A8%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1.assets/image-20200901174326023.png" alt="image-20200901174326023"></p><p>VIPæ¼‚ç§»ï¼š</p><p><img src="/../assets/blog_res/%E5%8D%8A%E5%90%8C%E6%AD%A5%E5%A4%8D%E5%88%B6%E4%B8%8EMHA%E9%AB%98%E5%8F%AF%E7%94%A8%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1.assets/image-20200901174341745.png" alt="image-20200901174341745"></p><h2 id="å¸¸è§é—®é¢˜"><a href="#å¸¸è§é—®é¢˜" class="headerlink" title="å¸¸è§é—®é¢˜"></a>å¸¸è§é—®é¢˜</h2><h3 id="1ã€ç®¡ç†èŠ‚ç‚¹é…ç½®æ–‡ä»¶é”™è¯¯"><a href="#1ã€ç®¡ç†èŠ‚ç‚¹é…ç½®æ–‡ä»¶é”™è¯¯" class="headerlink" title="1ã€ç®¡ç†èŠ‚ç‚¹é…ç½®æ–‡ä»¶é”™è¯¯"></a>1ã€ç®¡ç†èŠ‚ç‚¹é…ç½®æ–‡ä»¶é”™è¯¯</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">[root@mgr ~]# cat /etc/mha/app1.conf[server default]# è®¾ç½®ç›‘æ§ç”¨æˆ·å’Œå¯†ç ,è¯¥ç”¨æˆ·æ˜¯masterä¸Šåˆ›å»ºçš„æ•°æ®åº“ç®¡ç†è´¦å·ï¼Œæ‹¥æœ‰æ‰€æœ‰æƒé™user=mhapassword=123# è®¾ç½®å¤åˆ¶ç¯å¢ƒä¸­çš„å¤åˆ¶ç”¨æˆ·å’Œå¯†ç ï¼Œæ³¨æ„éœ€è¦æœ‰ä»¥ä¸‹æƒé™ï¼š#REPLICATION SLAVEå’ŒREPLICATION CLIENTrepl_user=slaverepl_password=123# è®¾ç½®sshçš„ç™»å½•ç”¨æˆ·åssh_user=admin....[server1]hostname=10.1.1.10port= 3306candidate_master=1[server2]hostname=10.1.1.20port= 3306candidate_master=1[server3]hostname=10.1.1.30port= 3306candidate_master=1æ³¨æ„ï¼šä¸€å®šè¦é…ç½®æ­£ç¡®çš„IPå’Œç«¯å£å·<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2ã€é…ç½®MHAæ—¶æ•°æ®åªè¯»è®¾ç½®"><a href="#2ã€é…ç½®MHAæ—¶æ•°æ®åªè¯»è®¾ç½®" class="headerlink" title="2ã€é…ç½®MHAæ—¶æ•°æ®åªè¯»è®¾ç½®"></a>2ã€é…ç½®MHAæ—¶æ•°æ®åªè¯»è®¾ç½®</h3><p><img src="/../assets/blog_res/%E5%8D%8A%E5%90%8C%E6%AD%A5%E5%A4%8D%E5%88%B6%E4%B8%8EMHA%E9%AB%98%E5%8F%AF%E7%94%A8%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1.assets/%E9%94%99%E8%AF%AF1.png" alt="é”™è¯¯1"></p><p>è§£å†³åŠæ³•ï¼šè®¾ç½®ä»æœåŠ¡å™¨ä¸ºåªè¯»</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; set @@global.read_only=1;Query OK, 0 rows affected (0.00 sec)mysql&gt; show variables like 'read_only';+---------------+-------+| Variable_name | Value |+---------------+-------+| read_only     | ON    |+---------------+-------+1 row in set (0.00 sec)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3ã€å¤åˆ¶ç”¨æˆ·æƒé™å¯†ç é”™è¯¯"><a href="#3ã€å¤åˆ¶ç”¨æˆ·æƒé™å¯†ç é”™è¯¯" class="headerlink" title="3ã€å¤åˆ¶ç”¨æˆ·æƒé™å¯†ç é”™è¯¯"></a>3ã€å¤åˆ¶ç”¨æˆ·æƒé™å¯†ç é”™è¯¯</h3><p><img src="/../assets/blog_res/%E5%8D%8A%E5%90%8C%E6%AD%A5%E5%A4%8D%E5%88%B6%E4%B8%8EMHA%E9%AB%98%E5%8F%AF%E7%94%A8%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1.assets/%E9%94%99%E8%AF%AF2.png" alt="é”™è¯¯2"></p><p>åŸå› ï¼š</p><ol><li>å¤åˆ¶ç”¨æˆ·slaveæ²¡æœ‰ç›¸å…³æƒé™ï¼ŒREPLICATION SLAVEå’Œ==REPLICATION CLIENT==</li><li>ä»æœåŠ¡å™¨æ²¡æœ‰åˆ›å»ºå¤åˆ¶ç”¨æˆ·</li></ol><h3 id="4ã€å…¶ä»–é”™è¯¯"><a href="#4ã€å…¶ä»–é”™è¯¯" class="headerlink" title="4ã€å…¶ä»–é”™è¯¯"></a>4ã€å…¶ä»–é”™è¯¯</h3><p>MHAé›†ç¾¤è‡³å°‘éœ€è¦2ä¸ªslaveï¼Œæ‰€ä»¥å¦‚æœåªæœ‰ä¸€å°slaveçš„è¯ï¼Œæ£€æŸ¥ä¹Ÿæ˜¯é€šä¸è¿‡çš„ï¼</p>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
          <category> mysql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> å­¦ä¹  </tag>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQLä¸»ä»å¤åˆ¶æ¶æ„</title>
      <link href="/2023/12/23/mysql-zhu-cong-fu-zhi-jia-gou/"/>
      <url>/2023/12/23/mysql-zhu-cong-fu-zhi-jia-gou/</url>
      
        <content type="html"><![CDATA[<h1 id="MySQLä¸»ä»å¤åˆ¶æ¶æ„"><a href="#MySQLä¸»ä»å¤åˆ¶æ¶æ„" class="headerlink" title="MySQLä¸»ä»å¤åˆ¶æ¶æ„"></a>MySQLä¸»ä»å¤åˆ¶æ¶æ„</h1><h1 id="ä¸€ã€MySQLé›†ç¾¤æ¦‚è¿°"><a href="#ä¸€ã€MySQLé›†ç¾¤æ¦‚è¿°" class="headerlink" title="ä¸€ã€MySQLé›†ç¾¤æ¦‚è¿°"></a>ä¸€ã€MySQLé›†ç¾¤æ¦‚è¿°</h1><p>1ã€é›†ç¾¤çš„ä¸»è¦ç±»å‹</p><ul><li>é«˜å¯ç”¨é›†ç¾¤ï¼ˆHigh Available Clusterï¼ŒHA Clusterï¼‰</li><li>é«˜å¯ç”¨é›†ç¾¤æ˜¯æŒ‡é€šè¿‡<strong>ç‰¹æ®Šçš„è½¯ä»¶</strong>æŠŠç‹¬ç«‹çš„æœåŠ¡å™¨è¿æ¥èµ·æ¥ï¼Œç»„æˆä¸€ä¸ªèƒ½å¤Ÿ<strong>æä¾›æ•…éšœåˆ‡æ¢</strong>ï¼ˆFail Overï¼‰åŠŸèƒ½çš„é›†ç¾¤</li></ul><h2 id="2ã€å¦‚ä½•è¡¡é‡é«˜å¯ç”¨"><a href="#2ã€å¦‚ä½•è¡¡é‡é«˜å¯ç”¨" class="headerlink" title="2ã€å¦‚ä½•è¡¡é‡é«˜å¯ç”¨"></a>2ã€å¦‚ä½•è¡¡é‡é«˜å¯ç”¨</h2><table><thead><tr><th>å¯ç”¨æ€§çº§åˆ«(æŒ‡æ ‡)</th><th>å¹´åº¦å®•æœºæ—¶é—´</th><th>æè¿°</th><th>å«æ³•</th></tr></thead><tbody><tr><td>99%</td><td>3.65å¤©/å¹´</td><td>åŸºæœ¬å¯ç”¨ç³»ç»Ÿ</td><td>2ä¸ª9</td></tr><tr><td>99.9%</td><td>8.76å°æ—¶/å¹´</td><td>å¯ç”¨ç³»ç»Ÿ</td><td>3ä¸ª9</td></tr><tr><td>99.99%</td><td>52.6åˆ†é’Ÿ/å¹´</td><td>é«˜å¯ç”¨ç³»ç»Ÿ</td><td>4ä¸ª9</td></tr><tr><td>99.999%</td><td>5.3åˆ†é’Ÿ/å¹´</td><td>æŠ—æ•…éšœç³»ç»Ÿ</td><td>5ä¸ª9</td></tr><tr><td>99.9999%</td><td>32ç§’/å¹´</td><td>å®¹é”™ç³»ç»Ÿ</td><td>6ä¸ª9</td></tr></tbody></table><p>è®¡ç®—æ–¹æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">1å¹´ = 365å¤© = 8760å°æ—¶99% = 8760 * 1% = 8760 * 0.01 = 87.6å°æ—¶=3.65å¤©99.9 = 8760 * 0.1% = 8760 * 0.001 = 8.76å°æ—¶99.99 = 8760 * 0.0001 = 0.876å°æ—¶ = 0.876 * 60 = 52.6åˆ†é’Ÿ99.999 = 8760 * 0.00001 = 0.0876å°æ—¶ = 0.0876 * 60 = 5.26åˆ†é’Ÿ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>##3ã€å¸¸ç”¨çš„é›†ç¾¤æ¶æ„</p><ul><li>==<strong>MySQL Replication</strong>==</li><li>MySQL Cluster</li><li>MySQL Group Replication ï¼ˆMGRï¼‰   5.7.17    å¤šä¸»ä¸€ä»</li><li>MariaDB Galera Cluster </li><li>==MHA==|Keepalived|HeartBeat|Lvsï¼ŒHaproxyç­‰æŠ€æœ¯æ„å»ºé«˜å¯ç”¨é›†ç¾¤</li></ul><h1 id="äºŒã€MySQLå¤åˆ¶ç®€ä»‹"><a href="#äºŒã€MySQLå¤åˆ¶ç®€ä»‹" class="headerlink" title="äºŒã€MySQLå¤åˆ¶ç®€ä»‹"></a>äºŒã€MySQLå¤åˆ¶ç®€ä»‹</h1><h2 id="1ã€ä»€ä¹ˆæ˜¯MySQLå¤åˆ¶"><a href="#1ã€ä»€ä¹ˆæ˜¯MySQLå¤åˆ¶" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯MySQLå¤åˆ¶"></a>1ã€ä»€ä¹ˆæ˜¯MySQLå¤åˆ¶</h2><ul><li>Replicationå¯ä»¥å®ç°å°†æ•°æ®ä»ä¸€å°æ•°æ®åº“æœåŠ¡å™¨ï¼ˆmasterï¼‰å¤åˆ¶åˆ°ä¸€å°åˆ°å¤šå°æ•°æ®åº“æœåŠ¡å™¨(slave)</li><li>é»˜è®¤æƒ…å†µä¸‹ï¼Œå±äº<strong>å¼‚æ­¥</strong>å¤åˆ¶ï¼Œæ‰€ä»¥æ— éœ€ç»´æŒé•¿è¿æ¥</li></ul><h2 id="2ã€-MySQLå¤åˆ¶åŸç†ï¼ˆé‡ç‚¹ï¼‰"><a href="#2ã€-MySQLå¤åˆ¶åŸç†ï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="2ã€ MySQLå¤åˆ¶åŸç†ï¼ˆé‡ç‚¹ï¼‰"></a>2ã€ MySQLå¤åˆ¶åŸç†ï¼ˆé‡ç‚¹ï¼‰</h2><p>ç®€å•æ¥è¯´ï¼Œmasterå°†æ•°æ®åº“çš„æ”¹å˜å†™å…¥**==äºŒè¿›åˆ¶æ—¥å¿—==<strong>ï¼ŒslaveåŒæ­¥è¿™äº›äºŒè¿›åˆ¶æ—¥å¿—ï¼Œå¹¶æ ¹æ®è¿™äº›äºŒè¿›åˆ¶æ—¥å¿—è¿›è¡Œ</strong>==æ•°æ®é‡æ¼”æ“ä½œ==**ï¼Œå®ç°æ•°æ®å¼‚æ­¥åŒæ­¥ã€‚</p><p>masterï¼šä¸»</p><p>slaveï¼šä»</p><p><img src="/../assets/blog_res/MySQL%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6%E6%9E%B6%E6%9E%84.assets/image-20200831095948344.png" alt="image-20200831095948344"></p><p><strong>è¯¦ç»†æè¿°ï¼š</strong></p><p>å½“ä¸»ä»åŒæ­¥é…ç½®å®Œæ¯•åï¼š</p><ol><li>slaveç«¯çš„IOçº¿ç¨‹å‘é€è¯·æ±‚ç»™masterç«¯çš„binlog dumpçº¿ç¨‹</li><li>masterç«¯binlog dumpçº¿ç¨‹==è·å–äºŒè¿›åˆ¶æ—¥å¿—==ä¿¡æ¯(==æ–‡ä»¶åå’Œä½ç½®ä¿¡æ¯==)å‘é€ç»™slaveç«¯çš„IOçº¿ç¨‹</li><li>salveç«¯IOçº¿ç¨‹è·å–åˆ°çš„å†…å®¹==ä¾æ¬¡==å†™åˆ°slaveç«¯relay log(ä¸­ç»§æ—¥å¿—)é‡Œï¼Œå¹¶æŠŠmasterç«¯çš„bin-logæ–‡ä»¶åå’Œä½ç½®è®°å½•åˆ°master.infoé‡Œ</li><li>salveç«¯çš„SQLçº¿ç¨‹ï¼Œæ£€æµ‹åˆ°relay  logä¸­å†…å®¹æ›´æ–°ï¼Œå°±ä¼šè§£ærelay logé‡Œæ›´æ–°çš„å†…å®¹ï¼Œå¹¶==æ‰§è¡Œè¿™äº›æ“ä½œ==ï¼Œä»è€Œè¾¾åˆ°å’Œmasteræ•°æ®ä¸€è‡´</li></ol><blockquote><p>æ‰©å±•ï¼šrelay logä¸­ç»§æ—¥å¿—</p></blockquote><p><strong>ä½œç”¨ï¼š</strong>è®°å½•ä»(slave)æœåŠ¡å™¨æ¥æ”¶æ¥è‡ªä¸»(master)æœåŠ¡å™¨çš„äºŒè¿›åˆ¶æ—¥å¿—.</p><p><strong>åœºæ™¯ï¼š</strong>ç”¨äº==ä¸»ä»å¤åˆ¶==</p><blockquote><p> masterä¸»æœåŠ¡å™¨å°†è‡ªå·±çš„äºŒè¿›åˆ¶æ—¥å¿—å‘é€ç»™slaveä»æœåŠ¡å™¨ï¼Œslaveå…ˆä¿å­˜åœ¨è‡ªå·±çš„==ä¸­ç»§æ—¥å¿—ä¸­==ï¼Œç„¶åå†æ‰§è¡Œè‡ªå·±æœ¬åœ°çš„relay logé‡Œçš„sqlè¾¾åˆ°æ•°æ®åº“æ›´æ”¹å’Œmasterä¿æŒä¸€è‡´ã€‚</p></blockquote><p><strong>å¦‚ä½•å¼€å¯ï¼Ÿ</strong></p><p>é»˜è®¤ä¸­ç»§æ—¥å¿—==æ²¡æœ‰å¼€å¯==ï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶å®Œæˆå¼€å¯ï¼Œå¦‚ä¸‹ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim my.cnf[mysqld]#æŒ‡å®šäºŒè¿›åˆ¶æ—¥å¿—å­˜æ”¾ä½ç½®åŠæ–‡ä»¶årelay-log=/mysql_3306/data/relaylog<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="3ã€MySQLå¤åˆ¶æ¶æ„"><a href="#3ã€MySQLå¤åˆ¶æ¶æ„" class="headerlink" title="3ã€MySQLå¤åˆ¶æ¶æ„"></a>3ã€MySQLå¤åˆ¶æ¶æ„</h2><h3 id="ãˆ -åŒæœºçƒ­å¤‡ï¼ˆABå¤åˆ¶ï¼‰"><a href="#ãˆ -åŒæœºçƒ­å¤‡ï¼ˆABå¤åˆ¶ï¼‰" class="headerlink" title="ãˆ   åŒæœºçƒ­å¤‡ï¼ˆABå¤åˆ¶ï¼‰"></a>ãˆ   åŒæœºçƒ­å¤‡ï¼ˆABå¤åˆ¶ï¼‰</h3><p><img src="/../assets/blog_res/MySQL%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6%E6%9E%B6%E6%9E%84.assets/image-20200831102317979.png" alt="image-20200831102317979"></p><p><strong>é»˜è®¤æƒ…å†µä¸‹ï¼Œmasteræ¥å—è¯»å†™è¯·æ±‚ï¼Œslaveåªæ¥å—è¯»è¯·æ±‚ä»¥å‡è½»masterçš„å‹åŠ›ã€‚</strong></p><h3 id="ãˆ¡-çº§è”å¤åˆ¶"><a href="#ãˆ¡-çº§è”å¤åˆ¶" class="headerlink" title="ãˆ¡  çº§è”å¤åˆ¶"></a>ãˆ¡  çº§è”å¤åˆ¶</h3><p><img src="/../assets/blog_res/MySQL%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6%E6%9E%B6%E6%9E%84.assets/image-20200831102431703.png" alt="image-20200831102431703"></p><p><strong>ä¼˜ç‚¹ï¼š</strong>è¿›ä¸€æ­¥åˆ†æ‹…è¯»å‹åŠ›</p><p><strong>ç¼ºç‚¹ï¼š</strong>slave1 å‡ºç°æ•…éšœï¼Œåé¢çš„æ‰€æœ‰çº§è”slaveæœåŠ¡å™¨éƒ½ä¼šåŒæ­¥å¤±è´¥</p><h3 id="ãˆ¢-å¹¶è”å¤åˆ¶ï¼ˆä¸€ä¸»å¤šä»ï¼‰"><a href="#ãˆ¢-å¹¶è”å¤åˆ¶ï¼ˆä¸€ä¸»å¤šä»ï¼‰" class="headerlink" title="ãˆ¢ å¹¶è”å¤åˆ¶ï¼ˆä¸€ä¸»å¤šä»ï¼‰"></a>ãˆ¢ å¹¶è”å¤åˆ¶ï¼ˆä¸€ä¸»å¤šä»ï¼‰</h3><p><img src="/../assets/blog_res/MySQL%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6%E6%9E%B6%E6%9E%84.assets/image-20200831102645559.png" alt="image-20200831102645559"></p><p><strong>ä¼˜ç‚¹ï¼š</strong>è§£å†³ä¸Šé¢çš„slave1çš„å•ç‚¹æ•…éšœï¼ŒåŒæ—¶ä¹Ÿåˆ†æ‹…è¯»å‹åŠ›</p><p><strong>ç¼ºç‚¹ï¼š</strong>é—´æ¥å¢åŠ masterçš„å‹åŠ›ï¼ˆä¼ è¾“äºŒè¿›åˆ¶æ—¥å¿—å‹åŠ›ï¼‰</p><h3 id="ãˆ£-åŒä¸»å¤åˆ¶ï¼ˆäº†è§£ï¼‰"><a href="#ãˆ£-åŒä¸»å¤åˆ¶ï¼ˆäº†è§£ï¼‰" class="headerlink" title="ãˆ£ åŒä¸»å¤åˆ¶ï¼ˆäº†è§£ï¼‰"></a>ãˆ£ åŒä¸»å¤åˆ¶ï¼ˆäº†è§£ï¼‰</h3><p><img src="/../assets/blog_res/MySQL%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6%E6%9E%B6%E6%9E%84.assets/image-20200831102830372.png" alt="image-20200831102830372"></p><p><strong>ç‰¹ç‚¹ï¼š</strong></p><p>ä»å‘½åæ¥çœ‹ï¼Œä¸¤å°masterå¥½åƒéƒ½èƒ½æ¥å—è¯»ã€å†™è¯·æ±‚ï¼Œä½†å®é™…ä¸Šï¼Œå¾€å¾€è¿ä½œçš„è¿‡ç¨‹ä¸­ï¼ŒåŒä¸€æ—¶åˆ»åªæœ‰å…¶ä¸­ä¸€å°masterä¼šæ¥å—å†™è¯·æ±‚ï¼Œå¦å¤–ä¸€å°æ¥å—è¯»è¯·æ±‚ã€‚</p><h1 id="ä¸‰ã€MySQLä¸»ä»å¤åˆ¶çš„æ­å»ºï¼ˆABå¤åˆ¶ï¼‰"><a href="#ä¸‰ã€MySQLä¸»ä»å¤åˆ¶çš„æ­å»ºï¼ˆABå¤åˆ¶ï¼‰" class="headerlink" title="ä¸‰ã€MySQLä¸»ä»å¤åˆ¶çš„æ­å»ºï¼ˆABå¤åˆ¶ï¼‰"></a>ä¸‰ã€MySQLä¸»ä»å¤åˆ¶çš„æ­å»ºï¼ˆABå¤åˆ¶ï¼‰</h1><p>##1ã€ä¼ ç»ŸABå¤åˆ¶æ¶æ„(M-S)</p><p><strong>è¯´æ˜</strong>ï¼šåœ¨é…ç½®MySQLä¸»ä»æ¶æ„æ—¶ï¼Œå¿…é¡»ä¿è¯æ•°æ®åº“çš„ç‰ˆæœ¬é«˜åº¦ä¸€è‡´ï¼Œç»Ÿä¸€ç‰ˆæœ¬ä¸º5.7.31</p><h2 id="2ã€ç¯å¢ƒè§„åˆ’"><a href="#2ã€ç¯å¢ƒè§„åˆ’" class="headerlink" title="2ã€ç¯å¢ƒè§„åˆ’"></a>2ã€ç¯å¢ƒè§„åˆ’</h2><table><thead><tr><th>ç¼–å·</th><th>ä¸»æœºåç§°</th><th>ä¸»æœºIPåœ°å€</th><th>è§’è‰²ä¿¡æ¯</th></tr></thead><tbody><tr><td>1</td><td>master.itcast.cn</td><td>10.1.1.10</td><td>MASTERä¸»æœåŠ¡å™¨</td></tr><tr><td>2</td><td>slave.itcast.cn</td><td>10.1.1.100</td><td>SLAVEä»æœåŠ¡å™¨</td></tr></tbody></table><h2 id="3ã€å®‰è£…å‰å‡†å¤‡å·¥ä½œ"><a href="#3ã€å®‰è£…å‰å‡†å¤‡å·¥ä½œ" class="headerlink" title="3ã€å®‰è£…å‰å‡†å¤‡å·¥ä½œ"></a>3ã€å®‰è£…å‰å‡†å¤‡å·¥ä½œ</h2><p>ç¬¬ä¸€æ­¥ï¼šå…‹éš†ä¸¤å°å…¨æ–°çš„æ•°æ®åº“æœåŠ¡å™¨ï¼ŒMASTER/SLAVE</p><p>ç¬¬äºŒæ­¥ï¼šé¦–å…ˆå¯åŠ¨MASTERï¼Œç„¶åå¯åŠ¨SLAVEï¼Œæ›´æ”¹ä¸»æœºåç§°</p><p>Masterï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># hostnamectl set-hostname master.itcast.cn# su<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>Slaveï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># hostnamectl set-hostname slave.itcast.cn# su<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç¬¬ä¸‰æ­¥ï¼šæ›´æ”¹é™æ€IPé…ç½®ï¼ŒæŠŠMasterå’ŒSlaveéƒ½é…ç½®ä¸è§„åˆ’ä¸€è‡´ï¼Œç„¶åå…³é—­NetworkManager</p><p>Masterï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/sysconfig/network-scripts/ifcfg-ens33...IPADDR=10.1.1.10...<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>Slaveï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/sysconfig/network-scripts/ifcfg-ens33...IPADDR=10.1.1.10...<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>Master/Slaveï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl stop NetworkManager# systemctl disable NetworkManager<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>è®¾ç½®å®Œæˆåï¼Œé‡å¯ç½‘ç»œï¼Œç„¶åä½¿ç”¨MXè¿æ¥Masterä¸Slaveã€‚</p><p>ç¬¬å››æ­¥ï¼šç”±äºä¸¤å°æœºå™¨å¤„äºé›†ç¾¤æ¶æ„ï¼Œéœ€è¦äº’ç›¸è¿æ¥ã€‚ç»‘å®šä¸»æœºåç§°ä¸IPåœ°å€åˆ°/etc/hosts</p><p>Master/Slaveï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/hosts10.1.1.10 master.itcast.cn10.1.1.100 slave.itcast.cn<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç¬¬äº”æ­¥ï¼šå…³é—­é˜²ç«å¢™ä¸SELinux</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl stop firewalld# systemctl disable firewalld# systemctl list-unit-files|grep firewalld# setenforce 0# sed -i '/^SELINUX=/cSELINUX=disabled' /etc/selinux/config<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬å…­æ­¥ï¼šé…ç½®yumæºï¼ˆå»ºè®®ä½¿ç”¨è…¾è®¯æºï¼‰</p><p>é…ç½®å‚è€ƒä»¥å‰ç¬”è®°ï¼ˆç•¥ï¼‰</p><p>ç¬¬ä¸ƒæ­¥ï¼šæ—¶é—´åŒæ­¥</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ntpdate 182.92.12.11<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="4ã€MySQLä¸»ä»å¤åˆ¶æ ¸å¿ƒæ€è·¯"><a href="#4ã€MySQLä¸»ä»å¤åˆ¶æ ¸å¿ƒæ€è·¯" class="headerlink" title="4ã€MySQLä¸»ä»å¤åˆ¶æ ¸å¿ƒæ€è·¯"></a>4ã€MySQLä¸»ä»å¤åˆ¶æ ¸å¿ƒæ€è·¯</h2><p><img src="/../assets/blog_res/MySQL%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6%E6%9E%B6%E6%9E%84.assets/image-20200831111825894.png" alt="image-20200831111825894"></p><ol><li>slaveå¿…é¡»å®‰è£…ç›¸åŒç‰ˆæœ¬çš„mysqlæ•°æ®åº“è½¯ä»¶</li><li>masterç«¯å¿…é¡»å¼€å¯==äºŒè¿›åˆ¶æ—¥å¿—==ï¼›slaveç«¯å¿…é¡»å¼€å¯==relay logæ—¥å¿—==</li><li>masterç«¯å’Œslaveç«¯çš„server-idå·==ä¸èƒ½ä¸€è‡´==</li><li>slaveç«¯é…ç½®å‘masteræ¥åŒæ­¥æ•°æ®<ul><li>masterç«¯å¿…é¡»åˆ›å»ºä¸€ä¸ªå¤åˆ¶ç”¨æˆ·</li><li>ä¿è¯masterå’Œslaveç«¯==åˆå§‹æ•°æ®ä¸€è‡´==</li><li>é…ç½®ä¸»ä»å¤åˆ¶ï¼ˆslaveç«¯ï¼‰</li></ul></li></ol><h2 id="5ã€MySQLä¸»ä»å¤åˆ¶çš„å…·ä½“å®è·µ"><a href="#5ã€MySQLä¸»ä»å¤åˆ¶çš„å…·ä½“å®è·µ" class="headerlink" title="5ã€MySQLä¸»ä»å¤åˆ¶çš„å…·ä½“å®è·µ"></a>5ã€MySQLä¸»ä»å¤åˆ¶çš„å…·ä½“å®è·µ</h2><h3 id="ç¬¬ä¸€æ­¥ï¼šä¸Šä¼ MySQLè½¯ä»¶åŒ…åˆ°Masterä¸Slave"><a href="#ç¬¬ä¸€æ­¥ï¼šä¸Šä¼ MySQLè½¯ä»¶åŒ…åˆ°Masterä¸Slave" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šä¸Šä¼ MySQLè½¯ä»¶åŒ…åˆ°Masterä¸Slave"></a>ç¬¬ä¸€æ­¥ï¼šä¸Šä¼ MySQLè½¯ä»¶åŒ…åˆ°Masterä¸Slave</h3><h3 id="ç¬¬äºŒæ­¥ï¼šåœ¨Masterç«¯å®‰è£…ã€åˆå§‹åŒ–ä»¥åŠè¿è¡Œmysqlè½¯ä»¶"><a href="#ç¬¬äºŒæ­¥ï¼šåœ¨Masterç«¯å®‰è£…ã€åˆå§‹åŒ–ä»¥åŠè¿è¡Œmysqlè½¯ä»¶" class="headerlink" title="ç¬¬äºŒæ­¥ï¼šåœ¨Masterç«¯å®‰è£…ã€åˆå§‹åŒ–ä»¥åŠè¿è¡Œmysqlè½¯ä»¶"></a>ç¬¬äºŒæ­¥ï¼šåœ¨Masterç«¯å®‰è£…ã€åˆå§‹åŒ–ä»¥åŠè¿è¡Œmysqlè½¯ä»¶</h3><p>å®‰è£…éœ€æ±‚ï¼š</p><table><thead><tr><th>é€‰é¡¹</th><th>å€¼ï¼ˆè‡ªå®šä¹‰ä¹Ÿå¯ä»¥é‡‡ç”¨é»˜è®¤å½¢å¼ï¼‰</th></tr></thead><tbody><tr><td>å®‰è£…è·¯å¾„</td><td>/usr/local/mysql</td></tr><tr><td>æ•°æ®è·¯å¾„</td><td>/usr/local/mysql/data</td></tr><tr><td>ç«¯å£å·</td><td>3306</td></tr></tbody></table><h4 id="â‘ -å®‰è£…MySQLè½¯ä»¶"><a href="#â‘ -å®‰è£…MySQLè½¯ä»¶" class="headerlink" title="â‘  å®‰è£…MySQLè½¯ä»¶"></a>â‘  å®‰è£…MySQLè½¯ä»¶</h4><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim mysql.sh#!/bin/bashyum install libaio -ytar -xf mysql-5.7.31-linux-glibc2.12-x86_64.tar.gzrm -rf /usr/local/mysqlmv mysql-5.7.31-linux-glibc2.12-x86_64 /usr/local/mysqluseradd -r -s /sbin/nologin mysqlrm -rf /etc/my.cnfcd /usr/local/mysqlmkdir mysql-fileschown mysql:mysql mysql-fileschmod 750 mysql-filesbin/mysqld --initialize --user=mysql --basedir=/usr/local/mysql &amp;&gt; /root/password.txtbin/mysql_ssl_rsa_setup --datadir=/usr/local/mysql/datacp support-files/mysql.server /etc/init.d/mysqldservice mysqld startecho 'export PATH=$PATH:/usr/local/mysql/bin' &gt;&gt; /etc/profilesource /etc/profile# source mysql.sh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>Shellè„šæœ¬å…¶å®å°±æ˜¯å‘½ä»¤çš„å †ç Œï¼ŒæŠŠä¸€å †Linuxå‘½ä»¤å†™åœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œä¸€èµ·æ‰§è¡Œã€‚</p></blockquote><h4 id="â‘¡-å®‰å…¨é…ç½®"><a href="#â‘¡-å®‰å…¨é…ç½®" class="headerlink" title="â‘¡ å®‰å…¨é…ç½®"></a>â‘¡ å®‰å…¨é…ç½®</h4><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mysql_secure_installation<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="â‘¢-é…ç½®my-cnfï¼ˆé‡ç‚¹å¼€å¯äºŒè¿›åˆ¶æ—¥å¿—ï¼‰"><a href="#â‘¢-é…ç½®my-cnfï¼ˆé‡ç‚¹å¼€å¯äºŒè¿›åˆ¶æ—¥å¿—ï¼‰" class="headerlink" title="â‘¢ é…ç½®my.cnfï¼ˆé‡ç‚¹å¼€å¯äºŒè¿›åˆ¶æ—¥å¿—ï¼‰"></a>â‘¢ é…ç½®my.cnfï¼ˆé‡ç‚¹å¼€å¯äºŒè¿›åˆ¶æ—¥å¿—ï¼‰</h4><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cd /usr/local/mysql# vim my.cnf[mysqld]basedir=/usr/local/mysqldatadir=/usr/local/mysql/datasocket=/tmp/mysql.sockport=3306log-error=/usr/local/mysql/data/master.errlog-bin=/usr/local/mysql/data/binlog=&gt;  ä¸€å®šè¦å¼€å¯äºŒè¿›åˆ¶æ—¥å¿—server-id=10character_set_server=utf8mb4 =&gt;    utf8mb4ç›¸å½“äºutf8å‡çº§ç‰ˆé…ç½®å®Œæˆåï¼Œé‡å¯mysqldæœåŠ¡# service mysqld restart# chkconfig --add mysqld# chkconfig mysqld on<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ç¬¬ä¸‰æ­¥ï¼šåœ¨Slaveä»æœåŠ¡å™¨ç«¯å®‰è£…mysqlè½¯ä»¶ï¼ˆä¸éœ€è¦åˆå§‹åŒ–ï¼‰"><a href="#ç¬¬ä¸‰æ­¥ï¼šåœ¨Slaveä»æœåŠ¡å™¨ç«¯å®‰è£…mysqlè½¯ä»¶ï¼ˆä¸éœ€è¦åˆå§‹åŒ–ï¼‰" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼šåœ¨Slaveä»æœåŠ¡å™¨ç«¯å®‰è£…mysqlè½¯ä»¶ï¼ˆä¸éœ€è¦åˆå§‹åŒ–ï¼‰"></a>ç¬¬ä¸‰æ­¥ï¼šåœ¨Slaveä»æœåŠ¡å™¨ç«¯å®‰è£…mysqlè½¯ä»¶ï¼ˆä¸éœ€è¦åˆå§‹åŒ–ï¼‰</h3><h4 id="â‘ -å®‰è£…MySQLè½¯ä»¶-1"><a href="#â‘ -å®‰è£…MySQLè½¯ä»¶-1" class="headerlink" title="â‘  å®‰è£…MySQLè½¯ä»¶"></a>â‘  å®‰è£…MySQLè½¯ä»¶</h4><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim mysql.sh#!/bin/bashyum install libaio -ytar -xf mysql-5.7.31-linux-glibc2.12-x86_64.tar.gzrm -rf /usr/local/mysqlmv mysql-5.7.31-linux-glibc2.12-x86_64 /usr/local/mysqluseradd -r -s /sbin/nologin mysqlrm -rf /etc/my.cnfcd /usr/local/mysqlmkdir mysql-fileschown mysql:mysql mysql-fileschmod 750 mysql-filescp support-files/mysql.server /etc/init.d/mysqldecho 'export PATH=$PATH:/usr/local/mysql/bin' &gt;&gt; /etc/profilesource /etc/profile<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>ç›¸å¯¹äºä¸»æœåŠ¡å™¨MySQLçš„å®‰è£…ä¸é…ç½®ï¼Œä»æœåŠ¡å™¨ç«¯ä¸éœ€è¦è¿›è¡Œåˆå§‹åŒ–æ“ä½œï¼Œå› ä¸ºå…¶æ•°æ®å°†æ¥éƒ½æ¥è‡ªäºä¸»æœåŠ¡å™¨ã€‚</p></blockquote><h4 id="â‘¡-é…ç½®my-cnfæ–‡ä»¶"><a href="#â‘¡-é…ç½®my-cnfæ–‡ä»¶" class="headerlink" title="â‘¡ é…ç½®my.cnfæ–‡ä»¶"></a>â‘¡ é…ç½®my.cnfæ–‡ä»¶</h4><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cd /usr/local/mysql# vim my.cnf[mysqld]basedir=/usr/local/mysqldatadir=/usr/local/mysql/datasocket=/tmp/mysql.sockport=3310log-error=/usr/local/mysql/data/slave.errrelay-log=/usr/local/mysql/data/relaylog=&gt;    å¼€å¯ä¸­ç»§æ—¥å¿—server-id=100character_set_server=utf8mb4<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="â‘¢-æŠŠmasterä¸»æœåŠ¡å™¨çš„æ•°æ®ç›®å½•åŒæ­¥åˆ°slaveä»æœåŠ¡å™¨"><a href="#â‘¢-æŠŠmasterä¸»æœåŠ¡å™¨çš„æ•°æ®ç›®å½•åŒæ­¥åˆ°slaveä»æœåŠ¡å™¨" class="headerlink" title="â‘¢ æŠŠmasterä¸»æœåŠ¡å™¨çš„æ•°æ®ç›®å½•åŒæ­¥åˆ°slaveä»æœåŠ¡å™¨"></a>â‘¢ æŠŠmasterä¸»æœåŠ¡å™¨çš„æ•°æ®ç›®å½•åŒæ­¥åˆ°slaveä»æœåŠ¡å™¨</h4><p>a. æŠŠMASTERæœåŠ¡å™¨ä¸­çš„mysqldåœæ­¢æ‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># service mysqld stop<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>b. æŠŠMASTERæœåŠ¡å™¨ä¸­çš„/usr/local/mysql/dataç›®å½•ä¸‹çš„auto.cnfæ–‡ä»¶åˆ é™¤</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rm -rf /usr/local/mysql/data/auto.cnf<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>æ²¡å®‰è£…ä¸€ä¸ªmysqlè½¯ä»¶ï¼Œå…¶dataæ•°æ®ç›®å½•éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªauto.cnfæ–‡ä»¶ï¼Œé‡Œé¢æ˜¯ä¸€ä¸ªå”¯ä¸€æ€§çš„ç¼–å·ï¼Œç›¸å½“äºæˆ‘ä»¬æ¯ä¸ªäººçš„èº«ä»½è¯å·ç ã€‚</p></blockquote><p>c. æŠŠMASTERæœåŠ¡å™¨ä¸­/usr/local/mysqlä¸­çš„dataç›®å½•æ‹·è´ä¸€ä»½åˆ°SLAVEä»æœåŠ¡å™¨çš„/usr/local/mysqlç›®å½•</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rsync -av /usr/local/mysql/data root@10.1.1.100:/usr/local/mysql/<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>d. åŒæ­¥å®Œæˆåï¼ŒæŠŠä¸»æœåŠ¡å™¨ä¸ä»æœåŠ¡å™¨ä¸­çš„mysqldå¯åŠ¨</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># service mysqld start<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ"><a href="#å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ" class="headerlink" title="å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ"></a>å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ</h4><p>â˜† å¸¸è§é—®é¢˜1ï¼šMySQLæ— æ³•å¯åŠ¨</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># service mysqld startRedirecting to /bin/systemctl start mysqld.serviceFailed to start mysqld.service: Unit not found.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å‡ºç°ä»¥ä¸Šé—®é¢˜çš„ä¸»è¦åŸå› åœ¨äº/etc/init.dç›®å½•ä¸­æ²¡æœ‰mysqldè¿™ä¸ªæ–‡ä»¶æ¢å¥è¯è¯´ï¼Œå°±æ˜¯ä½ æ²¡æœ‰cp mysql.serverè„šæœ¬</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cp /usr/local/mysql/support-files/mysql.server /etc/init.d/mysqldè®°ä½ï¼š/etc/init.dç›®å½•ä¸­çš„æ–‡ä»¶å«ä»€ä¹ˆåå­—ï¼Œæˆ‘ä»¬serviceçš„æ—¶å€™å°±åº”è¯¥ä½¿ç”¨ä»€ä¹ˆåå­—# service mysqld start<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>â˜† å¸¸è§é”™è¯¯2ï¼šMySQLæ²¡æœ‰å®‰è£…åœ¨/usr/local/mysqlç›®å½•ä¸­ï¼Œserviceä¹Ÿæ— æ³•å¯åŠ¨</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># service mysqld startæ— æ³•å¯åŠ¨çš„åŸå› å¯èƒ½æ˜¯ä½ çš„MySQLå¹¶æ²¡æœ‰å®‰è£…åœ¨/usr/local/mysqlç›®å½•ä¸­ï¼Œå› ä¸º/etc/init.d/mysqldè„šæœ¬ä¸­çš„basedirä¸datadiré»˜è®¤æŒ‡å‘çš„éƒ½æ˜¯/usr/local/mysql<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ‰€ä»¥å¦‚æœæˆ‘ä»¬æ›´æ¢äº†mysqlçš„å®‰è£…ä½ç½®ï¼Œåˆ™å¿…é¡»æ›´æ”¹/etc/init.d/mysqldè„šæœ¬ä¸­basedirä¸datadirç›®å½•</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/init.d/mysqldbasedir=ä½ çš„å®‰è£…è·¯å¾„datadir=ä½ çš„å®‰è£…è·¯å¾„/data<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>â˜† å¸¸è§é—®é¢˜3ï¼šå› ä¸ºmy.cnfé…ç½®æ–‡ä»¶å¯¼è‡´mysqlæ— æ³•å¯åŠ¨</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim my.cnf[mysqld]basedir=/usr/local/mysql=&gt;    å®‰è£…è·¯å¾„datadir=/usr/local/mysql/data=&gt;    æ•°æ®ç›®å½•socket=/tmp/mysql.sock=&gt;    GLIBCé»˜è®¤å°±æ˜¯/tmp/mysql.sockport=3310log-error=/usr/local/mysql/slave.err=&gt; é”™è¯¯æ—¥å¿—åˆ°åº•æ”¾åœ¨å“ªé‡Œrelay-log=/usr/local/mysql/data/relaylogserver-id=100character_set_server=utf8mb4<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯åŠ¨æŠ¥é”™ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">Starting MySQL.2020-08-31T07:17:06.554270Z mysqld_safe error: log-error set to '/usr/local/mysql/slave.err', however file don't exists. Create writable for user 'mysql'. ERROR! The server quit without updating PID file (/usr/local/mysql/data/slave.itcast.cn.pid).<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>äº§ç”Ÿä»¥ä¸Šé—®é¢˜çš„ä¸»è¦åŸå› åœ¨äºmysqlè¿™ä¸ªç”¨æˆ·å¯¹/usr/local/mysqlæ–‡ä»¶å¤¹æ²¡æœ‰å†™å…¥æƒé™</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ll -d /usr/local/mysqldrwxr-xr-x 11 7161 31415 174 Aug 31 15:16 /usr/local/mysqlå‘ç°æ–‡ä»¶æ‹¥æœ‰è€…ä½ç½®ä¸æ‰€å±ç»„ä½ç½®éƒ½æ˜¯ä¸¤ä¸ªæ•°å­—ï¼Œæ­£å¸¸åº”è¯¥æ˜¯æ–‡ä»¶æ‹¥æœ‰è€…çš„åç§°ä¸æ–‡ä»¶æ‰€å±ç»„çš„åç§°ã€‚ä½†æ˜¯ç”±äºGLIBCå·²ç»æå‰æ‰“åŒ…äº†ï¼Œæˆ‘ä»¬è§£å‹åï¼Œå¦‚æœåœ¨æˆ‘ä»¬ç³»ç»Ÿä¸­ï¼Œæ‰¾ä¸åˆ°åŸæ–‡ä»¶å¯¹åº”çš„æ–‡ä»¶æ‹¥æœ‰ç€ä¸æ‰€å±ç»„ï¼Œåˆ™ä»¥ä¸¤ä¸ªæ•°å­—ä»£æ›¿æ–‡ä»¶æ‹¥æœ‰è€…ä¸æ‰€å±ç»„çš„æ˜¾ç¤ºã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>è§£å†³æ–¹æ¡ˆï¼š</p><p>æ–¹æ¡ˆä¸€ï¼šå»ºè®®æŠŠé”™è¯¯æ—¥å¿—ï¼Œä¸¢åœ¨æ•°æ®ç›®å½•ä¸­</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim my.cnf...log-error=/usr/local/mysql/data/slave.err<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ–¹æ¡ˆäºŒï¼šç›´æ¥æ›´æ”¹/usr/local/mysqlç›®å½•çš„æƒé™</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chown -R mysql.mysql /usr/local/mysql<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="â‘£-é…ç½®MASTER-SLAVEä¸»ä»åŒæ­¥"><a href="#â‘£-é…ç½®MASTER-SLAVEä¸»ä»åŒæ­¥" class="headerlink" title="â‘£ é…ç½®MASTER-SLAVEä¸»ä»åŒæ­¥"></a>â‘£ é…ç½®MASTER-SLAVEä¸»ä»åŒæ­¥</h4><p>a. åœ¨MASTERä¸»æœåŠ¡å™¨ä¸­åˆ›å»ºä¸€ä¸ªè´¦å·ï¼Œä¸“é—¨ç”¨äºå®ç°æ•°æ®åŒæ­¥</p><p>MySQL5.7åŠä»¥ä¸‹ç‰ˆæœ¬ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; grant replication slave on *.* to 'slave'@'10.1.1.%' identified by '123';<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>MySQLæ–°ç‰ˆæœ¬ä¸­ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; create user 'slave'@'10.1.1.%' identified by '123';mysql&gt; grant replication slave on *.* to 'slave'@'10.1.1.%';mysql&gt; flush privileges;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>b. åœ¨MASTERä¸­é”è¡¨ï¼Œç„¶åæŸ¥çœ‹äºŒè¿›åˆ¶æ–‡ä»¶çš„åç§°åŠä½ç½®</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; flush tables with read lock;mysql&gt; show master status;+---------------+----------+--------------+------------------+-------------------+| File          | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set |+---------------+----------+--------------+------------------+-------------------+| binlog.000002 |      597 |              |                  |                   |+---------------+----------+--------------+------------------+-------------------+<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>c. åœ¨SLAVEä»æœåŠ¡å™¨ä¸­ï¼Œä½¿ç”¨change master toæŒ‡å®šä¸»æœåŠ¡å™¨ï¼Œå¹¶å®ç°æ•°æ®åŒæ­¥</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; change master to master_host='10.1.1.10',master_user='slave',master_password='123',master_port=3306,master_log_file='binlog.000002',master_log_pos=597;master_hostï¼šä¸»æœºçš„IPåœ°å€master_userï¼šä¸»æœºçš„userè´¦å·master_passwordï¼šä¸»æœºçš„userè´¦å·å¯†ç master_portï¼šä¸»æœºMySQLçš„ç«¯å£å·master_log_fileï¼šäºŒè¿›åˆ¶æ—¥å¿—æ–‡ä»¶åç§°master_log_posï¼šäºŒè¿›åˆ¶æ—¥å¿—æ–‡ä»¶ä½ç½®<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>æŠ€å·§ï¼šä¸»ä»å¤åˆ¶çš„change master toè¯­å¥è®°ä¸ä½æ€ä¹ˆåŠï¼Ÿç­”ï¼šæ±‚å¸®åŠ©ï¼Œmysql&gt; help change master to;</p><p>CHANGE MASTER TO<br>MASTER_HOST=â€™master2.example.comâ€™,<br>MASTER_USER=â€™replicationâ€™,<br>MASTER_PASSWORD=â€™passwordâ€™,<br>MASTER_PORT=3306,<br>MASTER_LOG_FILE=â€™master2-bin.001â€™,<br>MASTER_LOG_POS=4,<br>MASTER_CONNECT_RETRY=10;</p></blockquote><p>d. å¯åŠ¨slaveæ•°æ®åŒæ­¥</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; start slave;mysql&gt; show slave status\G<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><img src="/../assets/blog_res/MySQL%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6%E6%9E%B6%E6%9E%84.assets/image-20200831155637556.png" alt="image-20200831155637556"></p><h4 id="å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ-1"><a href="#å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ-1" class="headerlink" title="å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ"></a>å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ</h4><p>åœ¨é…ç½®ä¸»ä»æ—¶ï¼Œä¸€èˆ¬é‡åˆ°é”™è¯¯ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯change master toè¯­å¥å†™é”™äº†ï¼ˆ80%ï¼‰ï¼Œè§£å†³æ–¹æ¡ˆï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; stop slave;mysql&gt; reset slave;mysql&gt; change master to master_host='10.1.1.10',master_user='slave',master_password='123',master_port=3306,master_log_file='binlog.000002',master_log_pos=597;mysql&gt; start slave;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="â‘¤-ä¸»MASTERæœåŠ¡å™¨è§£é”"><a href="#â‘¤-ä¸»MASTERæœåŠ¡å™¨è§£é”" class="headerlink" title="â‘¤ ä¸»MASTERæœåŠ¡å™¨è§£é”"></a>â‘¤ ä¸»MASTERæœåŠ¡å™¨è§£é”</h4><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; unlock tables;Query OK, 0 rows affected (0.00 sec)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h3><ol><li>ä¸»ä»å¤åˆ¶å¿…é¡»ä¿è¯ä¸¤å°æ•°æ®åº“å®ä¾‹çš„==server-idä¸ä¸€è‡´==</li><li>ä¸»æœåŠ¡å™¨==å¿…é¡»å¼€å¯äºŒè¿›åˆ¶æ—¥å¿—==ï¼›ä»æœåŠ¡å™¨==å¿…é¡»å¼€å¯ä¸­ç»§æ—¥å¿—==</li><li>ä¸»ä»å¤åˆ¶æ­å»º==å¿…é¡»ä¿è¯åˆå§‹æ•°æ®ä¸€è‡´==</li><li>ä¸»æœåŠ¡å™¨å¿…é¡»è¦ç»™ä»æœåŠ¡å™¨==åˆ›å»ºä¸€ä¸ªå¤åˆ¶ç”¨æˆ·ï¼Œå¹¶æˆäºˆå¤åˆ¶æƒé™==</li><li>Masterâ€”&gt;Slaveæ¶æ„ï¼Œ==ä¸»å†™ä¼šåŒæ­¥åˆ°ä»==ï¼›è€Œ==ä»å†™ä¸ä¼šåŒæ­¥åˆ°ä¸»==</li></ol><h2 id="6ã€SLAVEä»æœåŠ¡å™¨ä¸å°å¿ƒå†™å…¥æ•°æ®è§£å†³æ–¹æ¡ˆ"><a href="#6ã€SLAVEä»æœåŠ¡å™¨ä¸å°å¿ƒå†™å…¥æ•°æ®è§£å†³æ–¹æ¡ˆ" class="headerlink" title="6ã€SLAVEä»æœåŠ¡å™¨ä¸å°å¿ƒå†™å…¥æ•°æ®è§£å†³æ–¹æ¡ˆ"></a>6ã€SLAVEä»æœåŠ¡å™¨ä¸å°å¿ƒå†™å…¥æ•°æ®è§£å†³æ–¹æ¡ˆ</h2><p>æ­£å¸¸æƒ…å†µä¸‹ï¼š</p><p>MASTERæ—¢å¯ä»¥è¯»ï¼Œä¹Ÿå¯ä»¥å†™ã€‚ä½†æ˜¯SLAVEä»æœåŠ¡å™¨ï¼Œåªèƒ½æ‰§è¡Œè¯»å–æ“ä½œã€‚ä¸€æ—¦æˆ‘ä»¬åœ¨SLAVEä»æœåŠ¡å™¨ä¸­å†™å…¥æ•°æ®ï¼Œåˆ™ä¸»ä»æ¶æ„ä¼šå¤±è´¥ã€‚</p><p>SLAVEï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># show slave status\G<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/../assets/blog_res/MySQL%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6%E6%9E%B6%E6%9E%84.assets/image-20200831165406201.png" alt="image-20200831165406201"></p><p>é‡åˆ°ä»¥ä¸Šé—®é¢˜ï¼šå¦‚æœæ•°é‡è¾ƒå°‘ï¼Œè¿˜å¯ä»¥é€šè¿‡è·³è¿‡å½“å‰è¯­å¥çš„æ–¹å¼è§£å†³ã€‚ä½†æ˜¯å¦‚æœä»æœåŠ¡å™¨å†™å…¥æ•°æ®è¿‡å¤šï¼Œåˆ™ä»¥ä¸Šæ¶æ„å¿…é¡»è¦é‡æ–°æ­å»ºäº†ï¼</p><p>è§£å†³æ–¹æ¡ˆï¼š</p><p>é—®ï¼š</p><p>å¦‚æœç”±äºäººä¸ºæ“ä½œæˆ–è€…å…¶ä»–åŸå› ç›´æ¥å°†æ•°æ®æ›´æ”¹åˆ°ä»æœåŠ¡å™¨å¯¼è‡´æ•°æ®åŒæ­¥å¤±æ•ˆï¼Œæ€ä¹ˆè§£å†³ï¼Ÿ</p><p>ç­”ï¼šå¯ä»¥é€šè¿‡å˜é‡<code>sql_slave_skip_counter</code>ä¸´æ—¶è·³è¿‡äº‹åŠ¡è¿›è¡Œå¤„ç†</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">SET GLOBAL sql_slave_skip_counter = N  Nä»£è¡¨è·³è¿‡Nä¸ªäº‹åŠ¡ä¸¾ä¾‹è¯´æ˜ï¼šmysql&gt; SET GLOBAL sql_slave_skip_counter=1;mysql&gt; stop slave;mysql&gt; start slave;æ³¨æ„ï¼š1. è·³è¿‡äº‹åŠ¡åº”è¯¥åœ¨slaveä¸Šè¿›è¡Œ2. ä¼ ç»Ÿçš„ABå¤åˆ¶æ–¹å¼å¯ä»¥ä½¿ç”¨å˜é‡ï¼šsql_slave_skip_counterï¼ŒåŸºäºGTIDsçš„æ–¹å¼ä¸æ”¯æŒ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="å››ã€åŸºäºGTIDsçš„ABå¤åˆ¶æ¶æ„-M-S"><a href="#å››ã€åŸºäºGTIDsçš„ABå¤åˆ¶æ¶æ„-M-S" class="headerlink" title="å››ã€åŸºäºGTIDsçš„ABå¤åˆ¶æ¶æ„(M-S)"></a>å››ã€åŸºäºGTIDsçš„ABå¤åˆ¶æ¶æ„(M-S)</h1><h2 id="1ã€GTIDsæ¦‚è¿°"><a href="#1ã€GTIDsæ¦‚è¿°" class="headerlink" title="1ã€GTIDsæ¦‚è¿°"></a>1ã€GTIDsæ¦‚è¿°</h2><ul><li><strong>ä»€ä¹ˆæ˜¯GTIDsä»¥åŠæœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ</strong></li></ul><ol><li><p>GTIDsï¼ˆGlobal transaction identifiersï¼‰==å…¨å±€äº‹åŠ¡æ ‡è¯†ç¬¦==ï¼Œæ˜¯mysql 5.6æ–°åŠ å…¥çš„ä¸€é¡¹æŠ€æœ¯</p></li><li><p>å½“ä½¿ç”¨GTIDsæ—¶ï¼Œæ¯ä¸€ä¸ªäº‹åŠ¡éƒ½å¯ä»¥è¢«==è¯†åˆ«å¹¶ä¸”è·Ÿè¸ª== </p></li><li><p>æ·»åŠ æ–°çš„slaveæˆ–è€…å½“å‘ç”Ÿæ•…éšœéœ€è¦å°†masterèº«ä»½æˆ–è€…è§’è‰²è¿ç§»åˆ°slaveä¸Šæ—¶ï¼Œéƒ½æ— éœ€è€ƒè™‘æ˜¯å“ªä¸€ä¸ªäºŒè¿›åˆ¶æ—¥å¿—ä»¥åŠå“ªä¸ªpositionå€¼ï¼Œ==æå¤§ç®€åŒ–äº†ç›¸å…³æ“ä½œ==</p></li><li><p>GTIDsæ˜¯å®Œå…¨åŸºäºäº‹åŠ¡çš„ï¼Œå› æ­¤==ä¸æ”¯æŒMYISAMå­˜å‚¨å¼•æ“== </p></li><li><p>==GTIDç”±source_idå’Œtransaction_idç»„æˆ==ï¼š </p><p>1ï¼‰source_idæ¥è‡ªäºserver_uuid,å¯ä»¥åœ¨auto.cnfä¸­çœ‹åˆ°</p><p>2ï¼‰transation_idæ˜¯ä¸€ä¸ªåºåˆ—æ•°å­—ï¼Œè‡ªåŠ¨ç”Ÿæˆ.</p></li></ol><ul><li><strong>ä½¿ç”¨GTIDsçš„é™åˆ¶æ¡ä»¶æœ‰å“ªäº›ï¼Ÿ</strong></li></ul><ol><li>ä¸æ”¯æŒéäº‹åŠ¡å¼•æ“ï¼ˆMyISAMï¼‰ï¼Œå› ä¸ºå¯èƒ½ä¼šå¯¼è‡´å¤šä¸ªgtidåˆ†é…ç»™åŒä¸€ä¸ªäº‹åŠ¡</li><li>create table â€¦ select è¯­å¥ä¸æ”¯æŒï¼ˆä¸»åº“è¯­æ³•æŠ¥é”™ï¼‰</li><li>create/drop <strong>temporary table</strong> è¯­å¥ä¸æ”¯æŒ</li><li>å¿…é¡»ä½¿ç”¨enforce-gtid-consistencyå‚æ•° </li><li>sql-slave-skip-counterä¸æ”¯æŒ(ä¼ ç»Ÿçš„è·³è¿‡é”™è¯¯æ–¹å¼) </li><li>GTIDå¤åˆ¶ç¯å¢ƒä¸­å¿…é¡»è¦æ±‚ç»Ÿä¸€å¼€å¯å’ŒGTIDæˆ–è€…å…³é—­GTID </li><li>åœ¨mysql 5.6.7ä¹‹å‰ï¼Œä½¿ç”¨==mysql_upgrade==å‘½ä»¤ä¼šå‡ºç°é—®é¢˜</li></ol><h2 id="2ã€åŸºäºGTIDsçš„ä¸»ä»å¤åˆ¶"><a href="#2ã€åŸºäºGTIDsçš„ä¸»ä»å¤åˆ¶" class="headerlink" title="2ã€åŸºäºGTIDsçš„ä¸»ä»å¤åˆ¶"></a>2ã€åŸºäºGTIDsçš„ä¸»ä»å¤åˆ¶</h2><p>åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨çš„MySQL5.6åŸºæœ¬ä¸Šéƒ½æ˜¯ä»5.5æˆ–è€…æ›´ä½çš„ç‰ˆæœ¬å‡çº§è€Œæ¥ï¼Œè¿™å°±æ„å‘³ç€ä¹‹å‰çš„mysql replicationæ–¹æ¡ˆæ˜¯åŸºäºä¼ ç»Ÿçš„æ–¹å¼éƒ¨ç½²ï¼Œå¹¶ä¸”å·²ç»åœ¨è¿è¡Œï¼Œå› æ­¤ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±åˆ©ç”¨å·²æœ‰çš„ç¯å¢ƒå‡çº§è‡³åŸºäºGITDsçš„Replication</p><p>ã€‡ æ€è·¯</p><ol><li>ä¿®æ”¹é…ç½®æ–‡ä»¶æ”¯æŒGTIDs  (ä¸»+ä»)</li><li>é‡å¯æ•°æ®åº“  (ä¸»+ä»)</li><li>ä¸ºäº†ä¿è¯æ•°æ®ä¸€è‡´æ€§ï¼Œmasterå’Œslaveè®¾ç½®ä¸ºåªè¯»æ¨¡å¼ (ä¸»+ä»)</li><li>==ä»æœåŠ¡å™¨ä¸Šé‡æ–°é…ç½®åŒæ­¥== ï¼ˆä»ï¼‰</li></ol><h2 id="3ã€åŸºäºGTIDsçš„ä¸»ä»å¤åˆ¶å®è·µ"><a href="#3ã€åŸºäºGTIDsçš„ä¸»ä»å¤åˆ¶å®è·µ" class="headerlink" title="3ã€åŸºäºGTIDsçš„ä¸»ä»å¤åˆ¶å®è·µ"></a>3ã€åŸºäºGTIDsçš„ä¸»ä»å¤åˆ¶å®è·µ</h2><h3 id="â‘ -ä¿®æ”¹é…ç½®æ–‡ä»¶æ”¯æŒGTIDs"><a href="#â‘ -ä¿®æ”¹é…ç½®æ–‡ä»¶æ”¯æŒGTIDs" class="headerlink" title="â‘  ä¿®æ”¹é…ç½®æ–‡ä»¶æ”¯æŒGTIDs"></a>â‘  ä¿®æ”¹é…ç½®æ–‡ä»¶æ”¯æŒGTIDs</h3><p>MASTER =&gt; my.cnf</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim my.cnf...gtid-mode=onlog-slave-updates=1enforce-gtid-consistency<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>SLAVE =&gt; my.cnf</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rm -rf data/binlog.*# vim my.cnf...log-bin=/usr/local/mysql/data/binlog=&gt;   å¿…é¡»è¦å¼€å¯äºŒè¿›åˆ¶gtid-mode=onlog-slave-updates=1enforce-gtid-consistencyskip-slave-start =&gt;    å½“MASTERä¸»æœåŠ¡å™¨GTIDsæ²¡æœ‰å¯åŠ¨æ—¶ï¼Œè·³è¿‡SLAVEæœåŠ¡å™¨çš„å¯åŠ¨<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>è¯´æ˜ï¼š<br>1ï¼‰å¼€å¯GITDséœ€è¦åœ¨masterå’Œslaveä¸Šéƒ½é…ç½®gtid-modeï¼Œlog-binï¼Œlog-slave-updatesï¼Œenforce-gtid-consistencyï¼ˆè¯¥å‚æ•°åœ¨5.6.9ä¹‹å‰æ˜¯â€“disable-gtid-unsafe-statementï¼‰<br>2ï¼‰å…¶æ¬¡ï¼Œslaveè¿˜éœ€è¦å¢åŠ skip-slave-startå‚æ•°,ç›®çš„æ˜¯å¯åŠ¨çš„æ—¶å€™ï¼Œå…ˆä¸è¦æŠŠslaveèµ·æ¥ï¼Œéœ€è¦åšä¸€äº›é…ç½®<br>3ï¼‰åŸºäºGTIDså¤åˆ¶ä»æœåŠ¡å™¨å¿…é¡»å¼€å¯äºŒè¿›åˆ¶æ—¥å¿—ï¼</p></blockquote><h3 id="â‘¡-é‡æ–°å¯åŠ¨mysqldæœåŠ¡"><a href="#â‘¡-é‡æ–°å¯åŠ¨mysqldæœåŠ¡" class="headerlink" title="â‘¡ é‡æ–°å¯åŠ¨mysqldæœåŠ¡"></a>â‘¡ é‡æ–°å¯åŠ¨mysqldæœåŠ¡</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># service mysqld restart<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â‘¢-ä¸»ä»é…ç½®åªè¯»æ¨¡å¼"><a href="#â‘¢-ä¸»ä»é…ç½®åªè¯»æ¨¡å¼" class="headerlink" title="â‘¢ ä¸»ä»é…ç½®åªè¯»æ¨¡å¼"></a>â‘¢ ä¸»ä»é…ç½®åªè¯»æ¨¡å¼</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; set @@global.read_only=ON;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â‘£-SLAVEé‡æ–°é…ç½®change-master-to"><a href="#â‘£-SLAVEé‡æ–°é…ç½®change-master-to" class="headerlink" title="â‘£ SLAVEé‡æ–°é…ç½®change master to"></a>â‘£ SLAVEé‡æ–°é…ç½®change master to</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; stop slave;mysql&gt; reset slave;mysql&gt; change master to master_host='10.1.1.10',master_user='slave',master_password='123',master_port=3306,master_auto_position=1;æ³¨æ„ï¼š1.ç¡®ä¿æœ‰å¤åˆ¶ç”¨æˆ·2.ä¸»è¦åŒºåˆ«äºä¼ ç»Ÿå¤åˆ¶çš„å‚æ•°æ˜¯ï¼šmaster_auto_position=1mysql&gt; start slave;mysql&gt; show slave status\G<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="â‘¤-å…³é—­ä¸»ä»æœåŠ¡å™¨çš„åªè¯»æ¨¡å¼"><a href="#â‘¤-å…³é—­ä¸»ä»æœåŠ¡å™¨çš„åªè¯»æ¨¡å¼" class="headerlink" title="â‘¤ å…³é—­ä¸»ä»æœåŠ¡å™¨çš„åªè¯»æ¨¡å¼"></a>â‘¤ å…³é—­ä¸»ä»æœåŠ¡å™¨çš„åªè¯»æ¨¡å¼</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; set @@global.read_only=OFF;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æµ‹è¯•éªŒè¯ï¼ˆå¾€ä¸»æœåŠ¡å™¨ä¸­å†™å…¥éƒ¨åˆ†æ•°æ®ï¼ŒéªŒè¯ä¸€ä¸‹ï¼‰</p><h2 id="4ã€SLAVEä»æœåŠ¡å™¨ä¸å°å¿ƒå†™å…¥æ•°æ®è§£å†³æ–¹æ¡ˆ"><a href="#4ã€SLAVEä»æœåŠ¡å™¨ä¸å°å¿ƒå†™å…¥æ•°æ®è§£å†³æ–¹æ¡ˆ" class="headerlink" title="4ã€SLAVEä»æœåŠ¡å™¨ä¸å°å¿ƒå†™å…¥æ•°æ®è§£å†³æ–¹æ¡ˆ"></a>4ã€SLAVEä»æœåŠ¡å™¨ä¸å°å¿ƒå†™å…¥æ•°æ®è§£å†³æ–¹æ¡ˆ</h2><p>æ–¹æ³•ä¸€ï¼šè·³è¿‡äº‹åŠ¡</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">æŒ‡å®šéœ€è¦è·³è¿‡çš„GTIDsç¼–å·SET GTID_NEXT='aaa-bbb-ccc-ddd:N';å¼€å§‹ä¸€ä¸ªç©ºäº‹åŠ¡BEGIN;COMMIT;ä½¿ç”¨ä¸‹ä¸€ä¸ªè‡ªåŠ¨ç”Ÿæˆçš„å…¨å±€äº‹åŠ¡IDã€‚SET GTID_NEXT='AUTOMATIC';ä¸¾ä¾‹è¯´æ˜ï¼šmysql&gt; stop slave;mysql&gt; SET @@SESSION.GTID_NEXT= '13e36f00-eb70-11ea-91a8-000c29d1f40a:1'/*!*/;mysql&gt; BEGIN;mysql&gt; commit;mysql&gt; SET @@SESSION.GTID_NEXT= 'AUTOMATIC';mysql&gt; start slave;mysql&gt; show slave status\Gè¯´æ˜ï¼šéœ€è¦è·³è¿‡å“ªä¸ªäº‹åŠ¡ï¼Œéœ€è¦æ‰‹åŠ¨æŸ¥çœ‹relaylogæ–‡ä»¶å¾—åˆ°[root@slave1 data]# ../bin/mysqlbinlog relay.000003|lessã€‚ã€‚ã€‚ã€‚# at 756#181015 12:04:45 server id 10  end_log_pos 817 CRC32 0x5374f49e         GTID [commit=yes]SET @@SESSION.GTID_NEXT= '044e6392-cf9b-11e8-a748-000c294ca304:3'/*!*/;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ–¹æ³•äºŒï¼šé‡æ–°åŒæ­¥dataç›®å½•ï¼Œé‡æ–°change master toâ€¦</p>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
          <category> mysql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> å­¦ä¹  </tag>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQLå¤‡ä»½ä¸æ¢å¤</title>
      <link href="/2023/12/23/mysql-bei-fen-yu-hui-fu/"/>
      <url>/2023/12/23/mysql-bei-fen-yu-hui-fu/</url>
      
        <content type="html"><![CDATA[<h1 id="MySQLå¤‡ä»½ä¸æ¢å¤"><a href="#MySQLå¤‡ä»½ä¸æ¢å¤" class="headerlink" title="MySQLå¤‡ä»½ä¸æ¢å¤"></a>MySQLå¤‡ä»½ä¸æ¢å¤</h1><h1 id="ä¸€ã€é€»è¾‘å¤‡ä»½"><a href="#ä¸€ã€é€»è¾‘å¤‡ä»½" class="headerlink" title="ä¸€ã€é€»è¾‘å¤‡ä»½"></a>ä¸€ã€é€»è¾‘å¤‡ä»½</h1><h2 id="1ã€å›é¡¾ä»€ä¹ˆæ˜¯é€»è¾‘å¤‡ä»½"><a href="#1ã€å›é¡¾ä»€ä¹ˆæ˜¯é€»è¾‘å¤‡ä»½" class="headerlink" title="1ã€å›é¡¾ä»€ä¹ˆæ˜¯é€»è¾‘å¤‡ä»½"></a>1ã€å›é¡¾ä»€ä¹ˆæ˜¯é€»è¾‘å¤‡ä»½</h2><p>é€»è¾‘å¤‡ä»½å°±æ˜¯æŠŠæ•°æ®åº“ã€æ•°æ®è¡¨æˆ–è€…æ•°æ®è¿›è¡Œå¯¼å‡ºï¼Œå¯¼å‡ºåˆ°ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ä¸­ã€‚</p><h2 id="2ã€é€»è¾‘å¤‡ä»½å·¥å…·"><a href="#2ã€é€»è¾‘å¤‡ä»½å·¥å…·" class="headerlink" title="2ã€é€»è¾‘å¤‡ä»½å·¥å…·"></a>2ã€é€»è¾‘å¤‡ä»½å·¥å…·</h2><p>mysqldumpï¼šæä¾›å…¨åº“çº§ã€æ•°æ®åº“çº§åˆ«ä»¥åŠè¡¨çº§åˆ«çš„æ•°æ®å¤‡ä»½</p><p>mysqldump + binlogäºŒè¿›åˆ¶æ—¥å¿—å®ç°å¢é‡å¤‡ä»½</p><h2 id="3ã€é€»è¾‘çš„å¯¼å‡ºä¸å¯¼å…¥"><a href="#3ã€é€»è¾‘çš„å¯¼å‡ºä¸å¯¼å…¥" class="headerlink" title="3ã€é€»è¾‘çš„å¯¼å‡ºä¸å¯¼å…¥"></a>3ã€é€»è¾‘çš„å¯¼å‡ºä¸å¯¼å…¥</h2><h3 id="â˜†-å¯¼å‡ºï¼ˆæ•°æ®å¤‡ä»½ï¼‰"><a href="#â˜†-å¯¼å‡ºï¼ˆæ•°æ®å¤‡ä»½ï¼‰" class="headerlink" title="â˜† å¯¼å‡ºï¼ˆæ•°æ®å¤‡ä»½ï¼‰"></a>â˜† å¯¼å‡ºï¼ˆæ•°æ®å¤‡ä»½ï¼‰</h3><p>æ— è®ºæ˜¯ä»€ä¹ˆå­˜å‚¨å¼•æ“ï¼Œä»¥ä¸‹æ–¹å¼æœ¬èº«æ˜¯ä¸€ç§æ•°æ®å¯¼å‡ºçš„æ–¹æ³•ï¼ŒåŒæ—¶å¯ä»¥ç”¨æ¥è¾…åŠ©å¤‡ä»½ï¼Œå®ƒå¯ä»¥å¯¹ä¸€ä¸ªè¡¨çš„å…¶ä¸­ä¸€åˆ—æˆ–è€…æŸå‡ åˆ—åšå¤‡ä»½ã€‚å¤‡ä»½çš„æ˜¯==æ•°æ®è®°å½•ã€‚==</p><p>æ¡ˆä¾‹ï¼šæŠŠtb_studentæ•°æ®è¡¨ä¸­çš„æ•°æ®è®°å½•è¿›è¡Œé€»è¾‘å¯¼å‡º</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mysql -uroot -pEnter password:123mysql&gt; select * into outfile '/tmp/sqlbak/tb_student.txt' from db_itheima.tb_student;ERROR 1290 (HY000): The MySQL server is running with the --secure-file-priv option so it cannot execute this statement<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å‡ºç°ä»¥ä¸Šé—®é¢˜çš„ä¸»è¦åŸå› åœ¨äºæˆ‘ä»¬æ²¡æœ‰æŒ‡å®šMySQLé€»è¾‘å¯¼å‡ºæ—¶æŒ‡å®šçš„è·¯å¾„</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim my.cnf[mysqld]...secure_file_priv=/tmp/sqlbak/# service mysql_3306 restart<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select * into outfile '/tmp/sqlbak/tb_student.txt' from db_itheima.tb_student;ERROR 1 (HY000): Can't create/write to file '/tmp/sqlbak/tb_student.txt' (Errcode: 13 - Permission denied)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å‡ºç°ä»¥ä¸Šé—®é¢˜çš„ä¸»è¦åŸå› åœ¨äºmysqlè´¦å·å¯¹/tmp/sqlbakæ²¡æœ‰å†™å…¥æƒé™</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># setfacl -m u:mysql:rwx /tmp/sqlbak<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â˜†-å¯¼å…¥ï¼ˆæ•°æ®è¿˜åŸï¼‰"><a href="#â˜†-å¯¼å…¥ï¼ˆæ•°æ®è¿˜åŸï¼‰" class="headerlink" title="â˜† å¯¼å…¥ï¼ˆæ•°æ®è¿˜åŸï¼‰"></a>â˜† å¯¼å…¥ï¼ˆæ•°æ®è¿˜åŸï¼‰</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mysql -uroot -pEnter password:123mysql&gt; load data local infile '/tmp/sqlbak/tb_student.txt' into table tb_student;æˆ–# mysqlimport dbname /path/file -p  =&gt;   è¦æ±‚ï¼Œå¯¼å‡ºçš„æ–‡ä»¶å¿…é¡»å’Œæ•°æ®è¡¨åç§°å®Œå…¨ä¸€è‡´ä¾‹å¦‚ï¼š# mysqlimport db_itheima /tmp/sqlbak/tb_student.txt -pEnter password:123<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>å…¸å‹åº”ç”¨åœºæ™¯ï¼šå¯ä»¥æŠŠä¸€äº›è§„åˆ™çš„æ–‡æœ¬æ–‡ä»¶å¯¼å…¥åˆ°æ•°æ®è¡¨ä¸­</p></blockquote><p>æ¡ˆä¾‹ï¼šæŠŠ/etc/passwdæ–‡ä»¶ä¸­çš„æ•°æ®å¯¼å…¥åˆ°passwordæ•°æ®è¡¨ä¸­</p><p>ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºä¸€ä¸ªpasswordæ•°æ®è¡¨ï¼Œpasswordæ˜¯mysqlä¿ç•™å…³é”®å­—ï¼Œå»ºè®®ä½¿ç”¨``ä¸¤ä¸ªåæ’‡å·æ‹¬èµ·æ¥</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; use db_itheima;mysql&gt; CREATE TABLE `password` (  `uname` varchar(50) DEFAULT NULL,  `pass` char(2) DEFAULT NULL,  `uid` int(11) DEFAULT NULL,  `gid` int(11) DEFAULT NULL,  `comment` varchar(255) DEFAULT NULL,  `home` varchar(50) DEFAULT NULL,  `shell` varchar(50) DEFAULT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬äºŒæ­¥ï¼šæŠŠ/etc/passwdæ–‡ä»¶æ‹·è´åˆ°/tmp/sqlbakç›®å½•ä¸‹ï¼Œèµ·åå«password.txt</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cp /etc/passwd /tmp/sqlbak/password.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬ä¸‰æ­¥ï¼šä½¿ç”¨mysqlimportæŠŠpassword.txtæ–‡ä»¶ä¸­çš„å†…å®¹å†™å…¥åˆ°æ•°æ®è¡¨</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mysqlimport db_itheima --fields-terminated-by=':' --lines-terminated-by='\n' /tmp/sqlbak/password.txt -pé€‰é¡¹è¯´æ˜--fields-terminated-by=':'ï¼ŒæŒ‡å®šå¯¼å‡ºæ–‡ä»¶çš„åˆ†éš”ç¬¦ä¸ºå†’å·:--lines-terminated-by='\n'ï¼ŒæŒ‡å®šæ¯ä¸€è¡Œçš„ç»“å°¾ä½¿ç”¨çš„ç¬¦å·,\nä»£è¡¨æ¢è¡Œç¬¦<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="4ã€æ‰©å±•ï¼šé€»è¾‘å¤‡ä»½è¿˜åŸå°å·¥å…·ï¼ˆæ”¯æŒè¿œç¨‹è¿æ¥ï¼‰"><a href="#4ã€æ‰©å±•ï¼šé€»è¾‘å¤‡ä»½è¿˜åŸå°å·¥å…·ï¼ˆæ”¯æŒè¿œç¨‹è¿æ¥ï¼‰" class="headerlink" title="4ã€æ‰©å±•ï¼šé€»è¾‘å¤‡ä»½è¿˜åŸå°å·¥å…·ï¼ˆæ”¯æŒè¿œç¨‹è¿æ¥ï¼‰"></a>4ã€æ‰©å±•ï¼šé€»è¾‘å¤‡ä»½è¿˜åŸå°å·¥å…·ï¼ˆæ”¯æŒè¿œç¨‹è¿æ¥ï¼‰</h2><p>MySQLå…¶å®è¿˜æ”¯æŒå¾ˆå¤šç®¡ç†è½¯ä»¶ï¼ˆWindowsç‰ˆï¼‰ï¼šMySQL-Frontã€Navicat</p><p><img src="/../assets/blog_res/MySQL%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D.assets/image-20200829112341086.png" alt="image-20200829112341086"></p><p>ç¬¬ä¸€æ­¥ï¼šé€‰æ‹©MySQLè¿æ¥</p><p><img src="/../assets/blog_res/MySQL%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D.assets/image-20200829112453585.png" alt="image-20200829112453585"></p><p>ç¬¬äºŒæ­¥ï¼šè¾“å…¥MySQLè¿æ¥ä¿¡æ¯</p><p><img src="/../assets/blog_res/MySQL%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D.assets/image-20200829112649593.png" alt="image-20200829112649593"></p><p>ç¬¬ä¸‰æ­¥ï¼šåŠŸèƒ½æ¼”ç¤º=&gt;åˆ›å»ºæ•°æ®åº“ã€åˆ›å»ºæ•°æ®è¡¨ã€æ’å…¥æ•°æ®â€¦</p><p>ç¬¬å››æ­¥ï¼šæ•°æ®åº“çš„å¤‡ä»½ä¸è¿˜åŸ</p><p>â‘  é€»è¾‘çš„å¯¼å‡ºä¸å¯¼å…¥</p><p><img src="/../assets/blog_res/MySQL%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D.assets/image-20200829113438778.png" alt="image-20200829113438778"></p><p>â‘¡ æ•°æ®è¡¨çš„å¤‡ä»½ä¸è¿˜åŸ</p><p><img src="/../assets/blog_res/MySQL%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D.assets/image-20200829115157369.png" alt="image-20200829115157369"></p><p>â‘¢ æ•°æ®åº“çš„å¤‡ä»½ä¸è¿˜åŸ</p><p><img src="/../assets/blog_res/MySQL%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D.assets/image-20200829115303550.png" alt="image-20200829115303550"></p><h1 id="äºŒã€ç‰©ç†å¤‡ä»½"><a href="#äºŒã€ç‰©ç†å¤‡ä»½" class="headerlink" title="äºŒã€ç‰©ç†å¤‡ä»½"></a>äºŒã€ç‰©ç†å¤‡ä»½</h1><h2 id="1ã€xtrabackupå¤‡ä»½ä»‹ç»"><a href="#1ã€xtrabackupå¤‡ä»½ä»‹ç»" class="headerlink" title="1ã€xtrabackupå¤‡ä»½ä»‹ç»"></a>1ã€xtrabackupå¤‡ä»½ä»‹ç»</h2><p>####ãˆ  xtrabackupä¼˜ç¼ºç‚¹</p><p><strong>ä¼˜ç‚¹ï¼š</strong> </p><ol><li>å¤‡ä»½è¿‡ç¨‹==å¿«é€Ÿã€å¯é (==å› ä¸ºæ˜¯ç‰©ç†å¤‡ä»½)ï¼›</li><li>æ”¯æŒ==å¢é‡å¤‡ä»½==ï¼Œæ›´ä¸ºçµæ´»</li><li>å¤‡ä»½è¿‡ç¨‹<strong>ä¸ä¼šæ‰“æ–­æ­£åœ¨æ‰§è¡Œçš„äº‹åŠ¡</strong>ï¼›</li><li>èƒ½å¤ŸåŸºäºå‹ç¼©ç­‰åŠŸèƒ½èŠ‚çº¦ç£ç›˜ç©ºé—´å’Œæµé‡ï¼›</li><li>è‡ªåŠ¨å®ç°å¤‡ä»½æ£€éªŒï¼›</li><li>==è¿˜åŸé€Ÿåº¦å¿«==ï¼›</li></ol><p><strong>ç¼ºç‚¹ï¼š</strong></p><ol><li>åªèƒ½å¯¹==innodbè¡¨å¢é‡å¤‡ä»½==ï¼Œmyisamè¡¨å¢é‡å¤‡ä»½æ—¶æ˜¯å…¨å¤‡</li><li>innobackupexå¤‡ä»½MyISAMè¡¨ä¹‹å‰è¦å¯¹å…¨åº“è¿›è¡ŒåŠ READ LOCKï¼Œé˜»å¡å†™æ“ä½œï¼Œè‹¥å¤‡ä»½æ˜¯åœ¨ä»åº“ä¸Šè¿›è¡Œçš„è¯ä¼šå½±å“ä¸»ä»åŒæ­¥ï¼Œé€ æˆå»¶è¿Ÿã€‚å¯¹InnoDBè¡¨å¤‡ä»½ä¸ä¼šé˜»å¡è¯»å†™ã€‚</li></ol><p>####ãˆ¡ ==xtrabackupå¤‡ä»½åŸç†==</p><ol><li>innobackupexé¦–å…ˆä¼š==å¯åŠ¨==ä¸€ä¸ª==xtrabackup_log==åå°æ£€æµ‹çš„è¿›ç¨‹ï¼Œå®æ—¶æ£€æµ‹mysqlçš„==redo log==çš„å˜åŒ–ï¼Œä¸€æ—¦å‘ç°redoæœ‰æ–°çš„æ—¥å¿—å†™å…¥ï¼Œç«‹åˆ»å°†æ—¥å¿—å†™å…¥åˆ°æ—¥å¿—æ–‡ä»¶==xtrabackup_log==ä¸­ã€‚</li><li>==ç‰©ç†==æ‹·è´==innodbçš„æ•°æ®æ–‡ä»¶å’Œç³»ç»Ÿè¡¨ç©ºé—´æ–‡ä»¶idbdata1==åˆ°å¯¹åº”çš„ä»¥é»˜è®¤æ—¶é—´æˆ³ä¸ºå¤‡ä»½ç›®å½•çš„åœ°æ–¹</li><li>å¤åˆ¶ç»“æŸåï¼Œæ‰§è¡Œ==flush table with read lock==æ“ä½œè¿›è¡Œå…¨åº“é”è¡¨å‡†å¤‡å¤‡ä»½éInnoDBæ–‡ä»¶</li><li>ç‰©ç†å¤åˆ¶.frm .myd .myiç­‰éInnoDBå¼•æ“æ–‡ä»¶åˆ°å¤‡ä»½ç›®å½•</li><li>æŸ¥çœ‹äºŒè¿›åˆ¶æ—¥å¿—çš„ä½ç½®</li><li>è§£é”è¡¨unlock tables</li><li>==åœæ­¢==xtrabackup_logè¿›ç¨‹</li></ol><p><img src="/../assets/blog_res/MySQL%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D.assets/image-20200829144019688.png" alt="image-20200829144019688"></p><p>æ‰©å±•ï¼šredo logæ—¥å¿—ï¼Ÿ</p><p>äº‹åŠ¡æ—¥å¿—æˆ–ç§°redoæ—¥å¿—ï¼Œåœ¨mysqlä¸­é»˜è®¤ä»¥ib_logfile0,ib_logfile1åç§°å­˜åœ¨ã€‚</p><p>####ãˆ¢ ==xtrabackupå¤‡ä»½æ¢å¤åŸç†==</p><p><img src="/../assets/blog_res/MySQL%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D.assets/image-20200829145320869.png" alt="image-20200829145320869"></p><p><strong>å…·ä½“æ–‡å­—æè¿°å¦‚ä¸‹ï¼ˆäº†è§£ï¼‰ï¼š</strong></p><ul><li>åœ¨InnoDBå†…éƒ¨ä¼šç»´æŠ¤ä¸€ä¸ªredoæ—¥å¿—æ–‡ä»¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å«åšäº‹åŠ¡æ—¥å¿—æ–‡ä»¶ã€‚äº‹åŠ¡æ—¥å¿—ä¼šå­˜å‚¨æ¯ä¸€ä¸ªInnoDBè¡¨æ•°æ®çš„è®°å½•ä¿®æ”¹ã€‚å½“InnoDBå¯åŠ¨æ—¶ï¼ŒInnoDBä¼šæ£€æŸ¥æ•°æ®æ–‡ä»¶å’Œäº‹åŠ¡æ—¥å¿—ï¼Œå¹¶æ‰§è¡Œä¸¤ä¸ªæ­¥éª¤ï¼šå®ƒåº”ç”¨ï¼ˆå‰æ»šï¼‰å·²ç»æäº¤çš„äº‹åŠ¡æ—¥å¿—åˆ°æ•°æ®æ–‡ä»¶ï¼Œå¹¶å°†ä¿®æ”¹è¿‡ä½†æ²¡æœ‰æäº¤çš„æ•°æ®è¿›è¡Œå›æ»šæ“ä½œã€‚</li><li>xtrabackupåœ¨å¯åŠ¨æ—¶ä¼šè®°ä½log sequence numberï¼ˆLSNï¼‰ï¼Œå¹¶ä¸”å¤åˆ¶æ‰€æœ‰çš„æ•°æ®æ–‡ä»¶ã€‚å¤åˆ¶è¿‡ç¨‹éœ€è¦ä¸€äº›æ—¶é—´ï¼Œæ‰€ä»¥è¿™æœŸé—´å¦‚æœæ•°æ®æ–‡ä»¶æœ‰æ”¹åŠ¨ï¼Œé‚£ä¹ˆå°†ä¼šä½¿æ•°æ®åº“å¤„äºä¸€ä¸ªä¸åŒçš„æ—¶é—´ç‚¹ã€‚è¿™æ—¶ï¼Œxtrabackupä¼šè¿è¡Œä¸€ä¸ªåå°è¿›ç¨‹ï¼Œç”¨äºç›‘è§†äº‹åŠ¡æ—¥å¿—ï¼Œå¹¶ä»äº‹åŠ¡æ—¥å¿—å¤åˆ¶æœ€æ–°çš„ä¿®æ”¹ã€‚xtrabackupå¿…é¡»æŒç»­çš„åšè¿™ä¸ªæ“ä½œï¼Œæ˜¯å› ä¸ºäº‹åŠ¡æ—¥å¿—æ˜¯ä¼šè½®è½¬é‡å¤çš„å†™å…¥ï¼Œå¹¶ä¸”äº‹åŠ¡æ—¥å¿—å¯ä»¥è¢«é‡ç”¨ã€‚æ‰€ä»¥xtrabackupè‡ªå¯åŠ¨å¼€å§‹ï¼Œå°±ä¸åœçš„å°†äº‹åŠ¡æ—¥å¿—ä¸­æ¯ä¸ªæ•°æ®æ–‡ä»¶çš„ä¿®æ”¹éƒ½è®°å½•ä¸‹æ¥ã€‚</li><li>ä¸Šé¢å°±æ˜¯xtrabackupçš„å¤‡ä»½è¿‡ç¨‹ã€‚æ¥ä¸‹æ¥æ˜¯å‡†å¤‡ï¼ˆprepareï¼‰è¿‡ç¨‹ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œxtrabackupä½¿ç”¨ä¹‹å‰å¤åˆ¶çš„äº‹åŠ¡æ—¥å¿—ï¼Œå¯¹å„ä¸ªæ•°æ®æ–‡ä»¶æ‰§è¡Œç¾éš¾æ¢å¤ï¼ˆå°±åƒMySQLåˆšå¯åŠ¨æ—¶è¦åšçš„ä¸€æ ·ï¼‰ã€‚å½“è¿™ä¸ªè¿‡ç¨‹ç»“æŸåï¼Œæ•°æ®åº“å°±å¯ä»¥åšæ¢å¤è¿˜åŸäº†ã€‚</li><li>ä»¥ä¸Šçš„è¿‡ç¨‹åœ¨xtrabackupçš„ç¼–è¯‘äºŒè¿›åˆ¶ç¨‹åºä¸­å®ç°ã€‚ç¨‹åºinnobackupexå¯ä»¥å…è®¸æˆ‘ä»¬å¤‡ä»½MyISAMè¡¨å’Œfrmæ–‡ä»¶ä»è€Œå¢åŠ äº†ä¾¿æ·å’ŒåŠŸèƒ½ã€‚Innobackupexä¼šå¯åŠ¨xtrabackupï¼Œç›´åˆ°xtrabackupå¤åˆ¶æ•°æ®æ–‡ä»¶åï¼Œç„¶åæ‰§è¡ŒFLUSH TABLES WITH READ LOCKæ¥é˜»æ­¢æ–°çš„å†™å…¥è¿›æ¥å¹¶æŠŠMyISAMè¡¨æ•°æ®åˆ·åˆ°ç¡¬ç›˜ä¸Šï¼Œä¹‹åå¤åˆ¶MyISAMæ•°æ®æ–‡ä»¶ï¼Œæœ€åé‡Šæ”¾é”ã€‚</li><li>å¤‡ä»½MyISAMå’ŒInnoDBè¡¨æœ€ç»ˆä¼šå¤„äºä¸€è‡´ï¼Œåœ¨å‡†å¤‡ï¼ˆprepareï¼‰è¿‡ç¨‹ç»“æŸåï¼ŒInnoDBè¡¨æ•°æ®å·²ç»å‰æ»šåˆ°æ•´ä¸ªå¤‡ä»½ç»“æŸçš„ç‚¹ï¼Œè€Œä¸æ˜¯å›æ»šåˆ°xtrabackupåˆšå¼€å§‹æ—¶çš„ç‚¹ã€‚è¿™ä¸ªæ—¶é—´ç‚¹ä¸æ‰§è¡ŒFLUSH TABLES WITH READ LOCKçš„æ—¶é—´ç‚¹ç›¸åŒï¼Œæ‰€ä»¥MyISAMè¡¨æ•°æ®ä¸InnoDBè¡¨æ•°æ®æ˜¯åŒæ­¥çš„ã€‚ç±»ä¼¼Oracleçš„recoverå’Œrestoreï¼ŒInnoDBçš„prepareè¿‡ç¨‹å¯ä»¥ç§°ä¸ºrecoverï¼ˆæ¢å¤ï¼‰ï¼ŒMyISAMçš„æ•°æ®å¤åˆ¶è¿‡ç¨‹å¯ä»¥ç§°ä¸ºrestoreï¼ˆè¿˜åŸï¼‰ã€‚ </li><li>==Mysql5.7.3ä»¥åå¼€å¯äºŒè¿›åˆ¶æ—¥å¿—éœ€è¦åŠ ä¸Šserver-idé€‰é¡¹ï¼Œä¸ç„¶æŠ¥é”™==</li></ul><h2 id="2ã€è·å–xtrabackupå¤‡ä»½å·¥å…·"><a href="#2ã€è·å–xtrabackupå¤‡ä»½å·¥å…·" class="headerlink" title="2ã€è·å–xtrabackupå¤‡ä»½å·¥å…·"></a>2ã€è·å–xtrabackupå¤‡ä»½å·¥å…·</h2><p>ç½‘ç«™åŸŸåï¼š<a href="http://www.percona.com/">http://www.percona.com</a></p><p><img src="/../assets/blog_res/MySQL%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D.assets/image-20200829150625283.png" alt="image-20200829150625283"></p><h2 id="3ã€xtabackupè½¯ä»¶çš„å®‰è£…"><a href="#3ã€xtabackupè½¯ä»¶çš„å®‰è£…" class="headerlink" title="3ã€xtabackupè½¯ä»¶çš„å®‰è£…"></a>3ã€xtabackupè½¯ä»¶çš„å®‰è£…</h2><p>ç¬¬ä¸€æ­¥ï¼šä¸Šä¼ è½¯ä»¶åŒ…åŠä¾èµ–åº“åˆ°LinuxæœåŠ¡å™¨ç«¯</p><p>ç¬¬äºŒæ­¥ï¼šå®‰è£…ä¾èµ–åº“</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rpm -ivh libev-4.15-3.el7.x86_64.rpm<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬ä¸‰æ­¥ï¼šå®‰è£…xtrabackupè½¯ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install percona-xtrabackup-24-2.4.7-2.el7.x86_64.rpm -y# rpm -ql percona-xtrabackup-24<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="4ã€xtrabackupå…¨åº“å¤‡ä»½ä¸æ¢å¤"><a href="#4ã€xtrabackupå…¨åº“å¤‡ä»½ä¸æ¢å¤" class="headerlink" title="4ã€xtrabackupå…¨åº“å¤‡ä»½ä¸æ¢å¤"></a>4ã€xtrabackupå…¨åº“å¤‡ä»½ä¸æ¢å¤</h2><p>å¤‡ä»½æ ¸å¿ƒæ€è·¯ï¼š</p><p>â‘  ä½¿ç”¨innobackupexå¯¹æ•°æ®åº“ä¸­çš„æ‰€æœ‰åº“è¿›è¡Œå…¨é‡å¤‡ä»½ï¼Œå¤‡ä»½å®Œæˆåï¼Œå…¶ä¸èƒ½ç«‹å³è¿›è¡Œæ•°æ®æ¢å¤ï¼ˆæ•°æ®ä¸å®Œæ•´ï¼Œç¼ºå°‘12:00 ~ 12:30è¿™ä¸ªè¿‡ç¨‹ä¸­çš„æ•°æ®ï¼‰</p><p>â‘¡ ==é¢„å¤‡é˜¶æ®µ==ï¼Œå¤‡ä»½è¿‡ç¨‹ä¸­äº§ç”Ÿçš„xtrabackup_log==åº”ç”¨åˆ°å…¨é‡å¤‡ä»½é›†==</p><p>â‘¢ æ¨¡æ‹Ÿæ•…éšœï¼ˆåˆ é™¤æ•°æ®ï¼‰ =&gt;   rm  -rf   data/*</p><p>â‘£ åŠ¨å‘˜è¿ç»´å·¥ç¨‹å¸ˆè¿›è¡Œå…¨åº“æ¢å¤</p><p>â‘¤ æµ‹è¯•éªŒè¯</p><p>ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡æ•°æ®</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; create database db_itheima default charset=utf8;mysql&gt; use db_itheima;mysql&gt; create table t1(id int,name varchar(10)) engine=myisam;mysql&gt; insert into t1 values (1,'å•å¸ƒ');mysql&gt; create table t2(id int,name varchar(10)) engine=innodb;mysql&gt; insert into t2 values (1,'è²‚è‰');<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬äºŒæ­¥ï¼šä¸“é—¨å‡†å¤‡ä¸€ä¸ªæ•°æ®åº“å¤‡ä»½è´¦å·ï¼Œå¼€é€šç›¸åº”æƒé™</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">åˆ›å»ºå¤‡ä»½ç”¨æˆ·adminï¼Œå¹¶æˆäºˆç›¸åº”æƒé™mysql&gt; grant reload,process,lock tables,replication client on *.* to 'admin'@'localhost' identified by '123';mysql&gt; flush privileges;è¯´æ˜ï¼šåœ¨æ•°æ®åº“ä¸­éœ€è¦ä»¥ä¸‹æƒé™ï¼šRELOADå’ŒLOCK TABLESæƒé™:ä¸ºäº†æ‰§è¡ŒFLUSH TABLES WITH READ LOCKREPLICATION CLIENTæƒé™ï¼šä¸ºäº†è·å–binary logä½ç½®PROCESSæƒé™ï¼šæ˜¾ç¤ºæœ‰å…³åœ¨æœåŠ¡å™¨ä¸­æ‰§è¡Œçš„çº¿ç¨‹çš„ä¿¡æ¯ï¼ˆå³æœ‰å…³ä¼šè¯æ‰§è¡Œçš„è¯­å¥çš„ä¿¡æ¯ï¼‰ï¼Œå…è®¸ä½¿ç”¨SHOW ENGINE<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬ä¸‰æ­¥ï¼šä½¿ç”¨innobackupexå·¥å…·è¿›è¡Œå…¨åº“å¤‡ä»½</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># innobackupex --user=admin --password=123 /full_xtrabackupè¯´æ˜ï¼šå¤‡ä»½ç›®å½•é»˜è®¤ä¼šè‡ªåŠ¨åˆ›å»ºï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨åˆ›å»ºIMPORTANT: Please check that the backup run completes successfully.           At the end of a successful backup run innobackupex           prints "completed OK!".<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬ä¸€æ¬¡è¿è¡ŒæŠ¥é”™ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">200829 15:48:59  version_check Connecting to MySQL server with DSN 'dbi:mysql:;mysql_read_default_group=xtrabackup' as 'admin'  (using password: YES).Failed to connect to MySQL server: DBI connect(';mysql_read_default_group=xtrabackup','admin',...) failed: Can't connect to local MySQL server through socket '/var/lib/mysql/mysql.sock' (2) at - line 1314.200829 15:48:59 Connecting to MySQL server host: localhost, user: admin, password: set, port: not set, socket: not setFailed to connect to MySQL server: Can't connect to local MySQL server through socket '/var/lib/mysql/mysql.sock' (2).<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>å‡ºç°ä»¥ä¸Šé—®é¢˜çš„ä¸»è¦åŸå› åœ¨äºæˆ‘ä»¬çš„mysql.sockå¹¶ä¸åœ¨/var/lib/mysqlç›®å½•ä¸‹ã€‚ä¸ºä»€ä¹ˆå…¶ä¼šè‡ªåŠ¨è¿æ¥/var/lib/mysqlç›®å½•ä¸‹çš„mysql.sockå‘¢ï¼Ÿ</p><p>åŸå› 1ï¼šå¯èƒ½åœ¨/etcç›®å½•ä¸‹è¿˜æœ‰my.cnfæ–‡ä»¶ï¼Œå½±å“äº†innobackupexçš„æ‰§è¡Œã€‚</p><p>åŸå› 2ï¼šinnobackupexæ‹¥æœ‰è‡ªå·±çš„é»˜è®¤é…ç½®ï¼Œé»˜è®¤è¯»å–äº†/var/lib/mysql/mysql.sockæ–‡ä»¶</p><p>è§£å†³æ–¹æ¡ˆï¼š</p><p>æ–¹æ¡ˆ1ï¼šæŠŠä½ çš„å¥—æ¥å­—æ–‡ä»¶åˆ›å»ºä¸€ä¸ªè½¯é“¾æ¥ï¼Œæ”¾ç½®äº/var/lib/mysql/mysql.sockæ–‡ä»¶ä¸­</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mkdir /var/lib/mysql# ln -s /tmp/mysql.sock /var/lib/mysql/mysql.sock<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ–¹æ¡ˆ2ï¼šåœ¨innobackupexä¸­æ·»åŠ ä¸€ä¸ª-Sé€‰é¡¹ï¼Œæ‰§è¡Œå¥—æ¥å­—</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># innobackupex -S /tmp/mysql.sock --user=admin --password=123 /full_xtrabackup<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬å››æ­¥ï¼šé¢„å¤‡é˜¶æ®µï¼ŒæŠŠå¤‡ä»½è¿™æ®µæ—¶é—´å†…äº§ç”Ÿçš„æ—¥å¿—æ•´åˆåˆ°å…¨é‡å¤‡ä»½ä¸­</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># innobackupex --user=admin --password=123 --apply-log /full_xtrabackup/2020-08-29_15-59-22<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬äº”æ­¥ï¼šæ¨¡æ‹Ÿæ•°æ®åº“æ•…éšœ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rm -rf /mysql_3306/data/*# pkill mysqld<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç¬¬å…­æ­¥ï¼šå¿«é€Ÿçš„æ¢å¤æ•°æ®åº“ä¸­çš„æ•°æ®</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rm -rf /mysql_3306/data/*# innobackupex --copy-back /full_xtrabackup/2020-08-29_15-59-22<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç¬¬ä¸€æ¬¡æ¢å¤æŠ¥é”™ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">innobackupex version 2.4.7 based on MySQL server 5.7.13 Linux (x86_64) (revision id: 05f1fcf)Error: datadir must be specified.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å‡ºç°ä»¥ä¸Šé—®é¢˜çš„ä¸»è¦åŸå› åœ¨äºï¼Œinnobackupexå·¥å…·æ— æ³•æ‰¾åˆ°MySQLä¸­çš„æ•°æ®ç›®å½•</p><p>è§£å†³æ–¹æ¡ˆï¼šæŠŠmy.cnfé…ç½®æ–‡ä»¶ä¼ é€’ç»™innobackupexï¼Œè®©å…¶è‡ªåŠ¨è¯†åˆ«è¿™ä¸ªæ–‡ä»¶ä¸­çš„datadir</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># innobackupex --defaults-file=/mysql_3306/my.cnf --copy-back /full_xtrabackup/2020-08-29_15-59-22<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬ä¸ƒæ­¥ï¼šæ¢å¤æ•°æ®æ—¶ï¼Œä¸€å®šè¦è®°å¾—æ›´æ”¹/mysql_3306/dataç›®å½•ä¸‹çš„æ–‡ä»¶æ‹¥æœ‰è€…ä»¥åŠæ‰€å±ç»„æƒé™ï¼Œå¦åˆ™mysqlæ— æ³•å¯åŠ¨</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chown -R mysql.mysql /mysql_3306/data<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬å…«æ­¥ï¼šå¯åŠ¨MySQLï¼Œæµ‹è¯•å…¶æ˜¯å¦æ­£å¸¸</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># service mysql_3306 start# mysql -pEnter password:123<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="5ã€xtrabackupå¢é‡å¤‡ä»½ä¸æ¢å¤"><a href="#5ã€xtrabackupå¢é‡å¤‡ä»½ä¸æ¢å¤" class="headerlink" title="5ã€xtrabackupå¢é‡å¤‡ä»½ä¸æ¢å¤"></a>5ã€xtrabackupå¢é‡å¤‡ä»½ä¸æ¢å¤</h2><p>ä»€ä¹ˆæ˜¯å¢é‡ï¼Ÿå¢é‡ä¸€å®šè¦æœ‰ä¸€ä¸ªå‰æï¼Œå¿…é¡»è¦å…ˆæœ‰ä¸€ä¸ªå…¨é‡ã€‚</p><p><img src="/../assets/blog_res/MySQL%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D.assets/image-20200829165632567.png" alt="image-20200829165632567"></p><p>â‘  å…¨é‡å¤‡ä»½</p><p>â‘¡ æŠŠå…¨é‡å¤‡ä»½äº§ç”Ÿçš„æ—¥å¿—æ•´åˆåˆ°å…¨é‡å¤‡ä»½</p><p>â‘¢ è¿›è¡Œæ•°æ®çš„å¢åˆ æ”¹æ“ä½œ</p><p>â‘£ å¢é‡å¤‡ä»½</p><p>â‘¤ æŠŠå¢é‡å¤‡ä»½åŠå¢é‡å¤‡ä»½äº§ç”Ÿçš„æ—¥å¿—æ–‡ä»¶å…¨éƒ¨æ•´åˆåˆ°å…¨é‡å¤‡ä»½ä¸­</p><p>â‘¥ æ¨¡æ‹Ÿæ•…éšœ</p><p>â‘¦ æ•°æ®æ¢å¤</p><p>â‘§ å¯åŠ¨æ•°æ®åº“ï¼Œæµ‹è¯•éªŒè¯æ•°æ®</p><p>ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡æ•°æ®</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; create database db_itheima default charset=utf8;mysql&gt; use db_itheima;mysql&gt; create table t1(id int,name varchar(10)) engine=myisam;mysql&gt; insert into t1 values (1,'å•å¸ƒ');mysql&gt; create table t2(id int,name varchar(10)) engine=innodb;mysql&gt; insert into t2 values (1,'è²‚è‰');<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬äºŒæ­¥ï¼šåˆ›å»ºä¸€ä¸ªè´¦å·ï¼Œä¸“é—¨ç”¨äºå¤‡ä»½</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">åˆ›å»ºå¤‡ä»½ç”¨æˆ·adminï¼Œå¹¶æˆäºˆç›¸åº”æƒé™mysql&gt; grant reload,process,lock tables,replication client on *.* to 'admin'@'localhost' identified by '123';mysql&gt; flush privileges;è¯´æ˜ï¼šåœ¨æ•°æ®åº“ä¸­éœ€è¦ä»¥ä¸‹æƒé™ï¼šRELOADå’ŒLOCK TABLESæƒé™:ä¸ºäº†æ‰§è¡ŒFLUSH TABLES WITH READ LOCKREPLICATION CLIENTæƒé™ï¼šä¸ºäº†è·å–binary logä½ç½®PROCESSæƒé™ï¼šæ˜¾ç¤ºæœ‰å…³åœ¨æœåŠ¡å™¨ä¸­æ‰§è¡Œçš„çº¿ç¨‹çš„ä¿¡æ¯ï¼ˆå³æœ‰å…³ä¼šè¯æ‰§è¡Œçš„è¯­å¥çš„ä¿¡æ¯ï¼‰ï¼Œå…è®¸ä½¿ç”¨SHOW ENGINE<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬ä¸‰æ­¥ï¼šå…¨é‡å¤‡ä»½</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rm -rf /full_xtrabackup/*# innobackupex --user=admin --password=123 /full_xtrabackup<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç¬¬å››æ­¥ï¼šæŠŠå…¨å¤‡è¿‡ç¨‹ä¸­äº§ç”Ÿçš„æ—¥å¿—è¿›è¡Œæ•´åˆï¼ˆç‰¹åˆ«æ³¨æ„ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># innobackupex --user=admin --password=123 --apply-log --redo-only /full_xtrabackup/2020-08-29_17-06-48/é€‰é¡¹è¯´æ˜ï¼š--apply-log è¡¨ç¤ºæ•´åˆæ—¥å¿—--redo-onlyè¡¨ç¤ºåªåº”ç”¨å·²ç»æäº¤çš„äº‹åŠ¡ï¼Œä¸å›æ»šæœªæäº¤çš„äº‹åŠ¡ï¼ˆ12:00 ~ 12:30äº§ç”Ÿå¾ˆå¤šäº‹åŠ¡æ“ä½œï¼Œäº‹åŠ¡å¤„ç†=&gt;å¼€å¯äº‹åŠ¡ï¼ŒæˆåŠŸäº†æäº¤äº‹åŠ¡ï¼Œå†™å…¥ç¡¬ç›˜ï¼›å¤±è´¥äº†å›æ»šäº‹åŠ¡ï¼Œä¸å†™å…¥ç¡¬ç›˜ï¼‰æ³¨æ„ï¼šå¦‚æœå·²ç»å›æ»šäº†æœªæäº¤äº‹åŠ¡ï¼Œé‚£ä¹ˆå°±æ— æ³•å†åº”ç”¨å¢é‡å¤‡ä»½ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>  Preparing an Incremental Backup with innobackupex Preparing incremental backups is a bit different than full ones. This is, perhaps, the stage where more attention is needed:<br>  â€¢ First, only the committed transactions must be replayed on each backup. This will merge the base full backup with the incremental ones.<br>  â€¢ Then, the uncommitted transaction must be rolled back in order to have a ready-to-use backup.<br>  å¯¹äºå¢é‡å¤‡ä»½çš„Prepareé˜¶æ®µï¼Œæœ‰2ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼Œä¸€ä¸ªæ˜¯æäº¤çš„äº‹åŠ¡éœ€è¦replayedï¼Œä¸€ä¸ªæœªæäº¤çš„äº‹åŠ¡éœ€è¦rollbackã€‚</p><p>  If you replay the committed transactions and rollback the uncommitted ones on the base backup, you will not be able to add the incremental ones. If you do this on an incremental one, you wonâ€™t be able to add data from that moment and the remaining increments. Having this in mind, the procedure is very straight-forward using the â€“redo-only option, starting with the base backup:<br>  å¦‚æœåœ¨Prepareé˜¶æ®µreplayäº†å·²æäº¤çš„äº‹åŠ¡ä»¥åŠå›æ»šäº†æœªæäº¤çš„äº‹åŠ¡ï¼Œåˆ™åç»­çš„å¢é‡å¤‡ä»½æ— æ³•æ·»åŠ åˆ°å½“å‰å…¨å¤‡ã€‚å› æ­¤åœ¨Prepareé˜¶æ®µå…¨å¤‡åº”ä½¿ç”¨â€“redo-onlyé€‰é¡¹ã€‚</p><p>  â€“redo-only should be used when merging all incrementals except the last one. Thatâ€™s why the previous line doesnâ€™t contain the â€“redo-only option. Even if the â€“redo-only was used on the last step, backup would still be consistent but in that case server would perform the rollback phase.<br>  å¯¹äºå­˜åœ¨å¤šæ¬¡å¢é‡çš„æƒ…å½¢ï¼Œä»…ä»…åªæœ‰æœ€åä¸€ä¸ªå¢é‡ä¸éœ€è¦ä½¿ç”¨â€“redo-only é€‰é¡¹ã€‚å¦‚æœä½¿ç”¨äº†çš„è¯ï¼Œrollbackå°†ç”±æœåŠ¡å™¨å¯åŠ¨çš„æ—¶å€™æ¥å®Œæˆã€‚</p></blockquote><p>ç¬¬äº”æ­¥ï¼šä¿®æ”¹æ•°æ®ï¼ˆè¿›è¡Œå¢åˆ æ”¹æ“ä½œï¼Œè®©å…¶äº§ç”Ÿå¢é‡æ•°æ®ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mysql -pEnter password:123mysql&gt; insert into db_itheima.t1 values (2,'ç‹æœ—');mysql&gt; insert into db_itheima.t1 values (3,'è¢æœ¯');<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬å…­æ­¥ï¼šåšå¢é‡å¤‡ä»½</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># innobackupex --user=admin --password=123 --incremental /incre_backup --incremental-basedir=/full_xtrabackup/2020-08-29_17-06-48é€‰é¡¹è¯´æ˜ï¼š--incremental å¢é‡å¤‡ä»½ç›®å½•--incremental-basedir è¿™ä¸ªå¢é‡æ˜¯ç›¸å¯¹äºå“ªä¸ªå…¨é‡çš„<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬ä¸ƒæ­¥ï¼šæŠŠå¢é‡å¤‡ä»½äº§ç”Ÿçš„æ•°æ®ä»¥åŠæ—¥å¿—æ–‡ä»¶æ•´åˆåˆ°å…¨é‡å¤‡ä»½ä¸­</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># innobackupex --user=admin --password=123 --apply-log /full_xtrabackup/2020-08-29_17-06-48 --incremental-dir=/incre_backup/2020-08-29_17-23-43è¯´æ˜ï¼š1.--redo-onlyé™¤äº†æœ€åä¸€ä¸ªä¸ç”¨åŠ ä¹‹å¤–ï¼Œå…¶ä»–çš„å¢é‡åº”ç”¨éƒ½è¦åŠ ï¼Œæœ€åä¸€ä¸ªåº”ç”¨çš„æ—¶å€™å¯ä»¥ç›´æ¥è¿›å…¥å›æ»šæœªæäº¤äº‹åŠ¡é˜¶æ®µ;å¦‚æœåŠ äº†ä¹Ÿæ²¡äº‹ï¼ŒæœåŠ¡å¯åŠ¨çš„æ—¶å€™ä¼šè¿›å…¥recoveryè¿‡ç¨‹ï¼Œæ¥å›æ»š2.åº”ç”¨å¢é‡å¤‡ä»½çš„æ—¶å€™åªèƒ½æŒ‰ç…§å¤‡ä»½çš„é¡ºåºæ¥åº”ç”¨ã€‚å¦‚æœåº”ç”¨é¡ºåºé”™è¯¯ï¼Œé‚£ä¹ˆå¤‡ä»½å°±ä¸å¯ç”¨ã€‚å¦‚æœæ— æ³•ç¡®å®šé¡ºåºï¼Œå¯ä»¥ä½¿ç”¨xtrabackup-checkpointsæ¥ç¡®å®šé¡ºåºã€‚å‘¨å¤©åšäº†ä¸€ä¸ªå…¨é‡ï¼Œå‘¨ä¸€ã€å‘¨äºŒã€å‘¨ä¸‰ã€å‘¨å››ã€å‘¨äº”ã€å‘¨å…­å…¨éƒ¨åšå¢é‡<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åˆ°æ­¤ï¼Œå¢é‡å¤‡ä»½å°±å…¨éƒ¨ç»“æŸäº†ï¼</p><p>ç¬¬å…«æ­¥ï¼šæ¨¡æ‹Ÿæ•°æ®åº“æ•…éšœ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rm -rf /mysql_3306/data/*# pkill mysqld<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç¬¬ä¹æ­¥ï¼šæ•°æ®æ¢å¤</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># innobackupex --defaults-file=/mysql_3306/my.cnf --user=admin --password=123 --copy-back /full_xtrabackup/2020-08-29_17-06-48# chown -R mysql.mysql /mysql_3306/data<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å¯åŠ¨æ•°æ®åº“ï¼Œæµ‹è¯•éªŒè¯æ˜¯å¦æ­£å¸¸</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># service mysql_3306 start# mysql -pEnter password:123<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
          <category> mysql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> å­¦ä¹  </tag>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQLå¤‡ä»½ä¸æ¢å¤ï¼ˆé‡ç‚¹ï¼‰</title>
      <link href="/2023/12/23/mysql-bei-fen-yu-hui-fu-chong-dian/"/>
      <url>/2023/12/23/mysql-bei-fen-yu-hui-fu-chong-dian/</url>
      
        <content type="html"><![CDATA[<h1 id="MySQLå¤‡ä»½ä¸æ¢å¤ï¼ˆé‡ç‚¹ï¼‰"><a href="#MySQLå¤‡ä»½ä¸æ¢å¤ï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="MySQLå¤‡ä»½ä¸æ¢å¤ï¼ˆé‡ç‚¹ï¼‰"></a>MySQLå¤‡ä»½ä¸æ¢å¤ï¼ˆé‡ç‚¹ï¼‰</h1><h1 id="ä¸€ã€ç”¨æˆ·ç®¡ç†ä¸æƒé™ç®¡ç†"><a href="#ä¸€ã€ç”¨æˆ·ç®¡ç†ä¸æƒé™ç®¡ç†" class="headerlink" title="ä¸€ã€ç”¨æˆ·ç®¡ç†ä¸æƒé™ç®¡ç†"></a>ä¸€ã€ç”¨æˆ·ç®¡ç†ä¸æƒé™ç®¡ç†</h1><h2 id="â˜†-ç”¨æˆ·ç®¡ç†"><a href="#â˜†-ç”¨æˆ·ç®¡ç†" class="headerlink" title="â˜† ç”¨æˆ·ç®¡ç†"></a>â˜† ç”¨æˆ·ç®¡ç†</h2><h3 id="1ã€åˆ›å»ºMySQLç”¨æˆ·"><a href="#1ã€åˆ›å»ºMySQLç”¨æˆ·" class="headerlink" title="1ã€åˆ›å»ºMySQLç”¨æˆ·"></a>1ã€åˆ›å»ºMySQLç”¨æˆ·</h3><blockquote><p>æ³¨æ„ï¼šMySQLä¸­ä¸èƒ½å•çº¯é€šè¿‡ç”¨æˆ·åæ¥è¯´æ˜ç”¨æˆ·ï¼Œå¿…é¡»è¦åŠ ä¸Šä¸»æœºã€‚å¦‚**==<a href="mailto:jack@10.1.1.1">jack@10.1.1.1</a>==**</p></blockquote><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; create user 'ç”¨æˆ·å'@'è¢«å…è®¸è¿æ¥çš„ä¸»æœºåç§°æˆ–ä¸»æœºçš„IPåœ°å€' identified by 'ç”¨æˆ·å¯†ç ';mysql&gt; select user,host from mysql.user;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåˆ›å»ºä¸€ä¸ªMySQLè´¦å·ï¼Œç”¨æˆ·åï¼štomï¼Œç”¨æˆ·å¯†ç ï¼š123</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; create user 'tom'@'localhost' identified by '123';æˆ–mysql&gt; create user 'tom'@'127.0.0.1' identified by '123';<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåˆ›å»ºä¸€ä¸ªMySQLè´¦å·ï¼ˆè¦æ±‚å¼€é€šè¿œç¨‹è¿æ¥ï¼‰ï¼Œä¸»æœºIPåœ°å€ï¼š10.1.1.23ï¼Œç”¨æˆ·åï¼šharryï¼Œç”¨æˆ·å¯†ç ï¼š123</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; create user 'harry'@'10.1.1.23' identified by '123';<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æµ‹è¯•ï¼šåœ¨IPåœ°å€ä¸º10.1.1.23çš„ä¸»æœºä¸Š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install mysql -y# mysql -h 10.1.1.10 -P 3306 -uharry -pEnter password:123é€‰é¡¹è¯´æ˜ï¼š10.1.1.10 ï¼šMySQLæœåŠ¡å™¨ç«¯çš„IPåœ°å€<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>yumå®‰è£…mysqlï¼šä»£è¡¨å®‰è£…çš„æ˜¯MySQLçš„å®¢æˆ·ç«¯</p><p>yumå®‰è£…mysql-serverï¼šä»£è¡¨å®‰è£…çš„æ˜¯MySQLçš„æœåŠ¡å™¨ç«¯</p></blockquote><p>æ¡ˆä¾‹ï¼šåˆ›å»ºä¸€ä¸ªMySQLè´¦å·ï¼ˆè¦æ±‚å¼€é€šè¿œç¨‹è¿æ¥ï¼‰ï¼Œä¸»æœºIPçš„ç½‘æ®µï¼š10.1.1.0ï¼Œç”¨æˆ·åï¼šjackï¼Œç”¨æˆ·å¯†ç ï¼š123</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; create user 'jack'@'10.1.1.%' identified by '123';<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåˆ›å»ºä¸€ä¸ªMySQLè´¦å·ï¼ˆè¦æ±‚å¼€é€šè¿œç¨‹è¿æ¥ï¼‰ï¼Œè¦æ±‚é¢å‘æ‰€æœ‰ä¸»æœºå¼€æ”¾ï¼Œç”¨æˆ·åï¼šrootï¼Œç”¨æˆ·å¯†ç ï¼š123</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; create user 'root'@'%' identified by '123';<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="2ã€åˆ é™¤MySQLç”¨æˆ·"><a href="#2ã€åˆ é™¤MySQLç”¨æˆ·" class="headerlink" title="2ã€åˆ é™¤MySQLç”¨æˆ·"></a>2ã€åˆ é™¤MySQLç”¨æˆ·</h3><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; drop user 'ç”¨æˆ·å'@'ä¸»æœºåç§°æˆ–ä¸»æœºçš„IPåœ°å€';ç‰¹åˆ«è¯´æ˜ï¼šå¦‚æœåœ¨åˆ é™¤ç”¨æˆ·æ—¶æ²¡æœ‰æŒ‡å®šä¸»æœºçš„åç§°æˆ–ä¸»æœºçš„IPåœ°å€ï¼Œåˆ™é»˜è®¤åˆ é™¤è¿™ä¸ªè´¦å·çš„æ‰€æœ‰ä¿¡æ¯ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåˆ é™¤tomè¿™ä¸ªè´¦å·</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; drop user 'tom'@'localhost';<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåˆ é™¤jackè¿™ä¸ªè´¦å·</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; drop user 'jack'@'10.1.1.%';<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåˆ›å»ºä¸¤ä¸ªharryè´¦å·ï¼ˆlocalhost/10.1.1.23ï¼‰ï¼Œç„¶ååˆ é™¤å…¶ä¸­çš„æŸä¸ª</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; create user 'harry'@'localhost' identified by '123';mysql&gt; create user 'harry'@'10.1.1.23' identified by '123';mysql&gt; drop user 'harry'@'10.1.1.23';<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æ‰©å±•ï¼šåˆ é™¤MySQLè´¦å·çš„å¦å¤–ä¸€ç§æ–¹å¼</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; delete from mysql.user where user='root' and host='%';mysql&gt; flush privileges;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="3ã€ä¿®æ”¹MySQLç”¨æˆ·"><a href="#3ã€ä¿®æ”¹MySQLç”¨æˆ·" class="headerlink" title="3ã€ä¿®æ”¹MySQLç”¨æˆ·"></a>3ã€ä¿®æ”¹MySQLç”¨æˆ·</h3><p>ç‰¹åˆ«è¯´æ˜ï¼šMySQLç”¨æˆ·é‡å‘½åé€šå¸¸å¯ä»¥æ›´æ”¹ä¸¤éƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†æ˜¯ç”¨æˆ·çš„åç§°ï¼Œä¸€éƒ¨åˆ†æ˜¯è¢«å…è®¸è®¿é—®çš„ä¸»æœºåç§°æˆ–ä¸»æœºçš„IPåœ°å€ã€‚</p><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; rename user æ—§ç”¨æˆ·ä¿¡æ¯ to æ–°ç”¨æˆ·ä¿¡æ¯;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠç”¨æˆ·â€˜rootâ€˜@â€™%â€™æ›´æ”¹ä¸ºâ€˜rootâ€˜@â€™10.1.1.%â€™</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; rename user 'root'@'%' to 'root'@'10.1.1.%';<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠâ€˜tomâ€˜@â€™localhostâ€™æ›´åä¸ºâ€˜harryâ€˜@â€™localhostâ€™</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; create user 'tom'@'localhost' identified by '123';mysql&gt; rename user 'tom'@'localhost' to 'harry'@'localhost';<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><blockquote><p>æ‰©å±•ï¼šä½¿ç”¨updateè¯­å¥æ›´æ–°ç”¨æˆ·ä¿¡æ¯</p></blockquote><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; update mysql.user set user='tom',host='localhost' where user='harry' and host='localhost';mysql&gt; flush privileges;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="â˜†-æƒé™ç®¡ç†"><a href="#â˜†-æƒé™ç®¡ç†" class="headerlink" title="â˜† æƒé™ç®¡ç†"></a>â˜† æƒé™ç®¡ç†</h2><h3 id="1ã€æƒé™è¯´æ˜"><a href="#1ã€æƒé™è¯´æ˜" class="headerlink" title="1ã€æƒé™è¯´æ˜"></a>1ã€æƒé™è¯´æ˜</h3><p>æ‰€æœ‰æƒé™è¯´æ˜<a href="https://dev.mysql.com/doc/refman/5.7/en/privileges-provided.html">https://dev.mysql.com/doc/refman/5.7/en/privileges-provided.html</a></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">USAGEæ— æƒé™,åªæœ‰ç™»å½•æ•°æ®åº“,åªå¯ä»¥ä½¿ç”¨testæˆ–test_*æ•°æ®åº“ALLæ‰€æœ‰æƒé™ä»¥ä¸‹æƒé™ä¸ºæŒ‡å®šæƒé™select/update/delete/super/replication slave/reload...with grant option é€‰é¡¹è¡¨ç¤ºå…è®¸æŠŠè‡ªå·±çš„æƒé™æˆäºˆå…¶å®ƒç”¨æˆ·æˆ–è€…ä»å…¶ä»–ç”¨æˆ·æ”¶å›è‡ªå·±çš„æƒé™<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œåˆ†é…æƒé™æ—¶å¦‚æœæ²¡æœ‰æŒ‡å®šwith grant optionï¼Œä»£è¡¨è¿™ä¸ªç”¨æˆ·ä¸èƒ½ä¸‹å‘æƒé™ç»™å…¶ä»–ç”¨æˆ·ï¼Œä½†æ˜¯è¿™ä¸ªæƒé™åˆ†é…ä¸èƒ½è¶…è¿‡è‡ªèº«æƒé™ã€‚</p></blockquote><h3 id="2ã€æƒé™ä¿å­˜ä½ç½®ï¼ˆäº†è§£ï¼‰"><a href="#2ã€æƒé™ä¿å­˜ä½ç½®ï¼ˆäº†è§£ï¼‰" class="headerlink" title="2ã€æƒé™ä¿å­˜ä½ç½®ï¼ˆäº†è§£ï¼‰"></a>2ã€æƒé™ä¿å­˜ä½ç½®ï¼ˆäº†è§£ï¼‰</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql.useræ‰€æœ‰mysqlç”¨æˆ·çš„è´¦å·å’Œå¯†ç ï¼Œä»¥åŠç”¨æˆ·å¯¹å…¨åº“å…¨è¡¨æƒé™ï¼ˆ*.*ï¼‰mysql.dbémysqlåº“çš„æˆæƒéƒ½ä¿å­˜åœ¨æ­¤(db.*)mysql.table_privæŸåº“æŸè¡¨çš„æˆæƒ(db.table)mysql.columns_privæŸåº“æŸè¡¨æŸåˆ—çš„æˆæƒ(db.table.col1)mysql.procs_privæŸåº“å­˜å‚¨è¿‡ç¨‹çš„æˆæƒ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3ã€ç»™ç”¨æˆ·æˆæƒ"><a href="#3ã€ç»™ç”¨æˆ·æˆæƒ" class="headerlink" title="3ã€ç»™ç”¨æˆ·æˆæƒ"></a>3ã€ç»™ç”¨æˆ·æˆæƒ</h3><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; grant æƒé™1,æƒé™2 on åº“.è¡¨ to ç”¨æˆ·@ä¸»æœºmysql&gt; grant æƒé™(åˆ—1,åˆ—2,...) on åº“.è¡¨ to ç”¨æˆ·@ä¸»æœº<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><blockquote><p>åº“.è¡¨è¡¨ç¤ºæ–¹æ³•ï¼š*.*ä»£è¡¨æ‰€æœ‰æ•°æ®åº“çš„æ‰€æœ‰æ•°æ®è¡¨ï¼Œdb_itheima.*ä»£è¡¨db_itheimaæ•°æ®åº“ä¸­çš„æ‰€æœ‰æ•°æ®è¡¨ï¼Œdb_itheima.tb_adminï¼Œä»£è¡¨db_itheimaæ•°æ®åº“ä¸­çš„tb_adminè¡¨</p></blockquote><p>æ¡ˆä¾‹ï¼šç»™tomè´¦å·åˆ†é…db_itheimaçš„æŸ¥è¯¢æƒé™</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; grant select on db_itheima.* to 'tom'@'localhost';mysql&gt; flush privileges;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šç»™tomè´¦å·åˆ†é…db_itheima.tb_studentæ•°æ®è¡¨çš„æƒé™ï¼ˆè¦æ±‚åªèƒ½æ›´æ”¹ageå­—æ®µï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; grant update(age) on db_itheima.tb_student to 'tom'@'localhost';mysql&gt; flush privileges;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæ·»åŠ ä¸€ä¸ªroot@%è´¦å·ï¼Œç„¶ååˆ†é…æ‰€æœ‰æƒé™</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; create user 'root'@'%' identified by '123';mysql&gt; grant all on *.* to 'root'@'%';mysql&gt; flush privileges;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="4ã€æŸ¥è¯¢ç”¨æˆ·æƒé™"><a href="#4ã€æŸ¥è¯¢ç”¨æˆ·æƒé™" class="headerlink" title="4ã€æŸ¥è¯¢ç”¨æˆ·æƒé™"></a>4ã€æŸ¥è¯¢ç”¨æˆ·æƒé™</h3><p>æŸ¥è¯¢å½“å‰ç”¨æˆ·æƒé™</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; show grants;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æŸ¥è¯¢å…¶ä»–ç”¨æˆ·æƒé™</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; show grants for 'ç”¨æˆ·åç§°'@'æˆæƒçš„ä¸»æœºåç§°æˆ–IPåœ°å€';<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="5ã€with-grant-optioné€‰é¡¹"><a href="#5ã€with-grant-optioné€‰é¡¹" class="headerlink" title="5ã€with grant optioné€‰é¡¹"></a>5ã€with grant optioné€‰é¡¹</h3><p>with grant optioné€‰é¡¹ä½œç”¨ï¼šä»£è¡¨æ­¤è´¦å·å¯ä»¥ä¸ºå…¶ä»–ç”¨æˆ·ä¸‹å‘æƒé™ï¼Œä½†æ˜¯ä¸‹å‘çš„æƒé™ä¸èƒ½è¶…è¿‡è‡ªèº«æƒé™ã€‚</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; grant all on *.* to 'amy'@'10.1.1.%' identified by '123' with grant option;mysql&gt; grant all on *.* to 'harry'@'10.1.1.%' identified by '123'; å¦‚ä»¥ä¸Šå‘½ä»¤æ‰€ç¤ºï¼šamyæ‹¥æœ‰ä¸‹å‘æƒé™çš„åŠŸèƒ½ï¼Œè€Œharryä¸å…·å¤‡ä¸‹å‘æƒé™çš„åŠŸèƒ½ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>å¦‚æœgrantæˆæƒæ—¶æ²¡æœ‰with grant optioné€‰é¡¹ï¼Œåˆ™å…¶æ— æ³•ä¸ºå…¶ä»–ç”¨æˆ·æˆæƒã€‚</p></blockquote><h3 id="6ã€ä½¿ç”¨grantåˆ›å»ºç”¨æˆ·"><a href="#6ã€ä½¿ç”¨grantåˆ›å»ºç”¨æˆ·" class="headerlink" title="6ã€ä½¿ç”¨grantåˆ›å»ºç”¨æˆ·"></a>6ã€ä½¿ç”¨grantåˆ›å»ºç”¨æˆ·</h3><blockquote><p>è¯´æ˜ï¼š5.7ä»¥å==ä¸æ¨è==ï¼Œæœªæ¥ä¼šè¢«å¼ƒç”¨ï¼</p></blockquote><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; grant æƒé™ on æ•°æ®åº“.æ•°æ®è¡¨ to 'æ–°ç”¨æˆ·åç§°'@'æˆæƒä¸»æœºåç§°æˆ–IPåœ°å€' identified by 'ç”¨æˆ·çš„å¯†ç ';<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåˆ›å»ºä¸€ä¸ªrootè´¦å·ï¼Œä¸»æœºä¸º%ï¼Œæˆäºˆæ‰€æœ‰æƒé™ï¼Œå¯†ç ä¸º123</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; grant all on *.* to 'root'@'%' identified by '123';<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="7ã€revokeå›æ”¶æƒé™"><a href="#7ã€revokeå›æ”¶æƒé™" class="headerlink" title="7ã€revokeå›æ”¶æƒé™"></a>7ã€revokeå›æ”¶æƒé™</h3><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">revoke æƒé™ on åº“.è¡¨ from ç”¨æˆ·;æ’¤æ¶ˆæŒ‡å®šçš„æƒé™mysql&gt; revoke update on db01.tt1 from 'tom'@'10.1.1.1';æ’¤æ¶ˆæ‰€æœ‰çš„æƒé™mysql&gt; revoke select on db01.* from 'tom'@'10.1.1.1';<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šä»tomè´¦å·ä¸­å›æ”¶selectæƒé™</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; revoke select on db_itheima.* from 'tom'@'localhost';mysql&gt; flush privileges;mysql&gt; show grants for 'tom'@'localhost';<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šä»tomè´¦å·ä¸­å›æ”¶updateæƒé™</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; revoke update(age) on db_itheima.tb_student from 'tom'@'localhost';mysql&gt; flush privileges;mysql&gt; show grants for 'tom'@'localhost';<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h1 id="äºŒã€MySQLå¤‡ä»½æ¦‚è¿°"><a href="#äºŒã€MySQLå¤‡ä»½æ¦‚è¿°" class="headerlink" title="äºŒã€MySQLå¤‡ä»½æ¦‚è¿°"></a>äºŒã€MySQLå¤‡ä»½æ¦‚è¿°</h1><h2 id="1ã€å…³äºæ•°æ®ä¿å­˜ä½ è¦çŸ¥é“"><a href="#1ã€å…³äºæ•°æ®ä¿å­˜ä½ è¦çŸ¥é“" class="headerlink" title="1ã€å…³äºæ•°æ®ä¿å­˜ä½ è¦çŸ¥é“"></a>1ã€å…³äºæ•°æ®ä¿å­˜ä½ è¦çŸ¥é“</h2><p><strong>æ€è€ƒï¼š</strong>å¤‡ä»½å’Œå†—ä½™æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</p><p>å¤‡ä»½ï¼š èƒ½å¤Ÿé˜²æ­¢ç”±äº<strong>æœºæ¢°æ•…éšœ</strong>ä»¥åŠ<strong>äººä¸ºè¯¯æ“ä½œ</strong>å¸¦æ¥çš„æ•°æ®ä¸¢å¤±ï¼Œä¾‹å¦‚å°†æ•°æ®åº“æ–‡ä»¶ä¿å­˜åœ¨äº†å…¶å®ƒåœ°æ–¹ã€‚</p><p>å†—ä½™ï¼š æ•°æ®æœ‰å¤šä»½å†—ä½™ï¼Œä½†ä¸ç­‰å¤‡ä»½ï¼Œ<strong>åªèƒ½é˜²æ­¢æœºæ¢°æ•…éšœ</strong>å¸¦æ¥çš„æ•°æ®ä¸¢å¤±ï¼Œä¾‹å¦‚ä¸»å¤‡æ¨¡å¼ã€æ•°æ®åº“é›†ç¾¤ã€‚ </p><h2 id="2ã€åˆ°åº•è¦å¤‡ä»½ä»€ä¹ˆ"><a href="#2ã€åˆ°åº•è¦å¤‡ä»½ä»€ä¹ˆ" class="headerlink" title="2ã€åˆ°åº•è¦å¤‡ä»½ä»€ä¹ˆ"></a>2ã€åˆ°åº•è¦å¤‡ä»½ä»€ä¹ˆ</h2><h3 id="â˜†-å¤‡ä»½ä»€ä¹ˆ"><a href="#â˜†-å¤‡ä»½ä»€ä¹ˆ" class="headerlink" title="â˜† å¤‡ä»½ä»€ä¹ˆ"></a>â˜† å¤‡ä»½ä»€ä¹ˆ</h3><p>æ•°æ®åº“ï¼š==ä¸€å †ç‰©ç†æ–‡ä»¶çš„é›†åˆ==ï¼›æ—¥å¿—æ–‡ä»¶(äºŒè¿›åˆ¶æ—¥å¿—)+æ•°æ®æ–‡ä»¶+é…ç½®æ–‡ä»¶</p><p>â‘  æ•°æ®æ–‡ä»¶</p><p>â‘¡ é…ç½®æ–‡ä»¶ =&gt; my.cnf</p><p>â‘¢ æ—¥å¿—æ–‡ä»¶ï¼ˆä¸»è¦æ˜¯äºŒè¿›åˆ¶æ—¥å¿—æ–‡ä»¶ï¼‰</p><h3 id="â˜†-MySQLä½“ç³»ç»“æ„"><a href="#â˜†-MySQLä½“ç³»ç»“æ„" class="headerlink" title="â˜† MySQLä½“ç³»ç»“æ„"></a>â˜† MySQLä½“ç³»ç»“æ„</h3><p>æ‰©å±•ï¼šMySQLä½“ç³»ç»“æ„ï¼ˆMySQL =&gt; DBMSè½¯ä»¶åˆ°åº•æ˜¯ç”±å“ªäº›å±‚æ„æˆçš„ï¼‰</p><p><img src="/../assets/blog_res/MySQL%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D%EF%BC%88%E9%87%8D%E7%82%B9%EF%BC%89.assets/image-20200828145811383.png" alt="image-20200828145811383"></p><h3 id="â˜†-å­˜å‚¨å¼•æ“å±‚ï¼ˆMyISAMä¸InnoDBå¼•æ“ï¼‰"><a href="#â˜†-å­˜å‚¨å¼•æ“å±‚ï¼ˆMyISAMä¸InnoDBå¼•æ“ï¼‰" class="headerlink" title="â˜† å­˜å‚¨å¼•æ“å±‚ï¼ˆMyISAMä¸InnoDBå¼•æ“ï¼‰"></a>â˜† å­˜å‚¨å¼•æ“å±‚ï¼ˆMyISAMä¸InnoDBå¼•æ“ï¼‰</h3><p>å­˜å‚¨å¼•æ“å±‚ï¼šç®€å•æ¥è¯´ï¼Œå°±æ˜¯æ•°æ®çš„å­˜å‚¨æ–¹å¼ã€‚åœ¨MySQLä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>show engines</code>æŸ¥çœ‹å½“å‰æ•°æ®åº“ç‰ˆæœ¬æ”¯æŒå“ªäº›å¼•æ“ï¼Œå¸¸è§çš„æ•°æ®å­˜å‚¨å¼•æ“ï¼šInnoDBã€MyISAMã€NDBâ€¦</p><blockquote><p>å¸¸è§é¢è¯•é¢˜ï¼šè¯·ç®€è¿°MySQLçš„MyISAMå¼•æ“ä¸InnoDBå¼•æ“çš„åŒºåˆ«</p></blockquote><p>â‘  MyISAMå¼•æ“ï¼šæ“…é•¿æ•°æ®çš„æŸ¥è¯¢ï¼Œæ”¯æŒå…¨æ–‡ç´¢å¼•</p><p>â‘¡ InnoDBå¼•æ“ï¼šSupports transactions, row-level locking, and foreign keysï¼Œæ”¯æŒäº‹åŠ¡å¤„ç†ã€è¡Œçº§é”ã€æ”¯æŒå¤–é”®ã€‚</p><h3 id="â˜†-å­˜å‚¨å±‚ï¼ˆæ•°æ®æ–‡ä»¶æ˜¯å¦‚ä½•è¿›è¡Œå­˜å‚¨çš„ï¼‰"><a href="#â˜†-å­˜å‚¨å±‚ï¼ˆæ•°æ®æ–‡ä»¶æ˜¯å¦‚ä½•è¿›è¡Œå­˜å‚¨çš„ï¼‰" class="headerlink" title="â˜† å­˜å‚¨å±‚ï¼ˆæ•°æ®æ–‡ä»¶æ˜¯å¦‚ä½•è¿›è¡Œå­˜å‚¨çš„ï¼‰"></a>â˜† å­˜å‚¨å±‚ï¼ˆæ•°æ®æ–‡ä»¶æ˜¯å¦‚ä½•è¿›è¡Œå­˜å‚¨çš„ï¼‰</h3><p>é—®é¢˜ï¼šå­˜å‚¨å¼•æ“åˆ°åº•æ˜¯å¦‚ä½•ä¿å­˜æ•°æ®æ–‡ä»¶çš„ï¼Ÿ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; create database db_itheima default charset=utf8;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>æå‡ºé—®é¢˜ï¼šæˆ‘èƒ½ä¸èƒ½ä¸è¿›å…¥MySQLç»ˆç«¯ï¼Œç„¶ååœ¨å‘½ä»¤è¡Œä¸­ç›´æ¥åˆ›å»ºä¸€ä¸ªæ•°æ®åº“å‘¢ï¼Ÿ-e</p></blockquote><p>å½“æ•°æ®åº“åˆ›å»ºå®Œæ¯•åï¼ŒæŸ¥çœ‹/mysql_3306/dataæ–‡ä»¶å¤¹ï¼š</p><p><img src="/../assets/blog_res/MySQL%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D%EF%BC%88%E9%87%8D%E7%82%B9%EF%BC%89.assets/image-20200828152248180.png" alt="image-20200828152248180"></p><p>db_itheimaæ–‡ä»¶å¤¹ä¸­è¿˜æœ‰ä¸€ä¸ªæ–‡ä»¶<code>db.opt</code>ï¼Œå­˜æ”¾å†…å®¹ä¸ºæ•°æ®åº“çš„ç¼–ç æ ¼å¼ã€‚</p><p>MyISAMå¼•æ“</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; use db_itheima;mysql&gt; create table tb_user(id int, name char(1)) engine=myisam default charset=utf8;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>åˆ›å»ºå®Œæˆåï¼ŒæŸ¥çœ‹db_itheimaç›®å½•ä¿¡æ¯ï¼Œå‘ç°äº§ç”Ÿäº†3ä¸ªæ–‡ä»¶</p><p><img src="/../assets/blog_res/MySQL%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D%EF%BC%88%E9%87%8D%E7%82%B9%EF%BC%89.assets/image-20200828152624753.png" alt="image-20200828152624753"></p><blockquote><p>*.frm ï¼šæ¡†æ¶æ–‡ä»¶ï¼Œå®šä¹‰æ•°æ®è¡¨ç»“æ„     *.MYI ï¼šINDEXç´¢å¼•ï¼Œä¸»è¦ç”¨äºå­˜æ”¾ç´¢å¼•æ–‡ä»¶      *.MYDï¼šæ•°æ®æ–‡ä»¶</p></blockquote><p>InnoDBå¼•æ“</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; use db_itheima;mysql&gt; create table tb_user(id int, name char(1)) engine=innodb default charset=utf8;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>åˆ›å»ºå®Œæˆåï¼ŒæŸ¥çœ‹db_itheimaç›®å½•ä¿¡æ¯ï¼Œå‘ç°äº§ç”Ÿäº†2ä¸ªæ–‡ä»¶</p><p><img src="/../assets/blog_res/MySQL%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D%EF%BC%88%E9%87%8D%E7%82%B9%EF%BC%89.assets/image-20200828153252277.png" alt="image-20200828153252277"></p><blockquote><p>*.frm ï¼šæ¡†æ¶æ–‡ä»¶ï¼Œå®šä¹‰æ•°æ®è¡¨ç»“æ„    *.ibdï¼šç´¢å¼•æ–‡ä»¶+æ•°æ®æ–‡ä»¶</p></blockquote><p>å…¶å®InnoDBå¼•æ“ä¸ä»…ä»…ä¼šäº§ç”Ÿä»¥ä¸Šä¸¤ä¸ªæ–‡ä»¶ï¼Œå…¶åœ¨å¤–éƒ¨dataç›®å½•ä¸­ä¹Ÿä¼šäº§ç”Ÿä¸€ä¸ªæ–‡ä»¶ï¼ˆç¡®åˆ‡æ¥è¯´ä¸èƒ½å«åšäº§ç”Ÿæ–‡ä»¶ï¼Œè€Œåº”è¯¥å«åšå…±äº«æ–‡ä»¶ï¼‰</p><p><img src="/../assets/blog_res/MySQL%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D%EF%BC%88%E9%87%8D%E7%82%B9%EF%BC%89.assets/image-20200828153451881.png" alt="image-20200828153451881"></p><blockquote><p>æ‰€ä»¥ç”±æ­¤å¯çŸ¥ï¼ŒInnoDBå¼•æ“çš„æ•°æ®å¤‡ä»½ä¸èƒ½ç®€ç®€å•å•çš„é€šè¿‡æ‹·è´æ–¹å¼å®ç°ï¼Œå¿…é¡»ä½¿ç”¨ä¸“ä¸šçš„å¤‡ä»½å·¥å…·ã€‚</p></blockquote><h3 id="â˜†-æ—¥å¿—æ–‡ä»¶ï¼ˆMySQLä¸­æˆ‘ä»¬éœ€è¦äº†è§£å“ªäº›æ—¥å¿—ï¼‰"><a href="#â˜†-æ—¥å¿—æ–‡ä»¶ï¼ˆMySQLä¸­æˆ‘ä»¬éœ€è¦äº†è§£å“ªäº›æ—¥å¿—ï¼‰" class="headerlink" title="â˜† æ—¥å¿—æ–‡ä»¶ï¼ˆMySQLä¸­æˆ‘ä»¬éœ€è¦äº†è§£å“ªäº›æ—¥å¿—ï¼‰"></a>â˜† æ—¥å¿—æ–‡ä»¶ï¼ˆMySQLä¸­æˆ‘ä»¬éœ€è¦äº†è§£å“ªäº›æ—¥å¿—ï¼‰</h3><table><thead><tr><th>æ—¥å¿—ç±»å‹</th><th>å†™å…¥æ—¥å¿—çš„ä¿¡æ¯</th></tr></thead><tbody><tr><td>erroré”™è¯¯æ—¥å¿—</td><td>å­˜æ”¾æ•°æ®åº“çš„å¯åŠ¨ã€åœæ­¢æˆ–è¿è¡Œæ—¶çš„é”™è¯¯ä¿¡æ¯ï¼ˆæ‰¾ERRORï¼‰</td></tr><tr><td>binlogäºŒè¿›åˆ¶æ—¥å¿—</td><td>==æ•°æ®åº“çš„æ‰€æœ‰æ›´æ”¹==æ“ä½œï¼ˆDDL/DML/DCLï¼‰ï¼Œä¸åŒ…å«selectæˆ–è€…showè¿™ç±»è¯­å¥ã€‚</td></tr></tbody></table><blockquote><p>erroré”™è¯¯æ—¥å¿—çš„å‘½ä»¤è§„åˆ™ä¸å­˜æ”¾çš„ç›®å½•ï¼š/dataç›®å½•ä¸‹ +  ä¸»æœºåç§°.err</p></blockquote><p>æ›´æ”¹é”™è¯¯æ—¥å¿—çš„å­˜æ”¾ä½ç½®ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim my.cnf[mysqld]...log_error=dataæ•°æ®ç›®å½•/ä¸»æœºåç§°.erræˆ–mysql.err<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>binlogäºŒè¿›åˆ¶æ—¥å¿—åº”ç”¨åœºæ™¯ï¼š</p><p>ç”¨äº==ä¸»ä»å¤åˆ¶==ä¸­ï¼Œmasterä¸»æœåŠ¡å™¨å°†äºŒè¿›åˆ¶æ—¥å¿—ä¸­çš„æ›´æ”¹æ“ä½œå‘é€ç»™slaveä»æœåŠ¡å™¨ï¼Œä»æœåŠ¡å™¨æ‰§è¡Œè¿™äº›æ›´æ”¹æ“ä½œæ˜¯çš„å’Œä¸»æœåŠ¡å™¨çš„æ›´æ”¹ç›¸åŒã€‚</p><p>ç”¨äº==æ•°æ®çš„æ¢å¤==æ“ä½œ</p></blockquote><p><strong>binlogäºŒè¿›åˆ¶æ—¥å¿—å¦‚ä½•å¼€å¯ï¼Ÿ</strong></p><p>é»˜è®¤binlogæ—¥å¿—æ˜¯==å…³é—­==çš„ï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶å®Œæˆå¼€å¯ï¼Œå¦‚ä¸‹ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim my.cnf[mysqld]...server-id=10log-bin=dataæ•°æ®ç›®å½•/binlog<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>å½“æˆ‘ä»¬æ›´æ”¹äº†my.cnfé…ç½®æ–‡ä»¶ï¼Œä¸€å®šè¦è®°å¾—é‡å¯MySQLæœåŠ¡å™¨ã€‚serviceå‘½ä»¤</p></blockquote><h2 id="3ã€å¤‡ä»½è¿‡ç¨‹é¡»è€ƒè™‘çš„å› ç´ "><a href="#3ã€å¤‡ä»½è¿‡ç¨‹é¡»è€ƒè™‘çš„å› ç´ " class="headerlink" title="3ã€å¤‡ä»½è¿‡ç¨‹é¡»è€ƒè™‘çš„å› ç´ "></a>3ã€å¤‡ä»½è¿‡ç¨‹é¡»è€ƒè™‘çš„å› ç´ </h2><ul><li>å¿…é¡»åˆ¶å®š==è¯¦ç»†çš„å¤‡ä»½è®¡åˆ’(ç­–ç•¥)==ï¼ˆå¤‡ä»½é¢‘ç‡ã€æ—¶é—´ç‚¹ã€å‘¨æœŸï¼‰</li><li>å¤‡ä»½æ•°æ®åº”è¯¥æ”¾åœ¨==éæ•°æ®åº“æœ¬åœ°==ï¼Œå¹¶å»ºè®®==æœ‰å¤šä»½å‰¯æœ¬==</li><li>å¿…é¡»åšå¥½==<strong>æ•°æ®æ¢å¤çš„æ¼”ç»ƒ</strong>==ï¼ˆæ¯éš”ä¸€æ®µæ—¶é—´ï¼Œå¯¹å¤‡ä»½çš„æ•°æ®åœ¨æµ‹è¯•ç¯å¢ƒä¸­è¿›è¡Œæ¨¡æ‹Ÿæ¢å¤ï¼Œä¿è¯å½“å‡ºç°æ•°æ®ç¾éš¾çš„æ—¶å€™èƒ½å¤ŸåŠæ—¶æ¢å¤æ•°æ®ã€‚ï¼‰</li><li>æ ¹æ®æ•°æ®åº”ç”¨çš„åœºåˆã€ç‰¹ç‚¹==é€‰æ‹©æ­£ç¡®çš„å¤‡ä»½å·¥å…·==ã€‚</li><li>æ•°æ®çš„ä¸€è‡´æ€§</li><li>æœåŠ¡çš„å¯ç”¨æ€§</li></ul><h2 id="4ã€å¤‡ä»½çš„ç±»å‹"><a href="#4ã€å¤‡ä»½çš„ç±»å‹" class="headerlink" title="4ã€å¤‡ä»½çš„ç±»å‹"></a>4ã€å¤‡ä»½çš„ç±»å‹</h2><h3 id="â˜†-é€»è¾‘å¤‡ä»½"><a href="#â˜†-é€»è¾‘å¤‡ä»½" class="headerlink" title="â˜† é€»è¾‘å¤‡ä»½"></a>â˜† é€»è¾‘å¤‡ä»½</h3><ul><li>å¤‡ä»½çš„æ˜¯<strong>å»ºè¡¨ã€å»ºåº“ã€æ’å…¥ç­‰æ“ä½œæ‰€æ‰§è¡ŒSQLè¯­å¥</strong>ï¼ˆDDL DML DCLï¼‰ã€‚</li><li>é€‚ç”¨äº==ä¸­å°å‹æ•°æ®åº“ï¼Œæ•ˆç‡ç›¸å¯¹è¾ƒä½==ã€‚ ä¸€èˆ¬åœ¨æ•°æ®åº“<strong>æ­£å¸¸æä¾›æœåŠ¡</strong>çš„å‰æä¸‹è¿›è¡Œï¼Œå¦‚ï¼š<strong>mysqldump</strong>ã€mydumperã€into outfileï¼ˆè¡¨çš„å¯¼å‡ºå¯¼å…¥ï¼‰ç­‰ã€‚</li></ul><ul><li>å¤‡ä»½å®è´¨ï¼šå°±æ˜¯æŠŠè¦å¤‡ä»½çš„æ•°æ®å¯¼å‡ºæˆ.sqlæˆ–.txtæ–‡ä»¶</li></ul><h3 id="â˜†-ç‰©ç†å¤‡ä»½"><a href="#â˜†-ç‰©ç†å¤‡ä»½" class="headerlink" title="â˜† ç‰©ç†å¤‡ä»½"></a>â˜† ç‰©ç†å¤‡ä»½</h3><ul><li>ç›´æ¥å¤åˆ¶==æ•°æ®åº“æ–‡ä»¶==</li><li>é€‚ç”¨äº==å¤§å‹æ•°æ®åº“==ç¯å¢ƒï¼Œä¸å—å­˜å‚¨å¼•æ“çš„é™åˆ¶ï¼Œä½†ä¸èƒ½æ¢å¤åˆ°ä¸åŒçš„MySQLç‰ˆæœ¬ã€‚ </li><li>ä¸€èˆ¬æ˜¯åœ¨==æ•°æ®åº“å½»åº•å…³é—­æˆ–è€…ä¸èƒ½å®Œæˆæ­£å¸¸æä¾›æœåŠ¡==çš„å‰æä¸‹è¿›è¡Œçš„å¤‡ä»½ï¼‰ï¼›å¦‚ï¼štarã€cpã€==xtrabackup==ï¼ˆæ•°æ®åº“å¯ä»¥==æ­£å¸¸æä¾›æœåŠ¡==ï¼‰ã€lvm snapshotã€rsyncç­‰</li></ul><ul><li>å¤‡ä»½çš„å®è´¨ï¼šå¯¹æ•°æ®æ–‡ä»¶ + é…ç½®æ–‡ä»¶ + æ—¥å¿—æ–‡ä»¶è¿›è¡Œæ‹·è´æ“ä½œ</li></ul><h3 id="â˜†-åœ¨çº¿çƒ­å¤‡ï¼ˆæ•°æ®å†—ä½™ã€ABå¤åˆ¶ã€ä¸»ä»å¤åˆ¶ï¼‰"><a href="#â˜†-åœ¨çº¿çƒ­å¤‡ï¼ˆæ•°æ®å†—ä½™ã€ABå¤åˆ¶ã€ä¸»ä»å¤åˆ¶ï¼‰" class="headerlink" title="â˜† åœ¨çº¿çƒ­å¤‡ï¼ˆæ•°æ®å†—ä½™ã€ABå¤åˆ¶ã€ä¸»ä»å¤åˆ¶ï¼‰"></a>â˜† åœ¨çº¿çƒ­å¤‡ï¼ˆæ•°æ®å†—ä½™ã€ABå¤åˆ¶ã€ä¸»ä»å¤åˆ¶ï¼‰</h3><ul><li>MySQLçš„replicationæ¶æ„ï¼Œå¦‚M-S|M-S-S|M-M-Sç­‰</li><li>å®æ—¶åœ¨çº¿å¤‡ä»½</li></ul><h2 id="5ã€å¤‡ä»½å·¥å…·"><a href="#5ã€å¤‡ä»½å·¥å…·" class="headerlink" title="5ã€å¤‡ä»½å·¥å…·"></a>5ã€å¤‡ä»½å·¥å…·</h2><h4 id="ãˆ -ç¤¾åŒºç‰ˆå®‰è£…åŒ…ä¸­çš„å¤‡ä»½å·¥å…·"><a href="#ãˆ -ç¤¾åŒºç‰ˆå®‰è£…åŒ…ä¸­çš„å¤‡ä»½å·¥å…·" class="headerlink" title="ãˆ  ç¤¾åŒºç‰ˆå®‰è£…åŒ…ä¸­çš„å¤‡ä»½å·¥å…·"></a>ãˆ  ç¤¾åŒºç‰ˆå®‰è£…åŒ…ä¸­çš„å¤‡ä»½å·¥å…·</h4><h5 id="â‘ -mysqldump-é€»è¾‘å¤‡ä»½ï¼Œåªèƒ½-å…¨é‡å¤‡ä»½-ï¼‰"><a href="#â‘ -mysqldump-é€»è¾‘å¤‡ä»½ï¼Œåªèƒ½-å…¨é‡å¤‡ä»½-ï¼‰" class="headerlink" title="â‘  mysqldump(é€»è¾‘å¤‡ä»½ï¼Œåªèƒ½==å…¨é‡å¤‡ä»½==ï¼‰"></a>â‘  mysqldump(é€»è¾‘å¤‡ä»½ï¼Œåªèƒ½==å…¨é‡å¤‡ä»½==ï¼‰</h5><p>â€‹1ï¼‰ä¼ä¸šç‰ˆå’Œç¤¾åŒºç‰ˆéƒ½åŒ…å«</p><p>â€‹2ï¼‰æœ¬è´¨ä¸Šä½¿ç”¨==SQLè¯­å¥æè¿°æ•°æ®åº“==åŠæ•°æ®å¹¶å¯¼å‡º</p><p>â€‹3ï¼‰åœ¨MYISAMå¼•æ“ä¸Šé”è¡¨ï¼ŒInnodbå¼•æ“ä¸Šé”è¡Œ</p><p>â€‹4ï¼‰æ•°æ®é‡å¾ˆå¤§æ—¶ä¸æ¨èä½¿ç”¨</p><h5 id="â‘¡-mysqlhotcopy-ç‰©ç†å¤‡ä»½å·¥å…·ï¼‰"><a href="#â‘¡-mysqlhotcopy-ç‰©ç†å¤‡ä»½å·¥å…·ï¼‰" class="headerlink" title="â‘¡ mysqlhotcopy(ç‰©ç†å¤‡ä»½å·¥å…·ï¼‰"></a>â‘¡ mysqlhotcopy(ç‰©ç†å¤‡ä»½å·¥å…·ï¼‰</h5><p>â€‹1ï¼‰ä¼ä¸šç‰ˆå’Œç¤¾åŒºç‰ˆéƒ½åŒ…å«</p><p>â€‹2ï¼‰perlå†™çš„ä¸€ä¸ªè„šæœ¬ï¼Œæœ¬è´¨ä¸Šæ˜¯ä½¿ç”¨é”è¡¨è¯­å¥åå†æ‹·è´æ•°æ®</p><p>â€‹3ï¼‰==åª==æ”¯æŒMYISAMæ•°æ®å¼•æ“</p><h4 id="ãˆ¡-ä¼ä¸šç‰ˆå®‰è£…åŒ…ä¸­çš„å¤‡ä»½å·¥å…·"><a href="#ãˆ¡-ä¼ä¸šç‰ˆå®‰è£…åŒ…ä¸­çš„å¤‡ä»½å·¥å…·" class="headerlink" title="ãˆ¡ ä¼ä¸šç‰ˆå®‰è£…åŒ…ä¸­çš„å¤‡ä»½å·¥å…·"></a>ãˆ¡ ä¼ä¸šç‰ˆå®‰è£…åŒ…ä¸­çš„å¤‡ä»½å·¥å…·</h4><p><strong>mysqlbackup</strong></p><p>â€‹1ï¼‰åœ¨çº¿å¤‡ä»½</p><p>â€‹2ï¼‰å¢é‡å¤‡ä»½</p><p>â€‹3ï¼‰éƒ¨åˆ†å¤‡ä»½</p><p>â€‹4ï¼‰åœ¨æŸä¸ªç‰¹å®šæ—¶é—´çš„ä¸€è‡´æ€§çŠ¶æ€çš„å¤‡ä»½</p><h4 id="ãˆ¢-ç¬¬ä¸‰æ–¹å¤‡ä»½å·¥å…·"><a href="#ãˆ¢-ç¬¬ä¸‰æ–¹å¤‡ä»½å·¥å…·" class="headerlink" title="ãˆ¢ ç¬¬ä¸‰æ–¹å¤‡ä»½å·¥å…·"></a>ãˆ¢ ç¬¬ä¸‰æ–¹å¤‡ä»½å·¥å…·</h4><h5 id="â‘ -XtraBackupå’Œinnobackupex-ç‰©ç†å¤‡ä»½ï¼‰"><a href="#â‘ -XtraBackupå’Œinnobackupex-ç‰©ç†å¤‡ä»½ï¼‰" class="headerlink" title="â‘  XtraBackupå’Œinnobackupex(ç‰©ç†å¤‡ä»½ï¼‰"></a>â‘  XtraBackupå’Œinnobackupex(ç‰©ç†å¤‡ä»½ï¼‰</h5><p>â€‹1ï¼‰Xtrabackupæ˜¯ä¸€ä¸ªå¯¹<strong>InnoDB</strong>åšæ•°æ®å¤‡ä»½çš„å·¥å…·ï¼Œæ”¯æŒ==åœ¨çº¿çƒ­å¤‡ä»½==ï¼ˆå¤‡ä»½æ—¶ä¸å½±å“æ•°æ®è¯»å†™ï¼‰ï¼Œæ˜¯å•†ä¸šå¤‡ä»½å·¥å…·<strong>InnoDB Hotbackup</strong>çš„ä¸€ä¸ªå¾ˆå¥½çš„æ›¿ä»£å“ã€‚</p><p>â€‹2ï¼‰Xtrabackupæœ‰ä¸¤ä¸ªä¸»è¦çš„å·¥å…·ï¼šxtrabackupã€innobackupex</p><p>â€‹aã€xtrabackupåªèƒ½å¤‡ä»½==InnoDBå’ŒXtraDB==ä¸¤ç§æ•°æ®è¡¨ï¼Œä¸èƒ½å¤‡ä»½myisamç±»å‹çš„è¡¨ã€‚</p><p>â€‹bã€innobackupexæ˜¯å°†Xtrabackupè¿›è¡Œå°è£…çš„perlè„šæœ¬ï¼Œæ‰€ä»¥èƒ½åŒæ—¶å¤‡ä»½å¤„ç†innodbå’Œmyisamçš„å­˜å‚¨å¼•æ“ï¼Œä½†åœ¨å¤„ç†myisamæ—¶éœ€è¦åŠ ä¸€ä¸ªè¯»é”ã€‚</p><h5 id="â‘¡-mydumper-é€»è¾‘å¤‡ä»½ï¼Œå¤‡ä»½SQLè¯­å¥ï¼‰"><a href="#â‘¡-mydumper-é€»è¾‘å¤‡ä»½ï¼Œå¤‡ä»½SQLè¯­å¥ï¼‰" class="headerlink" title="â‘¡ mydumper(é€»è¾‘å¤‡ä»½ï¼Œå¤‡ä»½SQLè¯­å¥ï¼‰"></a>â‘¡ mydumper(é€»è¾‘å¤‡ä»½ï¼Œå¤‡ä»½SQLè¯­å¥ï¼‰</h5><p><strong>å¤šçº¿ç¨‹å¤‡ä»½å·¥å…·</strong></p><p> <a href="https://launchpad.net/mydumper/mydumper-0.9.1.tar.gz">https://launchpad.net/mydumper/mydumper-0.9.1.tar.gz</a>        2015-11-06ï¼ˆæœ€åæ›´æ–°æ—¶é—´ï¼‰</p><h2 id="6ã€å¤‡ä»½æ–¹æ³•"><a href="#6ã€å¤‡ä»½æ–¹æ³•" class="headerlink" title="6ã€å¤‡ä»½æ–¹æ³•"></a>6ã€å¤‡ä»½æ–¹æ³•</h2><ul><li>å®Œå…¨å¤‡ä»½ï¼ˆå…¨å¤‡ï¼‰</li><li>å¢é‡å¤‡ä»½ï¼ˆå¢é‡å¤‡ä»½åŸºäºå…¨é‡å¤‡ä»½ï¼‰</li></ul><p><img src="/../assets/blog_res/MySQL%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D%EF%BC%88%E9%87%8D%E7%82%B9%EF%BC%89.assets/image-20200828165223180.png" alt="image-20200828165223180"></p><h1 id="ä¸‰ã€MySQLé€»è¾‘å¤‡ä»½"><a href="#ä¸‰ã€MySQLé€»è¾‘å¤‡ä»½" class="headerlink" title="ä¸‰ã€MySQLé€»è¾‘å¤‡ä»½"></a>ä¸‰ã€MySQLé€»è¾‘å¤‡ä»½</h1><p>##1ã€mysqldumpåŸºæœ¬å¤‡ä»½</p><p><strong>æœ¬è´¨</strong>ï¼šå¯¼å‡ºçš„æ˜¯sqlè¯­å¥æ–‡ä»¶</p><p><strong>ä¼˜ç‚¹</strong>ï¼šæ— è®ºæ˜¯ä»€ä¹ˆå­˜å‚¨å¼•æ“ï¼Œéƒ½å¯ä»¥ç”¨mysqldumpå¤‡æˆsqlè¯­å¥</p><p><strong>ç¼ºç‚¹</strong>ï¼šé€Ÿåº¦è¾ƒæ…¢,å¯¼å…¥æ—¶å¯èƒ½ä¼šå‡ºç°æ ¼å¼ä¸å…¼å®¹çš„çªå‘çŠ¶å†µ.==æ— æ³•ç›´æ¥åšå¢é‡å¤‡ä»½==.</p><p><strong>æä¾›ä¸‰ç§çº§åˆ«çš„å¤‡ä»½ï¼Œè¡¨çº§ï¼Œåº“çº§å’Œå…¨åº“çº§</strong> </p><h2 id="2ã€mysqldumpåŸºæœ¬è¯­æ³•"><a href="#2ã€mysqldumpåŸºæœ¬è¯­æ³•" class="headerlink" title="2ã€mysqldumpåŸºæœ¬è¯­æ³•"></a>2ã€mysqldumpåŸºæœ¬è¯­æ³•</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">è¡¨çº§åˆ«å¤‡ä»½mysqldump [OPTIONS] database [tables]åº“çº§åˆ«å¤‡ä»½mysqldump [OPTIONS] --databases [OPTIONS] DB1 [DB2 DB3...]å…¨åº“çº§åˆ«å¤‡ä»½mysqldump [OPTIONS] --all-databases [OPTIONS]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å‡†å¤‡ä¸€äº›è¦å¤‡ä»½çš„æ•°æ®ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; create database db_itheima default charset=utf8;mysql&gt; use db_itheima;mysql&gt; create table tb_student(id int not null auto_increment,name varchar(20),age tinyint unsigned default 0,gender enum('male','female'),subject enum('ui','java','yunwei','python'),primary key(id)) engine=innodb default charset=utf8;mysql&gt; insert into tb_student values (null,'åˆ˜å¤‡',33,'male','java');mysql&gt; insert into tb_student values (null,'å…³ç¾½',32,'male','yunwei');mysql&gt; insert into tb_student values (null,'å¼ é£',30,'male','python');mysql&gt; insert into tb_student values (null,'è²‚è‰',18,'female','ui');mysql&gt; insert into tb_student values (null,'å¤§ä¹”',18,'female','ui');<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="3ã€mysqldumpè¡¨çº§å¤‡ä»½ä¸è¿˜åŸ"><a href="#3ã€mysqldumpè¡¨çº§å¤‡ä»½ä¸è¿˜åŸ" class="headerlink" title="3ã€mysqldumpè¡¨çº§å¤‡ä»½ä¸è¿˜åŸ"></a>3ã€mysqldumpè¡¨çº§å¤‡ä»½ä¸è¿˜åŸ</h2><h3 id="â˜†-å¤‡ä»½"><a href="#â˜†-å¤‡ä»½" class="headerlink" title="â˜† å¤‡ä»½"></a>â˜† å¤‡ä»½</h3><p>æ¡ˆä¾‹ï¼šæŠŠdb_itheimaæ•°æ®åº“ä¸­çš„tb_studentæ•°æ®è¡¨è¿›è¡Œå¤‡ä»½</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mkdir /tmp/sqlbak# mysqldump db_itheima tb_student &gt; /tmp/sqlbak/tb_student.sql -pEnter password:123<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="â˜†-è¿˜åŸ"><a href="#â˜†-è¿˜åŸ" class="headerlink" title="â˜† è¿˜åŸ"></a>â˜† è¿˜åŸ</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mysql æ•°æ®åº“åç§° &lt; .sqlæ–‡ä»¶ä½ç½® -pEnter password:123æˆ–# mysql -uroot -pEnter password:123mysql&gt; use db_itheimamysql&gt; source .sqlæ–‡ä»¶çš„ä½ç½®<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="4ã€mysqldumpåº“çº§å¤‡ä»½ä¸è¿˜åŸ"><a href="#4ã€mysqldumpåº“çº§å¤‡ä»½ä¸è¿˜åŸ" class="headerlink" title="4ã€mysqldumpåº“çº§å¤‡ä»½ä¸è¿˜åŸ"></a>4ã€mysqldumpåº“çº§å¤‡ä»½ä¸è¿˜åŸ</h2><h3 id="â˜†-å¤‡ä»½-1"><a href="#â˜†-å¤‡ä»½-1" class="headerlink" title="â˜† å¤‡ä»½"></a>â˜† å¤‡ä»½</h3><p>æ¡ˆä¾‹ï¼šæŠŠdb_itheimaæ•°æ®åº“è¿›è¡Œå¤‡ä»½</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mysqldump --databases db_itheima &gt; /tmp/sqlbak/db_itheima.sql -pEnter password:123<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="â˜†-è¿˜åŸ-1"><a href="#â˜†-è¿˜åŸ-1" class="headerlink" title="â˜† è¿˜åŸ"></a>â˜† è¿˜åŸ</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mysql &lt; .sqlæ–‡ä»¶ä½ç½® -pEnter password:123æˆ–# mysql -uroot -pEnter password:123mysql&gt; source .sqlæ–‡ä»¶çš„ä½ç½®<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="5ã€mysqldumpå…¨åº“çº§å¤‡ä»½"><a href="#5ã€mysqldumpå…¨åº“çº§å¤‡ä»½" class="headerlink" title="5ã€mysqldumpå…¨åº“çº§å¤‡ä»½"></a>5ã€mysqldumpå…¨åº“çº§å¤‡ä»½</h2><blockquote><p>åœ¨MySQLä¸­ï¼Œå¦‚æœæƒ³ä½¿ç”¨mysqldumpè¿›è¡Œå…¨åº“çº§å¤‡ä»½ï¼Œå¿…é¡»å¼€å¯äºŒè¿›åˆ¶æ—¥å¿—ï¼ï¼ï¼</p></blockquote><p>å¼€å¯äºŒè¿›åˆ¶æ—¥å¿—</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim my.cnf[mysqld]...server-id=10log-bin=/mysql_3306/data/binlog# service mysql_3306 restart<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>mysqldumpé«˜çº§é€‰é¡¹è¯´æ˜ï¼š</p><table><thead><tr><th>å¸¸ç”¨é€‰é¡¹</th><th>æè¿°è¯´æ˜</th></tr></thead><tbody><tr><td>â€“flush-logs, -F</td><td>å¼€å§‹å¤‡ä»½å‰åˆ·æ–°æ—¥å¿—ï¼ˆäºŒè¿›åˆ¶æ—¥å¿—ï¼‰binlog.000001 =&gt; binlog.000002</td></tr><tr><td>â€“flush-privileges</td><td>å¤‡ä»½åŒ…å«mysqlæ•°æ®åº“æ—¶åˆ·æ–°æˆæƒè¡¨ =&gt; åˆ·æ–°ç”¨æˆ·å’Œæˆæƒä¿¡æ¯</td></tr><tr><td>â€“lock-all-tables, -x</td><td>MyISAMä¸€è‡´æ€§ï¼ŒæœåŠ¡å¯ç”¨æ€§ï¼ˆé’ˆå¯¹æ‰€æœ‰åº“æ‰€æœ‰è¡¨ï¼‰</td></tr><tr><td>â€“lock-tables, -l</td><td>å¤‡ä»½å‰é”è¡¨ï¼ˆé’ˆå¯¹è¦å¤‡ä»½çš„åº“ï¼‰</td></tr><tr><td>â€“single-transaction</td><td>é€‚ç”¨InnoDBå¼•æ“ï¼Œä¿è¯ä¸€è‡´æ€§ï¼ŒæœåŠ¡å¯ç”¨æ€§</td></tr><tr><td>â€“master-data=2</td><td>è¡¨ç¤ºå°†äºŒè¿›åˆ¶æ—¥å¿—ä½ç½®å’Œæ–‡ä»¶åå†™å…¥åˆ°å¤‡ä»½æ–‡ä»¶å¹¶åœ¨dumpæ–‡ä»¶ä¸­æ³¨é‡Šæ‰è¿™ä¸€è¡Œ</td></tr><tr><td>â€“master-data=1</td><td>è¡¨ç¤ºå°†äºŒè¿›åˆ¶æ—¥å¿—ä½ç½®å’Œæ–‡ä»¶åå†™å…¥åˆ°å¤‡ä»½æ–‡ä»¶,åœ¨dumpæ–‡ä»¶ä¸­ä¸æ³¨é‡Šè¿™ä¸€è¡Œ</td></tr></tbody></table><p><strong>â€“master-dataå‚æ•°å…¶ä»–è¯´æ˜ï¼š</strong></p><p>1ï¼‰æ¢å¤æ—¶ä¼šæ‰§è¡Œï¼Œé»˜è®¤æ˜¯1<br>2ï¼‰éœ€è¦RELOAD privilegeå¹¶å¿…é¡»æ‰“å¼€äºŒè¿›åˆ¶æ–‡ä»¶<br>3ï¼‰è¿™ä¸ªé€‰é¡¹ä¼šè‡ªåŠ¨æ‰“å¼€â€“lock-all-tablesï¼Œå…³é—­â€“lock-tables</p><h3 id="â˜†-å¤‡ä»½-2"><a href="#â˜†-å¤‡ä»½-2" class="headerlink" title="â˜† å¤‡ä»½"></a>â˜† å¤‡ä»½</h3><p>å‰æï¼šä¸€å®šè¦å¼€å¯äºŒè¿›åˆ¶æ—¥å¿—</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mysqldump --all-databases --master-data --single-transaction &gt; /tmp/sqlbak/all.sql -pEnter password:123<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="â˜†-è¿˜åŸ-2"><a href="#â˜†-è¿˜åŸ-2" class="headerlink" title="â˜† è¿˜åŸ"></a>â˜† è¿˜åŸ</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mysql &lt; all.sql -pEnter password:123<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><ol><li>mysqldumpå·¥å…·å¤‡ä»½çš„æ˜¯==SQLè¯­å¥==ï¼Œæ•…å¤‡ä»½ä¸éœ€è¦åœæœåŠ¡</li><li>ä½¿ç”¨å¤‡ä»½æ–‡ä»¶==æ¢å¤==æ—¶ï¼Œè¦ä¿è¯==æ•°æ®åº“å¤„äºè¿è¡ŒçŠ¶æ€==</li><li>åªèƒ½å®ç°å…¨åº“ï¼ŒæŒ‡å®šåº“ï¼Œè¡¨çº§åˆ«çš„==æŸä¸€æ—¶åˆ»çš„å¤‡ä»½==ï¼Œæœ¬èº«==ä¸èƒ½å¢é‡å¤‡ä»½==</li><li>é€‚ç”¨äº==ä¸­å°å‹==æ•°æ®åº“</li></ol><h1 id="å››ã€mysqldump-binlogå®ç°å¢é‡å¤‡ä»½"><a href="#å››ã€mysqldump-binlogå®ç°å¢é‡å¤‡ä»½" class="headerlink" title="å››ã€mysqldump + binlogå®ç°å¢é‡å¤‡ä»½"></a>å››ã€mysqldump + binlogå®ç°å¢é‡å¤‡ä»½</h1><h2 id="1ã€æ ¸å¿ƒæ€è·¯"><a href="#1ã€æ ¸å¿ƒæ€è·¯" class="headerlink" title="1ã€æ ¸å¿ƒæ€è·¯"></a>1ã€æ ¸å¿ƒæ€è·¯</h2><p>ææ˜ç™½ä¸€ä»¶äº‹ï¼šåˆ°åº•ä»€ä¹ˆæ˜¯å¢é‡å¤‡ä»½ï¼Ÿ</p><p>ç­”ï¼šâ‘  è¦æœ‰å…¨é‡å¤‡ä»½ â‘¡ ç»§ç»­å¢åˆ æ”¹æ•°æ® â‘¢ å†æ¬¡éœ€è¦å¤‡ä»½æ—¶ï¼Œä¸éœ€è¦è¿›è¡Œå…¨é‡å¤‡ä»½ï¼Œåªéœ€è¦å¤‡ä»½binlogæ—¥å¿—æ–‡ä»¶å³å¯ï¼ˆå› ä¸ºbinlogæ—¥å¿—è®°å½•äº†å¢åˆ æ”¹æ“ä½œçš„æ‰€æœ‰SQLè¯­å¥ï¼‰</p><h2 id="2ã€å¢é‡å¤‡ä»½å®éªŒæ­¥éª¤"><a href="#2ã€å¢é‡å¤‡ä»½å®éªŒæ­¥éª¤" class="headerlink" title="2ã€å¢é‡å¤‡ä»½å®éªŒæ­¥éª¤"></a>2ã€å¢é‡å¤‡ä»½å®éªŒæ­¥éª¤</h2><p>ç¬¬ä¸€æ­¥ï¼šå…ˆå‡†å¤‡æ•°æ®ï¼ˆå‰æï¼‰</p><p>ç¬¬äºŒæ­¥ï¼šå¼€å¯äºŒè¿›åˆ¶ï¼Œç„¶ååšå…¨é‡å¤‡ä»½ï¼ˆå…¨åº“å¤‡ä»½ï¼‰</p><p>ç¬¬ä¸‰æ­¥ï¼šç»§ç»­å¯¹æ•°æ®åº“è¿›è¡Œå¢åˆ æ”¹æ“ä½œ</p><p>ç¬¬å››æ­¥ï¼šçªç„¶å‘ç”Ÿäº†ç¡¬ä»¶æ•…éšœï¼Œæ•°æ®åº“ä¸¢å¤±äº†</p><p>ç¬¬äº”æ­¥ï¼šæ¢å¤å…¨é‡å¤‡ä»½å¯¼å‡ºçš„æ•°æ®ï¼ˆä¸å®Œæ•´ï¼Œå¯èƒ½åªæœ‰90%ï¼‰</p><p>ç¬¬å…­æ­¥ï¼šå¤‡ä»½äºŒè¿›åˆ¶æ—¥å¿—ï¼Œæ ¹æ®å…¶ä¿¡æ¯ï¼ˆå¯¼å…¥å‰©ä½™çš„10%çš„æ•°æ®ï¼‰</p><p>â€¦</p><p>å®Œæˆ</p><h2 id="3ã€å¢é‡å¤‡ä»½çš„å…·ä½“å®è·µ"><a href="#3ã€å¢é‡å¤‡ä»½çš„å…·ä½“å®è·µ" class="headerlink" title="3ã€å¢é‡å¤‡ä»½çš„å…·ä½“å®è·µ"></a>3ã€å¢é‡å¤‡ä»½çš„å…·ä½“å®è·µ</h2><p>ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡æ•°æ®</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; create database db_itheima default charset=utf8;mysql&gt; use db_itheima;mysql&gt; create table tb_student(id int not null auto_increment,name varchar(20),age tinyint unsigned default 0,gender enum('male','female'),subject enum('ui','java','yunwei','python'),primary key(id)) engine=innodb default charset=utf8;mysql&gt; insert into tb_student values (null,'åˆ˜å¤‡',33,'male','java');mysql&gt; insert into tb_student values (null,'å…³ç¾½',32,'male','yunwei');mysql&gt; insert into tb_student values (null,'å¼ é£',30,'male','python');mysql&gt; insert into tb_student values (null,'è²‚è‰',18,'female','ui');mysql&gt; insert into tb_student values (null,'å¤§ä¹”',18,'female','ui');<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬äºŒæ­¥ï¼šå¼€å¯äºŒè¿›åˆ¶æ—¥å¿—ï¼Œé‡å¯æœåŠ¡ï¼Œç„¶åè¿›è¡Œå…¨åº“å¤‡ä»½</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim my.cnf[mysqld]...server-id=10log-bin=/mysql_3306/data/binlog# service mysql_3306 restart# rm -rf /tmp/sqlbak/*# mysqldump --single-transaction --flush-logs --master-data=2 --all-databases &gt; /tmp/sqlbak/all.sql -p<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬ä¸‰æ­¥ï¼šç»§ç»­å¯¹æ•°æ®åº“è¿›è¡Œå¢åˆ æ”¹æ“ä½œ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; insert into tb_student values (null,'å°ä¹”',16,'female','ui');mysql&gt; delete from tb_student where id = 3;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç¬¬å››æ­¥ï¼šçªç„¶å‘ç”Ÿäº†ç¡¬ä»¶æ•…éšœï¼Œæ•°æ®åº“ä¸¢å¤±äº†</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mysql -e "drop database db_itheima;" -pEnter password:123<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>â€¦æ•…äº‹å¼€å§‹äº†ï¼ˆåˆ åº“ï¼‰</p><p>ç¬¬äº”æ­¥ï¼šåŠ¨å‘˜è¿ç»´å·¥ç¨‹å¸ˆå¼€å§‹è¿›è¡Œæ•°æ®æ¢å¤ï¼Œé©¬ä¸ŠæŠŠæœ€æ–°çš„äºŒè¿›åˆ¶æ–‡ä»¶è¿›è¡Œå¤‡ä»½</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cp /mysql_3306/data/binlog.000003 ç©ºæ ¼ /tmp/sqlbak/<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬å…­æ­¥ï¼šå…ˆè¿›è¡Œå…¨åº“æ¢å¤</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mysql &lt; /tmp/sqlbak/all.sql -pEnter password:123<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç¬¬ä¸ƒæ­¥ï¼šé€šè¿‡binlogå¢é‡å¤‡ä»½è¿˜åŸæ•°æ®åˆ°100%</p><p>å­¦ä¼šè¯»äºŒè¿›åˆ¶æ—¥å¿—æ–‡ä»¶ï¼Œå¿…é¡»é€šè¿‡ä¸“ä¸šçš„å·¥å…·</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mysqlbinlog /tmp/sqlbak/binlog.000003  =&gt;  é‡ç‚¹æ‰¾äº‹æ•…çš„ä¸´ç•Œç‚¹ï¼Œå¦‚drop databaseç¡®è®¤atä½ç½®# mysqlbinlog --start-position=4 --stop-position=740 /tmp/sqlbak/binlog.000003 |mysql -p<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>åˆ°æ­¤æ¢å¤100%æ•°æ®</p>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
          <category> mysql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> å­¦ä¹  </tag>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQLä»‹ç»åŠå®‰è£…</title>
      <link href="/2023/12/23/mysql-jie-shao-ji-an-zhuang/"/>
      <url>/2023/12/23/mysql-jie-shao-ji-an-zhuang/</url>
      
        <content type="html"><![CDATA[<h1 id="MySQLä»‹ç»åŠå®‰è£…"><a href="#MySQLä»‹ç»åŠå®‰è£…" class="headerlink" title="MySQLä»‹ç»åŠå®‰è£…"></a>MySQLä»‹ç»åŠå®‰è£…</h1><h1 id="ä¸€ã€MySQLæ¦‚è¿°"><a href="#ä¸€ã€MySQLæ¦‚è¿°" class="headerlink" title="ä¸€ã€MySQLæ¦‚è¿°"></a>ä¸€ã€MySQLæ¦‚è¿°</h1><h2 id="1ã€å…³ç³»å‹æ•°æ®åº“ä¸éå…³ç³»å‹æ•°æ®åº“"><a href="#1ã€å…³ç³»å‹æ•°æ®åº“ä¸éå…³ç³»å‹æ•°æ®åº“" class="headerlink" title="1ã€å…³ç³»å‹æ•°æ®åº“ä¸éå…³ç³»å‹æ•°æ®åº“"></a>1ã€å…³ç³»å‹æ•°æ®åº“ä¸éå…³ç³»å‹æ•°æ®åº“</h2><p>RDBMSï¼ˆrelational database management systemï¼‰ï¼Œæ—¢å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿã€‚</p><p>ç®€å•æ¥è¯´ï¼Œå…³ç³»å‹æ•°æ®åº“ï¼Œæ˜¯æŒ‡é‡‡ç”¨äº†==äºŒç»´è¡¨æ ¼==æ¥ç»„ç»‡æ•°æ®çš„æ•°æ®åº“ã€‚</p><p><img src="/../assets/blog_res/MySQL%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%AE%89%E8%A3%85.assets/image-20200824093353050.png" alt="image-20200824093353050"></p><blockquote><p>æ‰©å±•ï¼šæ•°æ®åº“åœ¨è¡Œä¸šå†…ä¸€èˆ¬ä¼šæœ‰ä¸¤ç§æƒ…å†µï¼Œå…³ç³»å‹æ•°æ®åº“ä¸éå…³ç³»å‹æ•°æ®åº“ã€‚éå…³ç³»å‹æ•°æ®åº“å¹¶ä¸æ˜¯é€šè¿‡äºŒç»´è¡¨æ ¼æ¥ç»´æŠ¤æ•°æ®çš„ï¼Œè€Œæ˜¯é€šè¿‡key/valueé”®å€¼å¯¹æ¥ç»´æŠ¤æ•°æ®çš„ã€‚</p></blockquote><h2 id="2ã€å¸¸è§çš„å…³ç³»å‹æ•°æ®åº“"><a href="#2ã€å¸¸è§çš„å…³ç³»å‹æ•°æ®åº“" class="headerlink" title="2ã€å¸¸è§çš„å…³ç³»å‹æ•°æ®åº“"></a>2ã€å¸¸è§çš„å…³ç³»å‹æ•°æ®åº“</h2><p>==oracleã€mysql==ã€DB2ï¼ˆIBMï¼‰ã€Sybaseã€==SQL server==ï¼ˆMicrosoftå¾®è½¯ï¼‰ã€IBM Informix</p><p>å…³ç³»å‹æ•°æ®åº“çš„**æœ€å¤§ç‰¹ç‚¹å°±æ˜¯==äº‹åŠ¡çš„ä¸€è‡´æ€§==**ï¼šæ‰€ä»¥ä¹Ÿåœ¨å¯¹äº‹ç‰©ä¸€è‡´æ€§çš„ç»´æŠ¤ä¸­æœ‰å¾ˆå¤§çš„å¼€é”€.</p><h2 id="3ã€ä»€ä¹ˆæ˜¯äº‹åŠ¡"><a href="#3ã€ä»€ä¹ˆæ˜¯äº‹åŠ¡" class="headerlink" title="3ã€ä»€ä¹ˆæ˜¯äº‹åŠ¡"></a>3ã€ä»€ä¹ˆæ˜¯äº‹åŠ¡</h2><p>1ï¼‰äº‹åŠ¡ç”±ä¸€æ¡æˆ–è€…å¤šæ¡sqlè¯­å¥ç»„æˆï¼›</p><p>2ï¼‰åœ¨äº‹åŠ¡ä¸­çš„æ“ä½œï¼Œè¿™äº›sqlè¯­å¥è¦ä¹ˆéƒ½æˆåŠŸæ‰§è¡Œï¼Œè¦ä¹ˆéƒ½ä¸æ‰§è¡Œï¼Œè¿™å°±æ˜¯ä¸€ä¸ªäº‹åŠ¡ã€‚ </p><p>==ä¸¾ä¾‹è¯´æ˜ï¼š==</p><ol><li>&nbsp;&nbsp;&nbsp; ç™»é™†ATMæœºï¼Œè¾“å…¥å¯†ç ï¼› </li><li>&nbsp;&nbsp;&nbsp; è¿æ¥æ•°æ®åº“ï¼ŒéªŒè¯å¯†ç ï¼› </li><li>&nbsp;&nbsp;&nbsp; éªŒè¯æˆåŠŸï¼Œè·å¾—ç”¨æˆ·ä¿¡æ¯ï¼Œæ¯”å¦‚å­˜æ¬¾ä½™é¢ç­‰ï¼› </li><li>&nbsp;&nbsp;&nbsp; ç”¨æˆ·è¾“å…¥éœ€è¦è½¬è´¦çš„é‡‘é¢ï¼ŒæŒ‰ä¸‹ç¡®è®¤é”®ï¼›</li><li>&nbsp;&nbsp;&nbsp; ==ä»åå°æ•°æ®åº“ä¸­å‡æ‰ç”¨æˆ·è´¦æˆ·ä¸Šçš„å¯¹åº”é‡‘é¢ï¼ˆupdateè¯­å¥ï¼‰ï¼›== </li><li>&nbsp;&nbsp;&nbsp; ==ä»åå°æ•°æ®åº“ä¸­ç»™å¯¹æ–¹è´¦æˆ·å¢åŠ ç›¸åº”çš„é‡‘é¢ï¼ˆupdateè¯­å¥ï¼‰ï¼›== </li><li>&nbsp;&nbsp;&nbsp; ç¡®è®¤ï¼Œé€€å¡ï¼Œèµ°äººï¼›</li></ol><h2 id="4ã€äº‹åŠ¡ç‰¹ç‚¹-ACIDï¼‰"><a href="#4ã€äº‹åŠ¡ç‰¹ç‚¹-ACIDï¼‰" class="headerlink" title="4ã€äº‹åŠ¡ç‰¹ç‚¹(ACIDï¼‰"></a>4ã€äº‹åŠ¡ç‰¹ç‚¹(ACIDï¼‰</h2><ul><li><p>åŸå­æ€§(Atomicity)ï¼š</p><p>äº‹åŠ¡ä¸­çš„å…¨éƒ¨æ“ä½œåœ¨æ•°æ®åº“ä¸­æ˜¯ä¸å¯åˆ†å‰²çš„ï¼Œè¦ä¹ˆ==å…¨éƒ¨å®Œæˆ==ï¼Œè¦ä¹ˆ==å‡ä¸æ‰§è¡Œ==ã€‚</p></li><li><p>ä¸€è‡´æ€§(Consistency)ï¼š</p><p>æŒ‡äº‹åŠ¡å¿…é¡»ä½¿æ•°æ®åº“ä»ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€å˜æ¢åˆ°å¦ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªäº‹åŠ¡æ‰§è¡Œä¹‹å‰å’Œæ‰§è¡Œä¹‹åéƒ½å¿…é¡»å¤„äºä¸€è‡´æ€§çŠ¶æ€ï¼Œä¸èƒ½ç ´åå…³ç³»æ•°æ®çš„å®Œæ•´æ€§ä»¥åŠä¸šåŠ¡é€»è¾‘ä¸Šçš„ä¸€è‡´æ€§ã€‚</p></li><li><p>éš”ç¦»æ€§(Isolation)ï¼š</p><p>ä¸€ä¸ªäº‹åŠ¡çš„æ‰§è¡Œä¸å—å…¶ä»–äº‹åŠ¡çš„å¹²æ‰°ï¼Œäº‹åŠ¡æ‰§è¡Œçš„ä¸­é—´ç»“æœå¯¹å…¶ä»–äº‹åŠ¡å¿…é¡»æ˜¯é€æ˜çš„ã€‚éš”ç¦»æ€§æ˜¯å½“å¤šä¸ªç”¨æˆ·å¹¶å‘è®¿é—®æ•°æ®åº“æ—¶ï¼Œæ¯”å¦‚æ“ä½œåŒä¸€å¼ è¡¨æ—¶ï¼Œæ•°æ®åº“ä¸ºæ¯ä¸€ä¸ªç”¨æˆ·å¼€å¯çš„äº‹åŠ¡ï¼Œä¸èƒ½è¢«å…¶ä»–äº‹åŠ¡çš„æ“ä½œæ‰€å¹²æ‰°ï¼Œå¤šä¸ªå¹¶å‘äº‹åŠ¡ä¹‹é—´è¦ç›¸äº’éš”ç¦»ã€‚ </p></li><li><p>æŒä¹…æ€§(Durability)ï¼š</p><p>æŒä¹…æ€§æ˜¯æŒ‡ä¸€ä¸ªäº‹åŠ¡ä¸€æ—¦è¢«æäº¤äº†ï¼Œé‚£ä¹ˆå¯¹æ•°æ®åº“ä¸­çš„æ•°æ®çš„æ”¹å˜å°±æ˜¯æ°¸ä¹…æ€§çš„ï¼Œå³ä¾¿æ˜¯åœ¨æ•°æ®åº“ç³»ç»Ÿé‡åˆ°æ•…éšœçš„æƒ…å†µä¸‹ä¹Ÿä¸ä¼šä¸¢å¤±æäº¤äº‹åŠ¡çš„æ“ä½œã€‚</p></li></ul><blockquote><p>å¯¹æ•°æ®çš„==ä¸€è‡´æ€§==è¦æ±‚è¾ƒé«˜;å…¸å‹çš„==é“¶è¡ŒåŠæ”¯ä»˜ç³»ç»Ÿç±»==ï¼›</p></blockquote><h2 id="5ã€MySQLæ•°æ®åº“æ¦‚è¿°"><a href="#5ã€MySQLæ•°æ®åº“æ¦‚è¿°" class="headerlink" title="5ã€MySQLæ•°æ®åº“æ¦‚è¿°"></a>5ã€MySQLæ•°æ®åº“æ¦‚è¿°</h2><ul><li>MySQLæ˜¯ä¸€ç§å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ</li><li>ç”±ç‘å…¸MySQL AB å…¬å¸å¼€å‘ï¼Œç›®å‰å±äºOracleæ——ä¸‹</li><li>MySQLæ˜¯C/Sæ¶æ„</li></ul><h2 id="6ã€MySQLæ•°æ®åº“ç‰ˆæœ¬"><a href="#6ã€MySQLæ•°æ®åº“ç‰ˆæœ¬" class="headerlink" title="6ã€MySQLæ•°æ®åº“ç‰ˆæœ¬"></a>6ã€MySQLæ•°æ®åº“ç‰ˆæœ¬</h2><ul><li><p>**ç¤¾åŒºç‰ˆï¼šMySQL Community Edition  (==GPL==) **</p><ol><li>å¯ä»¥çœ‹åšæ˜¯ä¼ä¸šç‰ˆçš„â€œå¹¿æ³›ä½“éªŒç‰ˆï¼ˆå°ç™½é¼ ç‰ˆï¼‰â€ï¼Œæœªç»å„ä¸ªä¸“æœ‰ç³»ç»Ÿå¹³å°çš„å‹åŠ›æµ‹è¯•å’Œæ€§èƒ½æµ‹è¯•</li><li>åŸºäºGPLåè®®å‘å¸ƒï¼Œå¯ä»¥éšæ„ä¸‹è½½ä½¿ç”¨ </li><li>æ²¡æœ‰ä»»ä½•å®˜æ–¹æŠ€æœ¯æ”¯æŒæœåŠ¡</li></ol></li><li><p>**ä¼ä¸šç‰ˆï¼šMySQL Enterprise Edition(==commercial==) **</p><ol><li>æä¾›äº†æ¯”è¾ƒå…¨é¢çš„é«˜çº§åŠŸèƒ½ã€ç®¡ç†å·¥å…·åŠæŠ€æœ¯æ”¯æŒ </li><li>å®‰å…¨æ€§ã€ç¨³å®šæ€§ã€å¯æ‰©å±•æ€§æ¯”è¾ƒå¥½</li></ol></li><li><p><strong>é›†ç¾¤ç‰ˆ</strong>ï¼šMySQL Cluster CGE(==commercial==)</p></li></ul><p><strong>æ‰©å……ï¼šå…³äºç‰ˆæœ¬çš„å‘½åæ–¹å¼å¦‚ä½•å®šä¹‰ï¼Ÿ</strong></p><table><thead><tr><th>ç‰ˆæœ¬</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>Î±ï¼ˆAlphaï¼‰ç‰ˆ</td><td>å†…æµ‹ç‰ˆï¼Œå†…éƒ¨äº¤æµæˆ–è€…ä¸“ä¸šæµ‹è¯•äººå‘˜æµ‹è¯•ç”¨ã€‚Bugè¾ƒå¤šï¼Œæ™®é€šç”¨æˆ·æœ€å¥½ä¸è¦å®‰è£…ã€‚</td></tr><tr><td>Î²ï¼ˆBetaï¼‰ç‰ˆ</td><td>å…¬æµ‹ç‰ˆï¼Œä¸“ä¸šçˆ±å¥½è€…å¤§è§„æ¨¡æµ‹è¯•ç”¨ï¼Œå­˜åœ¨ä¸€äº›ç¼ºé™·ï¼Œè¯¥ç‰ˆæœ¬ä¹Ÿä¸é€‚åˆä¸€èˆ¬ç”¨æˆ·å®‰è£…ã€‚</td></tr><tr><td>Î³ ( Gamma )ç‰ˆ</td><td>ç›¸å½“æˆç†Ÿçš„æµ‹è¯•ç‰ˆï¼Œä¸å³å°†å‘è¡Œçš„æ­£å¼ç‰ˆç›¸å·®æ— å‡ ã€‚</td></tr><tr><td>==Final==</td><td>æ­£å¼ç‰ˆæœ¬</td></tr><tr><td>Free</td><td>è‡ªç”±ç‰ˆæœ¬</td></tr><tr><td>==Release==</td><td>å‘è¡Œç‰ˆæœ¬</td></tr><tr><td>==Standard==</td><td>æ ‡å‡†ç‰ˆæœ¬</td></tr><tr><td>==Mini==</td><td>è¿·ä½ ç²¾ç®€ç‰ˆæœ¬,åªæœ‰æœ€åŸºæœ¬çš„åŠŸèƒ½</td></tr><tr><td>Upgrade</td><td>å‡çº§ç‰ˆæœ¬</td></tr><tr><td>==GA(GenerallyAvailable)==</td><td>å¼€å‘å›¢é˜Ÿè®¤ä¸ºè¯¥ç‰ˆæœ¬æ˜¯ç¨³å®šç‰ˆ,å¯ä»¥åœ¨è¾ƒä¸ºå…³é”®çš„åœºåˆä½¿ç”¨ã€‚</td></tr><tr><td>Retail</td><td>é›¶å”®ç‰ˆ</td></tr></tbody></table><h2 id="7ã€è·å–MySQLè½¯ä»¶"><a href="#7ã€è·å–MySQLè½¯ä»¶" class="headerlink" title="7ã€è·å–MySQLè½¯ä»¶"></a>7ã€è·å–MySQLè½¯ä»¶</h2><p>å®˜ç½‘ï¼š<a href="http://www.mysql.com/">www.mysql.com</a></p><p>ç¬¬ä¸€æ­¥ï¼šå•å‡»Downloadsä¸‹è½½</p><p><img src="/../assets/blog_res/MySQL%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%AE%89%E8%A3%85.assets/image-20200824100029387.png" alt="image-20200824100029387"></p><p>ç¬¬äºŒæ­¥ï¼šæ‰¾åˆ°ç¤¾åŒºç‰ˆ</p><p><img src="/../assets/blog_res/MySQL%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%AE%89%E8%A3%85.assets/image-20200824100128238.png" alt="image-20200824100128238"></p><p>ç¬¬ä¸‰æ­¥ï¼šå•å‡»è¿›å…¥MySQLç¤¾åŒºç‰ˆä¸‹è½½é¡µé¢</p><p><img src="/../assets/blog_res/MySQL%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%AE%89%E8%A3%85.assets/image-20200824100159182.png" alt="image-20200824100159182"></p><p>ç¬¬å››æ­¥ï¼šé€‰æ‹©åˆé€‚çš„ç‰ˆæœ¬</p><p><img src="/../assets/blog_res/MySQL%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%AE%89%E8%A3%85.assets/image-20200824100400707.png" alt="image-20200824100400707"></p><p>â‘  GLIBCç‰ˆæœ¬ï¼ˆç›¸å½“äºWindowsä¸­çš„ç»¿è‰²ç‰ˆï¼‰</p><p><img src="/../assets/blog_res/MySQL%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%AE%89%E8%A3%85.assets/image-20200824100615418.png" alt="image-20200824100615418"></p><p>â‘¡ æºç ç¼–è¯‘ç‰ˆæœ¬ï¼ˆéœ€è¦æºç ç¼–è¯‘ä¸‰æ­¥èµ° =&gt; é…ç½® + ç¼–è¯‘ + å®‰è£…ï¼‰</p><p><img src="/../assets/blog_res/MySQL%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%AE%89%E8%A3%85.assets/image-20200824100817171.png" alt="image-20200824100817171"></p><h1 id="äºŒã€CentOS7-6æ“ä½œç³»ç»Ÿæœ€å°åŒ–å®‰è£…"><a href="#äºŒã€CentOS7-6æ“ä½œç³»ç»Ÿæœ€å°åŒ–å®‰è£…" class="headerlink" title="äºŒã€CentOS7.6æ“ä½œç³»ç»Ÿæœ€å°åŒ–å®‰è£…"></a>äºŒã€CentOS7.6æ“ä½œç³»ç»Ÿæœ€å°åŒ–å®‰è£…</h1><h2 id="1ã€åˆ›å»ºè‡ªå®šä¹‰è™šæ‹Ÿæœºç¯å¢ƒ"><a href="#1ã€åˆ›å»ºè‡ªå®šä¹‰è™šæ‹Ÿæœºç¯å¢ƒ" class="headerlink" title="1ã€åˆ›å»ºè‡ªå®šä¹‰è™šæ‹Ÿæœºç¯å¢ƒ"></a>1ã€åˆ›å»ºè‡ªå®šä¹‰è™šæ‹Ÿæœºç¯å¢ƒ</h2><p>ç¬¬ä¸€æ­¥ï¼šé€‰æ‹©è‡ªå®šä¹‰ï¼ˆæ ¹æ®éœ€æ±‚è®¾å®šæœåŠ¡å™¨ç¯å¢ƒï¼‰</p><p><img src="/../assets/blog_res/MySQL%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%AE%89%E8%A3%85.assets/image-20200824102824039.png" alt="image-20200824102824039"></p><p>ç¬¬äºŒæ­¥ï¼šé€‰æ‹©ç¨åå®‰è£…æ“ä½œç³»ç»Ÿ</p><p><img src="/../assets/blog_res/MySQL%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%AE%89%E8%A3%85.assets/image-20200824102912744.png" alt="image-20200824102912744"></p><p>ç¬¬ä¸‰æ­¥ï¼šé€‰æ‹©æ“ä½œç³»ç»Ÿç±»å‹</p><p><img src="/../assets/blog_res/MySQL%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%AE%89%E8%A3%85.assets/image-20200824102933763.png" alt="image-20200824102933763"></p><p>ç¬¬å››æ­¥ï¼šè®¾ç½®è™šæ‹Ÿæœºåç§°åŠè·¯å¾„ï¼ˆå»ºè®®å‰©ä½™ç©ºé—´å¤§äºç­‰äº20Gï¼‰</p><p><img src="/../assets/blog_res/MySQL%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%AE%89%E8%A3%85.assets/image-20200824103023816.png" alt="image-20200824103023816"></p><p>ç¬¬äº”æ­¥ï¼šè®¾ç½®CPUæ ¸æ•°</p><p><img src="/../assets/blog_res/MySQL%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%AE%89%E8%A3%85.assets/image-20200824103100284.png" alt="image-20200824103100284"></p><p>ç¬¬å…­æ­¥ï¼šè®¾ç½®MEMå†…å­˜</p><p><img src="/../assets/blog_res/MySQL%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%AE%89%E8%A3%85.assets/image-20200824103130824.png" alt="image-20200824103130824"></p><p>ç¬¬ä¸ƒæ­¥ï¼šè®¾ç½®ç½‘ç»œè¿æ¥ï¼ˆNATæ¨¡å¼ï¼‰</p><p><img src="/../assets/blog_res/MySQL%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%AE%89%E8%A3%85.assets/image-20200824103157354.png" alt="image-20200824103157354"></p><p>å‰©ä¸‹çš„å…¨éƒ¨é»˜è®¤ï¼Œä¸€è·¯ä¸‹ä¸€æ­¥ï¼Œç›´è‡³è®¾ç½®å®Œæˆï¼</p><h2 id="2ã€å®‰è£…CentOS7-6æœ€å°åŒ–æ¨¡å¼"><a href="#2ã€å®‰è£…CentOS7-6æœ€å°åŒ–æ¨¡å¼" class="headerlink" title="2ã€å®‰è£…CentOS7.6æœ€å°åŒ–æ¨¡å¼"></a>2ã€å®‰è£…CentOS7.6æœ€å°åŒ–æ¨¡å¼</h2><p>ç¬¬ä¸€æ­¥ï¼šåŠ è½½å…‰ç›˜é•œåƒ</p><p><img src="/../assets/blog_res/MySQL%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%AE%89%E8%A3%85.assets/image-20200824103435226.png" alt="image-20200824103435226"></p><p>ç¬¬äºŒæ­¥ï¼šå¯åŠ¨è™šæ‹Ÿæœºï¼Œå®‰è£…CentOS7.6</p><p><img src="/../assets/blog_res/MySQL%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%AE%89%E8%A3%85.assets/image-20200824103512284.png" alt="image-20200824103512284"></p><p>ç¬¬ä¸‰æ­¥ï¼šè®¾ç½®å®‰è£…è¯­è¨€ï¼ˆå¿…é¡»é€‰æ‹©å…¨è‹±æ–‡ï¼‰</p><p><img src="/../assets/blog_res/MySQL%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%AE%89%E8%A3%85.assets/image-20200824103648437.png" alt="image-20200824103648437"></p><p>ç¬¬å››æ­¥ï¼šè®¾ç½®æœåŠ¡å™¨æ—¶é—´ï¼ˆAsia/Shanghaiï¼‰</p><p><img src="/../assets/blog_res/MySQL%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%AE%89%E8%A3%85.assets/image-20200824103734239.png" alt="image-20200824103734239"></p><p>ç¬¬äº”æ­¥ï¼šè½¯ä»¶é€‰æ‹©ï¼Œæœ€å°åŒ–ç„¶åå¿…é¡»è¦å‹¾é€‰å¼€å‘å·¥å…·ï¼ˆé‡Œé¢ä¸»è¦æ˜¯GCCç¼–è¯‘å™¨ï¼‰</p><p><img src="/../assets/blog_res/MySQL%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%AE%89%E8%A3%85.assets/image-20200824103912466.png" alt="image-20200824103912466"></p><p>ç¬¬å…­æ­¥ï¼šè‡ªåŠ¨åˆ†åŒº</p><p><img src="/../assets/blog_res/MySQL%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%AE%89%E8%A3%85.assets/image-20200824104015944.png" alt="image-20200824104015944"></p><p>ç¬¬ä¸ƒæ­¥ï¼šè®¾ç½®ç½‘ç»œè¿æ¥ä¸ºè‡ªåŠ¨è¿æ¥ï¼ˆå¼€æœºåï¼Œè‡ªåŠ¨è¿æ¥ç½‘ç»œï¼‰</p><p><img src="/../assets/blog_res/MySQL%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%AE%89%E8%A3%85.assets/image-20200824104058317.png" alt="image-20200824104058317"></p><p>ç¬¬å…«æ­¥ï¼šè®¾ç½®ROOTè´¦å·å¯†ç ä»¥åŠè‡ªå®šä¹‰ç”¨æˆ·ï¼ˆå»ºè®®ä¸ºitheimaï¼‰</p><p><img src="/../assets/blog_res/MySQL%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%AE%89%E8%A3%85.assets/image-20200824104211477.png" alt="image-20200824104211477"></p><h2 id="3ã€CentOS7-6æ“ä½œç³»ç»Ÿæœ€å°åŒ–åç»­é…ç½®"><a href="#3ã€CentOS7-6æ“ä½œç³»ç»Ÿæœ€å°åŒ–åç»­é…ç½®" class="headerlink" title="3ã€CentOS7.6æ“ä½œç³»ç»Ÿæœ€å°åŒ–åç»­é…ç½®"></a>3ã€CentOS7.6æ“ä½œç³»ç»Ÿæœ€å°åŒ–åç»­é…ç½®</h2><p>â‘  è®¾ç½®ä¸»æœºåç§°</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># hostnamectl set-hostname centos7.itcast.cn# su<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>â‘¡ æ›´æ”¹IPè·å–æ–¹å¼ä¸ºé™æ€è®¾ç½®ä»¥åŠç»‘å®šä¸»æœºå+IPåˆ°/etc/hosts</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vi /etc/sysconfig/network-scripts/ifcfg-ens33TYPE="Ethernet"BOOTPROTO="none"IPADDR=10.1.1.10NETMASK=255.255.255.0GATEWAY=10.1.1.2DNS1=8.8.8.8DNS2=119.29.29.29NAME="ens33"DEVICE="ens33"ONBOOT="yes"# vi /etc/hosts10.1.1.10 centos7.itcast.cn# systemctl restart networkå¦‚æœæ˜¯å¤šç½‘å¡å½¢å¼ï¼Œå»ºè®®ä½¿ç”¨ifdownä¸ifup# ifdown ens33# ifup ens33# ip a<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â‘¢ å…³é—­é˜²ç«å¢™ä¸SELinux</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl stop firewalld# systemctl disable firewalld# setenforce 0# vim /etc/selinux/configSELINUX=disabled<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â‘£ é…ç½®å…¬ç½‘YUMæºï¼ˆå¯ä»¥è€ƒè™‘è…¾è®¯ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install wget -y# mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup# wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.cloud.tencent.com/repo/centos7_base.repo# yum clean all# yum makecache<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â‘¤ å®‰è£…æ‰©å±•è½¯ä»¶ï¼ˆbash-completionè‡ªåŠ¨è¡¥å…¨ã€vimç¼–è¾‘å™¨ã€net-toolsç½‘ç»œå·¥å…·åŒ…ä»¥åŠntpdateæ—¶é—´åŒæ­¥å·¥å…·ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install bash-completion vim net-tools ntpdate -y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â‘¥ ntpdateæ—¶é—´åŒæ­¥ </p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ntpdate 120.25.108.11<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="4ã€æ‹æ‘„å¿«ç…§ï¼šæŠŠCentOS7-6æœ€å°åŒ–ç³»ç»Ÿåšæ¨¡æ¿æœº"><a href="#4ã€æ‹æ‘„å¿«ç…§ï¼šæŠŠCentOS7-6æœ€å°åŒ–ç³»ç»Ÿåšæ¨¡æ¿æœº" class="headerlink" title="4ã€æ‹æ‘„å¿«ç…§ï¼šæŠŠCentOS7.6æœ€å°åŒ–ç³»ç»Ÿåšæ¨¡æ¿æœº"></a>4ã€æ‹æ‘„å¿«ç…§ï¼šæŠŠCentOS7.6æœ€å°åŒ–ç³»ç»Ÿåšæ¨¡æ¿æœº</h2><p><img src="/../assets/blog_res/MySQL%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%AE%89%E8%A3%85.assets/image-20200824112502117.png" alt="image-20200824112502117"></p><p><img src="/../assets/blog_res/MySQL%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%AE%89%E8%A3%85.assets/image-20200824112539814.png" alt="image-20200824112539814"></p><blockquote><p>æ‹æ‘„å¿«ç…§å®Œæˆåï¼Œè¿™å°æœºå™¨å°±å¯ä»¥å…³æœºå•¦ï¼Œä»¥åä¸“é—¨å……å½“å…‹éš†ç”¨çš„æ¯æœºï¼</p></blockquote><h1 id="ä¸‰ã€MySQLçš„å®‰è£…çš„å‡ ç§æ–¹å¼"><a href="#ä¸‰ã€MySQLçš„å®‰è£…çš„å‡ ç§æ–¹å¼" class="headerlink" title="ä¸‰ã€MySQLçš„å®‰è£…çš„å‡ ç§æ–¹å¼"></a>ä¸‰ã€MySQLçš„å®‰è£…çš„å‡ ç§æ–¹å¼</h1><h2 id="1ã€MySQLå®‰è£…æ–¹å¼"><a href="#1ã€MySQLå®‰è£…æ–¹å¼" class="headerlink" title="1ã€MySQLå®‰è£…æ–¹å¼"></a>1ã€MySQLå®‰è£…æ–¹å¼</h2><p>äºŒè¿›åˆ¶è½¯ä»¶åŒ…å®‰è£…</p><p>â‘  yumå®‰è£…æˆ–rpmå®‰è£…ï¼ˆç•¥ï¼‰</p><p>â‘¡ glibcç‰ˆæœ¬å®‰è£…ï¼ˆç›¸å½“äºWindowsä¸­çš„ç»¿è‰²è½¯ä»¶ï¼‰</p><p>å‘½åï¼š==mysql-5.7.31-linux-glibc2.12-x86_64.tar.gz== </p><p>ä¾èµ–[^glibc]åº“ï¼Œå¯ä»¥å®‰è£…åœ¨é€šç”¨çš„Linuxç³»ç»Ÿä¸‹</p><p>æºç åŒ…ç¼–è¯‘å®‰è£…</p><p>å‘½åï¼šmysql-5.7.31.tar.gzï¼Œé€šç”¨çš„Linuxä¸‹éƒ½å¯ä»¥ç¼–è¯‘å®‰è£…ã€‚</p><h2 id="2ã€ä¸‰ç§å®‰è£…æ–¹å¼çš„åŒºåˆ«"><a href="#2ã€ä¸‰ç§å®‰è£…æ–¹å¼çš„åŒºåˆ«" class="headerlink" title="2ã€ä¸‰ç§å®‰è£…æ–¹å¼çš„åŒºåˆ«"></a>2ã€ä¸‰ç§å®‰è£…æ–¹å¼çš„åŒºåˆ«</h2><table><thead><tr><th>å®‰è£…æ–¹å¼</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>rpm</td><td>å®‰è£…å¸è½½ç®€å•</td><td>å¯å®šåˆ¶æ€§å·®</td></tr><tr><td>glibc</td><td>å¯å®šåˆ¶æ€§ç›¸æ¯”rpmåŒ…çµæ´»äº›</td><td>å®‰è£…ç›¸æ¯”rpmåŒ…å¤æ‚äº›ï¼Œéœ€è¦æ‰‹åŠ¨åˆå§‹åŒ–æ•°æ®åº“</td></tr><tr><td>æºç å®‰è£…</td><td>å¯å®šåˆ¶æ€§æœ€å¼ºï¼Œæ ¹æ®éœ€æ±‚å’ŒåŠŸèƒ½å®šåˆ¶</td><td>å®‰è£…éº»çƒ¦ï¼Œéœ€è¦æ‰‹åŠ¨åˆå§‹åŒ–æ•°æ®åº“</td></tr></tbody></table><blockquote><p>åœ¨ä¼ä¸šä¸­ï¼Œæ•°æ®åº“çš„å®‰è£…å¾ˆå°‘ä½¿ç”¨rpmæ–¹å¼ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯åŸºäºæºç å®‰è£…ä»¥åŠglibcå®‰è£…ï¼</p></blockquote><h2 id="3ã€åŒºåˆ†æ•°æ®åº“ä¸æ•°æ®åº“å®ä¾‹"><a href="#3ã€åŒºåˆ†æ•°æ®åº“ä¸æ•°æ®åº“å®ä¾‹" class="headerlink" title="3ã€åŒºåˆ†æ•°æ®åº“ä¸æ•°æ®åº“å®ä¾‹"></a>3ã€åŒºåˆ†æ•°æ®åº“ä¸æ•°æ®åº“å®ä¾‹</h2><h4 id="ãˆ -ä»€ä¹ˆæ˜¯MySQLæ•°æ®åº“ï¼Ÿ"><a href="#ãˆ -ä»€ä¹ˆæ˜¯MySQLæ•°æ®åº“ï¼Ÿ" class="headerlink" title="ãˆ  ä»€ä¹ˆæ˜¯MySQLæ•°æ®åº“ï¼Ÿ"></a>ãˆ  ä»€ä¹ˆæ˜¯MySQLæ•°æ®åº“ï¼Ÿ</h4><p><strong>æ•°æ®åº“ï¼ˆdatabaseï¼‰ï¼š</strong> æ“ä½œç³»ç»Ÿæˆ–å­˜å‚¨ä¸Šçš„==æ•°æ®æ–‡ä»¶çš„é›†åˆ==ã€‚mysqlæ•°æ®åº“ä¸­ï¼Œæ•°æ®åº“æ–‡ä»¶å¯ä»¥æ˜¯* .frmã€*.MYDã€*.MYIã€*.ibdç­‰ç»“å°¾çš„æ–‡ä»¶ï¼Œ ä¸åŒå­˜å‚¨å¼•æ“æ–‡ä»¶ç±»å‹ä¸åŒã€‚</p><h4 id="ãˆ¡-ä»€ä¹ˆæ˜¯MySQLæ•°æ®åº“å®ä¾‹ï¼Ÿ"><a href="#ãˆ¡-ä»€ä¹ˆæ˜¯MySQLæ•°æ®åº“å®ä¾‹ï¼Ÿ" class="headerlink" title="ãˆ¡ ä»€ä¹ˆæ˜¯MySQLæ•°æ®åº“å®ä¾‹ï¼Ÿ"></a>ãˆ¡ ä»€ä¹ˆæ˜¯MySQLæ•°æ®åº“å®ä¾‹ï¼Ÿ</h4><p><strong>æ•°æ®åº“å®ä¾‹ï¼ˆinstanceï¼‰ï¼š</strong> ç”±==åå°è¿›ç¨‹æˆ–è€…çº¿ç¨‹==ä»¥åŠä¸€ä¸ª==å…±äº«å†…å­˜åŒº==ç»„æˆã€‚å…±äº«å†…å­˜å¯ä»¥è¢«è¿è¡Œçš„åå°çº¿ç¨‹æ‰€å…±äº«ã€‚ æ•°æ®åº“å®ä¾‹æ‰æ˜¯çœŸæ­£æ“ä½œæ•°æ®åº“çš„ã€‚</p><p>æ³¨æ„ï¼šMySQLçš„åå°å®ˆæŠ¤ç¨‹åº==mysqld==æ˜¯å•è¿›ç¨‹å¤šçº¿ç¨‹çš„å·¥ä½œæ¨¡å¼ã€‚</p><h4 id="ãˆ¢-ä»€ä¹ˆæ˜¯MySQLæ•°æ®åº“æœåŠ¡å™¨ï¼Ÿ"><a href="#ãˆ¢-ä»€ä¹ˆæ˜¯MySQLæ•°æ®åº“æœåŠ¡å™¨ï¼Ÿ" class="headerlink" title="ãˆ¢ ä»€ä¹ˆæ˜¯MySQLæ•°æ®åº“æœåŠ¡å™¨ï¼Ÿ"></a>ãˆ¢ ä»€ä¹ˆæ˜¯MySQLæ•°æ®åº“æœåŠ¡å™¨ï¼Ÿ</h4><p><strong>æ•°æ®åº“æœåŠ¡å™¨(database server)ï¼š</strong>éƒ¨ç½²==å®‰è£…æ•°æ®åº“å®ä¾‹==çš„æœåŠ¡å™¨ã€‚</p><h4 id="ãˆ£-æ•°æ®åº“å’Œæ•°æ®åº“å®ä¾‹ä¹‹é—´çš„å…³ç³»æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#ãˆ£-æ•°æ®åº“å’Œæ•°æ®åº“å®ä¾‹ä¹‹é—´çš„å…³ç³»æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ãˆ£ æ•°æ®åº“å’Œæ•°æ®åº“å®ä¾‹ä¹‹é—´çš„å…³ç³»æ˜¯ä»€ä¹ˆï¼Ÿ"></a>ãˆ£ æ•°æ®åº“å’Œæ•°æ®åº“å®ä¾‹ä¹‹é—´çš„å…³ç³»æ˜¯ä»€ä¹ˆï¼Ÿ</h4><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œæ•°æ®åº“å®ä¾‹å’Œæ•°æ®åº“æ˜¯ä¸€ä¸€å¯¹åº”çš„å…³ç³»ï¼Œä¹Ÿå°±æ˜¯==ä¸€ä¸ªæ•°æ®åº“å®ä¾‹å¯¹åº”ä¸€ä¸ªæ•°æ®åº“==ï¼› ä½†æ˜¯ï¼Œåœ¨é›†ç¾¤ç¯å¢ƒä¸­å­˜åœ¨==å¤šä¸ªæ•°æ®åº“å®ä¾‹å…±åŒä½¿ç”¨ä¸€ä¸ªæ•°æ®åº“==ã€‚oracle RAC</p><h1 id="å››ã€MySQLçš„GLIBCç‰ˆæœ¬å®‰è£…"><a href="#å››ã€MySQLçš„GLIBCç‰ˆæœ¬å®‰è£…" class="headerlink" title="å››ã€MySQLçš„GLIBCç‰ˆæœ¬å®‰è£…"></a>å››ã€MySQLçš„GLIBCç‰ˆæœ¬å®‰è£…</h1><h2 id="1ã€è·å–MySQL-GLIBCç‰ˆæœ¬"><a href="#1ã€è·å–MySQL-GLIBCç‰ˆæœ¬" class="headerlink" title="1ã€è·å–MySQL GLIBCç‰ˆæœ¬"></a>1ã€è·å–MySQL GLIBCç‰ˆæœ¬</h2><p><img src="/../assets/blog_res/MySQL%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%AE%89%E8%A3%85.assets/image-20200824114350352.png" alt="image-20200824114350352"></p><h2 id="2ã€å­¦ä¼šçœ‹å®˜æ–¹æ–‡æ¡£"><a href="#2ã€å­¦ä¼šçœ‹å®˜æ–¹æ–‡æ¡£" class="headerlink" title="2ã€å­¦ä¼šçœ‹å®˜æ–¹æ–‡æ¡£"></a>2ã€å­¦ä¼šçœ‹å®˜æ–¹æ–‡æ¡£</h2><p><img src="/../assets/blog_res/MySQL%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%AE%89%E8%A3%85.assets/image-20200824114911039.png" alt="image-20200824114911039"></p><h2 id="3ã€å®‰è£…MySQLä¾èµ–åº“è½¯ä»¶"><a href="#3ã€å®‰è£…MySQLä¾èµ–åº“è½¯ä»¶" class="headerlink" title="3ã€å®‰è£…MySQLä¾èµ–åº“è½¯ä»¶"></a>3ã€å®‰è£…MySQLä¾èµ–åº“è½¯ä»¶</h2><p>ç¬¬ä¸€æ­¥ï¼šå…‹éš†æ¨¡æ¿æœºï¼Œç”ŸæˆMySQLæœåŠ¡å™¨</p><p>ç¬¬äºŒæ­¥ï¼šå¯åŠ¨ç³»ç»Ÿ</p><p>ç¬¬ä¸‰æ­¥ï¼šæ›´æ”¹ä¸»æœºåç§°ä¸ºmysql.itcast.cnï¼Œç„¶åé‡å¯ç½‘ç»œ</p><p>ç¬¬å››æ­¥ï¼šæ‹æ‘„å¿«ç…§</p><p>ç¬¬äº”æ­¥ï¼šå®‰è£…ä¾èµ–åº“libaioåº“</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install libaio -y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="4ã€ä¸Šä¼ è½¯ä»¶åŒ…è§£å‹ï¼Œäº†è§£ç›®å½•ç»“æ„"><a href="#4ã€ä¸Šä¼ è½¯ä»¶åŒ…è§£å‹ï¼Œäº†è§£ç›®å½•ç»“æ„" class="headerlink" title="4ã€ä¸Šä¼ è½¯ä»¶åŒ…è§£å‹ï¼Œäº†è§£ç›®å½•ç»“æ„"></a>4ã€ä¸Šä¼ è½¯ä»¶åŒ…è§£å‹ï¼Œäº†è§£ç›®å½•ç»“æ„</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># tar -xf mysql-5.7.31-linux-glibc2.12-x86_64.tar.gz# ls mysql-5.7.31-linux-glibc2.12-x86_64<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>è§£å‹å®Œæˆåï¼Œç›®å½•ç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="/../assets/blog_res/MySQL%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%AE%89%E8%A3%85.assets/image-20200824115716608.png" alt="image-20200824115716608"></p><p>å®‰è£…éœ€æ±‚ï¼š</p><table><thead><tr><th>é€‰é¡¹</th><th>å€¼ï¼ˆè‡ªå®šä¹‰ä¹Ÿå¯ä»¥é‡‡ç”¨é»˜è®¤å½¢å¼ï¼‰</th></tr></thead><tbody><tr><td>å®‰è£…è·¯å¾„</td><td>/mysql_3306</td></tr><tr><td>æ•°æ®è·¯å¾„</td><td>/mysql_3306/data</td></tr><tr><td>ç«¯å£å·</td><td>3306</td></tr></tbody></table><h2 id="5ã€è½¯ä»¶çš„å®‰è£…ï¼ˆæŸ¥çœ‹å®˜æ–¹è¯´æ˜ï¼‰"><a href="#5ã€è½¯ä»¶çš„å®‰è£…ï¼ˆæŸ¥çœ‹å®˜æ–¹è¯´æ˜ï¼‰" class="headerlink" title="5ã€è½¯ä»¶çš„å®‰è£…ï¼ˆæŸ¥çœ‹å®˜æ–¹è¯´æ˜ï¼‰"></a>5ã€è½¯ä»¶çš„å®‰è£…ï¼ˆæŸ¥çœ‹å®˜æ–¹è¯´æ˜ï¼‰</h2><p><a href="https://dev.mysql.com/doc/refman/5.7/en/binary-installation.html">https://dev.mysql.com/doc/refman/5.7/en/binary-installation.html</a></p><p><img src="/../assets/blog_res/MySQL%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%AE%89%E8%A3%85.assets/image-20200824120143999.png" alt="image-20200824120143999"></p><p>ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºä¸€ä¸ªæ•°æ®åº“ä¸“ç”¨è´¦å·mysqlï¼ˆå…¶æ‰€å±ç»„ä¹Ÿä¸ºmysqlï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># useradd -r -s /sbin/nologin mysql# id mysql<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç¬¬äºŒæ­¥ï¼šæ¸…ç©ºç³»ç»Ÿä¸­çš„åŸæœ‰mariadbçš„é…ç½®æ–‡ä»¶(/etc/my.cnf)</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rm -rf /etc/my.cnf<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬ä¸‰æ­¥ï¼šæŠŠmysqlè§£å‹åçš„å‹ç¼©åŒ…ï¼ˆGBLICç‰ˆæœ¬ï¼‰ç§»åŠ¨åˆ°/æ ¹ç›®å½•ä¸‹ï¼Œç„¶åæ›´åä¸ºmysql_3306</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mv mysql-5.7.31-linux-glibc2.12-x86_64 /mysql_3306<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬å››æ­¥ï¼šåˆ‡æ¢åˆ°mysqlå·¥ä½œç›®å½•/mysql_3306ï¼Œåˆ›å»ºä¸€ä¸ªmysql-files</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cd /mysql_3306# mkdir mysql-files<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç¬¬äº”æ­¥ï¼šæ›´æ”¹mysql-filesæƒé™</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chown mysql:mysql mysql-files# chmod 750 mysql-files<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç¬¬å…­æ­¥ï¼šåˆå§‹åŒ–æ•°æ®åº“ï¼ˆå¯ä»¥å®ç°æ•°æ®åº“çš„åˆå§‹åŒ–ï¼Œè€Œä¸”ä¼šäº§ç”Ÿä¸€ä¸ª==éšæœºå¯†ç ==ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># bin/mysqld --initialize --user=mysql --basedir=/mysql_3306é€‰é¡¹è¯´æ˜ï¼š--initialize  åˆå§‹åŒ–ï¼ˆçœŸæ­£å¼€å§‹å¹²æ´»ï¼‰--user=mysql  ä»¥mysqlç”¨æˆ·çš„èº«ä»½åˆå§‹åŒ–æ•°æ®åº“ï¼Œäº§ç”Ÿæ–‡ä»¶éƒ½æ˜¯mysqlä½œä¸ºæ‹¥æœ‰è€…--basedir=xxx    mysqlå…¶å®‰è£…ç›®å½•ï¼Œéå¸¸é‡è¦è¿è¡Œå®Œæ¯•åï¼Œè§‚å¯Ÿæœ€åä¸€è¡Œï¼Œä¿å­˜rootè´¦å·çš„å¯†ç ï¼Œä»¥å¤‡åæœŸä½¿ç”¨ã€‚2020-08-24T06:46:24.889735Z 1 [Note] A temporary password is generated for root@localhost: (cn_jS+*n2wh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>ç»éªŒä¹‹è°ˆï¼šæƒ³æŸ¥çœ‹mysqlè½¯ä»¶æœ‰æ²¡æœ‰åˆå§‹åŒ–æˆåŠŸï¼Œä¸»è¦çœ‹mysqlç›®å½•ä¸‹æœ‰æ²¡æœ‰äº§ç”Ÿdataæ–‡ä»¶å¤¹ä¸”æ–‡ä»¶å¤¹ä¸­è‡³å°‘è¦æœ‰ä¸€ä¸ªmysqlçš„æ–‡ä»¶å¤¹ã€‚</p></blockquote><p>ç¬¬ä¸ƒæ­¥ï¼šè®¾ç½®å®‰å…¨åŠ å¯†è¿æ¥ï¼ˆSSLï¼‰ï¼Œæ•°æ®ä¼ è¾“ä¼šé‡‡ç”¨åŠ å¯†å½¢å¼ï¼Œé€‚åˆæ•æ„Ÿæ•°æ®</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># bin/mysql_ssl_rsa_setup --datadir=/mysql_3306/data<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬å…«æ­¥ï¼šå¯åŠ¨MySQLæ•°æ®åº“</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cp support-files/mysql.server /etc/init.d/mysql_3306<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>æ³¨ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼ŒGBLICç‰ˆæœ¬çš„æ•°æ®åº“è¦æ±‚å®‰è£…åˆ°/usr/local/mysqlç›®å½•ï¼Œå…¶mysql.serverè„šæœ¬ä¸­å¯¹åº”çš„ç›®å½•ä¹Ÿæ˜¯/usr/local/mysqlï¼Œè¿™ä¼šå¯¼è‡´mysqlæ— æ³•å¯åŠ¨ã€‚æ‰€ä»¥å¯ä»¥æ›´æ”¹å…¶basedirä»¥åŠdatadirä¸¤ä¸ªå˜é‡</p></blockquote><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/init.d/mysql_330646è¡Œ basedir=/mysql_330647è¡Œ datadir=/mysql_3306/data<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç¬¬ä¹æ­¥ï¼šå¯åŠ¨MySQLæ•°æ®åº“ï¼ˆä¸èƒ½ä½¿ç”¨systemctlï¼Œåªèƒ½ä½¿ç”¨serviceï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># service mysql_3306 startStarting MySQL.Logging to '/mysql_3306/data/mysql.itcast.cn.err'.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><blockquote><p>ç‰¹åˆ«è¯´æ˜ï¼šå½“MySQLå¯åŠ¨æˆåŠŸåï¼Œå…¶æ—¥å¿—ä¼šè‡ªåŠ¨å†™å…¥åˆ°dataæ•°æ®ç›®å½•ä¸­çš„ä¸»æœºåç§°.erræ–‡ä»¶ä¸­ï¼Œè¿™ä¸ªæ–‡ä»¶ä¸€å®šè¦å¤šçœ‹ï¼Œæ¶‰åŠMySQLæ— æ³•å¯åŠ¨ã€å¯åŠ¨æŠ¥é”™ï¼Œå…¶è¯¦ç»†çš„åŸå› 99%åœ¨.erræ–‡ä»¶ä¸­å¯ä»¥æ‰¾åˆ°é—®é¢˜æ‰€åœ¨ï¼</p></blockquote><h2 id="6ã€è½¯ä»¶çš„å®‰è£…å¸¸è§é—®é¢˜ç­”ç–‘"><a href="#6ã€è½¯ä»¶çš„å®‰è£…å¸¸è§é—®é¢˜ç­”ç–‘" class="headerlink" title="6ã€è½¯ä»¶çš„å®‰è£…å¸¸è§é—®é¢˜ç­”ç–‘"></a>6ã€è½¯ä»¶çš„å®‰è£…å¸¸è§é—®é¢˜ç­”ç–‘</h2><p>é—®é¢˜1ï¼šä¸ºä»€ä¹ˆä¸€å®šè¦åˆ é™¤/etc/my.cnfæ–‡ä»¶ï¼Œä¸åˆ é™¤æœ‰ä½•å½±å“ï¼Ÿ</p><p>ç­”ï¼š/etc/my.cnfæ–‡ä»¶æ˜¯æ“ä½œç³»ç»Ÿä¸ºmariadbè½¯ä»¶é¢„ç•™çš„é…ç½®çš„æ–‡ä»¶ï¼Œä¹‹æ‰€ä»¥ä¸€å®šè¦åˆ é™¤è¿™ä¸ªæ–‡ä»¶ï¼Œä¸»è¦åŸå› åœ¨äºæ•°æ®åº“åœ¨åˆå§‹åŒ–æ—¶ï¼Œé¦–å…ˆåœ¨è‡ªå·±çš„å®‰è£…ç›®å½•ä¸‹å¯»æ‰¾æœ‰æ²¡æœ‰my.cnfé…ç½®æ–‡ä»¶ï¼Œå¦‚æœæœ‰ï¼Œä¼šè‡ªåŠ¨æ ¹æ®é‡Œé¢çš„é…ç½®ä¿¡æ¯è¿›è¡Œåˆå§‹åŒ–ã€‚å¦‚æœæ‰¾ä¸åˆ°ï¼Œåˆ™åˆ°/etcç›®å½•ä¸‹å¯»æ‰¾my.cnfæ–‡ä»¶ï¼Œå¦‚æœæœ‰ï¼Œä¾ç„¶ä¼šæŒ‰ç…§å…¶å†…éƒ¨çš„é…ç½®è¿›è¡Œåˆå§‹åŒ–ï¼Œä½†æ˜¯ç”±äº/etcç›®å½•ä¸‹çš„my.cnfæ–‡ä»¶æ˜¯mariadbçš„ï¼Œè¿™ä¼šå¯¼è‡´æˆ‘ä»¬çš„åˆå§‹åŒ–å¦‚æœæŒ‰ç…§mariadbçš„é…ç½®ï¼Œä¼šå¯¼è‡´åˆå§‹åŒ–å¤±è´¥ã€‚</p><p>é—®é¢˜2ï¼šmysql-filesæ–‡ä»¶å¤¹åˆ°åº•å¹²ä»€ä¹ˆçš„ï¼Ÿ</p><p>ç­”ï¼šç›®å‰mysql-filesæ²¡æœ‰ä»€ä¹ˆç”¨ï¼Œä½†æ˜¯ä½ å¿…é¡»è¦åˆ›å»ºï¼Œå› ä¸ºGLIBCå±äºäºŒè¿›åˆ¶è½¯ä»¶åŒ…ï¼Œå…¶å¾ˆå¤šé…ç½®å·²ç»é»˜è®¤äº†ï¼ŒåŒ…æ‹¬mysql-filesæ–‡ä»¶å¤¹ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸ªæ–‡ä»¶å¤¹å¯èƒ½å¯¼è‡´mysqlæ— æ³•å¯åŠ¨ã€‚</p><blockquote><p>mysql-filesï¼šä¸»è¦ç”¨äºæ•°æ®æ–‡ä»¶çš„å¯¼å…¥ä¸å¯¼å‡ºï¼ˆå¤‡ä»½ä¸è¿˜åŸï¼‰ï¼ŒMySQLçš„å¤‡ä»½ä¼šäº§ç”Ÿä¸€ä¸ªæ–‡ä»¶ï¼Œå¯ä»¥xxx.sqlæˆ–xxx.txtã€‚mysql-fileså°±æ˜¯å¯¼å…¥ä¸å¯¼å‡ºæ—¶ï¼Œæ‰€æŒ‡å®šçš„é»˜è®¤ç›®å½•ã€‚</p></blockquote><p>é—®é¢˜3ï¼šåˆ°åº•æ€ä¹ˆåˆ¤æ–­æ•°æ®åº“æ˜¯å¦åˆå§‹åŒ–æˆåŠŸäº†ï¼Ÿ</p><p>ç­”ï¼šæ•°æ®åº“çš„å®‰è£…å®¹æ˜“å‡ºé”™çš„åœ°æ–¹å°±æ˜¯åˆå§‹åŒ–ï¼Œä¸€æ—¦åˆå§‹åŒ–å¤±è´¥äº†ï¼Œæ•°æ®åº“100%å¯åŠ¨æŠ¥é”™ã€‚å¦‚ä½•ç¡®è®¤æ•°æ®åº“æ˜¯å¦åˆå§‹åŒ–æˆåŠŸäº†å‘¢ï¼Ÿä¸»è¦çœ‹å®‰è£…ç›®å½•ä¸‹æœ‰æ²¡æœ‰ç”Ÿæˆä¸€ä¸ª==data==çš„æ–‡ä»¶å¤¹ã€‚</p><blockquote><p>ä¸€å®šè¦çœ‹å‡†ä¸€ç‚¹ï¼Œæ–‡ä»¶å¤¹åç§°å«dataï¼ˆæ•°æ®ç›®å½•ï¼‰ï¼Œä¸æ˜¯dateï¼ˆæ—¶é—´ï¼‰</p></blockquote><p>é—®é¢˜4ï¼šä¸ºä»€ä¹ˆä¸€å®šè¦æŠŠmysql.serveræ”¾åœ¨/etc/init.dç›®å½•ä¸‹ï¼Œä¸æ”¾è¡Œä¸è¡Œï¼Ÿ</p><p>ç­”ï¼šä¸æ”¾ä¹Ÿå¯ä»¥ï¼Œä½†æ˜¯è¿™ä¸ªæ—¶å€™å°±ä¸èƒ½ä½¿ç”¨serviceå‘½ä»¤å¯åŠ¨ä»¥åŠæ·»åŠ åˆ°å¼€æœºå¯åŠ¨é¡¹äº†ã€‚åªèƒ½é€šè¿‡bin/mysqld_safeè„šæœ¬å¯åŠ¨æ•°æ®åº“ã€‚</p><blockquote><p>/etc/init.dæ˜¯CentOS6ä»¥åŠæ—©æœŸç‰ˆæœ¬ä¸­çš„æœåŠ¡è„šæœ¬ç›®å½•ï¼Œåªè¦æŠŠShellå¯åŠ¨è„šæœ¬æ”¾åœ¨è¿™ä¸ªç›®å½•ä¸‹ï¼Œä½ å°±å¯ä»¥ä½¿ç”¨serviceè¿›è¡Œç®¡ç†ã€‚</p></blockquote><p>é—®é¢˜5ï¼šä¸ºä»€ä¹ˆä¸€å®šè¦æ”¹å˜/etc/init.d/mysql_3306ä¸­çš„basedirä¸datadirï¼Ÿ</p><p>ç­”ï¼šGLIBCç‰ˆæœ¬å±äºäºŒè¿›åˆ¶ç‰ˆæœ¬ï¼Œé»˜è®¤å·²ç»é…ç½®äº†å¾ˆå¤šå†…å®¹ï¼ŒåŒ…æ‹¬é»˜è®¤çš„å®‰è£…è·¯å¾„/usr/local/mysqlï¼Œä¸€æ—¦ä½ çš„mysqlæ²¡æœ‰å®‰è£…åœ¨è¿™ä¸ªç›®å½•ä¸‹ï¼Œåˆ™å¿…é¡»æ‰‹å·¥è®¾ç½®basedirä»¥åŠdatadirå…¶ä½ç½®ï¼Œå¦åˆ™è„šæœ¬æ— æ³•å¯åŠ¨mysqlç¨‹åº</p><p>é—®é¢˜6ï¼šå¦‚ä½•è®©mysqlè‡ªåŠ¨å¯åŠ¨ï¼Ÿ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chkconfig --listæŸ¥è¯¢ç³»ç»Ÿä¸­çš„æ‰€æœ‰å¼€æœºå¯åŠ¨é¡¹# chkconfig --add mysql_3306    å¿…é¡»ä¸/etc/init.dç›®å½•ä¸‹çš„è„šæœ¬åç§°ä¸€è‡´# chkconfig mysql_3306 onæŠŠ2345å››ç§æ¨¡å¼å…¨éƒ¨å¼€å¯ï¼ˆ3å­—ç¬¦ç•Œé¢ï¼Œ5å›¾å½¢ç•Œé¢ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><blockquote><p>CentOS6åŠä»¥å‰ç‰ˆæœ¬ä¸­ï¼Œæ§åˆ¶æœåŠ¡çš„å¼€æœºå¯åŠ¨çš„</p></blockquote><h2 id="7ã€MySQL-GLIBCç‰ˆæœ¬åç»­é…ç½®"><a href="#7ã€MySQL-GLIBCç‰ˆæœ¬åç»­é…ç½®" class="headerlink" title="7ã€MySQL GLIBCç‰ˆæœ¬åç»­é…ç½®"></a>7ã€MySQL GLIBCç‰ˆæœ¬åç»­é…ç½®</h2><p>ç¬¬ä¸€æ­¥ï¼šæ›´æ”¹ç®¡ç†å‘˜rootè´¦å·çš„å¯†ç </p><ul><li><strong>æ–¹æ³•1ï¼š</strong></li></ul><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">[root@node1 mysql_3306]# bin/mysqladmin -uroot password '123' -pEnter password:è¾“å…¥åˆšåˆšåˆå§‹åŒ–äº§ç”Ÿçš„ä¸´æ—¶å¯†ç <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li><strong>æ–¹æ³•2</strong></li></ul><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; set password=password('456');   //æœªæ¥ç‰ˆæœ¬å°†ä¼šå¼ƒç”¨æˆ–è€…mysql&gt; set password='123';//æ¨èé‡ç½®å®Œæˆåï¼Œå»ºè®®åˆ·æ–°æƒé™ï¼Œè®©å…¶ç«‹å³ç”Ÿæ•ˆmysql&gt; flush privielges;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬äºŒæ­¥ï¼šæŠŠmysqlå®¢æˆ·ç«¯å‘½ä»¤æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ï¼Œä»¥åéšæ—¶å¯ä»¥è®¿é—®</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># echo 'export PATH=$PATH:/mysql_3306/bin' &gt;&gt; /etc/profile# source /etc/profileè®¾ç½®å®Œæˆåï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä»»æ„ä½ç½®è°ƒç”¨mysqlå®¢æˆ·ç«¯å‘½ä»¤# mysql -uroot -pEnter password:123<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬ä¸‰æ­¥ï¼šæ‰‹å·¥å®šä¹‰MySQLçš„é…ç½®æ–‡ä»¶ï¼ˆéå¸¸é‡è¦ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /mysql_3306/my.cnf[mysqld]basedir=/mysql_3306datadir=/mysql_3306/datasocket=/tmp/mysql.socké€‰é¡¹è¯´æ˜ï¼š[mysqld]ä»£è¡¨é’ˆå¯¹æœåŠ¡å™¨ç«¯è¿›è¡Œé…ç½®basedirä»£è¡¨æ•°æ®åº“çš„å®‰è£…ç›®å½•datadirä»£è¡¨æ•°æ®ç›®å½•ï¼Œä»¥åä¸“é—¨ç”¨äºå­˜æ”¾æ•°æ®æ–‡ä»¶çš„ï¼ˆæ ¸å¿ƒç›®å½•ï¼‰socketä»£è¡¨å¥—æ¥å­—æ–‡ä»¶ï¼Œä¸“é—¨ä¸ºå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ç«¯è¿æ¥æä¾›ä¸€ä¸ªæ¡¥æ¢# service mysql_3306 restart<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>C(Client) === mysqlå‘½ä»¤   è¿ï¼ˆsocketå¥—æ¥å­—ï¼‰æ¥   mysqldæœåŠ¡å™¨ç«¯ç¨‹åº</p></blockquote><p>ç¬¬å››æ­¥ï¼šå®‰å…¨é…ç½®ï¼ˆå¯¹äºç”Ÿäº§ç¯å¢ƒæ¯”è¾ƒé‡è¦ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mysql_secure_installation<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸€è·¯Yï¼Œæå®šï¼</p><blockquote><p>å…¶ä¸»è¦å°±æ˜¯æ˜¯å¦å¯åŠ¨å¯†ç è„šå°–å™¨ã€æ˜¯å¦è®¾ç½®rootå¯†ç ã€æ˜¯å¦å…è®¸rootè¿œç¨‹è¿æ¥ã€æ˜¯å¦ç§»é™¤æµ‹è¯•æ•°æ®åº“ç­‰ç­‰ä¸€ç³»åˆ—åŠŸèƒ½ã€‚</p></blockquote><p>å¸¸è§é—®é¢˜ï¼šå¦‚ä½•å…³é—­MySQLå¯†ç å¼ºåº¦æ£€æµ‹ï¼Ÿ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /mysql_3306/my.cnf[mysqld]...validate_password=OFF# service mysql_3306 restart<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="äº”ã€MySQLçš„æºç ç¼–è¯‘å®‰è£…"><a href="#äº”ã€MySQLçš„æºç ç¼–è¯‘å®‰è£…" class="headerlink" title="äº”ã€MySQLçš„æºç ç¼–è¯‘å®‰è£…"></a>äº”ã€MySQLçš„æºç ç¼–è¯‘å®‰è£…</h1><h2 id="1ã€å‚è€ƒMySQLæºç å®‰è£…å®˜æ–¹æ–‡æ¡£"><a href="#1ã€å‚è€ƒMySQLæºç å®‰è£…å®˜æ–¹æ–‡æ¡£" class="headerlink" title="1ã€å‚è€ƒMySQLæºç å®‰è£…å®˜æ–¹æ–‡æ¡£"></a>1ã€å‚è€ƒMySQLæºç å®‰è£…å®˜æ–¹æ–‡æ¡£</h2><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://dev.mysql.com/doc/refman/5.7/en/source-configuration-options.html">https://dev.mysql.com/doc/refman/5.7/en/source-configuration-options.html</a></p><p><strong>æºç å®‰è£…ä¸‰æ­¥æ›²ï¼šé…ç½®â€”â€”&gt;ç¼–è¯‘â€”â€”&gt;å®‰è£…</strong></p><p>####ãˆ  å®‰è£…é¡»çŸ¥</p><ul><li>è½¯ä»¶åŒ…ä»‹ç»</li></ul><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql-boost-5.7.31.tar.gzå¯åœ¨ä»»æ„å‘è¡Œç‰ˆçš„Linuxä¸‹å®‰è£…<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="ãˆ¡-å®‰è£…éœ€æ±‚"><a href="#ãˆ¡-å®‰è£…éœ€æ±‚" class="headerlink" title="ãˆ¡  å®‰è£…éœ€æ±‚"></a>ãˆ¡  å®‰è£…éœ€æ±‚</h4><table><thead><tr><th>å®‰è£…éœ€æ±‚</th><th>å…·ä½“é…ç½®</th></tr></thead><tbody><tr><td>å®‰è£…ç›®å½•ï¼ˆbasedirï¼‰</td><td>/mysql_3307</td></tr><tr><td>æ•°æ®ç›®å½•ï¼ˆdatadirï¼‰</td><td>/mysql_3307/data</td></tr><tr><td>ç«¯å£å·</td><td>3307</td></tr><tr><td>socketæ–‡ä»¶ä½ç½®</td><td>$basedir/mysql.sock</td></tr><tr><td>å­—ç¬¦é›†</td><td>utf8mb4</td></tr></tbody></table><p>####ãˆ¢ ==äº†è§£é…ç½®é€‰é¡¹==</p><ul><li>å¸¸ç”¨é…ç½®é€‰é¡¹</li></ul><table><thead><tr><th>é…ç½®é€‰é¡¹</th><th>æè¿°</th><th>é»˜è®¤å€¼</th><th>å»ºè®®å€¼</th></tr></thead><tbody><tr><td>CMAKE_INSTALL_PREFIX</td><td>å®‰è£…åŸºç›®å½•(basedir)</td><td>/usr/local/mysql</td><td>æ ¹æ®éœ€æ±‚</td></tr><tr><td>MYSQL_DATADIR</td><td>æ•°æ®ç›®å½•(datadir)</td><td>$basedir/data</td><td>æ ¹æ®éœ€æ±‚</td></tr><tr><td>SYSCONFDIR</td><td>é»˜è®¤é…ç½®æ–‡ä»¶my.cnfè·¯å¾„</td><td></td><td>/etc</td></tr><tr><td>MYSQL_TCP_PORT</td><td>TCP/IPç«¯å£</td><td>3306</td><td>éé»˜è®¤ç«¯å£</td></tr><tr><td>MYSQL_UNIX_ADDR</td><td>å¥—æ¥å­—socketæ–‡ä»¶è·¯å¾„</td><td>/tmp/mysql.sock</td><td>$basedir/</td></tr><tr><td>DEFAULT_CHARSET</td><td>é»˜è®¤å­—ç¬¦é›†</td><td>latin1</td><td><strong>utf8mb4</strong></td></tr><tr><td>DEFAULT_COLLATION</td><td>é»˜è®¤æ ¡éªŒè§„åˆ™</td><td>latin1_swedish_ci</td><td>utf8mb4_general_ci</td></tr><tr><td>WITH_EXTRA_CHARSETS</td><td>æ‰©å±•å­—ç¬¦é›†</td><td>all</td><td>all</td></tr><tr><td>ENABLED_LOCAL_INFILE</td><td>æ˜¯å¦å¯ç”¨æœ¬åœ°åŠ è½½å¤–éƒ¨æ•°æ®æ–‡ä»¶åŠŸèƒ½</td><td>OFF</td><td>å»ºè®®å¼€å¯</td></tr><tr><td>WITH_SSL</td><td>SSLæ”¯æŒç±»å‹</td><td>system</td><td>å»ºè®®æ˜¾å¼æŒ‡å®š</td></tr><tr><td>WITH_BOOST</td><td>Booståº“æºä»£ç çš„ä½ç½®</td><td></td><td>Booståº“æ˜¯æ„å»ºMySQLæ‰€å¿…éœ€çš„,å»ºè®®äº‹å…ˆä¸‹è½½</td></tr></tbody></table><ul><li>å­˜å‚¨å¼•æ“ç›¸å…³é…ç½®é¡¹</li></ul><p><strong>è¯´æ˜ï¼š</strong></p><p>ä»¥ä¸‹é€‰é¡¹å€¼å‡ä¸ºå¸ƒå°”å€¼ï¼Œ0æˆ–1ï¼›0ä»£è¡¨ä¸ç¼–è¯‘åˆ°æœåŠ¡å™¨ä¸­ï¼Œ1ä»£è¡¨ç¼–è¯‘ï¼Œå»ºè®®éƒ½é™æ€ç¼–è¯‘åˆ°æœåŠ¡å™¨ä¸­ã€‚</p><p>å…¶ä»–çš„å­˜å‚¨å¼•æ“å¯ä»¥æ ¹æ®å®é™…éœ€æ±‚åœ¨å®‰è£…æ—¶é€šè¿‡WITH_xxxx_STORAGE_ENGINE=1çš„æ–¹å¼ç¼–è¯‘åˆ°æœåŠ¡å™¨ä¸­ã€‚</p><table><thead><tr><th>é…ç½®é€‰é¡¹</th><th>æè¿°</th></tr></thead><tbody><tr><td>WITH_INNOBASE_STORAGE_ENGINE</td><td>å°†InnoDBå­˜å‚¨å¼•æ“æ’ä»¶æ„å»ºä¸ºé™æ€æ¨¡å—ç¼–è¯‘åˆ°æœåŠ¡å™¨ä¸­ï¼›å»ºè®®ç¼–è¯‘åˆ°æœåŠ¡å™¨ä¸­</td></tr><tr><td>WITH_PARTITION_STORAGE_ENGINE</td><td>æ˜¯å¦æ”¯æŒåˆ†åŒº</td></tr><tr><td>WITH_FEDERATED_STORAGE_ENGINE</td><td>æœ¬åœ°æ•°æ®åº“æ˜¯å¦å¯ä»¥è®¿é—®è¿œç¨‹mysqlæ•°æ®</td></tr><tr><td>WITH_BLACKHOLE_STORAGE_ENGINE</td><td>é»‘æ´å­˜å‚¨å¼•æ“ï¼Œæ¥æ”¶æ•°æ®ï¼Œä½†ä¸å­˜å‚¨ï¼Œç›´æ¥ä¸¢å¼ƒ</td></tr><tr><td>WITH_MYISAM_STORAGE_ENGINE</td><td>å°†MYISAMå­˜å‚¨å¼•æ“é™æ€ç¼–è¯‘åˆ°æœåŠ¡å™¨ä¸­</td></tr></tbody></table><h2 id="2ã€MySQLçš„æºç ç¼–è¯‘å®‰è£…"><a href="#2ã€MySQLçš„æºç ç¼–è¯‘å®‰è£…" class="headerlink" title="2ã€MySQLçš„æºç ç¼–è¯‘å®‰è£…"></a>2ã€MySQLçš„æºç ç¼–è¯‘å®‰è£…</h2><blockquote><p>å»ºè®®å¤§å®¶åœ¨æºç ç¼–è¯‘å®‰è£…ä¹‹å‰ï¼Œå…ˆæ‹æ‘„ä¸€ä¸ªå¿«ç…§</p></blockquote><p>ç¬¬ä¸€æ­¥ï¼šå®‰è£…MySQLç¼–è¯‘éœ€è¦ç”¨åˆ°çš„ä¾èµ–åº“</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum -y install ncurses-devel cmake libaio-devel openssl-devel<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬äºŒæ­¥ï¼šä¸Šä¼ è½¯ä»¶åˆ°æœåŠ¡å™¨ç«¯å¹¶è§£å‹</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># tar -xf mysql-boost-5.7.31.tar.gz# cd mysql-5.7.31<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç¬¬ä¸‰æ­¥ï¼šé…ç½®ï¼ˆåŸºäºcmakeè¿›è¡Œé…ç½®ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim myconfig.shcmake . \-DCMAKE_INSTALL_PREFIX=/mysql_3307 \-DMYSQL_DATADIR=/mysql_3307/data \-DMYSQL_TCP_PORT=3307 \-DMYSQL_UNIX_ADDR=/mysql_3307/mysql.sock \-DWITH_INNOBASE_STORAGE_ENGINE=1 \-DWITH_PARTITION_STORAGE_ENGINE=1 \-DWITH_FEDERATED_STORAGE_ENGINE=1 \-DWITH_BLACKHOLE_STORAGE_ENGINE=1 \-DWITH_MYISAM_STORAGE_ENGINE=1 \-DENABLED_LOCAL_INFILE=1 \-DEXTRA_CHARSETS=all \-DDEFAULT_CHARSET=utf8mb4 \-DDEFAULT_COLLATION=utf8mb4_general_ci \-DWITH_SSL=system \-DWITH_BOOST=boost# chmod +x myconfig.sh# ./myconfig.shé€‰é¡¹è¯´æ˜ï¼š-DCMAKE_INSTALL_PREFIX ï¼šå®‰è£…è·¯å¾„-DMYSQL_DATADIR ï¼šæ•°æ®ç›®å½•-DMYSQL_TCP_PORT ï¼šç«¯å£å·-DMYSQL_UNIX_ADDR ï¼šå¥—æ¥å­—æ–‡ä»¶ä½ç½®<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬å››æ­¥ï¼šç¼–è¯‘å®‰è£…</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># make -j2 &amp;&amp; make installé€‰é¡¹è¯´æ˜ï¼š-j2 ï¼šä»£è¡¨åŒæ—¶å¼€å¯å¤šä¸ªçº¿ç¨‹å…±åŒå®ç°ç¼–è¯‘æ“ä½œ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="3ã€ç¼–è¯‘æŠ¥é”™å¸¸è§é—®é¢˜è§£æ"><a href="#3ã€ç¼–è¯‘æŠ¥é”™å¸¸è§é—®é¢˜è§£æ" class="headerlink" title="3ã€ç¼–è¯‘æŠ¥é”™å¸¸è§é—®é¢˜è§£æ"></a>3ã€ç¼–è¯‘æŠ¥é”™å¸¸è§é—®é¢˜è§£æ</h2><p>é—®é¢˜1ï¼šæ²¡æœ‰boostå¯¼è‡´å®‰è£…å¤±è´¥</p><p><img src="/../assets/blog_res/MySQL%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%AE%89%E8%A3%85.assets/image-20200824170915430.png" alt="image-20200824170915430"></p><p>é—®é¢˜2ï¼šç¼–è¯‘å®‰è£…ä¸­é€”æŠ¥é”™</p><p><img src="/../assets/blog_res/MySQL%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%AE%89%E8%A3%85.assets/image-20200824170953774.png" alt="image-20200824170953774"></p><p>è§£å†³æ–¹æ¡ˆï¼šåªèƒ½é‡æ–°ç¼–è¯‘ä¸€ä¸‹</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rm -f CMakeCache.txt# make -j2 &amp;&amp; make install<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="4ã€MySQLæ•°æ®åº“çš„åˆå§‹åŒ–"><a href="#4ã€MySQLæ•°æ®åº“çš„åˆå§‹åŒ–" class="headerlink" title="4ã€MySQLæ•°æ®åº“çš„åˆå§‹åŒ–"></a>4ã€MySQLæ•°æ®åº“çš„åˆå§‹åŒ–</h2><p><strong>æ³¨æ„ï¼š</strong>è¿›å…¥åˆ°==å®‰è£…ç›®å½•==é‡Œ/mysql_3307</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cd /mysql_3307<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºmysql-filesç›®å½•</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">åˆ›å»ºç³»ç»Ÿå˜é‡`secure_file_priv`é™åˆ¶å¯¼å…¥å¯¼å‡ºç›®å½•å¹¶ä¿®æ”¹æƒé™# mkdir mysql-files# chown -R mysql:mysql /mysql_3307# chmod 750 mysql-files<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬äºŒæ­¥ï¼šæ•°æ®åº“åˆå§‹åŒ–æ“ä½œ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># bin/mysqld --initialize --user=mysql --basedir=/mysql_3307 --datadir=/mysql_3307/data...2020-08-24T11:07:37.621346Z 1 [Note] A temporary password is generated for root@localhost: O6.iHqrZgzz7<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç¬¬ä¸‰æ­¥ï¼šæ‹·è´mysql.serverè„šæœ¬åˆ°/etc/init.dç›®å½•ï¼Œç„¶åå¯åŠ¨æ•°æ®åº“</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cp support-files/mysql.server /etc/init.d/mysql_3307# service mysql_3307 start<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å¯åŠ¨å¼‚å¸¸çš„è§£å†³æ–¹æ¡ˆï¼š</p><p><img src="/../assets/blog_res/MySQL%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%AE%89%E8%A3%85.assets/image-20200824191029474.png" alt="image-20200824191029474"></p><p>æŸ¥çœ‹mysql.itcast.cn.errè¿™ä¸ªé”™è¯¯æ—¥å¿—</p><p><img src="/../assets/blog_res/MySQL%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%AE%89%E8%A3%85.assets/image-20200824191502358.png" alt="image-20200824191502358"></p><p>å‡ºç°ä»¥ä¸Šé—®é¢˜çš„ä¸»è¦åŸå› åœ¨äºmysqlè¿™ä¸ªç”¨æˆ·å¯¹/mysql_3307ç›®å½•æ²¡æœ‰å†™å…¥æ–‡ä»¶çš„æƒé™ï¼Œå†™å…¥mysql_socketå¥—æ¥å­—æ–‡ä»¶ã€‚</p><p>è§£å†³æ–¹æ¡ˆï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chown -R mysql.mysql /mysql_3307<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="5ã€MySQLæºç ç¼–è¯‘å®‰è£…åçš„åç»­é…ç½®"><a href="#5ã€MySQLæºç ç¼–è¯‘å®‰è£…åçš„åç»­é…ç½®" class="headerlink" title="5ã€MySQLæºç ç¼–è¯‘å®‰è£…åçš„åç»­é…ç½®"></a>5ã€MySQLæºç ç¼–è¯‘å®‰è£…åçš„åç»­é…ç½®</h2><p>ç¬¬ä¸€æ­¥ï¼šç¼–å†™MySQLé…ç½®æ–‡ä»¶ï¼Œmy.cnf</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /mysql_3307/my.cnf[mysqld]basedir=/mysql_3307datadir=/mysql_3307/datasocket=/mysql_3307/mysql.sock# service mysql_3307 restart<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬äºŒæ­¥ï¼šè®¾ç½®ç®¡ç†å‘˜çš„å¯†ç </p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># bin/mysqladmin -uroot password '123' -pEnter password:O6.iHqrZgzz7<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç¬¬ä¸‰æ­¥ï¼šå®‰å…¨è®¾ç½®</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># bin/mysql_secure_installation<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬å››æ­¥ï¼šæ·»åŠ mysql_3307åˆ°å¼€æœºå¯åŠ¨é¡¹</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chkconfig --add mysql_3307# chkconfig mysql_3307 on<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h1 id="å…­ã€MySQLå¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ"><a href="#å…­ã€MySQLå¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ" class="headerlink" title="å…­ã€MySQLå¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ"></a>å…­ã€MySQLå¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ</h1><h2 id="1ã€å¦‚ä½•è®¿é—®ä¸åŒçš„æ•°æ®åº“ï¼Ÿ"><a href="#1ã€å¦‚ä½•è®¿é—®ä¸åŒçš„æ•°æ®åº“ï¼Ÿ" class="headerlink" title="1ã€å¦‚ä½•è®¿é—®ä¸åŒçš„æ•°æ®åº“ï¼Ÿ"></a>1ã€å¦‚ä½•è®¿é—®ä¸åŒçš„æ•°æ®åº“ï¼Ÿ</h2><p><strong>æ–¹æ³•ä¸€ï¼š</strong>ç›´æ¥ä½¿ç”¨==<strong>å¯¹åº”çš„å®¢æˆ·</strong>==ç«¯è½¯ä»¶è®¿é—®</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">è®¿é—®5.7.31ç‰ˆæœ¬æ•°æ®åº“ï¼š[root@node1 ~]# /mysql_3306/bin/mysql -uroot -pEnter password:Welcome to the MySQL monitor.  Commands end with ; or \g.Your MySQL connection id is 3Server version: 5.7.31 MySQL Community Server (GPL)è®¿é—®5.7.31ç‰ˆæœ¬æ•°æ®åº“ï¼š[root@node1 ~]# /mysql_3307/bin/mysql -uroot -pEnter password:Welcome to the MySQL monitor.  Commands end with ; or \g.Your MySQL connection id is 7Server version: 5.7.31 Source distribution<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>æ–¹æ³•äºŒï¼š</strong>==å®šä¹‰åˆ«å==çš„æ–¹å¼è®¿é—®</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">[root@node1 ~]# alias mysql_3306="/mysql_3306/bin/mysql"[root@node1 ~]# alias mysql_3307="/mysql_3307/bin/mysql"[root@node1 ~]# mysql_3306 -uroot -pEnter password:Welcome to the MySQL monitor.  Commands end with ; or \g.Your MySQL connection id is 4Server version: 5.7.31 MySQL Community Server (GPL)[root@node1 ~]# mysql_3307 -uroot -pEnter password:Welcome to the MySQL monitor.  Commands end with ; or \g.Your MySQL connection id is 8Server version: 5.7.27 Source distribution<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>æ–¹æ³•ä¸‰ï¼š</strong>==æ‹·è´ç›¸åº”å‘½ä»¤==åˆ°PATHå¯ä»¥è¯†åˆ«çš„è·¯å¾„ä¸‹==å¹¶é‡å‘½å==</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">[root@node1 ~]# unalias mysql_3306[root@node1 ~]# unalias mysql_3307+++++++++++++++++++++æˆ‘æ˜¯åä¸½åˆ†éš”ç¬¦+++++++++++++++++++++++++++[root@node1 ~]# cp /mysql_3306/bin/mysql /usr/bin/mysql_3306[root@node1 ~]# cp /mysql_3307/bin/mysql /usr/bin/mysql_3307[root@node1 ~]# which mysql_3306/usr/bin/mysql_3306[root@node1 ~]# which mysql_3307/usr/bin/mysql_3307<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>æ·±åº¦æ€è€ƒï¼š</strong>æˆ‘ä»¬ä¹‹æ‰€ä»¥èƒ½å¤Ÿè¿æ¥åˆ°æ•°æ®åº“é‡Œçš„**==æœ¬è´¨==**æ˜¯ä»€ä¹ˆï¼Ÿç­”ï¼šå¥—æ¥å­—</p><h2 id="2ã€MySQLå¿˜è®°å¯†ç çš„è§£å†³æ–¹æ¡ˆ"><a href="#2ã€MySQLå¿˜è®°å¯†ç çš„è§£å†³æ–¹æ¡ˆ" class="headerlink" title="2ã€MySQLå¿˜è®°å¯†ç çš„è§£å†³æ–¹æ¡ˆ"></a>2ã€MySQLå¿˜è®°å¯†ç çš„è§£å†³æ–¹æ¡ˆ</h2><p><strong>æ•²é»‘æ¿ï¼š</strong>æ‰¾é—®é¢˜çš„è§£å†³æ–¹æ³•å¾ˆé‡è¦ï¼</p><h3 id="1ã€è·³è¿‡æˆæƒè¡¨ï¼ˆé€šç”¨ï¼‰"><a href="#1ã€è·³è¿‡æˆæƒè¡¨ï¼ˆé€šç”¨ï¼‰" class="headerlink" title="1ã€è·³è¿‡æˆæƒè¡¨ï¼ˆé€šç”¨ï¼‰"></a>1ã€è·³è¿‡æˆæƒè¡¨ï¼ˆé€šç”¨ï¼‰</h3><p><img src="/../assets/blog_res/MySQL%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%AE%89%E8%A3%85.assets/image-20200824193937756.png" alt="image-20200824193937756"></p><h4 id="ãˆ -è·³è¿‡æˆæƒè¡¨é‡å¯æ•°æ®åº“ï¼ˆä»¥GLIBC-3306ä¸ºä¾‹ï¼‰"><a href="#ãˆ -è·³è¿‡æˆæƒè¡¨é‡å¯æ•°æ®åº“ï¼ˆä»¥GLIBC-3306ä¸ºä¾‹ï¼‰" class="headerlink" title="ãˆ  è·³è¿‡æˆæƒè¡¨é‡å¯æ•°æ®åº“ï¼ˆä»¥GLIBC 3306ä¸ºä¾‹ï¼‰"></a>ãˆ  è·³è¿‡æˆæƒè¡¨é‡å¯æ•°æ®åº“ï¼ˆä»¥GLIBC 3306ä¸ºä¾‹ï¼‰</h4><h5 id="â‘ -å…³é—­æ•°æ®åº“"><a href="#â‘ -å…³é—­æ•°æ®åº“" class="headerlink" title="â‘  å…³é—­æ•°æ®åº“"></a>â‘  å…³é—­æ•°æ®åº“</h5><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">[root@node1 ~]# mysqladmin shutdown -pEnter password:<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h5 id="â‘¡-è·³è¿‡æˆæƒè¡¨å¯åŠ¨"><a href="#â‘¡-è·³è¿‡æˆæƒè¡¨å¯åŠ¨" class="headerlink" title="â‘¡ è·³è¿‡æˆæƒè¡¨å¯åŠ¨"></a>â‘¡ è·³è¿‡æˆæƒè¡¨å¯åŠ¨</h5><p><strong>å‹æƒ…æç¤ºï¼š</strong>å¯åŠ¨è¿‡ç¨‹å¯èƒ½ä¼šä¸€æ³¢ä¸‰æŠ˜ï¼Œå†·é™åˆ†æçœ‹æŠ¥é”™ï¼Œå¿…èƒ½è§£å†³ï¼</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># /mysql_3306/bin/mysqld --defaults-file=/mysql_3306/my.cnf --skip-grant-tables --skip-networking=on  --user=mysql &amp;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="ãˆ¡-åˆ·æ–°æˆæƒè¡¨ï¼ˆé‡è¦ï¼‰"><a href="#ãˆ¡-åˆ·æ–°æˆæƒè¡¨ï¼ˆé‡è¦ï¼‰" class="headerlink" title="ãˆ¡ åˆ·æ–°æˆæƒè¡¨ï¼ˆé‡è¦ï¼‰"></a>ãˆ¡ åˆ·æ–°æˆæƒè¡¨ï¼ˆé‡è¦ï¼‰</h4><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mysql -uroot -pEnter password:ä»€ä¹ˆéƒ½ä¸è¦è¾“å…¥ï¼Œç›´æ¥å›è½¦å³å¯mysql&gt; flush privileges;Query OK, 0 rows affected (0.00 sec)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ãˆ¢-ä¿®æ”¹å¯†ç "><a href="#ãˆ¢-ä¿®æ”¹å¯†ç " class="headerlink" title="ãˆ¢ ä¿®æ”¹å¯†ç "></a>ãˆ¢ ä¿®æ”¹å¯†ç </h4><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; alter user 'root'@'localhost' identified by '123';Query OK, 0 rows affected (0.00 sec)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>**==è¡¥å……ï¼š==**å¦‚æœæœªèƒ½æˆåŠŸï¼Œåˆ™ä½¿ç”¨ä»¥ä¸‹è¯­å¥ä¿®æ”¹å¯†ç </p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; UPDATE mysql.user SET authentication_string = PASSWORD('MyNewPass')WHERE User = 'root' AND Host = 'localhost';mysql&gt; FLUSH PRIVILEGES;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ä¿®æ”¹å¯†ç åï¼Œä½¿ç”¨jobs + killå‘½ä»¤ï¼Œåœæ­¢æ­£åœ¨è¿è¡Œçš„mysqldè¿›ç¨‹ã€‚ç„¶åä½¿ç”¨serviceå¯åŠ¨æœåŠ¡</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># jobs# kill %1# service mysql_3306 start<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2ã€Unixå’Œç±»Unixç³»ç»Ÿé‡ç½®ï¼ˆäº†è§£ï¼‰"><a href="#2ã€Unixå’Œç±»Unixç³»ç»Ÿé‡ç½®ï¼ˆäº†è§£ï¼‰" class="headerlink" title="2ã€Unixå’Œç±»Unixç³»ç»Ÿé‡ç½®ï¼ˆäº†è§£ï¼‰"></a>2ã€Unixå’Œç±»Unixç³»ç»Ÿé‡ç½®ï¼ˆäº†è§£ï¼‰</h3><h4 id="ãˆ -åœæ­¢æ•°æ®åº“"><a href="#ãˆ -åœæ­¢æ•°æ®åº“" class="headerlink" title="ãˆ  åœæ­¢æ•°æ®åº“"></a>ãˆ  åœæ­¢æ•°æ®åº“</h4><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">[root@node1 ~]# mysqladmin shutdown -pEnter password:<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="ãˆ¡-ç¼–å†™åˆ›å»ºå¯†ç è¯­å¥åˆ°æ–‡ä»¶"><a href="#ãˆ¡-ç¼–å†™åˆ›å»ºå¯†ç è¯­å¥åˆ°æ–‡ä»¶" class="headerlink" title="ãˆ¡ ç¼–å†™åˆ›å»ºå¯†ç è¯­å¥åˆ°æ–‡ä»¶"></a>ãˆ¡ ç¼–å†™åˆ›å»ºå¯†ç è¯­å¥åˆ°æ–‡ä»¶</h4><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># echo "ALTER USER 'root'@'localhost' IDENTIFIED BY '123';" &gt;&gt; /mysql_3306/mysql.passæ³¨æ„ï¼šè¯¥æ–‡ä»¶ä¸€å®šè¦å¯¹å¯åŠ¨ç”¨æˆ·å¦‚mysqlæœ‰æ‰€æœ‰æƒé™# chown -R mysql. /mysql_3306<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="ãˆ¢-æŒ‡å®šå¯†ç æ–‡ä»¶å¯åŠ¨æ•°æ®åº“"><a href="#ãˆ¢-æŒ‡å®šå¯†ç æ–‡ä»¶å¯åŠ¨æ•°æ®åº“" class="headerlink" title="ãˆ¢ æŒ‡å®šå¯†ç æ–‡ä»¶å¯åŠ¨æ•°æ®åº“"></a>ãˆ¢ æŒ‡å®šå¯†ç æ–‡ä»¶å¯åŠ¨æ•°æ®åº“</h4><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mysqld --defaults-file=/mysql_3306/my.cnf --init-file=/mysql_3306/mysql.pass  --user=mysql &amp;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="ãˆ£-åˆ é™¤å¯†ç æ–‡ä»¶ï¼Œå¹¶æµ‹è¯•"><a href="#ãˆ£-åˆ é™¤å¯†ç æ–‡ä»¶ï¼Œå¹¶æµ‹è¯•" class="headerlink" title="ãˆ£ åˆ é™¤å¯†ç æ–‡ä»¶ï¼Œå¹¶æµ‹è¯•"></a>ãˆ£ åˆ é™¤å¯†ç æ–‡ä»¶ï¼Œå¹¶æµ‹è¯•</h4><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rm -f /mysql_3306/mysql.pass# mysql -uroot -p<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
          <category> mysql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> å­¦ä¹  </tag>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQLåŸºæœ¬SQLè¯­å¥ï¼ˆä¸Šï¼‰</title>
      <link href="/2023/12/23/mysql-ji-ben-sql-yu-ju-shang/"/>
      <url>/2023/12/23/mysql-ji-ben-sql-yu-ju-shang/</url>
      
        <content type="html"><![CDATA[<h1 id="MySQLåŸºæœ¬SQLè¯­å¥ï¼ˆä¸Šï¼‰"><a href="#MySQLåŸºæœ¬SQLè¯­å¥ï¼ˆä¸Šï¼‰" class="headerlink" title="MySQLåŸºæœ¬SQLè¯­å¥ï¼ˆä¸Šï¼‰"></a>MySQLåŸºæœ¬SQLè¯­å¥ï¼ˆä¸Šï¼‰</h1><h1 id="ä¸€ã€å®¢æˆ·ç«¯å·¥å…·çš„ä½¿ç”¨"><a href="#ä¸€ã€å®¢æˆ·ç«¯å·¥å…·çš„ä½¿ç”¨" class="headerlink" title="ä¸€ã€å®¢æˆ·ç«¯å·¥å…·çš„ä½¿ç”¨"></a>ä¸€ã€å®¢æˆ·ç«¯å·¥å…·çš„ä½¿ç”¨</h1><h2 id="1ã€å®¢æˆ·ç«¯å·¥å…·mysqlä½¿ç”¨"><a href="#1ã€å®¢æˆ·ç«¯å·¥å…·mysqlä½¿ç”¨" class="headerlink" title="1ã€å®¢æˆ·ç«¯å·¥å…·mysqlä½¿ç”¨"></a>1ã€å®¢æˆ·ç«¯å·¥å…·mysqlä½¿ç”¨</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql: mysqlå‘½ä»¤è¡Œå·¥å…·ï¼Œä¸€èˆ¬ç”¨æ¥è¿æ¥è®¿é—®mysqlæ•°æ®åº“<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><table><thead><tr><th>é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>-u, â€“user=name</td><td>æŒ‡å®šç™»å½•ç”¨æˆ·å</td></tr><tr><td>-p, â€“password</td><td>æŒ‡å®šç™»å½•å¯†ç (æ³¨æ„æ˜¯å°å†™p),ä¸€å®šè¦æ”¾åˆ°æœ€åé¢</td></tr><tr><td>-h, â€“host=name</td><td>æŒ‡å®šæ•°æ®åº“çš„ä¸»æœºåœ°å€</td></tr><tr><td>-P, â€“port=xxx</td><td>æŒ‡å®šæ•°æ®åº“çš„ç«¯å£å·(å¤§å†™P)</td></tr><tr><td>-S, â€“socket=name</td><td>æŒ‡å®šsocketæ–‡ä»¶</td></tr><tr><td>-e, â€“execute=name</td><td>ä½¿ç”¨éäº¤äº’å¼æ“ä½œ(åœ¨shellç»ˆç«¯æ‰§è¡Œsqlè¯­å¥)</td></tr></tbody></table><p>æ¡ˆä¾‹ï¼šä½¿ç”¨mysqlå®¢æˆ·ç«¯å·¥å…·è¿æ¥æœåŠ¡å™¨ç«¯ï¼ˆç”¨æˆ·åï¼šrootã€å¯†ç ï¼š123ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mysql -uroot -p123 <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>æ³¨ï¼šä»¥ä¸Šè¿æ¥æ–¹å¼è™½ç„¶å¯ä»¥è¿æ¥è¿›å…¥åˆ°MySQLï¼Œä½†æ˜¯å®˜æ–¹ä¸å»ºè®®æˆ‘ä»¬ç›´æ¥æŠŠå¯†ç å†™å…¥åœ¨ç»ˆç«¯ï¼Œå»ºè®®-pç„¶åç›´æ¥å›è½¦ï¼Œç„¶ååœ¨ç»ˆç«¯ä¸­è¾“å…¥å¯†ç ã€‚</p></blockquote><p>æ¡ˆä¾‹ï¼šè¿æ¥10.1.1.100æœåŠ¡å™¨ä¸Šçš„MySQLæ•°æ®åº“ï¼ˆç”¨æˆ·åï¼šitheimaï¼Œå¯†ç ï¼š123ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mysql -h 10.1.1.100 -P 3306 -uitheima -pEnter password:123<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæ ¹æ®ä¸åŒçš„å¥—æ¥å­—è¿æ¥åŒæ­¥çš„æ•°æ®åº“</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mysql -S /tmp/mysql.sock -uroot -pEnter password:123<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåœ¨ä¸è¿›å…¥MySQLå†…éƒ¨çš„æƒ…å†µä¸‹ï¼Œæ‰§è¡ŒSQLè¯­å¥ï¼Œè·å–æ•°æ®ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mysql -e "show databases;" -uroot -pEnter password:123<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><strong>æ‰©å±•äº†è§£ï¼š</strong></p><table><thead><tr><th>é»˜è®¤åº“</th><th>æè¿°</th></tr></thead><tbody><tr><td>information_schema</td><td>1ã€==å¯¹è±¡ä¿¡æ¯æ•°æ®åº“==ï¼Œæä¾›å¯¹æ•°æ®åº“å…ƒæ•°æ®çš„è®¿é—® ï¼Œæœ‰å…³MySQLæœåŠ¡å™¨çš„ä¿¡æ¯ï¼Œä¾‹å¦‚æ•°æ®åº“æˆ–è¡¨çš„åç§°ï¼Œåˆ—çš„æ•°æ®ç±»å‹æˆ–è®¿é—®æƒé™ç­‰ï¼›<br>2ã€åœ¨INFORMATION_SCHEMAä¸­ï¼Œæœ‰æ•°ä¸ªåªè¯»è¡¨ï¼Œå®ƒä»¬å®é™…ä¸Šæ˜¯è§†å›¾ï¼Œè€Œä¸æ˜¯åŸºæœ¬è¡¨ï¼Œå› æ­¤ä½ å°†æ— æ³•çœ‹åˆ°ä¸ä¹‹ç›¸å…³çš„ä»»ä½•æ–‡ä»¶ï¼›<br>3ã€è§†å›¾ï¼Œæ˜¯ä¸€ä¸ªè™šè¡¨ï¼Œå³è§†å›¾æ‰€å¯¹åº”çš„æ•°æ®ä¸è¿›è¡Œå®é™…å­˜å‚¨ï¼Œæ•°æ®åº“ä¸­åªå­˜å‚¨è§†å›¾çš„å®šä¹‰ï¼Œåœ¨å¯¹è§†å›¾çš„æ•°æ®è¿›è¡Œæ“ä½œæ—¶ï¼Œç³»ç»Ÿæ ¹æ®è§†å›¾çš„å®šä¹‰å»æ“ä½œä¸è§†å›¾ç›¸å…³è”çš„åŸºæœ¬è¡¨</td></tr><tr><td>mysql</td><td>1ã€mysqlæ•°æ®åº“æ˜¯==ç³»ç»Ÿæ•°æ®åº“==ã€‚å®ƒåŒ…å«å­˜å‚¨MySQLæœåŠ¡å™¨è¿è¡Œæ—¶æ‰€éœ€çš„ä¿¡æ¯çš„è¡¨ã€‚æ¯”å¦‚æƒé™è¡¨ã€å¯¹è±¡ä¿¡æ¯è¡¨ã€æ—¥å¿—ç³»ç»Ÿè¡¨ã€æ—¶åŒºç³»ç»Ÿè¡¨ã€ä¼˜åŒ–å™¨ç³»ç»Ÿè¡¨ã€æ‚é¡¹ç³»ç»Ÿè¡¨ç­‰ã€‚<br>2ã€==ä¸å¯ä»¥åˆ é™¤==,ä¹Ÿä¸è¦è½»æ˜“ä¿®æ”¹è¿™ä¸ªæ•°æ®åº“é‡Œé¢çš„è¡¨æ¯ã€‚</td></tr><tr><td>performance_schema</td><td>MySQL5.5å¼€å§‹æ–°å¢ä¸€ä¸ªæ•°æ®åº“ï¼Œä¸»è¦ç”¨äº==æ”¶é›†æ•°æ®åº“æœåŠ¡å™¨æ€§èƒ½==ï¼›å¹¶ä¸”åº“é‡Œè¡¨çš„å­˜å‚¨å¼•æ“å‡PERFORMANCE_SCHEMAï¼Œè€Œç”¨æˆ·æ˜¯ä¸èƒ½åˆ›å»ºå­˜å‚¨å¼•æ“ä¸ºPERFORMANCE_SCHEMAçš„è¡¨</td></tr><tr><td>sys</td><td>1ã€mysql5.7å¢åŠ äº†sys ç³»ç»Ÿæ•°æ®åº“ï¼Œé€šè¿‡è¿™ä¸ªåº“å¯ä»¥å¿«é€Ÿçš„äº†è§£ç³»ç»Ÿçš„å…ƒæ•°æ®ä¿¡æ¯ï¼›<br>2ã€sysåº“æ–¹ä¾¿DBAå‘ç°æ•°æ®åº“çš„å¾ˆå¤šä¿¡æ¯ï¼Œè§£å†³æ€§èƒ½ç“¶é¢ˆï¼›<br>3ã€è¿™ä¸ªåº“æ˜¯é€šè¿‡è§†å›¾çš„å½¢å¼æŠŠinformation_schema å’Œperformance_schemaç»“åˆèµ·æ¥ï¼ŒæŸ¥è¯¢å‡ºæ›´åŠ ä»¤äººå®¹æ˜“ç†è§£çš„æ•°æ®</td></tr></tbody></table><h2 id="2ã€å®¢æˆ·ç«¯å·¥å…·mysqladminä½¿ç”¨"><a href="#2ã€å®¢æˆ·ç«¯å·¥å…·mysqladminä½¿ç”¨" class="headerlink" title="2ã€å®¢æˆ·ç«¯å·¥å…·mysqladminä½¿ç”¨"></a>2ã€å®¢æˆ·ç«¯å·¥å…·mysqladminä½¿ç”¨</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysqladminï¼šå®¢æˆ·ç«¯ç®¡ç†mysqlæ•°æ®åº“å·¥å…·<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="ãˆ -å¸¸ç”¨é€‰é¡¹"><a href="#ãˆ -å¸¸ç”¨é€‰é¡¹" class="headerlink" title="ãˆ  å¸¸ç”¨é€‰é¡¹"></a>ãˆ  å¸¸ç”¨é€‰é¡¹</h4><table><thead><tr><th>é€‰é¡¹</th><th>æè¿°</th></tr></thead><tbody><tr><td>-h, â€“host=name</td><td>æŒ‡å®šè¿æ¥æ•°æ®åº“ä¸»æœº</td></tr><tr><td>-p, â€“password</td><td>æŒ‡å®šæ•°æ®åº“å¯†ç </td></tr><tr><td>-P, â€“port=#</td><td>æŒ‡å®šæ•°æ®åº“ç«¯å£</td></tr><tr><td>-S, â€“socket=name</td><td>æŒ‡å®šæ•°æ®åº“socketæ–‡ä»¶</td></tr><tr><td>-u, â€“user=name</td><td>æŒ‡å®šè¿æ¥æ•°æ®åº“ç”¨æˆ·</td></tr></tbody></table><h4 id="ãˆ¡-å¸¸ç”¨å‘½ä»¤"><a href="#ãˆ¡-å¸¸ç”¨å‘½ä»¤" class="headerlink" title="ãˆ¡ å¸¸ç”¨å‘½ä»¤"></a>ãˆ¡ å¸¸ç”¨å‘½ä»¤</h4><table><thead><tr><th>å‘½ä»¤</th><th>æè¿°</th></tr></thead><tbody><tr><td>password [new-password]</td><td>æ›´æ”¹å¯†ç </td></tr><tr><td>reload</td><td>åˆ·æ–°æˆæƒè¡¨</td></tr><tr><td>shutdown</td><td>åœæ­¢mysqlæœåŠ¡</td></tr><tr><td>status</td><td>ç®€çŸ­æŸ¥çœ‹æ•°æ®åº“çŠ¶æ€ä¿¡æ¯</td></tr><tr><td>start-slave</td><td>å¯åŠ¨slave</td></tr><tr><td>stop-slave</td><td>åœæ­¢slave</td></tr><tr><td>variables</td><td>æ‰“å°å¯ç”¨å˜é‡</td></tr><tr><td>version</td><td>æŸ¥çœ‹å½“å‰mysqlæ•°æ®åº“çš„ç‰ˆæœ¬ä¿¡æ¯</td></tr></tbody></table><p>æ¡ˆä¾‹ï¼šæ›´æ”¹rootè´¦å·çš„å¯†ç ä¸ºroot</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mysqladmin password 'æ–°å¯†ç ' -pEnter password:'æ—§å¯†ç '# mysqladmin password 'root' -pEnter password:123<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæ›´æ”¹å¯†ç åï¼Œå»ºè®®åˆ·æ–°æˆæƒè¡¨ï¼ˆmysql&gt; flush privileges;ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mysqladmin reload -pEnter password:123<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåœæ­¢mysql</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mysqladmin shutdown -pEnter password:123<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><blockquote><p>service mysql_3306 stop</p></blockquote><p>æ¡ˆä¾‹ï¼šæŸ¥çœ‹mysqlçŠ¶æ€</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mysqladmin status -pEnter password:123<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæ‰“å°å¯ç”¨å˜é‡ï¼ˆmysqlæœ¬èº«é¢„ç½®äº†å¾ˆå¤šå˜é‡ä¿¡æ¯ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mysqladmin variables -pEnter password:123<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŸ¥è¯¢mysqlç‰ˆæœ¬</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mysqladmin version -pEnter password:123<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h1 id="äºŒã€MySQLä¸­çš„SQLè¯­å¥"><a href="#äºŒã€MySQLä¸­çš„SQLè¯­å¥" class="headerlink" title="äºŒã€MySQLä¸­çš„SQLè¯­å¥"></a>äºŒã€MySQLä¸­çš„SQLè¯­å¥</h1><h2 id="1ã€ä»€ä¹ˆæ˜¯SQLï¼Ÿ"><a href="#1ã€ä»€ä¹ˆæ˜¯SQLï¼Ÿ" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯SQLï¼Ÿ"></a>1ã€ä»€ä¹ˆæ˜¯SQLï¼Ÿ</h2><p>SQL æ˜¯ Structure Query Language(==ç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€==)çš„ç¼©å†™,å®ƒæ˜¯ä½¿ç”¨==å…³ç³»æ¨¡å‹çš„æ•°æ®åº“åº”==<br>==ç”¨è¯­è¨€==,ç”± IBM åœ¨ 20 ä¸–çºª 70 å¹´ä»£å¼€å‘å‡ºæ¥,ä½œä¸º IBM å…³ç³»æ•°æ®åº“åŸå‹ System R çš„åŸå‹å…³<br>ç³»è¯­è¨€,å®ç°äº†å…³ç³»æ•°æ®åº“ä¸­çš„ä¿¡æ¯æ£€ç´¢ã€‚</p><p>20 ä¸–çºª 80 å¹´ä»£åˆ,ç¾å›½å›½å®¶æ ‡å‡†å±€(ANSI)å¼€å§‹ç€æ‰‹åˆ¶å®š SQL æ ‡å‡†,æœ€æ—©çš„ ANSI æ ‡å‡†äº<br>1986 å¹´å®Œæˆ,å°±è¢«å«ä½œ SQL-86ã€‚æ ‡å‡†çš„å‡ºå°ä½¿ SQL ä½œä¸ºæ ‡å‡†å…³ç³»æ•°æ®åº“è¯­è¨€çš„åœ°ä½å¾—åˆ°äº†<br>åŠ å¼ºã€‚SQL æ ‡å‡†ç›®å‰å·²å‡ ç»ä¿®æ”¹æ›´è¶‹å®Œå–„ã€‚</p><p>æ­£æ˜¯ç”±äº SQL è¯­è¨€çš„æ ‡å‡†åŒ–,æ‰€ä»¥å¤§å¤šæ•°å…³ç³»å‹æ•°æ®åº“ç³»ç»Ÿéƒ½æ”¯æŒ SQL è¯­è¨€,å®ƒå·²ç»å‘å±•<br>æˆä¸ºå¤šç§å¹³å°è¿›è¡Œäº¤äº’æ“ä½œçš„åº•å±‚ä¼šè¯è¯­è¨€ã€‚</p><h2 id="2ã€SQLè¯­å¥çš„åˆ†ç±»"><a href="#2ã€SQLè¯­å¥çš„åˆ†ç±»" class="headerlink" title="2ã€SQLè¯­å¥çš„åˆ†ç±»"></a>2ã€SQLè¯­å¥çš„åˆ†ç±»</h2><ul><li><p>DDL(Data Definition Languages)è¯­å¥:</p><p>==æ•°æ®å®šä¹‰è¯­è¨€==,è¿™äº›è¯­å¥å®šä¹‰äº†ä¸åŒçš„æ•°æ®æ®µã€æ•°æ®åº“ã€è¡¨ã€åˆ—ã€ç´¢å¼•ç­‰æ•°æ®åº“å¯¹è±¡çš„å®šä¹‰ã€‚å¸¸ç”¨çš„è¯­å¥å…³é”®å­—ä¸»è¦åŒ…æ‹¬ <strong>createã€dropã€alterã€renameã€truncate</strong>ã€‚</p></li><li><p>DML(Data Manipulation Language)è¯­å¥:</p><p>==æ•°æ®æ“çºµè¯­å¥==,ç”¨äºæ·»åŠ ã€åˆ é™¤ã€æ›´æ–°å’ŒæŸ¥è¯¢æ•°æ®åº“è®°å½•,å¹¶æ£€æŸ¥æ•°æ®å®Œæ•´æ€§,å¸¸ç”¨çš„è¯­å¥å…³é”®å­—ä¸»è¦åŒ…æ‹¬ <strong>insertã€deleteã€update</strong>ç­‰ã€‚</p></li><li><p>DCL(Data Control Language)è¯­å¥:</p><p>==æ•°æ®æ§åˆ¶è¯­å¥==,ç”¨äºæ§åˆ¶ä¸åŒæ•°æ®æ®µç›´æ¥çš„è®¸å¯å’Œè®¿é—®çº§åˆ«çš„è¯­å¥ã€‚è¿™äº›è¯­å¥å®šä¹‰äº†æ•°æ®åº“ã€è¡¨ã€å­—æ®µã€ç”¨æˆ·çš„è®¿é—®æƒé™å’Œå®‰å…¨çº§åˆ«ã€‚ä¸»è¦çš„è¯­å¥å…³é”®å­—åŒ…æ‹¬ <strong>grantã€revoke</strong> ç­‰ã€‚</p></li><li><p>DQL(Data Query Language)è¯­å¥:</p><p>==æ•°æ®æŸ¥è¯¢è¯­å¥==ï¼Œç”¨äºä»ä¸€ä¸ªæˆ–å¤šä¸ªè¡¨ä¸­æ£€ç´¢ä¿¡æ¯ã€‚ä¸»è¦çš„è¯­å¥å…³é”®å­—åŒ…æ‹¬ <strong>select</strong></p></li></ul><h2 id="3ã€MySQLä¸­å¦‚ä½•æ±‚å¸®åŠ©"><a href="#3ã€MySQLä¸­å¦‚ä½•æ±‚å¸®åŠ©" class="headerlink" title="3ã€MySQLä¸­å¦‚ä½•æ±‚å¸®åŠ©"></a>3ã€MySQLä¸­å¦‚ä½•æ±‚å¸®åŠ©</h2><ul><li>äº˜å¤ä¸å˜çš„å®˜æ¡£ï¼ˆè½¯ä»¶ä½œç”¨ï¼‰</li></ul><p><a href="https://dev.mysql.com/doc/refman/5.6/en/sql-syntax.html">MySQL5.6å®˜æ–¹æ–‡æ¡£</a></p><p><a href="https://dev.mysql.com/doc/refman/5.7/en/sql-syntax.html">MySQL5.7å®˜æ–¹æ–‡æ¡£</a></p><ul><li>manæ–‡æ¡£ï¼ˆå·¥å…·ä½œç”¨ï¼‰</li></ul><p>manæ–‡æ¡£å¯ä»¥å¯¹mysqlçš„ä¸€äº›åŸºæœ¬å·¥å…·åŠåå°å‘½ä»¤æ±‚å¸®åŠ©ï¼Œæ¯”å¦‚ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">[root@db01 ~]# man mysql[root@db01 ~]# man mysql_install_db[root@db01 ~]# man mysqldump[root@db01 ~]# man mysqld<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li>MySQLçš„å‘½ä»¤è¡Œæ±‚å¸®åŠ©ï¼ˆä¸»è¦é’ˆå¯¹SQLè¯­å¥æ±‚å¸®åŠ©ï¼‰</li></ul><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; help;mysql&gt; ?mysql&gt; help create table;æ ¹æ®å†…å®¹è¿›è¡ŒæŸ¥æ‰¾å¸®åŠ©mysql&gt; ? contents   Account Management   Administration   Data Definition   Data Manipulation   Data Types   Functions   Functions and Modifiers for Use with GROUP BY   Geographic Features   Language Structure   Storage Engines   Stored Routines   Table Maintenance   Transactions   Triggers   å¯»æ±‚è´¦æˆ·ç®¡ç†çš„å¸®åŠ©ï¼ˆä¸€çº§ä¸€çº§çš„å‘å†…éƒ¨æŸ¥ï¼‰mysql&gt; ? Account Managementmysql&gt; ? CREATE USER<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>æ³¨ï¼šåœ¨mysqlå†…éƒ¨ï¼Œæ²¡æœ‰clearå‘½ä»¤ï¼Œä¹Ÿå°±æ˜¯æ— æ³•ä½¿ç”¨clearå®ç°æ¸…å±ï¼Œå¦‚æœæƒ³å®ç°æ¸…å±æ“ä½œï¼Œå¯ä»¥ä½¿ç”¨å¿«æ·é”®Ctrl + Shift + L</p></blockquote><h2 id="4ã€SQLè¯­å¥çš„åŸºæœ¬æ“ä½œ"><a href="#4ã€SQLè¯­å¥çš„åŸºæœ¬æ“ä½œ" class="headerlink" title="4ã€SQLè¯­å¥çš„åŸºæœ¬æ“ä½œ"></a>4ã€SQLè¯­å¥çš„åŸºæœ¬æ“ä½œ</h2><h3 id="â˜†-MySQLçš„å†…éƒ¨ç»“æ„"><a href="#â˜†-MySQLçš„å†…éƒ¨ç»“æ„" class="headerlink" title="â˜† MySQLçš„å†…éƒ¨ç»“æ„"></a>â˜† MySQLçš„å†…éƒ¨ç»“æ„</h3><p><img src="/../assets/blog_res/MySQL%E5%9F%BA%E6%9C%ACSQL%E8%AF%AD%E5%8F%A5%EF%BC%88%E4%B8%8A%EF%BC%89.assets/image-20200825112014915.png" alt="image-20200825112014915"></p><blockquote><p>æ³¨ï¼šæˆ‘ä»¬å¹³å¸¸è¯´çš„MySQLï¼Œå…¶å®ä¸»è¦æŒ‡çš„æ˜¯MySQLæ•°æ®åº“ç®¡ç†è½¯ä»¶ã€‚</p></blockquote><p>ä¸€ä¸ªMySQL DBMSå¯ä»¥åŒæ—¶å­˜æ”¾å¤šä¸ªæ•°æ®åº“ï¼Œç†è®ºä¸Šä¸€ä¸ªé¡¹ç›®å°±å¯¹åº”ä¸€ä¸ªæ•°æ®åº“ã€‚å¦‚åšå®¢é¡¹ç›®blogæ•°æ®åº“ã€å•†åŸé¡¹ç›®shopæ•°æ®åº“ã€å¾®ä¿¡é¡¹ç›®wechatæ•°æ®åº“ã€‚</p><p>ä¸€ä¸ªæ•°æ®åº“ä¸­è¿˜å¯ä»¥åŒæ—¶åŒ…å«å¤šä¸ªæ•°æ®è¡¨ï¼Œè€Œæ•°æ®è¡¨æ‰æ˜¯çœŸæ­£ç”¨äºå­˜æ”¾æ•°æ®çš„ä½ç½®ã€‚ï¼ˆç±»ä¼¼æˆ‘ä»¬Officeè½¯ä»¶ä¸­çš„Excelè¡¨æ ¼ï¼‰ï¼Œç†è®ºä¸Šä¸€ä¸ªåŠŸèƒ½å°±å¯¹åº”ä¸€ä¸ªæ•°æ®è¡¨ã€‚å¦‚åšå®¢ç³»ç»Ÿä¸­çš„ç”¨æˆ·ç®¡ç†åŠŸèƒ½ï¼Œå°±éœ€è¦ä¸€ä¸ªuseræ•°æ®è¡¨ã€åšå®¢ä¸­çš„æ–‡ç« å°±éœ€è¦ä¸€ä¸ªarticleæ•°æ®è¡¨ã€åšå®¢ä¸­çš„è¯„è®ºå°±éœ€è¦ä¸€ä¸ªmessageæ•°æ®è¡¨ã€‚</p><p>ä¸€ä¸ªæ•°æ®è¡¨åˆå¯ä»¥æ‹†åˆ†ä¸ºå¤šä¸ªå­—æ®µï¼Œæ¯ä¸ªå­—æ®µå°±æ˜¯ä¸€ä¸ªå±æ€§ã€‚</p><p>ä¸€ä¸ªæ•°æ®è¡¨é™¤äº†å­—æ®µä»¥å¤–ï¼Œè¿˜æœ‰å¾ˆå¤šè¡Œï¼Œæ¯ä¸€è¡Œéƒ½æ˜¯ä¸€æ¡å®Œæ•´çš„æ•°æ®ï¼ˆè®°å½•ï¼‰ã€‚</p><h3 id="â˜†-æ•°æ®åº“çš„åŸºæœ¬æ“ä½œ"><a href="#â˜†-æ•°æ®åº“çš„åŸºæœ¬æ“ä½œ" class="headerlink" title="â˜† æ•°æ®åº“çš„åŸºæœ¬æ“ä½œ"></a>â˜† æ•°æ®åº“çš„åŸºæœ¬æ“ä½œ</h3><h4 id="â‘ -åˆ›å»ºæ•°æ®åº“"><a href="#â‘ -åˆ›å»ºæ•°æ®åº“" class="headerlink" title="â‘  åˆ›å»ºæ•°æ®åº“"></a>â‘  åˆ›å»ºæ•°æ®åº“</h4><p>æ™®åŠè‹±è¯­å°è¯¾å ‚ï¼š</p><p>åˆ›å»º =&gt; create</p><p>æ•°æ®åº“ =&gt; database</p><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; create database æ•°æ®åº“åç§°;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>ç‰¹åˆ«æ³¨æ„ï¼šåœ¨MySQLä¸­ï¼Œå½“ä¸€æ¡SQLè¯­å¥ç¼–å†™å®Œæ¯•åï¼Œä¸€å®šè¦ä½¿ç”¨åˆ†å·;è¿›è¡Œç»“å°¾ï¼Œå¦åˆ™ç³»ç»Ÿè®¤ä¸ºè¿™æ¡è¯­å¥è¿˜æ²¡æœ‰ç»“æŸã€‚</p></blockquote><p>æ¡ˆä¾‹ï¼šåˆ›å»ºæ•°æ®åº“çš„ç›¸å…³æ¡ˆä¾‹</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">åˆ›å»ºdb1åº“create database db1;åˆ›å»ºdb1åº“å¹¶æŒ‡å®šé»˜è®¤å­—ç¬¦é›†create database db1 default charset gbk;å¦‚æœå­˜åœ¨ä¸æŠ¥é”™(if not exists)create database if not exists db1 default character set utf8;è¯´æ˜ï¼šä¸èƒ½åˆ›å»ºç›¸åŒåå­—çš„æ•°æ®åº“ï¼<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>æ‰©å±•ï¼šç¼–ç æ ¼å¼ï¼Œå¸¸è§çš„gbkï¼ˆä¸­å›½çš„ç¼–ç æ ¼å¼ï¼‰ä¸utf8ï¼ˆå›½é™…é€šç”¨ç¼–ç æ ¼å¼ï¼‰</p></blockquote><p>latin1    256ä¸ªå­—ç¬¦ï¼ˆabcdã€1234ã€ä¼ ç»Ÿå­—ç¬¦ï¼‰</p><p>å›½å†…æ±‰å­—æ— æ³•é€šè¿‡256ä¸ªå­—ç¬¦è¿›è¡Œæè¿°ï¼Œæ‰€ä»¥å›½å†…å¼€å‘äº†è‡ªå·±çš„ç¼–ç æ ¼å¼gb2312ï¼Œå‡çº§gbk</p><p>ä¸­å›½å°æ¹¾ä¸šå¼€å‘äº†ä¸€å¥—è‡ªå·±çš„ç¼–ç æ ¼å¼big5</p><p>å¾ˆå¤šé¡¹ç›®å¹¶ä¸ä»…ä»…åªåœ¨æœ¬åœ°ä½¿ç”¨ï¼Œä¹Ÿå¯èƒ½æ”¯æŒå¤šå›½è¯­è¨€ï¼Œæ ‡å‡†åŒ–ç»„ç»‡å¼€å‘äº†ä¸€å¥—é€šç”¨ç¼–ç utf8ï¼Œåæ¥5.6ç‰ˆæœ¬ä»¥ååˆè¿›è¡Œäº†å‡çº§utf8mb4</p><blockquote><p>ç¼–å†™SQLè¯­å¥æ˜¯ä¸€ä¸ªæ¯”è¾ƒç»†è‡´å·¥ä½œï¼Œä¸å»ºè®®å¤§å®¶ç›´æ¥åœ¨ç»ˆç«¯ä¸­è¾“å…¥SQLè¯­å¥ï¼Œå¯ä»¥å…ˆæŠŠä½ è¦å†™çš„SQLè¯­å¥å†™å…¥ä¸€ä¸ªè®°äº‹æœ¬ä¸­ï¼Œç„¶åæ‹·è´æ‰§è¡Œã€‚</p></blockquote><h4 id="â‘¡-æŸ¥è¯¢å·²åˆ›å»ºæ•°æ®åº“"><a href="#â‘¡-æŸ¥è¯¢å·²åˆ›å»ºæ•°æ®åº“" class="headerlink" title="â‘¡ æŸ¥è¯¢å·²åˆ›å»ºæ•°æ®åº“"></a>â‘¡ æŸ¥è¯¢å·²åˆ›å»ºæ•°æ®åº“</h4><p>è‹±è¯­å°è¯¾å ‚ï¼š</p><p>æ˜¾ç¤º =&gt; show</p><p>æ•°æ®åº“ =&gt; database</p><p>åŸºæœ¬è¯­æ³•ï¼š</p><p>æ˜¾ç¤ºæ‰€æœ‰æ•°æ®åº“</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; show databases;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ˜¾ç¤ºæŸä¸ªæ•°æ®åº“çš„æ•°æ®ç»“æ„</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; show create database db_itheima;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="â‘¢-ä¿®æ”¹æ•°æ®åº“ä¿¡æ¯"><a href="#â‘¢-ä¿®æ”¹æ•°æ®åº“ä¿¡æ¯" class="headerlink" title="â‘¢ ä¿®æ”¹æ•°æ®åº“ä¿¡æ¯"></a>â‘¢ ä¿®æ”¹æ•°æ®åº“ä¿¡æ¯</h4><p>åœ¨MySQL5ä»¥åçš„ç‰ˆæœ¬ä¸­ï¼ŒMySQLä¸æ”¯æŒæ›´æ”¹æ•°æ®åº“çš„åç§°ã€‚æˆ‘ä»¬æ‰€è°“çš„ä¿®æ”¹æ•°æ®åº“ä¸»è¦ä¿®æ”¹çš„æ˜¯æ•°æ®åº“çš„ç¼–ç æ ¼å¼ã€‚</p><p>è‹±è¯­å°è¯¾å ‚ï¼š</p><p>ä¿®æ”¹ =&gt; alter</p><p>æ•°æ®åº“ =&gt; database</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; alter database æ•°æ®åº“åç§° default charset=æ–°ç¼–ç æ ¼å¼;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠdb_itheimaæ•°æ®åº“çš„ç¼–ç æ ¼å¼æ›´æ”¹ä¸ºgbk</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; alter database db_itheima default charset=gbk;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="â‘£-åˆ é™¤æ•°æ®åº“"><a href="#â‘£-åˆ é™¤æ•°æ®åº“" class="headerlink" title="â‘£ åˆ é™¤æ•°æ®åº“"></a>â‘£ åˆ é™¤æ•°æ®åº“</h4><p>è‹±è¯­å°è¯¾å ‚ï¼š</p><p>åˆ é™¤ =&gt; drop</p><p>æ•°æ®åº“ =&gt; database</p><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; drop database æ•°æ®åº“åç§°;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåˆ é™¤db_itheimaæ•°æ®åº“</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; drop database db_itheima;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="5ã€æ•°æ®è¡¨çš„åŸºæœ¬æ“ä½œ"><a href="#5ã€æ•°æ®è¡¨çš„åŸºæœ¬æ“ä½œ" class="headerlink" title="5ã€æ•°æ®è¡¨çš„åŸºæœ¬æ“ä½œ"></a>5ã€æ•°æ®è¡¨çš„åŸºæœ¬æ“ä½œ</h2><h3 id="â˜†-æ•°æ®è¡¨çš„åˆ›å»º"><a href="#â˜†-æ•°æ®è¡¨çš„åˆ›å»º" class="headerlink" title="â˜† æ•°æ®è¡¨çš„åˆ›å»º"></a>â˜† æ•°æ®è¡¨çš„åˆ›å»º</h3><p>è‹±è¯­å°è¯¾å ‚ï¼š</p><p>åˆ›å»º =&gt; create</p><p>æ•°æ®è¡¨ =&gt; table</p><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; create table æ•°æ®è¡¨åç§°(å­—æ®µ1 å­—æ®µç±»å‹ [å­—æ®µçº¦æŸ],å­—æ®µ2 å­—æ®µç±»å‹ [å­—æ®µçº¦æŸ],...); <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåˆ›å»ºä¸€ä¸ªadminç®¡ç†å‘˜è¡¨ï¼Œæ‹¥æœ‰3ä¸ªå­—æ®µï¼ˆç¼–å·ã€ç”¨æˆ·åç§°ã€ç”¨æˆ·å¯†ç ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; create database db_itheima;mysql&gt; use db_itheima;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><blockquote><p>useåœ¨MySQLä¸­çš„å«ä¹‰ä»£è¡¨é€‰æ‹©ï¼Œuse æ•°æ®åº“åç§°ç›¸å½“äºé€‰æ‹©æŒ‡å®šçš„æ•°æ®åº“ã€‚è€Œä¸”useæ¯”è¾ƒç‰¹æ®Šï¼Œå…¶é€‰æ‹©ç»“æŸåï¼Œå…¶å°¾éƒ¨å¯ä»¥ä¸åŠ åˆ†å·ï¼›ä½†æ˜¯å¼ºçƒˆå»ºè®®æ‰€æœ‰çš„SQLè¯­å¥éƒ½è¦åŠ åˆ†å·ï¼Œå…»æˆä¸€ä¸ªå¥½ä¹ æƒ¯ã€‚</p></blockquote><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; create table tb_admin(id tinyint,    username varchar(20),    password char(32)) engine=innodb default charset=utf8;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>tinyint ï¼šå¾®æ•´å‹ï¼ŒèŒƒå›´-128 ~ 127ï¼Œæ— ç¬¦å·å‹ï¼Œåˆ™è¡¨ç¤º0 ~ 255</p></blockquote><blockquote><p>è¡¨ç¤ºå­—ç¬¦ä¸²ç±»å‹å¯ä»¥ä½¿ç”¨charä¸varcharï¼Œcharä»£è¡¨å›ºå®šé•¿åº¦çš„å­—æ®µï¼Œvarcharä»£è¡¨å˜åŒ–é•¿åº¦çš„å­—æ®µã€‚</p></blockquote><p>æ¡ˆä¾‹ï¼šåˆ›å»ºä¸€ä¸ªarticleæ–‡ç« è¡¨ï¼Œæ‹¥æœ‰4ä¸ªå­—æ®µï¼ˆç¼–å·ã€æ ‡é¢˜ã€ä½œè€…ã€å†…å®¹ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; use db_itheima;mysql&gt; create table tb_article(id int,title varchar(50),author varchar(20),content text) engine=innodb default charset=utf8;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>text ï¼šæ–‡æœ¬ç±»å‹ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œç”¨varcharå­˜å‚¨ä¸äº†çš„å­—ç¬¦ä¸²ä¿¡æ¯ï¼Œéƒ½å»ºè®®ä½¿ç”¨textæ–‡æœ¬è¿›è¡Œå¤„ç†ã€‚</p></blockquote><blockquote><p>varcharå­˜å‚¨çš„æœ€å¤§é•¿åº¦ï¼Œç†è®ºå€¼65535ä¸ªå­—ç¬¦ã€‚ä½†æ˜¯å®é™…ä¸Šï¼Œæœ‰å‡ ä¸ªå­—ç¬¦æ˜¯ç”¨äºå­˜æ”¾å†…å®¹çš„é•¿åº¦çš„ï¼Œæ‰€ä»¥çœŸæ­£å¯ä»¥ä½¿ç”¨çš„ä¸è¶³65535ä¸ªå­—ç¬¦ï¼Œå¦å¤–varcharç±»å‹å­˜å‚¨çš„å­—ç¬¦é•¿åº¦è¿˜å’Œç¼–ç æ ¼å¼æœ‰å…³ã€‚1ä¸ªGBKæ ¼å¼çš„å ç”¨2ä¸ªå­—èŠ‚é•¿åº¦ï¼Œ1ä¸ªUTF8æ ¼å¼çš„å­—ç¬¦å ç”¨3ä¸ªå­—èŠ‚é•¿åº¦ã€‚GBK = 65532<del>65533/2ï¼ŒUTF8 = 65532</del>65533/3</p></blockquote><h3 id="â˜†-æŸ¥è¯¢å·²åˆ›å»ºæ•°æ®è¡¨"><a href="#â˜†-æŸ¥è¯¢å·²åˆ›å»ºæ•°æ®è¡¨" class="headerlink" title="â˜† æŸ¥è¯¢å·²åˆ›å»ºæ•°æ®è¡¨"></a>â˜† æŸ¥è¯¢å·²åˆ›å»ºæ•°æ®è¡¨</h3><p>è‹±è¯­å°è¯¾å ‚ï¼š</p><p>æ˜¾ç¤º =&gt; show</p><p>æ•°æ®è¡¨ =&gt; table</p><p>æ˜¾ç¤ºæ‰€æœ‰æ•°æ®è¡¨ï¼ˆå½“å‰æ•°æ®åº“ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; use æ•°æ®åº“åç§°;mysql&gt; show tables;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ˜¾ç¤ºæ•°æ®è¡¨çš„åˆ›å»ºè¿‡ç¨‹ï¼ˆç¼–ç æ ¼å¼ã€å­—æ®µç­‰ä¿¡æ¯ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; show create table æ•°æ®è¡¨åç§°;æˆ–mysql&gt; desc æ•°æ®è¡¨åç§°;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="â˜†-ä¿®æ”¹æ•°æ®è¡¨ä¿¡æ¯"><a href="#â˜†-ä¿®æ”¹æ•°æ®è¡¨ä¿¡æ¯" class="headerlink" title="â˜† ä¿®æ”¹æ•°æ®è¡¨ä¿¡æ¯"></a>â˜† ä¿®æ”¹æ•°æ®è¡¨ä¿¡æ¯</h3><h4 id="â‘ -æ•°æ®è¡¨å­—æ®µæ·»åŠ "><a href="#â‘ -æ•°æ®è¡¨å­—æ®µæ·»åŠ " class="headerlink" title="â‘  æ•°æ®è¡¨å­—æ®µæ·»åŠ "></a>â‘  æ•°æ®è¡¨å­—æ®µæ·»åŠ </h4><p>è‹±è¯­å°è¯¾å ‚ï¼š</p><p>ä¿®æ”¹ =&gt; alter</p><p>æ•°æ®è¡¨ =&gt; table</p><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; alter table æ•°æ®è¡¨åç§° add æ–°å­—æ®µåç§° å­—æ®µç±»å‹ first|after å…¶ä»–å­—æ®µåç§°;é€‰é¡¹è¯´æ˜ï¼šfirstï¼šæŠŠæ–°æ·»åŠ å­—æ®µæ”¾åœ¨ç¬¬ä¸€ä½after å­—æ®µåç§°ï¼šæŠŠæ–°æ·»åŠ å­—æ®µæ”¾åœ¨æŒ‡å®šå­—æ®µçš„åé¢<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåœ¨tb_articleæ–‡ç« è¡¨ä¸­æ·»åŠ ä¸€ä¸ªaddtimeå­—æ®µï¼Œç±»å‹ä¸ºdate(å¹´-æœˆ-æ—¥)</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; alter table tb_article add addtime date after content;mysql&gt; desc tb_article;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="â‘¡-ä¿®æ”¹å­—æ®µåç§°æˆ–å­—æ®µç±»å‹"><a href="#â‘¡-ä¿®æ”¹å­—æ®µåç§°æˆ–å­—æ®µç±»å‹" class="headerlink" title="â‘¡ ä¿®æ”¹å­—æ®µåç§°æˆ–å­—æ®µç±»å‹"></a>â‘¡ ä¿®æ”¹å­—æ®µåç§°æˆ–å­—æ®µç±»å‹</h4><p>ä¿®æ”¹å­—æ®µåç§°ä¸å­—æ®µç±»å‹ï¼ˆä¹Ÿå¯ä»¥åªä¿®æ”¹åç§°ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; alter table tb_admin change username user varchar(40);mysql&gt; desc tb_admin;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ä»…ä¿®æ”¹å­—æ®µçš„ç±»å‹</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; alter table tb_admin modify user varchar(20);mysql&gt; desc tb_admin;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="â‘¢-åˆ é™¤æŸä¸ªå­—æ®µ"><a href="#â‘¢-åˆ é™¤æŸä¸ªå­—æ®µ" class="headerlink" title="â‘¢ åˆ é™¤æŸä¸ªå­—æ®µ"></a>â‘¢ åˆ é™¤æŸä¸ªå­—æ®µ</h4><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; alter table tb_article drop å­—æ®µåç§°;mysql&gt; desc tb_article;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="â‘£-ä¿®æ”¹æ•°æ®è¡¨å¼•æ“ï¼ˆMyISAMæˆ–InnoDBï¼‰"><a href="#â‘£-ä¿®æ”¹æ•°æ®è¡¨å¼•æ“ï¼ˆMyISAMæˆ–InnoDBï¼‰" class="headerlink" title="â‘£ ä¿®æ”¹æ•°æ®è¡¨å¼•æ“ï¼ˆMyISAMæˆ–InnoDBï¼‰"></a>â‘£ ä¿®æ”¹æ•°æ®è¡¨å¼•æ“ï¼ˆMyISAMæˆ–InnoDBï¼‰</h4><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; alter table tb_article engine=myisam;mysql&gt; show create table tb_article;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="â‘¤-ä¿®æ”¹æ•°æ®è¡¨çš„ç¼–ç æ ¼å¼"><a href="#â‘¤-ä¿®æ”¹æ•°æ®è¡¨çš„ç¼–ç æ ¼å¼" class="headerlink" title="â‘¤ ä¿®æ”¹æ•°æ®è¡¨çš„ç¼–ç æ ¼å¼"></a>â‘¤ ä¿®æ”¹æ•°æ®è¡¨çš„ç¼–ç æ ¼å¼</h4><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; alter table tb_admin default charset=gbk;mysql&gt; show create table tb_admin;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="â‘¥-ä¿®æ”¹æ•°æ®è¡¨åç§°"><a href="#â‘¥-ä¿®æ”¹æ•°æ®è¡¨åç§°" class="headerlink" title="â‘¥ ä¿®æ”¹æ•°æ®è¡¨åç§°"></a>â‘¥ ä¿®æ”¹æ•°æ®è¡¨åç§°</h4><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">ç§»åŠ¨è¡¨åˆ°å¦ä¸€ä¸ªåº“é‡Œå¹¶é‡å‘½årename table db01.t1 to db02.t11;æˆ–è€…alter table db01.t1 rename db02.t11;åªé‡å‘½åè¡¨åä¸ç§»åŠ¨rename table tt1 to tt2;æˆ–è€…alter table tt1 rename  tt2;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="â˜†-åˆ é™¤æ•°æ®è¡¨"><a href="#â˜†-åˆ é™¤æ•°æ®è¡¨" class="headerlink" title="â˜† åˆ é™¤æ•°æ®è¡¨"></a>â˜† åˆ é™¤æ•°æ®è¡¨</h3><p>è‹±è¯­å°è¯¾å ‚ï¼š</p><p>åˆ é™¤ =&gt; drop</p><p>æ•°æ®è¡¨ =&gt; table</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; drop table æ•°æ®è¡¨åç§°;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="6ã€ç»™EditPlusæ·»åŠ ä¸€ä¸ªè¯­æ³•ç€è‰²"><a href="#6ã€ç»™EditPlusæ·»åŠ ä¸€ä¸ªè¯­æ³•ç€è‰²" class="headerlink" title="6ã€ç»™EditPlusæ·»åŠ ä¸€ä¸ªè¯­æ³•ç€è‰²"></a>6ã€ç»™EditPlusæ·»åŠ ä¸€ä¸ªè¯­æ³•ç€è‰²</h2><p>ç¬¬ä¸€æ­¥ï¼šæŠŠsql.stxè¯­æ³•ç€è‰²æ–‡ä»¶æ”¾ç½®åœ¨æŸä¸ªä½ç½®</p><p><img src="/../assets/blog_res/MySQL%E5%9F%BA%E6%9C%ACSQL%E8%AF%AD%E5%8F%A5%EF%BC%88%E4%B8%8A%EF%BC%89.assets/image-20200825155423958.png" alt="image-20200825155423958"></p><p>ç¬¬äºŒæ­¥ï¼šæ‰“å¼€EditPlusé…ç½®</p><p><img src="/../assets/blog_res/MySQL%E5%9F%BA%E6%9C%ACSQL%E8%AF%AD%E5%8F%A5%EF%BC%88%E4%B8%8A%EF%BC%89.assets/image-20200825155455518.png" alt="image-20200825155455518"></p><p>è®¾ç½®ç¼–ç æ ¼å¼å¹¶å–æ¶ˆå¤‡ä»½æ–‡ä»¶</p><p><img src="/../assets/blog_res/MySQL%E5%9F%BA%E6%9C%ACSQL%E8%AF%AD%E5%8F%A5%EF%BC%88%E4%B8%8A%EF%BC%89.assets/image-20200825155600949.png" alt="image-20200825155600949"></p><p>ç¬¬ä¸‰æ­¥ï¼šæ·»åŠ SQLè¯­å¥çš„è¯­æ³•ç€è‰²æ”¯æŒ</p><p>æ·»åŠ SQLè¯­å¥æ”¯æŒ</p><p><img src="/../assets/blog_res/MySQL%E5%9F%BA%E6%9C%ACSQL%E8%AF%AD%E5%8F%A5%EF%BC%88%E4%B8%8A%EF%BC%89.assets/image-20200825155723702.png" alt="image-20200825155723702"></p><p>å¼•å…¥.sqlæ–‡ä»¶ä»¥åŠè¯­æ³•ç€è‰²æ–‡ä»¶</p><p><img src="/../assets/blog_res/MySQL%E5%9F%BA%E6%9C%ACSQL%E8%AF%AD%E5%8F%A5%EF%BC%88%E4%B8%8A%EF%BC%89.assets/image-20200825155921218.png" alt="image-20200825155921218"></p><h2 id="7ã€æ•°æ®çš„å¢åˆ æ”¹æŸ¥ï¼ˆé‡ç‚¹ï¼‰"><a href="#7ã€æ•°æ®çš„å¢åˆ æ”¹æŸ¥ï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="7ã€æ•°æ®çš„å¢åˆ æ”¹æŸ¥ï¼ˆé‡ç‚¹ï¼‰"></a>7ã€æ•°æ®çš„å¢åˆ æ”¹æŸ¥ï¼ˆé‡ç‚¹ï¼‰</h2><p>è‹±è¯­å°è¯¾å ‚ï¼š</p><p>å¢åŠ ï¼šinsert</p><p>åˆ é™¤ï¼šdelete</p><p>ä¿®æ”¹ï¼šupdate</p><p>æŸ¥è¯¢ï¼šselect</p><h3 id="â˜†-æ•°æ®çš„å¢åŠ æ“ä½œ"><a href="#â˜†-æ•°æ®çš„å¢åŠ æ“ä½œ" class="headerlink" title="â˜† æ•°æ®çš„å¢åŠ æ“ä½œ"></a>â˜† æ•°æ®çš„å¢åŠ æ“ä½œ</h3><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; insert into æ•°æ®è¡¨åç§°([å­—æ®µ1,å­—æ®µ2,å­—æ®µ3...]) values (å­—æ®µ1çš„å€¼,å­—æ®µ2çš„å€¼,å­—æ®µ3çš„å€¼...);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>ç‰¹åˆ«æ³¨æ„ï¼šåœ¨SQLè¯­å¥ä¸­ï¼Œé™¤äº†æ•°å­—ï¼Œå…¶ä»–ç±»å‹çš„å€¼ï¼Œéƒ½éœ€è¦ä½¿ç”¨å¼•å·å¼•èµ·æ¥ï¼Œå¦åˆ™æ’å…¥æ—¶ä¼šæŠ¥é”™ã€‚</p></blockquote><p>ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡ä¸€ä¸ªæ•°æ®è¡¨</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; use db_itheima;mysql&gt; create table tb_user(id int,username varchar(20),age tinyint unsigned,gender enum('ç”·','å¥³','ä¿å¯†'),address varchar(255)) engine=innodb default charset=utf8;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>unsignedä»£è¡¨æ— ç¬¦å·å‹ï¼Œåªæœ‰0åˆ°æ­£æ•°ã€‚tinyint unsignedæ— ç¬¦å·å‹ï¼ŒèŒƒå›´0 ~ 255</p></blockquote><blockquote><p>enumæšä¸¾ç±»å‹ï¼Œå¤šé€‰ä¸€ã€‚åªèƒ½ä»ç»™å®šçš„å€¼ä¸­é€‰æ‹©ä¸€ä¸ª</p></blockquote><p>ç¬¬äºŒæ­¥ï¼šä½¿ç”¨insertè¯­å¥æ’å…¥æ•°æ®</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; insert into tb_user values (1,'æå‘é˜³',24,'ç”·','å¹¿ä¸œçœå¹¿å·å¸‚');mysql&gt; insert into tb_user(id,username,age) values (2,'é©¬é¹',23);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="â˜†-æ•°æ®çš„æŸ¥è¯¢æ“ä½œ"><a href="#â˜†-æ•°æ®çš„æŸ¥è¯¢æ“ä½œ" class="headerlink" title="â˜† æ•°æ®çš„æŸ¥è¯¢æ“ä½œ"></a>â˜† æ•°æ®çš„æŸ¥è¯¢æ“ä½œ</h3><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select * from æ•°æ®è¡¨åç§° [where æŸ¥è¯¢æ¡ä»¶];mysql&gt; select id,username,age from æ•°æ®è¡¨åç§° [where æŸ¥è¯¢æ¡ä»¶];<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŸ¥è¯¢tb_userè¡¨ä¸­çš„æ‰€æœ‰è®°å½•</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select * from tb_user;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŸ¥è¯¢tb_userè¡¨ä¸­çš„idï¼Œusernameä»¥åŠageå­—æ®µä¸­å¯¹åº”çš„æ•°æ®ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select id,username,age from tb_user;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåªæŸ¥è¯¢id=2çš„å°ä¼™ä¼´ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select * from tb_user where id=2;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŸ¥è¯¢å¹´é¾„å¤§äº23å²çš„å°ä¼™ä¼´ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select * from tb_user where age&gt;23;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â˜†-æ•°æ®çš„ä¿®æ”¹æ“ä½œ"><a href="#â˜†-æ•°æ®çš„ä¿®æ”¹æ“ä½œ" class="headerlink" title="â˜† æ•°æ®çš„ä¿®æ”¹æ“ä½œ"></a>â˜† æ•°æ®çš„ä¿®æ”¹æ“ä½œ</h3><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; update æ•°æ®è¡¨åç§° set å­—æ®µ1=æ›´æ–°åçš„å€¼,å­—æ®µ2=æ›´æ–°åçš„å€¼,... where æ›´æ–°æ¡ä»¶;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>ç‰¹åˆ«è¯´æ˜ï¼šå¦‚æœåœ¨æ›´æ–°æ•°æ®æ—¶ï¼Œä¸æŒ‡å®šæ›´æ–°æ¡ä»¶ï¼Œåˆ™å…¶ä¼šæŠŠè¿™ä¸ªæ•°æ®è¡¨çš„æ‰€æœ‰è®°å½•å…¨éƒ¨æ›´æ–°ä¸€éã€‚</p></blockquote><p>æ¡ˆä¾‹ï¼šä¿®æ”¹username=â€™é©¬é¹â€™è¿™æ¡è®°å½•ï¼Œå°†å…¶æ€§åˆ«æ›´æ–°ä¸ºç”·ï¼Œå®¶åº­ä½å€æ›´æ–°ä¸ºå¹¿ä¸œçœæ·±åœ³å¸‚</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; update tb_user set gender='ç”·',address='å¹¿ä¸œçœæ·±åœ³å¸‚' where username='é©¬é¹';<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šä»Šå¹´æ˜¯2020å¹´ï¼Œå‡è®¾åˆ°äº†2021å¹´ï¼Œç°åœ¨å­˜å‚¨çš„å­¦å‘˜å¹´é¾„éƒ½å·®1å²ï¼Œæ•´ä½“è¿›è¡Œä¸€æ¬¡æ›´æ–°</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; update tb_user set age=age+1;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â˜†-æ•°æ®çš„åˆ é™¤æ“ä½œ"><a href="#â˜†-æ•°æ®çš„åˆ é™¤æ“ä½œ" class="headerlink" title="â˜† æ•°æ®çš„åˆ é™¤æ“ä½œ"></a>â˜† æ•°æ®çš„åˆ é™¤æ“ä½œ</h3><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; delete from æ•°æ®è¡¨åç§° [where åˆ é™¤æ¡ä»¶];<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåˆ é™¤tb_userè¡¨ä¸­ï¼Œid=1çš„ç”¨æˆ·ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; delete from tb_user where id=1;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>delete fromä¸truncateæ¸…ç©ºæ•°æ®è¡¨æ“ä½œ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; delete from æ•°æ®è¡¨;æˆ–mysql&gt; truncate æ•°æ®è¡¨;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>delete fromä¸truncateåŒºåˆ«åœ¨å“ªé‡Œï¼Ÿ</p><ul><li>deleteï¼šåˆ é™¤==æ•°æ®è®°å½•==<ul><li>æ•°æ®æ“ä½œè¯­è¨€ï¼ˆDMLï¼‰</li><li>åœ¨äº‹åŠ¡æ§åˆ¶é‡Œï¼ŒDMLè¯­å¥è¦ä¹ˆcommitï¼Œè¦ä¹ˆrollback</li><li>åˆ é™¤==å¤§é‡==è®°å½•é€Ÿåº¦æ…¢ï¼Œ==åªåˆ é™¤æ•°æ®==ä¸å›æ”¶é«˜æ°´ä½çº¿</li><li>å¯ä»¥==å¸¦æ¡ä»¶==åˆ é™¤</li></ul></li><li>truncateï¼šåˆ é™¤==æ‰€æœ‰æ•°æ®è®°å½•==<ul><li>æ•°æ®å®šä¹‰è¯­è¨€ï¼ˆDDLï¼‰</li><li>==ä¸åœ¨==äº‹åŠ¡æ§åˆ¶é‡Œï¼ŒDDLè¯­å¥æ‰§è¡Œå‰ä¼šæäº¤å‰é¢æ‰€æœ‰æœªæäº¤çš„äº‹åŠ¡</li><li>æ¸…é‡Œå¤§é‡æ•°æ®==é€Ÿåº¦å¿«==ï¼Œå›æ”¶é«˜æ°´ä½çº¿ï¼ˆhigh water markï¼‰</li><li>==ä¸èƒ½å¸¦æ¡ä»¶åˆ é™¤==</li></ul></li></ul><h2 id="8ã€è‡ªåŠ¨å¢é•¿ï¼ˆæ°´ä½çº¿ï¼‰ä¸ä¸»é”®çº¦æŸ"><a href="#8ã€è‡ªåŠ¨å¢é•¿ï¼ˆæ°´ä½çº¿ï¼‰ä¸ä¸»é”®çº¦æŸ" class="headerlink" title="8ã€è‡ªåŠ¨å¢é•¿ï¼ˆæ°´ä½çº¿ï¼‰ä¸ä¸»é”®çº¦æŸ"></a>8ã€è‡ªåŠ¨å¢é•¿ï¼ˆæ°´ä½çº¿ï¼‰ä¸ä¸»é”®çº¦æŸ</h2><h3 id="â˜†-è‡ªåŠ¨å¢é•¿ï¼ˆå¯¹æŸä¸ªå­—æ®µè¿›è¡Œè‡ªåŠ¨ç¼–å·ï¼‰"><a href="#â˜†-è‡ªåŠ¨å¢é•¿ï¼ˆå¯¹æŸä¸ªå­—æ®µè¿›è¡Œè‡ªåŠ¨ç¼–å·ï¼‰" class="headerlink" title="â˜† è‡ªåŠ¨å¢é•¿ï¼ˆå¯¹æŸä¸ªå­—æ®µè¿›è¡Œè‡ªåŠ¨ç¼–å·ï¼‰"></a>â˜† è‡ªåŠ¨å¢é•¿ï¼ˆå¯¹æŸä¸ªå­—æ®µè¿›è¡Œè‡ªåŠ¨ç¼–å·ï¼‰</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; create table tb_user(id int not null auto_increment,username varchar(20),age tinyint unsigned,gender enum('ç”·','å¥³','ä¿å¯†'),address varchar(255)) engine=innodb default charset=utf8;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>not nullä»£è¡¨éç©ºçº¦æŸï¼Œè¿™ä¸ªå­—æ®µåªè¦æ˜¯æ’å…¥æ•°æ®å°±å¿…é¡»è¦æœ‰å€¼ã€‚</p></blockquote><h3 id="â˜†-ä¸»é”®çº¦æŸï¼ˆéç©ºã€å”¯ä¸€ï¼‰"><a href="#â˜†-ä¸»é”®çº¦æŸï¼ˆéç©ºã€å”¯ä¸€ï¼‰" class="headerlink" title="â˜† ä¸»é”®çº¦æŸï¼ˆéç©ºã€å”¯ä¸€ï¼‰"></a>â˜† ä¸»é”®çº¦æŸï¼ˆéç©ºã€å”¯ä¸€ï¼‰</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">create table tb_user(id int not null auto_increment,username varchar(20),age tinyint unsigned,gender enum('ç”·','å¥³','ä¿å¯†'),address varchar(255),primary key(id)) engine=innodb default charset=utf8;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ’å…¥æ•°æ®åº“æ—¶ï¼Œidä½ç½®ç›´æ¥å†™NULLå³å¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; insert into tb_user values (null,'æå‘é˜³',24,'ç”·','å¹¿ä¸œçœå¹¿å·å¸‚');mysql&gt; insert into tb_user values (null,'é©¬é¹',23,'ç”·','å¹¿ä¸œçœæ·±åœ³å¸‚');mysql&gt; insert into tb_user values (null,'ä¸Šå®˜å©‰å„¿',18,'å¥³','æ¹–å—çœé•¿æ²™å¸‚');<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
          <category> mysql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> å­¦ä¹  </tag>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQLåŸºæœ¬SQLè¯­å¥ï¼ˆä¸‹ï¼‰</title>
      <link href="/2023/12/23/mysql-ji-ben-sql-yu-ju-xia/"/>
      <url>/2023/12/23/mysql-ji-ben-sql-yu-ju-xia/</url>
      
        <content type="html"><![CDATA[<h1 id="MySQLåŸºæœ¬SQLè¯­å¥ï¼ˆä¸‹ï¼‰"><a href="#MySQLåŸºæœ¬SQLè¯­å¥ï¼ˆä¸‹ï¼‰" class="headerlink" title="MySQLåŸºæœ¬SQLè¯­å¥ï¼ˆä¸‹ï¼‰"></a>MySQLåŸºæœ¬SQLè¯­å¥ï¼ˆä¸‹ï¼‰</h1><h1 id="ä¸€ã€æ‰©å±•å¸¸è§çš„æ•°æ®ç±»å‹"><a href="#ä¸€ã€æ‰©å±•å¸¸è§çš„æ•°æ®ç±»å‹" class="headerlink" title="ä¸€ã€æ‰©å±•å¸¸è§çš„æ•°æ®ç±»å‹"></a>ä¸€ã€æ‰©å±•å¸¸è§çš„æ•°æ®ç±»å‹</h1><h2 id="1ã€å›é¡¾æ•°æ®è¡¨çš„åˆ›å»ºè¯­æ³•"><a href="#1ã€å›é¡¾æ•°æ®è¡¨çš„åˆ›å»ºè¯­æ³•" class="headerlink" title="1ã€å›é¡¾æ•°æ®è¡¨çš„åˆ›å»ºè¯­æ³•"></a>1ã€å›é¡¾æ•°æ®è¡¨çš„åˆ›å»ºè¯­æ³•</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; create table æ•°æ®è¡¨åç§°(å­—æ®µåç§°1 å­—æ®µç±»å‹ å­—æ®µçº¦æŸ,å­—æ®µåç§°2 å­—æ®µç±»å‹ å­—æ®µçº¦æŸ,...primary key(ä¸»é”®å­—æ®µ =&gt; ä¸èƒ½ä¸ºç©ºã€å¿…é¡»å”¯ä¸€)) engine=innodb default charset=utf8;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>ç»éªŒä¹‹è°ˆï¼šä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åœ¨è®¾è®¡æ•°æ®è¡¨æ—¶ï¼Œå¿…é¡»æ‹¥æœ‰ä¸€ä¸ªidä¸»é”®å­—æ®µï¼Œéç©ºã€è‡ªåŠ¨ç¼–å·ã€ä¸»é”®çº¦æŸã€‚</p></blockquote><p>åœ¨åˆ›å»ºæ•°æ®è¡¨æ—¶ï¼Œå¿…é¡»æ˜ç¡®æŒ‡å®šå­—æ®µçš„åç§°ä»¥åŠå­—æ®µçš„ç±»å‹ï¼Œé‚£åˆ°åº•MySQLä¸­çš„SQLè¯­å¥æ”¯æŒå“ªäº›å­—æ®µç±»å‹å‘¢ï¼Ÿ</p><p>ç­”ï¼šå‚è€ƒä¸‹å›¾</p><p><img src="/../assets/blog_res/MySQL%E5%9F%BA%E6%9C%ACSQL%E8%AF%AD%E5%8F%A5%EF%BC%88%E4%B8%8B%EF%BC%89.assets/image-20200826094830721.png" alt="image-20200826094830721"></p><h2 id="2ã€æ•°å€¼ç±»å‹"><a href="#2ã€æ•°å€¼ç±»å‹" class="headerlink" title="2ã€æ•°å€¼ç±»å‹"></a>2ã€æ•°å€¼ç±»å‹</h2><h3 id="â˜†-æ•´æ•°ç±»å‹ï¼ˆæ•´æ•°ã€ç²¾å‡†ï¼‰"><a href="#â˜†-æ•´æ•°ç±»å‹ï¼ˆæ•´æ•°ã€ç²¾å‡†ï¼‰" class="headerlink" title="â˜† æ•´æ•°ç±»å‹ï¼ˆæ•´æ•°ã€ç²¾å‡†ï¼‰"></a>â˜† æ•´æ•°ç±»å‹ï¼ˆæ•´æ•°ã€ç²¾å‡†ï¼‰</h3><p><img src="/../assets/blog_res/MySQL%E5%9F%BA%E6%9C%ACSQL%E8%AF%AD%E5%8F%A5%EF%BC%88%E4%B8%8B%EF%BC%89.assets/image-20200826095603519.png" alt="image-20200826095603519"></p><p>åº”ç”¨åœºæ™¯ï¼šäººçš„å¹´é¾„ã€è€ƒè¯•æˆç»©ç­‰ç­‰ç›¸å…³çš„ä¿¡æ¯éƒ½å¯ä»¥ä½¿ç”¨æ•´æ•°ç±»å‹è¿›è¡Œå­˜å‚¨ï¼Œé‚£æ•´æ•°ç±»å‹æœ‰è¿™ä¹ˆå¤šå½¢å¼ï¼Œæˆ‘åº”è¯¥é€‰æ‹©å“ªä¸€ä¸ªå‘¢ï¼Ÿ</p><p>ç­”ï¼šæ•´æ•°ç±»å‹çš„é€‰æ‹©ä¸»è¦å–å†³äºæ•°å€¼çš„èŒƒå›´ã€‚</p><blockquote><p>æ¯”å¦‚å­˜å‚¨ä¸­å›½äººçš„äººå£ä¿¡æ¯ï¼Œå¯ä»¥ç”¨INTç±»å‹ä¹Ÿå¯ä»¥ç”¨BIGINTç±»å‹ï¼Œä½†æ˜¯åœ¨æ•°æ®åº“è®¾è®¡åŸåˆ™ä¸­ï¼Œä¸æ˜¯è¶Šå¤§è¶Šå¥½ï¼Œè€Œæ˜¯æ­£å¥½æ»¡è¶³æ¡ä»¶å³å¯ã€‚</p></blockquote><p>æ¡ˆä¾‹ï¼šè®¾è®¡ä¸€ä¸ªæ•°æ®è¡¨å¦‚tb_studentå­¦ç”Ÿè¡¨ï¼ˆidã€usernameã€ageã€mobileï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; use æ•°æ®åº“åç§°;mysql&gt; create table tb_student(id mediumint unsigned not null auto_increment,username varchar(20),age tinyint unsigned,mobile char(11),primary key(id)) engine=innodb default charset=utf8;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="â˜†-å°æ•°ç±»å‹ï¼ˆæµ®ç‚¹ç±»å‹ã€å®šç‚¹ç±»å‹ï¼‰"><a href="#â˜†-å°æ•°ç±»å‹ï¼ˆæµ®ç‚¹ç±»å‹ã€å®šç‚¹ç±»å‹ï¼‰" class="headerlink" title="â˜† å°æ•°ç±»å‹ï¼ˆæµ®ç‚¹ç±»å‹ã€å®šç‚¹ç±»å‹ï¼‰"></a>â˜† å°æ•°ç±»å‹ï¼ˆæµ®ç‚¹ç±»å‹ã€å®šç‚¹ç±»å‹ï¼‰</h3><h4 id="â‘ -æµ®ç‚¹ç±»å‹ï¼ˆè¿‘ä¼¼å€¼ï¼‰"><a href="#â‘ -æµ®ç‚¹ç±»å‹ï¼ˆè¿‘ä¼¼å€¼ï¼‰" class="headerlink" title="â‘  æµ®ç‚¹ç±»å‹ï¼ˆè¿‘ä¼¼å€¼ï¼‰"></a>â‘  æµ®ç‚¹ç±»å‹ï¼ˆè¿‘ä¼¼å€¼ï¼‰</h4><ul><li>FLOATå’ŒDOUBLE</li></ul><p><code>FLOAT</code>å’Œ<code>DOUBLE</code>ç±»å‹ä»£è¡¨è¿‘ä¼¼æ•°å­—æ•°æ®å€¼ã€‚MySQLå¯¹äºå•ç²¾åº¦å€¼ä½¿ç”¨å››ä¸ªå­—èŠ‚ï¼Œå¯¹äºåŒç²¾åº¦å€¼ä½¿ç”¨å…«ä¸ªå­—èŠ‚ã€‚ <code>FLOAT</code>å•ç²¾åº¦æµ®ç‚¹æ•°ç²¾ç¡®åˆ°çº¦7ä½å°æ•°ï¼Œ<code>DOUBLE</code>åŒç²¾åº¦æµ®ç‚¹æ•°ç²¾ç¡®åˆ°å¤§çº¦15ä½å°æ•° ã€‚<code>FLOAT</code><strong>ç±»å‹ä¼šéšç€æ•°å€¼çš„å¢å¤§ç²¾åº¦ä¼šå‡å°ã€‚</strong></p><p>ä¸¾ä¾‹è¯´æ˜</p><p>FLOAT(M,D)ï¼Œå…¶ä¸­ï¼ŒMè¡¨ç¤ºå­˜å‚¨çš„æœ‰æ•ˆä½æ•°ï¼ŒDä»£è¡¨å°æ•°ç‚¹åé¢çš„ä½æ•°ï¼›å³æ•´æ•°ä½æ•°+å°æ•°éƒ¨åˆ†ä¸èƒ½è¶…è¿‡Må€¼ã€‚<br>colum1 FLOAT(7,4)<br>ä¸Šé¢ä¾‹å­ä¸­ï¼Œå¦‚æœä½ æ’å…¥ä¸º999.00009åˆ°cloum1åˆ—ï¼Œé‚£ä¹ˆmysqlåœ¨å­˜å‚¨æ—¶ä¼šå››èˆäº”å…¥å˜ä¸º999.0001æ’å…¥ã€‚</p><blockquote><p>DOUBLE(7,4) ï¼šDOUBLEç±»å‹çš„ä½¿ç”¨ä¸FLOATç±»å‹å®Œå…¨ä¸€è‡´ï¼Œå”¯ä¸€çš„åŒºåˆ«å°±æ˜¯å ç”¨å­—èŠ‚ä¸åŒä¸”æµ®ç‚¹æ•°çš„ç²¾åº¦æœ‰æ‰€ä¸åŒã€‚</p></blockquote><h4 id="â‘¡-å®šç‚¹ç±»å‹ï¼ˆç²¾ç¡®å€¼ï¼‰"><a href="#â‘¡-å®šç‚¹ç±»å‹ï¼ˆç²¾ç¡®å€¼ï¼‰" class="headerlink" title="â‘¡ å®šç‚¹ç±»å‹ï¼ˆç²¾ç¡®å€¼ï¼‰"></a>â‘¡ å®šç‚¹ç±»å‹ï¼ˆç²¾ç¡®å€¼ï¼‰</h4><ul><li>DECIMALå’ŒNUMERIC</li></ul><p><code>DECIMAL</code>å’Œ<code>NUMERIC</code>&nbsp;ç±»å‹çš„å­˜å‚¨==ç²¾ç¡®çš„æ•°å€¼æ•°æ®==ã€‚ä½¿ç”¨è¿™äº›ç±»å‹æ—¶ï¼Œé‡è¦çš„æ˜¯è¦ä¿ç•™==ç²¾ç¡®çš„ç²¾åº¦==ï¼Œä¾‹å¦‚ä½¿ç”¨<strong>è´§å¸æ•°æ®</strong>ã€‚åœ¨MySQLä¸­, <code>NUMERIC</code>è¢«ä½œä¸º<code>DECIMAL</code>æ¥åº”ç”¨ï¼Œæ‰€ä»¥ä¸‹é¢çš„ä¸¾ä¾‹<code>DECIMAL</code>åŒæ ·é€‚ç”¨äº&nbsp;<code>NUMERIC</code> ã€‚</p><ul><li>ä¸¾ä¾‹è¯´æ˜</li></ul><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">salary DECIMAL(5,2)åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œè–ªæ°´å­—æ®µçš„ç±»å‹ä¸ºdecimalï¼Œè¡¨ç¤ºç²¾ç¡®çš„æ•°å­—ã€‚å…¶ä¸­ï¼Œ5ä»£è¡¨ç²¾åº¦ï¼Œ2ä»£è¡¨åˆ»åº¦ã€‚ç²¾åº¦è¡¨ç¤ºæ•°å€¼å­˜å‚¨çš„æœ‰æ•ˆä½æ•°ï¼Œåˆ»åº¦è¡¨ç¤ºå°æ•°ç‚¹åé¢å¯å­˜å‚¨çš„ä½æ•°ã€‚DECIMAL(5,2)èƒ½å¤Ÿå­˜å‚¨äº”ä½æ•°å’Œä¸¤ä½å°æ•°çš„ä»»ä½•å€¼ï¼Œå› æ­¤å¯ä»¥å­˜å‚¨åœ¨salary åˆ—ä¸­çš„å€¼çš„èŒƒå›´-999.99æ˜¯ 999.99ç‰¹æ®Šæ³¨æ„ï¼šDECIMAL(M)å’ŒDECIMAL(M,0)æ˜¯ç›¸ç­‰çš„ï¼Œå­˜å‚¨é•¿åº¦å–å†³äºMçš„å€¼ï¼Œé»˜è®¤æƒ…å†µä¸‹Må€¼ä¸º10.åˆ»åº¦ä¸º0è¡¨ç¤ºæ²¡æœ‰å°æ•°ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šå®šä¹‰ä¸€ä¸ªèŒå‘˜è¡¨tb_staffï¼Œå®šä¹‰å­—æ®µï¼ˆidã€usernameã€salaryã€addtimeï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; use db_itheima;mysql&gt; create table tb_staff(id smallint unsigned not null auto_increment,username varchar(20),salary decimal(11,2),addtime date,primary key(id)) engine=innodb default charset=utf8;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="3ã€å­—ç¬¦ä¸²ç±»å‹"><a href="#3ã€å­—ç¬¦ä¸²ç±»å‹" class="headerlink" title="3ã€å­—ç¬¦ä¸²ç±»å‹"></a>3ã€å­—ç¬¦ä¸²ç±»å‹</h2><h3 id="â˜†-CHARç±»å‹"><a href="#â˜†-CHARç±»å‹" class="headerlink" title="â˜† CHARç±»å‹"></a>â˜† CHARç±»å‹</h3><p>CHARç±»å‹çš„å­—ç¬¦ä¸²ä¸º<strong>å®šé•¿</strong>.é•¿åº¦èŒƒå›´æ˜¯0åˆ°255ä¹‹é—´çš„ä»»ä½•å€¼.å ç”¨å®šé•¿çš„å­˜å‚¨ç©ºé—´,ä¸è¶³çš„éƒ¨åˆ†ç”¨==ç©ºæ ¼==å¡«å……ï¼›è¯»å–æ—¶åˆ æ‰åé¢çš„ç©ºæ ¼ã€‚</p><p>password char(32)</p><p>mobile char(11)</p><ul><li><strong>å­˜å‚¨ç©ºé—´</strong></li></ul><p>CHAR(==M==)<strong>ç±»å‹çš„å­˜å‚¨ç©ºé—´å’Œå­—ç¬¦é›†æœ‰å…³ç³»</strong>ï¼Œä¸€ä¸ªä¸­æ–‡åœ¨utf8å­—ç¬¦é›†ä¸­å ç”¨3ä¸ªbytesã€gbkå ç”¨2ä¸ªbytesã€æ•°å­—å’Œå­—ç¬¦ç»Ÿä¸€ç”¨ä¸€ä¸ªå­—ç¬¦è¡¨ç¤ºã€‚</p><ul><li><strong>å­˜å‚¨æœºåˆ¶</strong></li></ul><p>åœ¨ä¸å¤ŸMé•¿åº¦æ—¶ï¼ŒMySQLåœ¨å­˜å‚¨æ•°æ®æ—¶ï¼Œéœ€è¦å¡«å……ç‰¹æ®Šçš„ç©ºæ ¼.</p><ul><li><strong>ä¸¾ä¾‹è¯´æ˜</strong></li></ul><p><code>å­—æ®µåç§° CHAR(M),Mè¡¨ç¤ºå­—ç¬¦æ•°</code></p><p>åº”ç”¨åœºæ™¯ï¼šåŠ å¯†åçš„å¯†ç  =&gt; char(32)ï¼Œæ‰‹æœºå·ç mobile(11)ï¼Œèº«ä»½è¯å·ç ç­‰ç­‰</p><p>æ¡ˆä¾‹ï¼šåˆ›å»ºä¸€ä¸ªtb_adminæ•°æ®è¡¨ï¼Œå®šä¹‰å­—æ®µï¼ˆidã€usernameã€passwordï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; use db_itheima;mysql&gt; create table tb_admin(id tinyint unsigned not null auto_increment,username varchar(10),password char(32),primary key(id)) engine=innodb default charset=utf8;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="â˜†-VARCHARç±»å‹"><a href="#â˜†-VARCHARç±»å‹" class="headerlink" title="â˜† VARCHARç±»å‹"></a>â˜† VARCHARç±»å‹</h3><p>VARCHARæ˜¯==å˜é•¿å­˜å‚¨==,ä»…ä½¿ç”¨å¿…è¦çš„å­˜å‚¨ç©ºé—´.</p><p>name varchar(10)</p><ul><li><strong>å­˜å‚¨ç©ºé—´</strong></li></ul><p>VARCHAR(M)ç±»å‹çš„å­˜å‚¨ç©ºé—´å’Œå­—ç¬¦é›†æœ‰å…³ç³»ï¼Œä¸€ä¸ªä¸­æ–‡åœ¨utf8å­—ç¬¦é›†ä¸­å ç”¨3ä¸ªbytesã€gbkç»Ÿä¸€å ç”¨2ä¸ªbytesã€æ•°å­—å’Œå­—ç¬¦ä¸€ä¸ªå­—ç¬¦è¡¨ç¤ºã€‚</p><ul><li><strong>å­˜å‚¨æœºåˆ¶</strong></li></ul><p>VARCHAR(M)å­—æ®µå­˜å‚¨å®é™…æ˜¯ä»<strong>ç¬¬äºŒä¸ªå­—èŠ‚å¼€å§‹å­˜å‚¨</strong>,ç„¶åç”¨1åˆ°2ä¸ªå­—èŠ‚è¡¨ç¤ºå®é™…é•¿åº¦,å‰©ä¸‹çš„æ‰æ˜¯å¯ä»¥å­˜å‚¨æ•°æ®çš„èŒƒå›´,å› æ­¤æœ€å¤§å¯ç”¨å­˜å‚¨èŒƒå›´æ˜¯65535-3=65532å­—èŠ‚;</p><p>ç¬¬ä¸€ä¸ªå­—èŠ‚æ ‡è¯†æ˜¯å¦ä¸ºç©º.ï¼ˆé•¿åº¦å°äº255å­—èŠ‚,ä½¿ç”¨ä¸€ä¸ªå­—èŠ‚æ¥è¡¨ç¤ºé•¿åº¦;å¤§äº255å­—èŠ‚ä½¿ç”¨ä¸¤ä¸ªå­—èŠ‚æ¥è¡¨ç¤ºé•¿åº¦)ã€‚</p><p>åº”ç”¨åœºæ™¯ï¼šä¸»è¦é€‚åˆå­˜å‚¨é•¿åº¦ä¸å›ºå®šçš„å­—ç¬¦ä¸²ä¿¡æ¯ï¼Œå¦‚ç”¨æˆ·åç§°ã€äº§å“æ ‡é¢˜ã€æ–°é—»æ ‡é¢˜ã€æ–°é—»æè¿°ï¼ˆä¸è¶…è¿‡255ä¸ªå­—ç¬¦ï¼‰</p><p>æ¡ˆä¾‹ï¼šåˆ›å»ºä¸€ä¸ªtb_newsæ•°æ®è¡¨ï¼Œå®šä¹‰å­—æ®µï¼ˆidã€titleã€descriptionã€addtimeï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; use db_itheima;mysql&gt; create table tb_news(id int not null auto_increment,title varchar(80),description varchar(255),addtime date,primary key(id)) engine=innodb default charset=utf8;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="â˜†-TEXTç±»å‹"><a href="#â˜†-TEXTç±»å‹" class="headerlink" title="â˜† TEXTç±»å‹"></a>â˜† TEXTç±»å‹</h3><p>TEXTä»£è¡¨æ–‡æœ¬ç±»å‹çš„æ•°æ®ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨VARCHARç±»å‹å­˜å‚¨æ•°æ®æ—¶ï¼ˆæ—©æœŸæœ€å¤§åªèƒ½å­˜å‚¨255ä¸ªå­—ç¬¦ï¼ŒMySQL5ç‰ˆæœ¬ä¸­ï¼Œå…¶gbkå¯ä»¥å­˜å‚¨3ä¸‡å¤šä¸ªå­—ç¬¦ï¼Œutf8æ ¼å¼å¯ä»¥å­˜å‚¨2ä¸‡å¤šä¸ªå­—ç¬¦ï¼‰ï¼Œå¦‚è¶…è¿‡äº†VARCHARçš„æœ€å¤§å­˜å‚¨èŒƒå›´ï¼Œåˆ™å¯ä»¥è€ƒè™‘ä½¿ç”¨TEXTæ–‡æœ¬ç±»å‹ã€‚</p><blockquote><p>ç»éªŒä¹‹è°ˆï¼š255ä¸ªå­—ç¬¦ä»¥å†…ï¼ˆåŒ…æ‹¬ï¼‰ï¼Œå®šé•¿å°±ä½¿ç”¨CHARç±»å‹ï¼Œå˜é•¿å°±ä½¿ç”¨VARCHARç±»å‹ï¼Œå¦‚æœè¶…è¿‡255ä¸ªå­—ç¬¦ï¼Œåˆ™ä½¿ç”¨TEXTæ–‡æœ¬ç±»å‹ã€‚</p></blockquote><p>åº”ç”¨åœºæ™¯ï¼šæ–‡æœ¬å†…å®¹ã€äº§å“çš„è¯¦ç»†ä»‹ç»ç­‰ç­‰</p><p>æ¡ˆä¾‹ï¼šåˆ›å»ºä¸€ä¸ªtb_goodsäº§å“è¡¨ï¼Œå®šä¹‰å­—æ®µï¼ˆidã€nameã€priceã€contentï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; use db_itheima;mysql&gt; create table tb_goods(  id int not null auto_increment,  name varchar(80),  price decimal(11,2),  content text,  primary key(id)) engine=innodb default charset=utf8;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="â˜†-å…¶ä»–ç±»å‹"><a href="#â˜†-å…¶ä»–ç±»å‹" class="headerlink" title="â˜† å…¶ä»–ç±»å‹"></a>â˜† å…¶ä»–ç±»å‹</h3><p>BLOBï¼šä¿å­˜äºŒè¿›åˆ¶çš„å¤§å‹æ•°æ®ï¼ˆå­—èŠ‚ä¸²ï¼‰ï¼Œæ²¡æœ‰å­—ç¬¦é›†ï¼Œegï¼šå›¾ç‰‡ã€éŸ³é¢‘è§†é¢‘ç­‰ã€‚</p><blockquote><p>å®é™…è¿ç»´å·¥ä½œä¸­ï¼Œå¾ˆå°‘å°†æ–‡ä»¶ç›´æ¥ä¿å­˜åœ¨æ•°æ®åº“ç«¯ï¼Œä¸€èˆ¬æ–‡ä»¶çš„å­˜å‚¨éƒ½æ˜¯åŸºäºè·¯å¾„è¿›è¡Œæ“ä½œçš„ã€‚</p></blockquote><p>ENUMæšä¸¾ç±»å‹ï¼šå¤šé€‰ä¸€ï¼Œä»ç»™å®šçš„å¤šä¸ªé€‰é¡¹ä¸­é€‰æ‹©ä¸€ä¸ªï¼Œå¦‚gender  enum(â€˜ç”·â€™,â€™å¥³â€™,â€™ä¿å¯†â€™)</p><p>SETé›†åˆç±»å‹ï¼šå¤šé€‰å¤šï¼Œä»ç»™å®šçš„å¤šä¸ªé€‰é¡¹ä¸­é€‰ä¸ªå¤šä¸ªï¼Œå¦‚hobby set(â€˜åƒé¥­â€™,â€™ç¡è§‰â€™,â€™æ‰“è±†è±†â€™)</p><h2 id="4ã€æ—¥æœŸæ—¶é—´ç±»å‹"><a href="#4ã€æ—¥æœŸæ—¶é—´ç±»å‹" class="headerlink" title="4ã€æ—¥æœŸæ—¶é—´ç±»å‹"></a>4ã€æ—¥æœŸæ—¶é—´ç±»å‹</h2><p><img src="/../assets/blog_res/MySQL%E5%9F%BA%E6%9C%ACSQL%E8%AF%AD%E5%8F%A5%EF%BC%88%E4%B8%8B%EF%BC%89.assets/image-20200826114942732.png" alt="image-20200826114942732"></p><blockquote><p>ç»éªŒä¹‹è°ˆï¼šæ—¶é—´ç±»å‹çš„é€‰æ‹©æ¯”è¾ƒç®€å•ï¼Œä¸»è¦çœ‹ä½ éœ€è¦çš„æ—¶é—´æ ¼å¼ï¼Œæ˜¯å¹´æœˆæ—¥ã€å°æ—¶åˆ†é’Ÿç§’ç­‰ç­‰ã€‚</p></blockquote><p>###ãˆ  DATEç±»å‹ï¼ˆå¹´-æœˆ-æ—¥ï¼‰</p><p>The&nbsp;<code>DATE</code>&nbsp;type is used for values with a date part but no time part. MySQL retrieves and displays&nbsp;<code>DATE</code>&nbsp;values in<code>'YYYY-MM-DD'</code>&nbsp;format. The supported range is&nbsp;<code>'1000-01-01'</code>&nbsp;to&nbsp;<code>'9999-12-31'</code>. </p><p>###ãˆ¡ DATETIME(å¹´æœˆæ—¥å°æ—¶åˆ†é’Ÿç§’)</p><p>The&nbsp;<code>DATETIME</code>&nbsp;type is used for values that contain both date and time parts. MySQL retrieves and displays<code>DATETIME</code>&nbsp;values in&nbsp;<code>'YYYY-MM-DD HH:MM:SS'</code>&nbsp;format. The supported range is&nbsp;<code>'1000-01-01 00:00:00'</code>&nbsp;to&nbsp;<code>'9999-12-31 23:59:59'</code>. </p><blockquote><p>DATETIMEèŒƒå›´ç›¸å¯¹äºTIMESTAMPèŒƒå›´æ›´å¹¿ï¼Œ<code>'1000-01-01 00:00:00'</code> to <code>'9999-12-31 23:59:59'</code></p></blockquote><p>###ãˆ¢ TIMESTAMP(å¹´æœˆæ—¥å°æ—¶åˆ†é’Ÿç§’)</p><p>The&nbsp;<code>TIMESTAMP</code>&nbsp;data type is used for values that contain both date and time parts.&nbsp;<code>TIMESTAMP</code>&nbsp;has a range of&nbsp;<code>'1970-01-01 00:00:01'</code>&nbsp;UTC to&nbsp;<code>'2038-01-19 03:14:07'</code>&nbsp;UTC. </p><blockquote><p>TIMESTAMPé€‰é¡¹å¦‚æœä¸æ’å…¥æ—¶é—´ï¼Œåˆ™MySQLä¼šè‡ªåŠ¨è°ƒç”¨ç³»ç»Ÿæ—¶é—´å†™å…¥æ•°æ®</p></blockquote><p><strong>æ³¨æ„ï¼š</strong></p><p>Invalid&nbsp;<code>DATE</code>,&nbsp;<code>DATETIME</code>, or&nbsp;<code>TIMESTAMP</code>&nbsp;values are converted to the&nbsp;â€œzeroâ€&nbsp;value of the appropriate type (<code>'0000-00-00'</code>&nbsp;or&nbsp;<code>'0000-00-00 00:00:00'</code>). </p><p>æ— æ•ˆçš„æ—¥æœŸï¼Œæ—¥æœŸæ—¶é—´ç­‰ä¼šè¢«æ›¿æ¢æˆâ€˜0000-00-00â€™æˆ–â€˜0000-00-00 00:00:00â€™</p><p>###ãˆ£ TIMEï¼ˆå°æ—¶:åˆ†é’Ÿ:ç§’ï¼‰</p><p>MySQL retrieves and displays&nbsp;<code>TIME</code>&nbsp;values in&nbsp;<code>'HH:MM:SS'</code>&nbsp;format (or&nbsp;<code>'HHH:MM:SS'</code>&nbsp;format for large hours values).<code>TIME</code>&nbsp;values may range from&nbsp;<code>'-838:59:59'</code>&nbsp;to&nbsp;<code>'838:59:59'</code>. </p><p><strong>è¯´æ˜ï¼š</strong>å°æ—¶éƒ¨åˆ†å¯ä»¥æ˜¯è¿™ä¹ˆå¤§ï¼Œå› ä¸ºå¯ä»¥ä½¿ç”¨TIMEç±»å‹ä¸ä»…ä»£è¡¨ä¸€ä¸ªæ—¶é—´(å¿…é¡»å°äº24å°æ—¶),è€Œä¸”å¯ä»¥è¡¨ç¤ºè¿è¡Œæ—¶é—´æˆ–ä¸¤ä¸ªäº‹ä»¶ä¹‹é—´çš„æ—¶é—´é—´éš”(å¯èƒ½å¤§äº24å°æ—¶,ç”šè‡³è´Ÿæ•°)ã€‚ </p><p><strong>==æ³¨æ„ï¼š==</strong></p><p>TIMEè¿™ä¸€åˆ—å¦‚æœå­˜å‚¨ç¼©å†™ï¼Œéœ€è¦æ³¨æ„mysqlçš„è§£é‡Šæ–¹å¼ã€‚<strong>æ— æ•ˆçš„æ—¶é—´å€¼ä¼šè¢«è½¬æ¢æˆâ€™00:00:00â€™</strong>&nbsp;ã€‚</p><p><code>'11:12'</code>&nbsp;means&nbsp;<code>'11:12:00'</code>, not&nbsp;<code>'00:11:12'</code>. </p><p><code>'12'</code>&nbsp;and&nbsp;<code>12</code>&nbsp;are interpreted as&nbsp;<code>'00:00:12'</code>. </p><p>###ãˆ¤ YEAR</p><p><code>YEAR(4)</code>&nbsp;and&nbsp;<code>YEAR(2)</code>&nbsp;differ in display format, but have the same range of values. </p><p>For 4-digit format, MySQL displays&nbsp;<code>YEAR</code>&nbsp;values in&nbsp;<code>YYYY</code>&nbsp;format, with a range of&nbsp;<code>1901</code>&nbsp;to&nbsp;<code>2155</code>, or&nbsp;<code>0000</code>. </p><p>For 2-digit format, MySQL displays only the last two (least significant) digits; for example,&nbsp;<code>70</code>&nbsp;(1970 or 2070) or&nbsp;<code>69</code>&nbsp;(2069). </p><p><strong>æ— æ•ˆçš„å€¼å°†ä¼šè¢«è½¬æ¢æˆâ€™0000â€™.</strong></p><p>æ¡ˆä¾‹ï¼šç¼–å†™tb_articleæ–‡ç« è¡¨ï¼Œå®šä¹‰å­—æ®µï¼ˆidã€titleã€descriptionã€addtimeï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; use db_itheima;mysql&gt; create table tb_article1(id int not null auto_increment,title varchar(80),description varchar(255),addtime datetime,primary key(id)) engine=innodb default charset=utf8;mysql&gt; create table tb_article2(id int not null auto_increment,title varchar(80),description varchar(255),addtime timestamp,primary key(id)) engine=innodb default charset=utf8;mysql&gt; insert into tb_article1 values (null,'mysqlä»å…¥é—¨åˆ°æ”¾å¼ƒ','mysqlå¾ˆå¥½å¾ˆå¼ºå¤§...',null);mysql&gt; insert into tb_article1 values (null,'mysqlä»å…¥é—¨åˆ°æ”¾å¼ƒ','mysqlå¾ˆå¥½å¾ˆå¼ºå¤§...',null);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="äºŒã€SQLæŸ¥è¯¢è¯­å¥ï¼ˆé‡ç‚¹ï¼‰"><a href="#äºŒã€SQLæŸ¥è¯¢è¯­å¥ï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="äºŒã€SQLæŸ¥è¯¢è¯­å¥ï¼ˆé‡ç‚¹ï¼‰"></a>äºŒã€SQLæŸ¥è¯¢è¯­å¥ï¼ˆé‡ç‚¹ï¼‰</h1><h2 id="1ã€å›é¡¾SQLæŸ¥è¯¢è¯­å¥"><a href="#1ã€å›é¡¾SQLæŸ¥è¯¢è¯­å¥" class="headerlink" title="1ã€å›é¡¾SQLæŸ¥è¯¢è¯­å¥"></a>1ã€å›é¡¾SQLæŸ¥è¯¢è¯­å¥</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select */å­—æ®µåˆ—è¡¨ from æ•°æ®è¡¨åç§° where æŸ¥è¯¢æ¡ä»¶;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="2ã€SQLæŸ¥è¯¢äº”å­å¥"><a href="#2ã€SQLæŸ¥è¯¢äº”å­å¥" class="headerlink" title="2ã€SQLæŸ¥è¯¢äº”å­å¥"></a>2ã€SQLæŸ¥è¯¢äº”å­å¥</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select */å­—æ®µåˆ—è¡¨ from æ•°æ®è¡¨åç§° where å­å¥ group by å­å¥ having å­å¥ order by å­å¥ limit å­å¥;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â‘  whereå­å¥</p><p>â‘¡ group byå­å¥</p><p>â‘¢ havingå­å¥</p><p>â‘£ order byå­å¥</p><p>â‘¤ limitå­å¥</p><blockquote><p>ç‰¹åˆ«æ³¨æ„ï¼šäº”å­å¥çš„é¡ºåºæ˜¯å›ºå®šçš„ï¼Œä¸èƒ½é¢ å€’ã€‚</p></blockquote><h2 id="3ã€WHEREå­å¥"><a href="#3ã€WHEREå­å¥" class="headerlink" title="3ã€WHEREå­å¥"></a>3ã€WHEREå­å¥</h2><table><thead><tr><th>ç¬¦å·</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>%</td><td>åŒ¹é…0ä¸ªæˆ–ä»»æ„å¤šä¸ªå­—ç¬¦</td></tr><tr><td>_(ä¸‹åˆ’çº¿)</td><td>åŒ¹é…å•ä¸ªå­—ç¬¦</td></tr><tr><td>like</td><td>æ¨¡ç³ŠåŒ¹é…</td></tr><tr><td>=</td><td>ç­‰äº,ç²¾ç¡®åŒ¹é…</td></tr><tr><td>&gt;</td><td>å¤§äº</td></tr><tr><td>&lt;</td><td>å°äº</td></tr><tr><td>&gt;=</td><td>å¤§äºç­‰äº</td></tr><tr><td>&lt;=</td><td>å°äºç­‰äº</td></tr><tr><td>!=å’Œ&lt;&gt;</td><td>ä¸ç­‰äº</td></tr><tr><td>! å’Œ not</td><td>é€»è¾‘é</td></tr><tr><td>|| å’Œ or</td><td>é€»è¾‘æˆ–</td></tr><tr><td>&amp;&amp; å’Œ and</td><td>é€»è¾‘ä¸</td></tr><tr><td>betweenâ€¦andâ€¦.</td><td>ä¸¤è€…ä¹‹é—´</td></tr><tr><td>in (â€¦.)</td><td>åœ¨â€¦</td></tr><tr><td>not in (â€¦.)</td><td>ä¸åœ¨</td></tr></tbody></table><p>æ¡ˆä¾‹ï¼šlikeæ¨¡ç³ŠæŸ¥è¯¢è¯­å¥ï¼ŒæŸ¥è¯¢å§“â€å…³â€çš„åŒå­¦ä¿¡æ¯ï¼ˆnameå­—æ®µå¯¹åº”å€¼åº”è¯¥ä»¥â€å…³â€å¼€å¤´ï¼‰</p><p>å‡†å¤‡æµ‹è¯•æ•°æ®</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; use db_itheima;mysql&gt; create table tb_student(id mediumint not null auto_increment,name varchar(20),age tinyint unsigned default 0,gender enum('ç”·','å¥³'),address varchar(255),primary key(id)) engine=innodb default charset=utf8;æ’å…¥æµ‹è¯•æ•°æ®mysql&gt; insert into tb_student values (null,'åˆ˜å¤‡',33,'ç”·','æ¹–åŒ—çœæ­¦æ±‰å¸‚');mysql&gt; insert into tb_student values (null,'è²‚è‰',18,'å¥³','æ¹–å—çœé•¿æ²™å¸‚');mysql&gt; insert into tb_student values (null,'å…³ç¾½',32,'ç”·','æ¹–åŒ—çœè†å·å¸‚');mysql&gt; insert into tb_student values (null,'å¤§ä¹”',20,'å¥³','æ²³å—çœæ¼¯æ²³å¸‚');mysql&gt; insert into tb_student values (null,'èµµäº‘',25,'ç”·','æ²³åŒ—çœçŸ³å®¶åº„å¸‚');mysql&gt; insert into tb_student values (null,'å°ä¹”',18,'å¥³','æ¹–åŒ—çœè†å·å¸‚');<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä½¿ç”¨likeæ¨¡ç³ŠæŸ¥è¯¢ï¼Œè·å–å§“â€å…³â€çš„åŒå­¦ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select * from tb_student where name like 'å…³%';<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>likeæ¨¡ç³ŠæŸ¥è¯¢ï¼Œæœ‰ç‚¹ç±»ä¼¼äºç®¡é“å‘½ä»¤çš„ä¸­çš„æ•°æ®æ£€ç´¢ã€‚æœ‰ä¸¤ä¸ªå…³é”®å­—ï¼š%ç™¾åˆ†å·ä¸_ä¸‹åˆ’çº¿ï¼Œ%ç™¾åˆ†å·ä»£è¡¨ä»»æ„ä¸ªä»»æ„å­—ç¬¦ï¼Œ_ä¸‹åˆ’çº¿ä»£è¡¨ä»»æ„çš„æŸä¸ªå­—ç¬¦ï¼ˆåªèƒ½åŒ¹é…1ä¸ªï¼‰</p></blockquote><p>æ¡ˆä¾‹ï¼šlikeæ¨¡ç³ŠæŸ¥è¯¢è¯­å¥ï¼ŒæŸ¥è¯¢åå­—ä¸­å¸¦â€è‰â€å­—çš„åŒå­¦ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select * from tb_student where name like '%è‰%';<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šlikeæ¨¡ç³ŠæŸ¥è¯¢è¯­å¥ï¼ŒæŸ¥è¯¢äº‘å­—ç»“å°¾ä¸”åå­—ä¸ºä¸¤ä¸ªå­—çš„åŒå­¦ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select * from tb_student where name like '_äº‘';<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šè·å–å­¦ç”Ÿè¡¨ä¸­ï¼Œidç¼–å·ä¸º3çš„åŒå­¦ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select * from tb_student where id=3;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šè·å–å¹´é¾„å¤§äº25å‘¨å²çš„åŒå­¦ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select * from tb_student where age&gt;25;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šè·å–å­¦ç”Ÿè¡¨ä¸­ï¼Œæ€§åˆ«ä¸ä¸ºç”·çš„åŒå­¦ä¿¡æ¯ï¼ˆè·å–å¥³åŒå­¦çš„ä¿¡æ¯ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select * from tb_student where gender&lt;&gt;'ç”·';<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šè·å–ç­çº§ä¸­å¹´é¾„å¤§äº30å²çš„ç”·åŒå­¦ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select * from tb_student where age&gt;30 &amp;&amp; gender='ç”·';<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šè·å–idå€¼ä¸º1ã€3ã€5çš„åŒå­¦ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select * from tb_student where id=1 or id=3 or id=5;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šè·å–å¹´é¾„åœ¨18å‘¨å²~25å‘¨å²ä¹‹é—´çš„åŒå­¦ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select * from tb_student where age&gt;=18 and age&lt;=25;æˆ–mysql&gt; select * from tb_student where age between 18 and 25;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šè·å–idå€¼ä¸º2ã€4ã€6çš„åŒå­¦ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select * from tb_student where id in (2,4,6);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="4ã€DISTINCTæ•°æ®å»é‡"><a href="#4ã€DISTINCTæ•°æ®å»é‡" class="headerlink" title="4ã€DISTINCTæ•°æ®å»é‡"></a>4ã€DISTINCTæ•°æ®å»é‡</h2><p>æ¡ˆä¾‹ï¼šè·å–tb_studentå­¦ç”Ÿè¡¨å­¦å‘˜å¹´é¾„çš„åˆ†å¸ƒæƒ…å†µã€‚</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select distinct age from tb_student;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="5ã€GROUP-BYå­å¥-é‡ç‚¹å’Œéš¾ç‚¹"><a href="#5ã€GROUP-BYå­å¥-é‡ç‚¹å’Œéš¾ç‚¹" class="headerlink" title="5ã€GROUP BYå­å¥(é‡ç‚¹å’Œéš¾ç‚¹)"></a>5ã€GROUP BYå­å¥(é‡ç‚¹å’Œéš¾ç‚¹)</h2><p>group byå­å¥çš„ä½œç”¨ï¼šå¯¹æ•°æ®è¿›è¡Œåˆ†ç»„æ“ä½œï¼Œä¸ºä»€ä¹ˆè¦è¿›è¡Œåˆ†ç»„å‘¢ï¼Ÿåˆ†ç»„çš„ç›®æ ‡å°±æ˜¯è¿›è¡Œåˆ†ç»„ç»Ÿè®¡ã€‚</p><blockquote><p>æ—¥å¸¸ç”Ÿæ´»ä¸­çš„åˆ†ç»„å¤ªå¤šäº†ï¼Œå¦‚æŒ‰ç”·å¥³è¿›è¡Œåˆ†ç»„ï¼ŒæŒ‰æˆç»©è¿›è¡Œåˆ†ç»„ï¼ŒæŒ‰é™¢æ ¡ã€ç³»éƒ¨åˆ†ç»„ï¼ŒæŒ‰éƒ¨é—¨è¿›è¡Œåˆ†ç»„ã€‚</p></blockquote><p>æ ¹æ®ç»™å®š==æ•°æ®åˆ—==çš„æŸ¥è¯¢ç»“æœè¿›è¡Œåˆ†ç»„ç»Ÿè®¡ï¼Œæœ€ç»ˆå¾—åˆ°ä¸€ä¸ª==åˆ†ç»„æ±‡æ€»è¡¨==</p><p>æ³¨ï¼šä¸€èˆ¬æƒ…å†µä¸‹group byéœ€ä¸==ç»Ÿè®¡å‡½æ•°==ä¸€èµ·ä½¿ç”¨æ‰æœ‰æ„ä¹‰</p><h3 id="â˜†-ç»Ÿè®¡å‡½æ•°"><a href="#â˜†-ç»Ÿè®¡å‡½æ•°" class="headerlink" title="â˜† ç»Ÿè®¡å‡½æ•°"></a>â˜† ç»Ÿè®¡å‡½æ•°</h3><table><thead><tr><th>å¸¸è§ç»Ÿè®¡å‡½æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>max</td><td>æ±‚æœ€å¤§å€¼</td></tr><tr><td>min</td><td>æ±‚æœ€å°å€¼</td></tr><tr><td>sum</td><td>æ±‚å’Œ</td></tr><tr><td>avg</td><td>æ±‚å¹³å‡å€¼</td></tr><tr><td>count</td><td>æ±‚æ€»è¡Œæ•°</td></tr></tbody></table><p>æ¡ˆä¾‹ï¼šæ±‚tb_studentè¡¨ä¸­ä¸€å…±æœ‰å¤šå°‘ä¸ªè®°å½•</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select count(*) from tb_student;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæ±‚å¹´é¾„çš„æœ€å¤§å€¼ä¸æœ€å°å€¼</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select max(age) from tb_student;ä¸mysql&gt; select min(age) from tb_student;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šé’ˆå¯¹idå­—æ®µæ±‚å’Œ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select sum(id) from tb_student;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæ±‚å­¦å‘˜è¡¨ä¸­å¹´é¾„çš„å¹³å‡å€¼</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select avg(age) from tb_student;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â˜†-GROUP-BYåˆ†ç»„"><a href="#â˜†-GROUP-BYåˆ†ç»„" class="headerlink" title="â˜† GROUP BYåˆ†ç»„"></a>â˜† GROUP BYåˆ†ç»„</h3><p>æ¡ˆä¾‹ï¼šæ±‚tb_studentè¡¨ä¸­ï¼Œç”·åŒå­¦çš„æ€»æ•°é‡ä¸å¥³åŒå­¦çš„æ€»æ•°é‡</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select gender,count(*) from tb_student group by gender;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>åœ¨MySQL5.7ä»¥åç‰ˆæœ¬ä¸­ï¼Œåˆ†ç»„å­—æ®µå¿…é¡»å‡ºç°åœ¨selectåé¢çš„æŸ¥è¯¢å­—æ®µä¸­</p></blockquote><p>æ¡ˆä¾‹ï¼šæ±‚tb_studentè¡¨ä¸­ï¼Œç”·åŒå­¦å¹´é¾„çš„æœ€å¤§å€¼ä¸å¥³åŒå­¦å¹´é¾„çš„æœ€å¤§å€¼</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select gender,max(age) from tb_student group by gender;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â˜†-GROUP-BYåˆ†ç»„åŸç†"><a href="#â˜†-GROUP-BYåˆ†ç»„åŸç†" class="headerlink" title="â˜† GROUP BYåˆ†ç»„åŸç†"></a>â˜† GROUP BYåˆ†ç»„åŸç†</h3><p><img src="/../assets/blog_res/MySQL%E5%9F%BA%E6%9C%ACSQL%E8%AF%AD%E5%8F%A5%EF%BC%88%E4%B8%8B%EF%BC%89.assets/image-20200826161519999.png" alt="image-20200826161519999"></p><blockquote><p>è®°ä½ï¼šä»¥ååªè¦æ¶‰åŠåˆ°æ±‚æ¯ä¸ªå­¦ç§‘ã€æ¯ä¸ªéƒ¨åˆ†ã€æ¯ä¸ªå¹´çº§ã€æ¯ä¸ªç³»éƒ¨è–ªèµ„æœ€é«˜ã€æˆç»©æœ€å¥½ã€è–ªèµ„çš„å¹³å‡å€¼ç­‰ç­‰ï¼Œå°±æ˜¯åŸºäºGROUP BY + ç»Ÿè®¡å‡½æ•°ã€‚</p></blockquote><h2 id="6ã€HAVINGå­å¥"><a href="#6ã€HAVINGå­å¥" class="headerlink" title="6ã€HAVINGå­å¥"></a>6ã€HAVINGå­å¥</h2><ul><li><p>havingä¸whereç±»ä¼¼ï¼Œæ ¹æ®æ¡ä»¶å¯¹==æ•°æ®==è¿›è¡Œè¿‡æ»¤ç­›é€‰</p></li><li><p>where==é’ˆå¯¹è¡¨ä¸­çš„åˆ—==å‘æŒ¥ä½œç”¨ï¼ŒæŸ¥è¯¢æ•°æ®</p></li><li><p>having==é’ˆå¯¹æŸ¥è¯¢ç»“æœé›†==å‘æŒ¥ä½œç”¨ï¼Œç­›é€‰æ•°æ®</p></li></ul><p>æ¡ˆä¾‹ï¼šhavingåœ¨åšç®€å•æŸ¥è¯¢æ—¶å¯ä»¥æ›¿ä»£whereå­å¥</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select * from tb_student having age&gt;20;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŒ‰å­¦ç§‘è¿›è¡Œåˆ†ç»„ï¼Œæ±‚æ¯ä¸ªå­¦ç§‘æ‹¥æœ‰å¤šå°‘äºº</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; create table tb_student(id mediumint not null auto_increment,name varchar(20),age tinyint unsigned default 0,gender enum('ç”·','å¥³'),subject enum('ui','java','yunwei','python'),primary key(id)) engine=innodb default charset=utf8;mysql&gt; insert into tb_student values (null,'æ‚Ÿç©º',255,'ç”·','ui');mysql&gt; insert into tb_student values (null,'å…«æˆ’',250,'ç”·','python');mysql&gt; insert into tb_student values (null,'å”åƒ§',30,'ç”·','yunwei');mysql&gt; insert into tb_student values (null,'æ²™åƒ§',150,'ç”·','java');mysql&gt; insert into tb_student values (null,'å°ç™½é¾™',100,'ç”·','yunwei');mysql&gt; insert into tb_student values (null,'ç™½éª¨ç²¾',28,'å¥³','ui');mysql&gt; insert into tb_student values (null,'å…”å­ç²¾',22,'å¥³','yunwei');mysql&gt; insert into tb_student values (null,'ç‹®å­ç²¾',33,'ç”·','yunwei');æˆ–mysql&gt; insert into tb_student values (null,'æ‚Ÿç©º',255,'ç”·','ui'),(null,'å…«æˆ’',250,'ç”·','python'),(null,'å”åƒ§',30,'ç”·','yunwei'),(null,'æ²™åƒ§',150,'ç”·','java'),(null,'å°ç™½é¾™',100,'ç”·','yunwei'),(null,'ç™½éª¨ç²¾',28,'å¥³','ui'),(null,'å…”å­ç²¾',22,'å¥³','yunwei'),(null,'ç‹®å­ç²¾',33,'ç”·','yunwei');<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select subject,count(*) from tb_student group by subject;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæ±‚æ¯ä¸ªå­¦ç§‘ä¸­ï¼Œå­¦ç§‘äººæ•°å¤§äº3äººçš„å­¦ç§‘ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select subject,count(*) from tb_student group by subject having count(*)&gt;3;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="7ã€ORDER-BYå­å¥"><a href="#7ã€ORDER-BYå­å¥" class="headerlink" title="7ã€ORDER BYå­å¥"></a>7ã€ORDER BYå­å¥</h2><p>ä¸»è¦ä½œç”¨çš„å°±æ˜¯å¯¹æ•°æ®è¿›è¡Œæ’åºï¼ˆå‡åºã€é™åºï¼‰</p><p>å‡åºï¼šä»å°åˆ°å¤§ï¼Œ1,2,3,4,5</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select * from æ•°æ®è¡¨åç§° ... order by å­—æ®µåç§° asc;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é™åºï¼šä»å¤§åˆ°å°ï¼Œ5,4,3,2,1</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select * from æ•°æ®è¡¨åç§° ... order by å­—æ®µåç§° desc;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŒ‰å¹´é¾„è¿›è¡Œæ’åºï¼ˆç”±å¤§åˆ°å°ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select * from tb_student order by age desc;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="8ã€LIMITå­å¥"><a href="#8ã€LIMITå­å¥" class="headerlink" title="8ã€LIMITå­å¥"></a>8ã€LIMITå­å¥</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select * from æ•°æ®è¡¨åç§° ... limit number; æŸ¥è¯¢æ»¡è¶³æ¡ä»¶çš„numberæ¡æ•°æ®æˆ–mysql&gt; select * from æ•°æ®è¡¨åç§° ... limit offset,number; ä»åç§»é‡ä¸ºoffsetå¼€å§‹æŸ¥è¯¢ï¼ŒæŸ¥è¯¢numberæ¡è®°å½•offsetçš„å€¼ä»0å¼€å§‹<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>offsetåç§»é‡ï¼š</p><p><img src="/../assets/blog_res/MySQL%E5%9F%BA%E6%9C%ACSQL%E8%AF%AD%E5%8F%A5%EF%BC%88%E4%B8%8B%EF%BC%89.assets/image-20200826170515365.png" alt="image-20200826170515365"></p><p>æ¡ˆä¾‹ï¼šè·å–å­¦ç”Ÿè¡¨ä¸­ï¼Œå¹´é¾„æœ€å¤§çš„å­¦å‘˜ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select * from tb_student order by age desc limit 1;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šä»åç§»é‡ä¸º1çš„å…ƒç´ å¼€å§‹æŸ¥è¯¢ï¼ŒæŸ¥è¯¢2æ¡è®°å½•</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select * from tb_student limit 1,2;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>LIMITå­å¥åœ¨å¼€å‘é¡¹ç›®ä¸­ï¼Œä¸»è¦åº”ç”¨äºæ•°æ®åˆ†é¡µã€‚</p></blockquote><p>æ¡ˆä¾‹ï¼šå®ç°æ•°æ®åˆ†é¡µï¼ˆå‚è€ƒä¸Šå›¾ï¼‰</p><p>ç¬¬ä¸€é¡µï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select * from tb_student limit 0,2;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬äºŒé¡µï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select * from tb_student limit 2,2;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h1 id="ä¸‰ã€SQLå¤šè¡¨æŸ¥è¯¢ï¼ˆäº†è§£ï¼‰"><a href="#ä¸‰ã€SQLå¤šè¡¨æŸ¥è¯¢ï¼ˆäº†è§£ï¼‰" class="headerlink" title="ä¸‰ã€SQLå¤šè¡¨æŸ¥è¯¢ï¼ˆäº†è§£ï¼‰"></a>ä¸‰ã€SQLå¤šè¡¨æŸ¥è¯¢ï¼ˆäº†è§£ï¼‰</h1><h2 id="1ã€ä»€ä¹ˆæ˜¯å¤šè¡¨æŸ¥è¯¢"><a href="#1ã€ä»€ä¹ˆæ˜¯å¤šè¡¨æŸ¥è¯¢" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯å¤šè¡¨æŸ¥è¯¢"></a>1ã€ä»€ä¹ˆæ˜¯å¤šè¡¨æŸ¥è¯¢</h2><p>æˆ‘ä»¬åˆšæ‰å­¦ä¹ çš„SQLäº”å­å¥éƒ½ä¸»è¦æ˜¯é’ˆå¯¹å•è¡¨æƒ…å†µï¼Œæˆ‘ä»¬åœ¨å®é™…å·¥ä½œä¸­ï¼Œä¹Ÿå¯èƒ½ä¼šæ¥è§¦åˆ°ä¸€äº›å¤æ‚çš„å¤šè¡¨æŸ¥è¯¢ã€‚</p><h2 id="2ã€UNIONè”åˆæŸ¥è¯¢"><a href="#2ã€UNIONè”åˆæŸ¥è¯¢" class="headerlink" title="2ã€UNIONè”åˆæŸ¥è¯¢"></a>2ã€UNIONè”åˆæŸ¥è¯¢</h2><p>UNIONè”åˆæŸ¥è¯¢çš„ä½œç”¨ï¼šæŠŠå¤šä¸ªè¡¨ä¸­çš„æ•°æ®è”åˆåœ¨ä¸€èµ·è¿›è¡Œæ˜¾ç¤ºã€‚åº”ç”¨åœºæ™¯ï¼šåˆ†åº“åˆ†è¡¨</p><p>ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºä¸¤ä¸ªç»“æ„ç›¸åŒçš„å­¦ç”Ÿè¡¨tb_student1ä¸tb_student2</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; create table tb_student1(id mediumint not null auto_increment,name varchar(20),age tinyint unsigned default 0,gender enum('ç”·','å¥³'),subject enum('ui','java','yunwei','python'),primary key(id)) engine=innodb default charset=utf8;mysql&gt; insert into tb_student1 values (1,'æ‚Ÿç©º',255,'ç”·','ui');mysql&gt; create table tb_student2(id mediumint not null auto_increment,name varchar(20),age tinyint unsigned default 0,gender enum('ç”·','å¥³'),subject enum('ui','java','yunwei','python'),primary key(id)) engine=innodb default charset=utf8;mysql&gt; insert into tb_student2 values (2,'å”åƒ§',30,'ç”·','yunwei');<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬äºŒæ­¥ï¼šä½¿ç”¨UNIONè¿›è¡Œè”åˆæŸ¥è¯¢</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select * from tb_student1 union select * from tb_student2;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="3ã€äº¤å‰æŸ¥è¯¢ï¼ˆäº†è§£ï¼‰"><a href="#3ã€äº¤å‰æŸ¥è¯¢ï¼ˆäº†è§£ï¼‰" class="headerlink" title="3ã€äº¤å‰æŸ¥è¯¢ï¼ˆäº†è§£ï¼‰"></a>3ã€äº¤å‰æŸ¥è¯¢ï¼ˆäº†è§£ï¼‰</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select */å­—æ®µåˆ—è¡¨ from æ•°æ®è¡¨1,æ•°æ®è¡¨2;æˆ–mysql&gt; select */å­—æ®µåˆ—è¡¨ from æ•°æ®è¡¨1 cross join æ•°æ®è¡¨2;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œç»“æœï¼š</p><p>å­—æ®µæ€»æ•° = æ•°æ®è¡¨1çš„å­—æ®µ + æ•°æ®è¡¨2çš„å­—æ®µ</p><p>æ€»è®°å½•æ•° = æ•°æ®è¡¨1çš„è®°å½•æ•° * æ•°æ®è¡¨2çš„è®°å½•æ•° =&gt; (ç¬›å¡å°”ç§¯)</p><p>å‡†å¤‡ä¸¤å¼ æ•°æ®è¡¨ï¼šäº§å“åˆ†ç±»è¡¨ ä¸ äº§å“çš„ä¿¡æ¯è¡¨</p><p>tb_category</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; create table tb_category(id smallint not null auto_increment,name varchar(20),pid smallint default 0,primary key(id)) engine=innodb default charset=utf8;insert into tb_category values (null,'æ‰‹æœº',0);=&gt;  id=1insert into tb_cateogry values (null,'ç”µè„‘',0);=&gt;  id=2insert into tb_category values (null,'æ¸¸æˆæ‰‹æœº',1);   =&gt;  æ¸¸æˆæ‰‹æœºå±äºæ‰‹æœºåˆ†ç±»<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>pidä»£è¡¨æ‰€å±çš„çˆ¶çº§ç±»åˆ«ï¼Œå¦‚æœè‡ªå·±å°±æ˜¯é¡¶çº§åˆ†ç±»ï¼Œåˆ™ä¸º0</p></blockquote><p>tb_goods</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; create table tb_goods(id int not null auto_increment,title varchar(80),price decimal(11,2),cid smallint default 0,primary key(id)) engine=innodb default charset=utf8;insert into tb_goods values (null,'IPhone 11',5699.00,1);insert into tb_goods values (null,'MI 10',4699.00,1);insert into tb_goods values (null,'ThinkPad X1',9999.00,2);insert into tb_goods values (null,'Nike air',999.00,10);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>cidä»£è¡¨äº§å“çš„æ‰€å±åˆ†ç±»ç¼–å·ï¼Œä¸tb_categoryè¡¨è¦ä¸€ä¸€å¯¹åº”</p></blockquote><p>æ¡ˆä¾‹ï¼šæŠŠåˆ†ç±»è¡¨ä¸äº§å“è¡¨è¿›è¡Œäº¤å‰ï¼Œæ±‚ç»“æœ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select * from tb_category cross join tb_goods;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/../assets/blog_res/MySQL%E5%9F%BA%E6%9C%ACSQL%E8%AF%AD%E5%8F%A5%EF%BC%88%E4%B8%8B%EF%BC%89.assets/image-20200826174322790.png" alt="image-20200826174322790"></p><blockquote><p>äº¤å‰è¿æ¥æœ¬èº«æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œå…¶åªæ˜¯å¼ºåˆ¶æŠŠä¸¤ä¸ªè¡¨ç”šè‡³å¤šä¸ªè¡¨è¿›è¡Œè¿æ¥åœ¨ä¸€èµ·ã€‚ä½†æ˜¯äº¤å‰æŸ¥è¯¢ä¸­ä¹Ÿæœ‰æ­£ç¡®çš„ç»“æœï¼Œæ‰€ä»¥æˆ‘ä»¬æ‰€è°“çš„å¤šè¡¨è¿æ¥åªéœ€è¦åœ¨äº¤å‰è¿æ¥çš„åŸºç¡€ä¸Šå¢åŠ ä¸€ä¸ªè¿æ¥æ¡ä»¶ï¼Œåˆ™å°±æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœäº†ã€‚æ‰€ä»¥äº¤å‰æŸ¥è¯¢æ˜¯å¤šè¡¨æŸ¥è¯¢çš„åŸºç¡€ã€‚</p></blockquote><h2 id="4ã€å†…è¿æ¥æŸ¥è¯¢ï¼ˆé‡ç‚¹ï¼‰"><a href="#4ã€å†…è¿æ¥æŸ¥è¯¢ï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="4ã€å†…è¿æ¥æŸ¥è¯¢ï¼ˆé‡ç‚¹ï¼‰"></a>4ã€å†…è¿æ¥æŸ¥è¯¢ï¼ˆé‡ç‚¹ï¼‰</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select æ•°æ®è¡¨1.å­—æ®µåˆ—è¡¨,æ•°æ®è¡¨2.å­—æ®µåˆ—è¡¨ from æ•°æ®è¡¨1 inner join æ•°æ®è¡¨2 on è¿æ¥æ¡ä»¶;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šè·å–äº§å“è¡¨ä¸­æ¯ä¸ªäº§å“çš„åˆ†ç±»ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select tb_goods.*,tb_category.name from tb_goods inner join tb_category on tb_goods.cid=tb_category.id;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>å†…è¿æ¥æŸ¥è¯¢ï¼šæŠŠä¸¤ä¸ªè¡¨ç”šè‡³å¤šä¸ªè¡¨è¿›è¡Œè¿æ¥ï¼Œç„¶åæ‹¿è¡¨1ä¸­çš„æ¯ä¸€æ¡è®°å½•ä¸è¡¨2ä¸­çš„æ¯ä¸€æ¡è®°å½•è¿›è¡ŒåŒ¹é…ï¼Œå¦‚æœæœ‰ä¸ä¹‹å¯¹åº”çš„ç»“æœï¼Œåˆ™æ˜¾ç¤ºã€‚åä¹‹ï¼Œåˆ™å¿½ç•¥è¿™æ¡è®°å½•ã€‚</p></blockquote><h2 id="5ã€å¤–è¿æ¥æŸ¥è¯¢ï¼ˆé‡ç‚¹ï¼‰"><a href="#5ã€å¤–è¿æ¥æŸ¥è¯¢ï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="5ã€å¤–è¿æ¥æŸ¥è¯¢ï¼ˆé‡ç‚¹ï¼‰"></a>5ã€å¤–è¿æ¥æŸ¥è¯¢ï¼ˆé‡ç‚¹ï¼‰</h2><p>å†…è¿æ¥æŸ¥è¯¢è¦æ±‚ï¼šè¡¨1å’Œè¡¨2ä¸­çš„æ¯ä¸€æ¡è®°å½•å¿…é¡»è¦ä¸€ä¸€å¯¹åº”ï¼Œå¦‚æœæ— æ³•åŒ¹é…ï¼Œåˆ™è¿™æ¡è®°å½•ä¼šè¢«è‡ªåŠ¨è¢«å¿½ç•¥æ‰ï¼Œé‚£å¦‚æœæˆ‘éœ€è¦ä¿ç•™è¡¨1ä¸­çš„æ‰€æœ‰è®°å½•æˆ–è¡¨2ä¸­çš„æ‰€æœ‰è®°å½•æ€ä¹ˆåŠå‘¢ï¼Ÿ</p><p>ç­”ï¼šä½¿ç”¨å¤–è¿æ¥æŸ¥è¯¢</p><p>åŸºæœ¬è¯­æ³•ï¼š</p><p>å·¦å¤–è¿æ¥æŸ¥è¯¢ï¼šæŠŠå·¦è¡¨ä¸­çš„æ¯ä¸€æ¡æ•°æ®éƒ½ä¿ç•™ï¼Œå³è¡¨åŒ¹é…åˆ°ç»“æœå°±æ˜¾ç¤ºï¼ŒåŒ¹é…ä¸åˆ°å°±NULL</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">select æ•°æ®è¡¨1.å­—æ®µåˆ—è¡¨,æ•°æ®è¡¨2.å­—æ®µåˆ—è¡¨ from æ•°æ®è¡¨1 left join æ•°æ®è¡¨2 on è¿æ¥æ¡ä»¶;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å³å¤–è¿æ¥æŸ¥è¯¢ï¼šæŠŠå³è¡¨ä¸­çš„æ¯ä¸€æ¡æ•°æ®éƒ½ä¿ç•™ï¼Œå·¦è¡¨åŒ¹é…åˆ°ç»“æœå°±æ˜¾ç¤ºï¼ŒåŒ¹é…ä¸åˆ°å°±NULL</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">select æ•°æ®è¡¨1.å­—æ®µåˆ—è¡¨,æ•°æ®è¡¨2.å­—æ®µåˆ—è¡¨ from æ•°æ®è¡¨1 right join æ•°æ®è¡¨2 on è¿æ¥æ¡ä»¶;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šè·å–äº§å“è¡¨ä¸­æ¯ä¸ªäº§å“çš„åˆ†ç±»ä¿¡æ¯ï¼ˆæ— è®ºåŒ¹é…åˆ°ä¸å¦ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select tb_goods.*,tb_category.name from tb_goods left join tb_category on tb_goods.cid=tb_category.id;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="6ã€åˆ«åæœºåˆ¶ï¼šç®€åŒ–å†…å¤–è¿æ¥"><a href="#6ã€åˆ«åæœºåˆ¶ï¼šç®€åŒ–å†…å¤–è¿æ¥" class="headerlink" title="6ã€åˆ«åæœºåˆ¶ï¼šç®€åŒ–å†…å¤–è¿æ¥"></a>6ã€åˆ«åæœºåˆ¶ï¼šç®€åŒ–å†…å¤–è¿æ¥</h2><p>æ¡ˆä¾‹ï¼šè·å–äº§å“è¡¨ä¸­æ¯ä¸ªäº§å“çš„åˆ†ç±»ä¿¡æ¯ï¼ˆæ— è®ºåŒ¹é…åˆ°ä¸å¦ï¼‰</p><p>åŸå§‹è¯­å¥ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">mysql&gt; select tb_goods.*,tb_category.name from tb_goods left join tb_category on tb_goods.cid=tb_category.id;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç»™æ•°æ®è¡¨èµ·ä¸ªç®€å•çš„åå­—ï¼Œå¦‚tb_categoryå«cï¼Œtb_goodså«g</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">â‘  mysql&gt; select * from tb_goods left join tb_category;èµ·åˆ«åâ‘¡ mysql&gt; select * from tb_goods g left join tb_category c;å†™onæ¡ä»¶â‘¢ mysql&gt; select * from tb_goods g left join tb_category c on g.cid=c.id;ç­›é€‰å­—æ®µâ‘£ mysql&gt; select g.*,c.name from tb_goods g left join tb_category c on g.cid=c.id;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
          <category> mysql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> å­¦ä¹  </tag>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LAMPé¡¹ç›®éƒ¨ç½²å®æˆ˜</title>
      <link href="/2023/12/23/lamp-xiang-mu-bu-shu-shi-zhan/"/>
      <url>/2023/12/23/lamp-xiang-mu-bu-shu-shi-zhan/</url>
      
        <content type="html"><![CDATA[<h1 id="LAMPé¡¹ç›®éƒ¨ç½²å®æˆ˜"><a href="#LAMPé¡¹ç›®éƒ¨ç½²å®æˆ˜" class="headerlink" title="LAMPé¡¹ç›®éƒ¨ç½²å®æˆ˜"></a>LAMPé¡¹ç›®éƒ¨ç½²å®æˆ˜</h1><h1 id="ä¸€ã€LAMPç¯å¢ƒéƒ¨ç½²"><a href="#ä¸€ã€LAMPç¯å¢ƒéƒ¨ç½²" class="headerlink" title="ä¸€ã€LAMPç¯å¢ƒéƒ¨ç½²"></a>ä¸€ã€LAMPç¯å¢ƒéƒ¨ç½²</h1><h2 id="1ã€å›é¡¾LAMP"><a href="#1ã€å›é¡¾LAMP" class="headerlink" title="1ã€å›é¡¾LAMP"></a>1ã€å›é¡¾LAMP</h2><p>LAMP = Linux + Apache + MySQL + PHP</p><p><img src="/../assets/blog_res/LAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200327093726255.png" alt="image-20200327093726255"></p><p>Apacheï¼šä¸»è¦ç”¨äºæ¥æ”¶ç”¨æˆ·çš„è¯·æ±‚ï¼Œå¤„ç†ä¸šåŠ¡é€»è¾‘ï¼Œè¿”å›ç»“æœç»™å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰</p><p>PHPï¼šç¼–ç¨‹è¯­è¨€çš„ä¸€ç§ï¼Œä¸»è¦åº”ç”¨äºWebå¼€å‘ã€‚ä¸»è¦å®ç°æ³¨å†Œã€ç™»å½•ã€åŠ å…¥è´­ç‰©è½¦ã€ä¸‹å•ã€æ”¯ä»˜ç­‰åŠŸèƒ½</p><p>MySQLï¼šæ•°æ®åº“ï¼Œåˆ åº“åˆ°è·‘è·¯ï¼Œè¿™é‡Œçš„â€åº“â€å°±æ˜¯æŒ‡æ•°æ®åº“ã€‚æ°¸ä¹…ä¿å­˜æ•°æ®</p><h2 id="2ã€LAMPéƒ¨ç½²å‰æœŸå‡†å¤‡"><a href="#2ã€LAMPéƒ¨ç½²å‰æœŸå‡†å¤‡" class="headerlink" title="2ã€LAMPéƒ¨ç½²å‰æœŸå‡†å¤‡"></a>2ã€LAMPéƒ¨ç½²å‰æœŸå‡†å¤‡</h2><h3 id="â˜†-å…³é—­é˜²ç«å¢™"><a href="#â˜†-å…³é—­é˜²ç«å¢™" class="headerlink" title="â˜† å…³é—­é˜²ç«å¢™"></a>â˜† å…³é—­é˜²ç«å¢™</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl stop firewalld# systemctl disable firewalld<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="â˜†-å…³é—­SELinux"><a href="#â˜†-å…³é—­SELinux" class="headerlink" title="â˜† å…³é—­SELinux"></a>â˜† å…³é—­SELinux</h3><p><em>SELinux</em>(Security-Enhanced Linux) æ˜¯ç¾å›½å›½å®¶å®‰å…¨å±€ï¼ˆNSAï¼‰å¯¹äºå¼ºåˆ¶è®¿é—®æ§åˆ¶çš„å®ç°ï¼Œæ˜¯ Linuxå†å²ä¸Šæœ€æ°å‡ºçš„æ–°å®‰å…¨å­ç³»ç»Ÿã€‚</p><p>è·å–SELinuxçš„çŠ¶æ€ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># getenforce<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸´æ—¶å…³é—­SElinuxï¼šé‡å¯åSELinuxè¿˜ä¼šè‡ªåŠ¨å¯åŠ¨</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># setenforce 0<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ°¸ä¹…å…³é—­SELinuxï¼šç¼–è¾‘SELinuxçš„é…ç½®æ–‡ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/selinux/configSELINUX=disabled<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="â˜†-æ£€æŸ¥ç³»ç»Ÿä¸­æ˜¯å¦å·²å®‰è£…Apache"><a href="#â˜†-æ£€æŸ¥ç³»ç»Ÿä¸­æ˜¯å¦å·²å®‰è£…Apache" class="headerlink" title="â˜† æ£€æŸ¥ç³»ç»Ÿä¸­æ˜¯å¦å·²å®‰è£…Apache"></a>â˜† æ£€æŸ¥ç³»ç»Ÿä¸­æ˜¯å¦å·²å®‰è£…Apache</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rpm -qa |grep httpd# rpm -e httpd-2.4.6-90.el7.centos.x86_64# rpm -e httpd-tools-2.4.6-90.el7.centos.x86_64<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="â˜†-æ£€æŸ¥ç³»ç»Ÿä¸­æ˜¯å¦å·²å®‰è£…MySQL"><a href="#â˜†-æ£€æŸ¥ç³»ç»Ÿä¸­æ˜¯å¦å·²å®‰è£…MySQL" class="headerlink" title="â˜† æ£€æŸ¥ç³»ç»Ÿä¸­æ˜¯å¦å·²å®‰è£…MySQL"></a>â˜† æ£€æŸ¥ç³»ç»Ÿä¸­æ˜¯å¦å·²å®‰è£…MySQL</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rpm -qa |grep mysql<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â˜†-æ£€æŸ¥ç³»ç»Ÿä¸­æ˜¯å¦å·²å®‰è£…PHP"><a href="#â˜†-æ£€æŸ¥ç³»ç»Ÿä¸­æ˜¯å¦å·²å®‰è£…PHP" class="headerlink" title="â˜† æ£€æŸ¥ç³»ç»Ÿä¸­æ˜¯å¦å·²å®‰è£…PHP"></a>â˜† æ£€æŸ¥ç³»ç»Ÿä¸­æ˜¯å¦å·²å®‰è£…PHP</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rpm -qa |grep php<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>AMPå®‰è£…æŒ‡å—ï¼šåœ¨Linuxä¸­å®‰è£…AMPå¿…é¡»å…ˆå®‰è£…Apacheï¼Œåœ¨å®‰è£…MySQLï¼Œæœ€åå®‰è£…PHP</p></blockquote><h2 id="3ã€LAMPç¯å¢ƒä¹‹Apacheå®‰è£…"><a href="#3ã€LAMPç¯å¢ƒä¹‹Apacheå®‰è£…" class="headerlink" title="3ã€LAMPç¯å¢ƒä¹‹Apacheå®‰è£…"></a>3ã€LAMPç¯å¢ƒä¹‹Apacheå®‰è£…</h2><p>Apacheï¼šé˜¿å¸•å¥‡ï¼ŒApacheåŸºé‡‘ä¼š</p><p>httpdè½¯ä»¶ =&gt; å‰èº«apacheï¼Œéšç€æ—¶é—´çš„æ¨ç§»ä»¥åŠäº’è”ç½‘è¡Œä¸šçš„å‘å±•ï¼Œè¶Šæ¥è¶Šå¤šçš„è½¯ä»¶åŠ å…¥åˆ°äº†Apacheçš„åŸºé‡‘ä¼šã€‚</p><p>ç¬¬ä¸€æ­¥ï¼šå®‰è£…httpdè½¯ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install httpd -y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬äºŒæ­¥ï¼šé…ç½®/etc/httpd/conf/httpd.confæ–‡ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/httpd/conf/httpd.conf/ServerName =&gt; æœç´¢96 ServerName localhost:80<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><blockquote><p>localhost ï¼š ä»£è¡¨æœ¬æœºï¼Œå¯¹åº”çš„IPåœ°å€å¯ä»¥ä½¿127.0.0.1æˆ–æœ¬æœºçš„å…¬ç½‘IP</p></blockquote><p>ç¬¬ä¸‰æ­¥ï¼šå¯åŠ¨httpdæœåŠ¡</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl start httpd<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬å››æ­¥ï¼šæŠŠhttpdæœåŠ¡æ·»åŠ åˆ°å¼€æœºå¯åŠ¨é¡¹ä¸­</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl enable httpd<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬äº”æ­¥ï¼šä½¿ç”¨ssæˆ–netstatå‘½ä»¤æŸ¥è¯¢httpdå ç”¨çš„ç«¯å£</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># netstat -tnlp |grep httpdæˆ–# ss -naltp |grep httpd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç¬¬å…­æ­¥ï¼šåœ¨æµè§ˆå™¨ä¸­ï¼Œä½¿ç”¨å…¬ç½‘IPè®¿é—®é˜¿é‡Œäº‘æœåŠ¡å™¨</p><p><img src="/../assets/blog_res/LAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200327104156113.png" alt="image-20200327104156113"></p><h2 id="4ã€LAMPç¯å¢ƒä¹‹MySQLå®‰è£…"><a href="#4ã€LAMPç¯å¢ƒä¹‹MySQLå®‰è£…" class="headerlink" title="4ã€LAMPç¯å¢ƒä¹‹MySQLå®‰è£…"></a>4ã€LAMPç¯å¢ƒä¹‹MySQLå®‰è£…</h2><h3 id="â˜†-ä¸‹è½½MySQLçš„å®˜ç½‘yumæº"><a href="#â˜†-ä¸‹è½½MySQLçš„å®˜ç½‘yumæº" class="headerlink" title="â˜† ä¸‹è½½MySQLçš„å®˜ç½‘yumæº"></a>â˜† ä¸‹è½½MySQLçš„å®˜ç½‘yumæº</h3><p>ç”±äºyumæºä¸Šé»˜è®¤æ²¡æœ‰mysql-serverã€‚æ‰€ä»¥å¿…é¡»å»å®˜ç½‘ä¸‹è½½ååœ¨å®‰è£…</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># wget http://dev.mysql.com/get/mysql-community-release-el7-5.noarch.rpm<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â˜†-å®‰è£…MySQLçš„å®˜ç½‘é•œåƒæº"><a href="#â˜†-å®‰è£…MySQLçš„å®˜ç½‘é•œåƒæº" class="headerlink" title="â˜† å®‰è£…MySQLçš„å®˜ç½‘é•œåƒæº"></a>â˜† å®‰è£…MySQLçš„å®˜ç½‘é•œåƒæº</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rpm -ivh mysql-community-release-el7-5.noarch.rpm<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â˜†-ä½¿ç”¨yumå®‰è£…mysqlæœ€æ–°ç‰ˆè½¯ä»¶"><a href="#â˜†-ä½¿ç”¨yumå®‰è£…mysqlæœ€æ–°ç‰ˆè½¯ä»¶" class="headerlink" title="â˜† ä½¿ç”¨yumå®‰è£…mysqlæœ€æ–°ç‰ˆè½¯ä»¶"></a>â˜† ä½¿ç”¨yumå®‰è£…mysqlæœ€æ–°ç‰ˆè½¯ä»¶</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install mysql-community-server -y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>MySQLè½¯ä»¶æ˜¯ä¸€ä¸ªC/Sæ¶æ„çš„è½¯ä»¶ï¼Œæ‹¥æœ‰å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ç«¯ã€‚mysql-serveræœåŠ¡å™¨ç«¯ï¼ˆå†…éƒ¨ä¹ŸåŒ…å«äº†å®¢æˆ·ç«¯ï¼‰ï¼Œcommunityä»£è¡¨ç¤¾åŒºç‰ˆï¼ˆå…è´¹å¼€æºï¼‰</p></blockquote><h3 id="â˜†-å¯åŠ¨mysqlï¼ŒæŸ¥çœ‹ç«¯å£å ç”¨æƒ…å†µ"><a href="#â˜†-å¯åŠ¨mysqlï¼ŒæŸ¥çœ‹ç«¯å£å ç”¨æƒ…å†µ" class="headerlink" title="â˜† å¯åŠ¨mysqlï¼ŒæŸ¥çœ‹ç«¯å£å ç”¨æƒ…å†µ"></a>â˜† å¯åŠ¨mysqlï¼ŒæŸ¥çœ‹ç«¯å£å ç”¨æƒ…å†µ</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl start mysqld# netstat -tnlp |grep mysqld<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="â˜†-MySQLæ•°æ®åº“åˆå§‹åŒ–ï¼ˆé‡è¦ï¼‰"><a href="#â˜†-MySQLæ•°æ®åº“åˆå§‹åŒ–ï¼ˆé‡è¦ï¼‰" class="headerlink" title="â˜† MySQLæ•°æ®åº“åˆå§‹åŒ–ï¼ˆé‡è¦ï¼‰"></a>â˜† MySQLæ•°æ®åº“åˆå§‹åŒ–ï¼ˆé‡è¦ï¼‰</h3><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ•°æ®åº“æ²¡æœ‰å¯†ç ï¼Œä¹Ÿæ²¡æœ‰ä»»ä½•æ•°æ®ï¼Œå¿…é¡»è¦åˆå§‹åŒ–</p><h4 id="â‘ -åˆå§‹åŒ–æ•°æ®ï¼Œè®¾ç½®rootå¯†ç ï¼ˆMySQLç®¡ç†å‘˜ï¼‰"><a href="#â‘ -åˆå§‹åŒ–æ•°æ®ï¼Œè®¾ç½®rootå¯†ç ï¼ˆMySQLç®¡ç†å‘˜ï¼‰" class="headerlink" title="â‘  åˆå§‹åŒ–æ•°æ®ï¼Œè®¾ç½®rootå¯†ç ï¼ˆMySQLç®¡ç†å‘˜ï¼‰"></a>â‘  åˆå§‹åŒ–æ•°æ®ï¼Œè®¾ç½®rootå¯†ç ï¼ˆMySQLç®¡ç†å‘˜ï¼‰</h4><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mysql_secure_installation<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/../assets/blog_res/LAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200327114309107.png" alt="image-20200327114309107"></p><blockquote><p>æ‰©å±•ï¼šä»¥ä¸Šè¯´çš„rootå’ŒLinuxä¸­çš„rootä¸æ˜¯åŒä¸€ä¸ªç”¨æˆ·ï¼Œè¿™ä¸ªrootä»£è¡¨MySQLæ•°æ®åº“çš„ç®¡ç†å‘˜ï¼Œåªä¸è¿‡è¿™ä¸ªç®¡ç†å‘˜ä¹Ÿå«rootã€‚</p></blockquote><p><img src="/../assets/blog_res/LAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200327114444955.png" alt="image-20200327114444955"></p><p><img src="/../assets/blog_res/LAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200327114530976.png" alt="image-20200327114530976"></p><blockquote><p>å­¦ä¹ ç¯å¢ƒä¸‹ï¼Œå¯†ç è¶Šç®€å•è¶Šå¥½ã€‚ç”Ÿäº§ç¯å¢ƒä¸‹è¶Šå¤æ‚è¶Šå¥½ã€‚</p></blockquote><p><img src="/../assets/blog_res/LAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200327114717525.png" alt="image-20200327114717525"></p><p><img src="/../assets/blog_res/LAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200327114820459.png" alt="image-20200327114820459"></p><p><img src="/../assets/blog_res/LAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200327114907975.png" alt="image-20200327114907975"></p><p><img src="/../assets/blog_res/LAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200327114951007.png" alt="image-20200327114951007"></p><h4 id="â‘¡-æŠŠmysqldæœåŠ¡æ·»åŠ åˆ°å¼€æœºå¯åŠ¨é¡¹"><a href="#â‘¡-æŠŠmysqldæœåŠ¡æ·»åŠ åˆ°å¼€æœºå¯åŠ¨é¡¹" class="headerlink" title="â‘¡ æŠŠmysqldæœåŠ¡æ·»åŠ åˆ°å¼€æœºå¯åŠ¨é¡¹"></a>â‘¡ æŠŠmysqldæœåŠ¡æ·»åŠ åˆ°å¼€æœºå¯åŠ¨é¡¹</h4><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl enable mysqld<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é»˜è®¤å·²ç»å¼€æœºå¯åŠ¨ï¼Œè¿™é‡Œå¯ä»¥è·³è¿‡</p><h4 id="â‘¢-è¿æ¥MySQLæ•°æ®åº“ï¼Œæµ‹è¯•"><a href="#â‘¢-è¿æ¥MySQLæ•°æ®åº“ï¼Œæµ‹è¯•" class="headerlink" title="â‘¢ è¿æ¥MySQLæ•°æ®åº“ï¼Œæµ‹è¯•"></a>â‘¢ è¿æ¥MySQLæ•°æ®åº“ï¼Œæµ‹è¯•</h4><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mysql -u root -p å›è½¦Enter password:è¾“å…¥åˆšæ‰è®¾ç½®çš„å¯†ç ï¼Œå¦‚123ï¼Œå›è½¦mysql&gt; show databases;    =&gt;   ä»£è¡¨æ˜¾ç¤ºæ‰€æœ‰æ•°æ®åº“mysql&gt; exit<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="5ã€LAMPç¯å¢ƒä¹‹PHPå®‰è£…"><a href="#5ã€LAMPç¯å¢ƒä¹‹PHPå®‰è£…" class="headerlink" title="5ã€LAMPç¯å¢ƒä¹‹PHPå®‰è£…"></a>5ã€LAMPç¯å¢ƒä¹‹PHPå®‰è£…</h2><h3 id="â˜†-ä½¿ç”¨yumå‘½ä»¤å®‰è£…phpè½¯ä»¶"><a href="#â˜†-ä½¿ç”¨yumå‘½ä»¤å®‰è£…phpè½¯ä»¶" class="headerlink" title="â˜† ä½¿ç”¨yumå‘½ä»¤å®‰è£…phpè½¯ä»¶"></a>â˜† ä½¿ç”¨yumå‘½ä»¤å®‰è£…phpè½¯ä»¶</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install php -y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â˜†-ä½¿ç”¨systemctlå¯åŠ¨phpè½¯ä»¶ï¼ˆé‡å¯Apacheï¼‰"><a href="#â˜†-ä½¿ç”¨systemctlå¯åŠ¨phpè½¯ä»¶ï¼ˆé‡å¯Apacheï¼‰" class="headerlink" title="â˜† ä½¿ç”¨systemctlå¯åŠ¨phpè½¯ä»¶ï¼ˆé‡å¯Apacheï¼‰"></a>â˜† ä½¿ç”¨systemctlå¯åŠ¨phpè½¯ä»¶ï¼ˆé‡å¯Apacheï¼‰</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl restart httpd<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>ä¸ºä»€ä¹ˆå¯åŠ¨phpå°±æ˜¯é‡å¯Apacheå‘¢ï¼Ÿç­”ï¼šå› ä¸ºLAMPæ¶æ„ä¸­ï¼ŒPHPæ˜¯ä»¥æ¨¡å—çš„å½¢å¼è¿½åŠ åˆ°Apacheçš„å†…æ ¸ä¸­ï¼Œæ‰€ä»¥å¯åŠ¨phpå°±ç›¸å½“äºé‡ç½®Apacheè½¯ä»¶</p></blockquote><p><img src="/../assets/blog_res/LAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200327142246747.png" alt="image-20200327142246747"></p><h3 id="â˜†-æµ‹è¯•LAMPç¯å¢ƒæ˜¯å¦å¯ä»¥ä½¿ç”¨"><a href="#â˜†-æµ‹è¯•LAMPç¯å¢ƒæ˜¯å¦å¯ä»¥ä½¿ç”¨" class="headerlink" title="â˜† æµ‹è¯•LAMPç¯å¢ƒæ˜¯å¦å¯ä»¥ä½¿ç”¨"></a>â˜† æµ‹è¯•LAMPç¯å¢ƒæ˜¯å¦å¯ä»¥ä½¿ç”¨</h3><p>ç¬¬ä¸€æ­¥ï¼šä½¿ç”¨cdå‘½ä»¤è¿›å…¥/var/www/htmlç›®å½•</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cd /var/www/htmlApacheçš„é¡¹ç›®ç›®å½• =&gt; /var/www/htmlï¼Œä»¥åç¨‹åºå‘˜å¼€å‘çš„ä»£ç éƒ½æ˜¯æ”¾ç½®äºæ­¤ç›®å½•<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç¬¬äºŒæ­¥ï¼šä½¿ç”¨vimå‘½ä»¤åˆ›å»ºdemo.phpæ–‡ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim demo.php<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬ä¸‰æ­¥ï¼šç¼–å†™phpä»£ç </p><pre class="line-numbers language-php" data-language="php"><code class="language-php">&lt;?phpecho 'hello world';?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç¼–å†™å®Œæˆåï¼Œä¿å­˜é€€å‡ºï¼Œç„¶ååœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨http://å…¬ç½‘IP/demo.php</p><p><img src="/../assets/blog_res/LAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200327142839268.png" alt="image-20200327142839268"></p><h1 id="äºŒã€éƒ¨ç½²Discuz-è®ºå›"><a href="#äºŒã€éƒ¨ç½²Discuz-è®ºå›" class="headerlink" title="äºŒã€éƒ¨ç½²Discuz!è®ºå›"></a>äºŒã€éƒ¨ç½²Discuz!è®ºå›</h1><h2 id="1ã€Discuz-è®ºå›æ¦‚è¿°"><a href="#1ã€Discuz-è®ºå›æ¦‚è¿°" class="headerlink" title="1ã€Discuz!è®ºå›æ¦‚è¿°"></a>1ã€Discuz!è®ºå›æ¦‚è¿°</h2><p>Discuzï¼è®ºå›æ˜¯åŸºäºPHP + MySQLè¿›è¡Œå¼€å‘çš„ä¸€å¥—å¼€æºçš„è®ºå›ç³»ç»Ÿã€‚</p><p><img src="/../assets/blog_res/LAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200327151556113.png" alt="image-20200327151556113"></p><h2 id="2ã€ä¸‹è½½æºä»£ç "><a href="#2ã€ä¸‹è½½æºä»£ç " class="headerlink" title="2ã€ä¸‹è½½æºä»£ç "></a>2ã€ä¸‹è½½æºä»£ç </h2><p>ä¸‹è½½åœ°å€ï¼š<a href="https://gitee.com/ComsenzDiscuz/DiscuzX">https://gitee.com/ComsenzDiscuz/DiscuzX</a>  ï¼ˆç äº‘ï¼‰</p><p><img src="/../assets/blog_res/LAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200327151754516.png" alt="image-20200327151754516"></p><h2 id="3ã€ä½¿ç”¨MXè½¯ä»¶æŠŠDiscuzæºä»£ç ä¸Šä¼ "><a href="#3ã€ä½¿ç”¨MXè½¯ä»¶æŠŠDiscuzæºä»£ç ä¸Šä¼ " class="headerlink" title="3ã€ä½¿ç”¨MXè½¯ä»¶æŠŠDiscuzæºä»£ç ä¸Šä¼ "></a>3ã€ä½¿ç”¨MXè½¯ä»¶æŠŠDiscuzæºä»£ç ä¸Šä¼ </h2><p>é˜¿é‡Œäº‘ï¼š</p><p><img src="/../assets/blog_res/LAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200327152029513.png" alt="image-20200327152029513"></p><p>æœ¬åœ°Linuxç±»ä¼¼</p><h2 id="4ã€å®‰è£…unzipè§£å‹ç¼©è½¯ä»¶"><a href="#4ã€å®‰è£…unzipè§£å‹ç¼©è½¯ä»¶" class="headerlink" title="4ã€å®‰è£…unzipè§£å‹ç¼©è½¯ä»¶"></a>4ã€å®‰è£…unzipè§£å‹ç¼©è½¯ä»¶</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install unzip -y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="5ã€ä½¿ç”¨unzipå¯¹discuz-zipå‹ç¼©åŒ…è¿›è¡Œè§£å‹"><a href="#5ã€ä½¿ç”¨unzipå¯¹discuz-zipå‹ç¼©åŒ…è¿›è¡Œè§£å‹" class="headerlink" title="5ã€ä½¿ç”¨unzipå¯¹discuz.zipå‹ç¼©åŒ…è¿›è¡Œè§£å‹"></a>5ã€ä½¿ç”¨unzipå¯¹discuz.zipå‹ç¼©åŒ…è¿›è¡Œè§£å‹</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># unzip discuz.zip<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="6ã€å¤åˆ¶discuzä¸­çš„æ–‡ä»¶åˆ°-var-www-htmlç›®å½•"><a href="#6ã€å¤åˆ¶discuzä¸­çš„æ–‡ä»¶åˆ°-var-www-htmlç›®å½•" class="headerlink" title="6ã€å¤åˆ¶discuzä¸­çš„æ–‡ä»¶åˆ°/var/www/htmlç›®å½•"></a>6ã€å¤åˆ¶discuzä¸­çš„æ–‡ä»¶åˆ°/var/www/htmlç›®å½•</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mv discuz/* /var/www/html/æˆ–# cp -vRp disczu/* /var/www/html/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="7ã€æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥å…¬ç½‘IPåœ°å€"><a href="#7ã€æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥å…¬ç½‘IPåœ°å€" class="headerlink" title="7ã€æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥å…¬ç½‘IPåœ°å€"></a>7ã€æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥å…¬ç½‘IPåœ°å€</h2><p><img src="/../assets/blog_res/LAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200327153135696.png" alt="image-20200327153135696"></p><h2 id="8ã€å•å‡»åŒæ„è®¸å¯ï¼Œç»§ç»­å®‰è£…"><a href="#8ã€å•å‡»åŒæ„è®¸å¯ï¼Œç»§ç»­å®‰è£…" class="headerlink" title="8ã€å•å‡»åŒæ„è®¸å¯ï¼Œç»§ç»­å®‰è£…"></a>8ã€å•å‡»åŒæ„è®¸å¯ï¼Œç»§ç»­å®‰è£…</h2><p><img src="/../assets/blog_res/LAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200327154443886.png" alt="image-20200327154443886"></p><h2 id="9ã€ç»™-var-www-htmlç›®å½•è®¾ç½®å¯å†™æƒé™"><a href="#9ã€ç»™-var-www-htmlç›®å½•è®¾ç½®å¯å†™æƒé™" class="headerlink" title="9ã€ç»™/var/www/htmlç›®å½•è®¾ç½®å¯å†™æƒé™"></a>9ã€ç»™/var/www/htmlç›®å½•è®¾ç½®å¯å†™æƒé™</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chmod -R a+w /var/www/html<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>æ³¨æ„ï¼šä»¥ä¸Šæ“ä½œæ˜¯ç»™æ‰€æœ‰æ–‡ä»¶æ·»åŠ ä¸€ä¸ªwæƒé™ï¼Œä½†æ˜¯ç”Ÿäº§ç¯å¢ƒå°½é‡é’ˆå¯¹æŒ‡å®šæ–‡ä»¶æ·»åŠ æƒé™ã€‚</p></blockquote><h2 id="10ã€è§£å†³PHPæ‰©å±•é—®é¢˜"><a href="#10ã€è§£å†³PHPæ‰©å±•é—®é¢˜" class="headerlink" title="10ã€è§£å†³PHPæ‰©å±•é—®é¢˜"></a>10ã€è§£å†³PHPæ‰©å±•é—®é¢˜</h2><p><img src="/../assets/blog_res/LAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200327154906078.png" alt="image-20200327154906078"></p><p>ä»¥ä¸Šæç¤ºä»£è¡¨ï¼Œå®‰è£…PHPæ—¶æ²¡æœ‰æŒ‰ç…§php-mysqliæ‰©å±•ï¼Œæ‰€ä»¥ä¼šå‡ºç°ä»¥ä¸Šé—®é¢˜ã€‚</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install php-mysqli -y# systemctl restart httpd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="11ã€è®¾ç½®è¿è¡Œç¯å¢ƒ"><a href="#11ã€è®¾ç½®è¿è¡Œç¯å¢ƒ" class="headerlink" title="11ã€è®¾ç½®è¿è¡Œç¯å¢ƒ"></a>11ã€è®¾ç½®è¿è¡Œç¯å¢ƒ</h2><p><img src="/../assets/blog_res/LAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200327155142197.png" alt="image-20200327155142197"></p><h2 id="12ã€è®¾ç½®MySQLæ•°æ®åº“çš„ç›¸å…³ä¿¡æ¯"><a href="#12ã€è®¾ç½®MySQLæ•°æ®åº“çš„ç›¸å…³ä¿¡æ¯" class="headerlink" title="12ã€è®¾ç½®MySQLæ•°æ®åº“çš„ç›¸å…³ä¿¡æ¯"></a>12ã€è®¾ç½®MySQLæ•°æ®åº“çš„ç›¸å…³ä¿¡æ¯</h2><p><img src="/../assets/blog_res/LAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200327155441330.png" alt="image-20200327155441330"></p><h2 id="13ã€è®¾ç½®ç®¡ç†å‘˜è´¦å·å’Œå¯†ç "><a href="#13ã€è®¾ç½®ç®¡ç†å‘˜è´¦å·å’Œå¯†ç " class="headerlink" title="13ã€è®¾ç½®ç®¡ç†å‘˜è´¦å·å’Œå¯†ç "></a>13ã€è®¾ç½®ç®¡ç†å‘˜è´¦å·å’Œå¯†ç </h2><p><img src="/../assets/blog_res/LAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200327155536618.png" alt="image-20200327155536618"></p><h2 id="14ã€å®‰è£…å®Œæˆåï¼Œè®¿é—®è®ºå›é¦–é¡µ"><a href="#14ã€å®‰è£…å®Œæˆåï¼Œè®¿é—®è®ºå›é¦–é¡µ" class="headerlink" title="14ã€å®‰è£…å®Œæˆåï¼Œè®¿é—®è®ºå›é¦–é¡µ"></a>14ã€å®‰è£…å®Œæˆåï¼Œè®¿é—®è®ºå›é¦–é¡µ</h2><p><img src="/../assets/blog_res/LAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200327155648008.png" alt="image-20200327155648008"></p><p>éƒ¨ç½²åï¼Œè®¿é—®è®ºå›é¦–é¡µï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="/../assets/blog_res/LAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200327155712092.png" alt="image-20200327155712092"></p><h1 id="ä¸‰ã€åŸŸåä¸è§£æ"><a href="#ä¸‰ã€åŸŸåä¸è§£æ" class="headerlink" title="ä¸‰ã€åŸŸåä¸è§£æ"></a>ä¸‰ã€åŸŸåä¸è§£æ</h1><h2 id="1ã€ä¸ºä»€ä¹ˆéœ€è¦åŸŸå"><a href="#1ã€ä¸ºä»€ä¹ˆéœ€è¦åŸŸå" class="headerlink" title="1ã€ä¸ºä»€ä¹ˆéœ€è¦åŸŸå"></a>1ã€ä¸ºä»€ä¹ˆéœ€è¦åŸŸå</h2><p>æˆ‘ä»¬ç°åœ¨è®¿é—®è®ºå›æ˜¯é€šè¿‡IPåœ°å€å®ç°çš„ï¼Œä½†æ˜¯IPåœ°å€æ¯”è¾ƒå¤æ‚ï¼Œæ›´é‡è¦çš„æ˜¯ä¸æ–¹ä¾¿ç”¨æˆ·è®°å¿†ã€‚</p><p>åŸŸå =&gt; ä»£æ›¿å…¬ç½‘IPåœ°å€</p><h2 id="2ã€è´­ä¹°åŸŸå"><a href="#2ã€è´­ä¹°åŸŸå" class="headerlink" title="2ã€è´­ä¹°åŸŸå"></a>2ã€è´­ä¹°åŸŸå</h2><p><img src="/../assets/blog_res/LAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200327162641419.png" alt="image-20200327162641419"></p><p>ç™»å½•æ§åˆ¶å°ï¼Œç„¶åé€‰æ‹©åŸŸåèœå•ï¼š</p><p><img src="/../assets/blog_res/LAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200327162742162.png" alt="image-20200327162742162"></p><p>æ‰¾åˆ°åŸŸåæ³¨å†Œèœå•ï¼š</p><p><img src="/../assets/blog_res/LAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200327162831242.png" alt="image-20200327162831242"></p><p>æ‰¾åˆ°æƒ³è¦æ³¨å†Œçš„åŸŸåï¼Œç„¶ååŠ å…¥æ¸…å•ï¼Œç„¶åè¿›è¡Œç«‹å³ç»“ç®—ï¼š</p><p><img src="/../assets/blog_res/LAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200327163458795.png" alt="image-20200327163458795"></p><p>è´­ä¹°å®Œæˆåï¼Œè¿›å…¥åŸŸåæ§åˆ¶å°ï¼š</p><p><img src="/../assets/blog_res/LAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200327163713347.png" alt="image-20200327163713347"></p><h2 id="3ã€æŠŠåŸŸåè§£æåˆ°å…¬ç½‘IP"><a href="#3ã€æŠŠåŸŸåè§£æåˆ°å…¬ç½‘IP" class="headerlink" title="3ã€æŠŠåŸŸåè§£æåˆ°å…¬ç½‘IP"></a>3ã€æŠŠåŸŸåè§£æåˆ°å…¬ç½‘IP</h2><p><img src="/../assets/blog_res/LAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200327163913091.png" alt="image-20200327163913091"></p><p>è¿›å…¥è§£æèœå•ï¼Œç„¶åæ·»åŠ è®°å½•ï¼š</p><p><img src="/../assets/blog_res/LAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200327164010354.png" alt="image-20200327164010354"></p><p>â‘  æŠŠ<a href="http://www.itcast.topè§£æåˆ°å…¬ç½‘ip/">www.itcast.topè§£æåˆ°å…¬ç½‘IP</a></p><p><img src="/../assets/blog_res/LAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200327164144887.png" alt="image-20200327164144887"></p><p>â‘¡ æŠŠitcast.topè§£æåˆ°å…¬ç½‘IP</p><p><img src="/../assets/blog_res/LAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200327164318781.png" alt="image-20200327164318781"></p><p>ä»¥ä¸Šè®°å½•æ·»åŠ å®Œæˆåï¼Œç­‰å¾…10åˆ†é’Ÿå·¦å³ï¼Œå³å¯ä½¿ç”¨åŸŸåè®¿é—®è®ºå›é¡¹ç›®äº†ï¼</p><h2 id="4ã€åŸŸåå¤‡æ¡ˆ"><a href="#4ã€åŸŸåå¤‡æ¡ˆ" class="headerlink" title="4ã€åŸŸåå¤‡æ¡ˆ"></a>4ã€åŸŸåå¤‡æ¡ˆ</h2><p>å¦‚æœåœ¨å›½å†…è¿è¡Œé¡¹ç›®ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„åŸŸåå¿…é¡»è¦è¿›è¡Œå¤‡æ¡ˆæ“ä½œã€‚</p><p>å¤‡æ¡ˆå°±æ˜¯å‘å·¥ä¿¡éƒ¨æäº¤ç½‘ç«™è¿è¡Œçš„ç›¸å…³èµ„æ–™ï¼Œæ¯”å¦‚åŸŸåçš„è¯ä¹¦ã€æŒæœ‰è€…çš„èº«ä»½è¯å·ç ï¼Œä»¥åŠçœŸäººæ‰‹æŒèº«ä»½è¯ç…§ç‰‡ï¼ˆèƒŒæ™¯å›¾ï¼‰</p><p>ç”±äºç°åœ¨ç›‘ç®¡æ¯”è¾ƒä¸¥æ ¼ï¼Œæäº¤èµ„æ–™åï¼Œå¤§æ¦‚5-7ä¸ªå·¥ä½œæ—¥è¿›è¡Œå®¡æ ¸ï¼Œå®Œå…¨å¤‡æ¡ˆå®Œæˆå¤§æ¦‚2å‘¨å·¦å³ã€‚</p><blockquote><p><a href="https://beian.aliyun.com/">https://beian.aliyun.com/</a></p></blockquote><p>å¦‚æœä¸æƒ³è¿›è¡ŒåŸŸåå¤‡æ¡ˆï¼Œå¯ä»¥è´­ä¹°ä¸­å›½é¦™æ¸¯ã€ä¸­å›½å°æ¹¾ä»¥åŠå›½å¤–çš„æœåŠ¡å™¨ï¼Œå¯ä»¥å…å¤‡æ¡ˆã€‚ä½†æ˜¯å…¶è¿è¡Œé€Ÿåº¦ç•¥æ…¢ä¸€äº›ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¿›ç¨‹çš„ä¼˜å…ˆçº§ä¸LAMPé¡¹ç›®éƒ¨ç½²å®æˆ˜</title>
      <link href="/2023/12/23/jin-cheng-de-you-xian-ji-yu-lamp-xiang-mu-bu-shu-shi-zhan/"/>
      <url>/2023/12/23/jin-cheng-de-you-xian-ji-yu-lamp-xiang-mu-bu-shu-shi-zhan/</url>
      
        <content type="html"><![CDATA[<h1 id="è¿›ç¨‹çš„ä¼˜å…ˆçº§ä¸LAMPé¡¹ç›®éƒ¨ç½²å®æˆ˜"><a href="#è¿›ç¨‹çš„ä¼˜å…ˆçº§ä¸LAMPé¡¹ç›®éƒ¨ç½²å®æˆ˜" class="headerlink" title="è¿›ç¨‹çš„ä¼˜å…ˆçº§ä¸LAMPé¡¹ç›®éƒ¨ç½²å®æˆ˜"></a>è¿›ç¨‹çš„ä¼˜å…ˆçº§ä¸LAMPé¡¹ç›®éƒ¨ç½²å®æˆ˜</h1><h1 id="ä¸€ã€è¿›ç¨‹çš„ä¼˜å…ˆçº§ï¼ˆæ‰©å±•ï¼‰"><a href="#ä¸€ã€è¿›ç¨‹çš„ä¼˜å…ˆçº§ï¼ˆæ‰©å±•ï¼‰" class="headerlink" title="ä¸€ã€è¿›ç¨‹çš„ä¼˜å…ˆçº§ï¼ˆæ‰©å±•ï¼‰"></a>ä¸€ã€è¿›ç¨‹çš„ä¼˜å…ˆçº§ï¼ˆæ‰©å±•ï¼‰</h1><h2 id="1ã€ä»€ä¹ˆæ˜¯è¿›ç¨‹çš„ä¼˜å…ˆçº§"><a href="#1ã€ä»€ä¹ˆæ˜¯è¿›ç¨‹çš„ä¼˜å…ˆçº§" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯è¿›ç¨‹çš„ä¼˜å…ˆçº§"></a>1ã€ä»€ä¹ˆæ˜¯è¿›ç¨‹çš„ä¼˜å…ˆçº§</h2><p>Linuxæ˜¯ä¸€ä¸ªå¤šç”¨æˆ·ã€å¤šä»»åŠ¡çš„æ“ä½œç³»ç»Ÿï¼Œç³»ç»Ÿä¸­é€šå¸¸è¿è¡Œç€éå¸¸å¤šçš„è¿›ç¨‹ã€‚å“ªäº›è¿›ç¨‹å…ˆè¿è¡Œï¼Œå“ªäº›è¿›ç¨‹åè¿è¡Œï¼Œå°±ç”±è¿›ç¨‹ä¼˜å…ˆçº§æ¥æ§åˆ¶</p><p>æ€è€ƒï¼šä»€ä¹ˆæ—¶å€™éœ€è¦ç”¨åˆ°è¿›ç¨‹çš„ä¼˜å…ˆçº§å‘¢ï¼Ÿ</p><p>ç­”ï¼šå½“CPUè´Ÿè½½è¿‡é«˜æ—¶ï¼Œå¦‚CPUçš„ä½¿ç”¨ç‡&gt;=90%ä»¥ä¸Šã€‚è¿™ä¸ªæ—¶å€™è¿›ç¨‹çš„ä¼˜å…ˆçº§å°±ä¼šèµ·ä½œç”¨ã€‚</p><h2 id="2ã€æŸ¥çœ‹è¿›ç¨‹çš„ä¼˜å…ˆçº§"><a href="#2ã€æŸ¥çœ‹è¿›ç¨‹çš„ä¼˜å…ˆçº§" class="headerlink" title="2ã€æŸ¥çœ‹è¿›ç¨‹çš„ä¼˜å…ˆçº§"></a>2ã€æŸ¥çœ‹è¿›ç¨‹çš„ä¼˜å…ˆçº§</h2><p>PR  ä¼˜å…ˆçº§ï¼Œæ•°å€¼è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜ã€‚<br>NI  ä¼˜å…ˆçº§ï¼Œæ•°å€¼è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜ï¼Œå¯ä»¥äººä¸ºæ›´æ”¹ã€‚ï¼ˆNI = NICE = Niceï¼‰</p><p>è®²ä¸ªå°æ•…äº‹ï¼šNiceå€¼ = 0ï¼ŒNiceå€¼è¶Šé«˜ï¼Œä»£è¡¨è¿™ä¸ªäººè¶Šç»…å£«ï¼ˆNiceå€¼è¶Šé«˜ï¼Œä¼˜å…ˆçº§è¶Šä½ï¼‰</p><blockquote><p>NIå€¼æœ‰ä¸€ä¸ªèŒƒå›´ -20 ~ 19</p></blockquote><p>é—®é¢˜ï¼šè¿™ä¸¤ä¸ªæ•°å€¼æ˜¯åœ¨å“ªé‡Œçœ‹åˆ°çš„ï¼Ÿ</p><p>ç­”ï¼štopå‘½ä»¤</p><h2 id="3ã€è°ƒæ•´è¿›ç¨‹çš„ä¼˜å…ˆçº§"><a href="#3ã€è°ƒæ•´è¿›ç¨‹çš„ä¼˜å…ˆçº§" class="headerlink" title="3ã€è°ƒæ•´è¿›ç¨‹çš„ä¼˜å…ˆçº§"></a>3ã€è°ƒæ•´è¿›ç¨‹çš„ä¼˜å…ˆçº§</h2><h3 id="â˜†-ä½¿ç”¨topè°ƒæ•´è¿›ç¨‹çš„ä¼˜å…ˆçº§"><a href="#â˜†-ä½¿ç”¨topè°ƒæ•´è¿›ç¨‹çš„ä¼˜å…ˆçº§" class="headerlink" title="â˜† ä½¿ç”¨topè°ƒæ•´è¿›ç¨‹çš„ä¼˜å…ˆçº§"></a>â˜† ä½¿ç”¨topè°ƒæ•´è¿›ç¨‹çš„ä¼˜å…ˆçº§</h3><p>ç¬¬ä¸€æ­¥ï¼šä½¿ç”¨topå‘½ä»¤è·å–ä½ è¦è°ƒæ•´çš„è¿›ç¨‹ä¿¡æ¯ï¼ˆPIDç¼–å·ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># top -bn 1PID   COMMAND7107atdï¼ˆatå‘½ä»¤çš„åº•å±‚æœåŠ¡ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç¬¬äºŒæ­¥ï¼šè¿è¡Œtopå‘½ä»¤ï¼Œç„¶åæŒ‰==â€râ€==ï¼Œè¾“å…¥è¦è°ƒæ•´è¿›ç¨‹çš„PIDç¼–å·</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># topæŒ‰rï¼Œè¾“å…¥è¦è°ƒæ•´è¿›ç¨‹çš„PIDç¼–å·,æŒ‰å›è½¦<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç¬¬ä¸‰æ­¥ï¼šæ ¹æ®æç¤ºï¼Œé‡ç½®NICEå€¼</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">Renice PID 7107 to value : -5<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬å››æ­¥ï¼šæŒ‰qé€€å‡ºtopæ¨¡å¼ï¼Œç„¶åä½¿ç”¨top -p PIDç¼–å·ï¼ŒåªæŸ¥è¯¢æŸä¸ªè¿›ç¨‹çš„ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># top -p 7107<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â˜†-ä½¿ç”¨reniceå‘½ä»¤è°ƒæ•´è¿›ç¨‹çš„ä¼˜å…ˆçº§"><a href="#â˜†-ä½¿ç”¨reniceå‘½ä»¤è°ƒæ•´è¿›ç¨‹çš„ä¼˜å…ˆçº§" class="headerlink" title="â˜† ä½¿ç”¨reniceå‘½ä»¤è°ƒæ•´è¿›ç¨‹çš„ä¼˜å…ˆçº§"></a>â˜† ä½¿ç”¨reniceå‘½ä»¤è°ƒæ•´è¿›ç¨‹çš„ä¼˜å…ˆçº§</h3><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># renice [NIä¼˜å…ˆçº§è®¾ç½®çš„æ•°å­—] æƒ³è°ƒæ•´çš„è¿›ç¨‹ID<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šä½¿ç”¨reniceè°ƒæ•´atdçš„ä¼˜å…ˆçº§</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">ç¬¬ä¸€æ­¥ï¼šé€šè¿‡psæˆ–topå‘½ä»¤è·å–atdçš„PIDç¼–å·# ps -ef |grep atd7107ç¬¬äºŒæ­¥ï¼šä½¿ç”¨reniceå‘½ä»¤è°ƒæ•´7107çš„NICEå€¼# renice -10 71077107 (process ID) old priority 0, new priority -10<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>æ³¨æ„ï¼šNICEå€¼å–å€¼èŒƒå›´-20 ~ 19ï¼Œä¸èƒ½ä½¿ç”¨å°æ•°</p></blockquote><h3 id="â˜†-ä½¿ç”¨niceå‘½ä»¤è°ƒæ•´è¿›ç¨‹çš„ä¼˜å…ˆçº§"><a href="#â˜†-ä½¿ç”¨niceå‘½ä»¤è°ƒæ•´è¿›ç¨‹çš„ä¼˜å…ˆçº§" class="headerlink" title="â˜† ä½¿ç”¨niceå‘½ä»¤è°ƒæ•´è¿›ç¨‹çš„ä¼˜å…ˆçº§"></a>â˜† ä½¿ç”¨niceå‘½ä»¤è°ƒæ•´è¿›ç¨‹çš„ä¼˜å…ˆçº§</h3><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># nice [NIä¼˜å…ˆçº§è®¾ç½®çš„æ•°å­—] æƒ³è°ƒæ•´çš„è¿›ç¨‹åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>æ³¨æ„ï¼šniceå‘½ä»¤åªèƒ½è°ƒæ•´æ²¡æœ‰è¿è¡Œçš„ç¨‹åº</p></blockquote><p>niceå®é™…æ“ä½œä¸‰æ­¥èµ°ï¼š</p><p>ç¬¬ä¸€æ­¥ï¼šå°†ç¨‹åºåœæ­¢</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ps -ef |grep crond# kill PIDæˆ–# systemctl stop crond<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬äºŒæ­¥ï¼šå¯åŠ¨å¹¶åˆ¶å®šä¼˜å…ˆçº§ï¼ˆä½¿ç”¨niceï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># nice -n -10 crond<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>niceå‘½ä»¤åŒ…å«ä¸¤ä¸ªåŠŸèƒ½ï¼šâ‘  å¯åŠ¨è¿›ç¨‹ â‘¡ è°ƒæ•´è¿›ç¨‹çš„ä¼˜å…ˆçº§</p></blockquote><p>ç¬¬ä¸‰æ­¥ï¼šç¡®è®¤ä¼˜å…ˆçº§ï¼ˆæŸ¥çœ‹ä¼˜å…ˆçº§ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ps -ef |grep crondPID# top -p PID<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h1 id="äºŒã€YUM"><a href="#äºŒã€YUM" class="headerlink" title="äºŒã€YUM"></a>äºŒã€YUM</h1><h2 id="1ã€ä»€ä¹ˆæ˜¯YUM"><a href="#1ã€ä»€ä¹ˆæ˜¯YUM" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯YUM"></a>1ã€ä»€ä¹ˆæ˜¯YUM</h2><p>åœ¨CentOSç³»ç»Ÿä¸­ï¼Œè½¯ä»¶ç®¡ç†æ–¹å¼é€šå¸¸æœ‰ä¸‰ç§æ–¹å¼ï¼š<code>rpmå®‰è£…</code>ã€<code>yumå®‰è£…</code>ä»¥åŠ<code>ç¼–è¯‘å®‰è£…</code>ã€‚</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">ç¼–è¯‘å®‰è£…ï¼Œä»è¿‡ç¨‹ä¸Šæ¥è®²æ¯”è¾ƒéº»çƒ¦ï¼ŒåŒ…éœ€è¦ç”¨æˆ·è‡ªè¡Œä¸‹è½½ï¼Œä¸‹è½½çš„æ˜¯æºç åŒ…ï¼Œéœ€è¦è¿›è¡Œç¼–è¯‘æ“ä½œï¼Œç¼–è¯‘å¥½äº†æ‰èƒ½è¿›è¡Œå®‰è£…ï¼Œè¿™ä¸ªè¿‡ç¨‹å¯¹äºåˆšæ¥è§¦Linuxçš„äººæ¥è¯´æ¯”è¾ƒéº»çƒ¦ï¼Œè€Œä¸”è¿˜å®¹æ˜“å‡ºé”™ã€‚å¥½å¤„åœ¨äºæ˜¯æºç åŒ…ï¼Œå¯¹äºæœ‰éœ€è¦è‡ªå®šä¹‰æ¨¡å—çš„ç”¨æˆ·æ¥è¯´éå¸¸æ–¹ä¾¿ã€‚(å°±ä¸šç­ä¼šç€é‡è®²è§£)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>éš¾åº¦ï¼šç¼–è¯‘å®‰è£… &gt; rpmå®‰è£… &gt; yumå®‰è£…ï¼ˆæœ‰ç½‘ç»œ + yumæºæ”¯æŒï¼‰</p><p>Yumï¼ˆå…¨ç§°ä¸º <code>Yellow dog Updater, Modified</code>ï¼‰æ˜¯ä¸€ä¸ªåœ¨Fedoraå’ŒRedHatä»¥åŠCentOSä¸­çš„Shellå‰ç«¯è½¯ä»¶åŒ…ç®¡ç†å™¨ã€‚</p><p>åŸºäºrpmåŒ…ç®¡ç†ï¼Œèƒ½å¤Ÿä»<strong>æŒ‡å®šçš„æœåŠ¡å™¨</strong>(yumæºï¼‰è‡ªåŠ¨ä¸‹è½½RPMåŒ…å¹¶ä¸”å®‰è£…ï¼Œå¯ä»¥==è‡ªåŠ¨å¤„ç†ä¾èµ–æ€§å…³ç³»==ï¼Œå¹¶ä¸”==ä¸€æ¬¡å®‰è£…æ‰€æœ‰ä¾èµ–çš„è½¯ä»¶åŒ…==ï¼Œæ— é¡»ç¹çåœ°ä¸€æ¬¡æ¬¡ä¸‹è½½ã€å®‰è£…ã€‚</p><blockquote><p>rpmå’ŒyumåŒºåˆ«ï¼Ÿç­”ï¼šâ‘  yumåº•å±‚ä¹Ÿæ˜¯åŸºäºrpmè¿›è¡Œå®‰è£…çš„ï¼ˆyumå®‰è£…çš„è½¯ä»¶ï¼Œå¯ä»¥é€šè¿‡rpm -qaè¿›è¡ŒæŸ¥è¯¢ï¼‰ â‘¡ yumç›¸å¯¹äºrpmæœ€å¤§çš„ä¼˜åŠ¿ï¼Œå¯ä»¥è§£å†³ä¾èµ–å…³ç³»ã€‚</p><p>A =&gt; B =&gt; C</p></blockquote><h2 id="2ã€YUMæºé…ç½®"><a href="#2ã€YUMæºé…ç½®" class="headerlink" title="2ã€YUMæºé…ç½®"></a>2ã€YUMæºé…ç½®</h2><p><img src="/../assets/blog_res/%E8%BF%9B%E7%A8%8B%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7%E4%B8%8ELAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200326115612781.png" alt="image-20200326115612781"></p><p>YUMæºé…ç½®æ–‡ä»¶æ‰€åœ¨è·¯å¾„ =&gt; /etc/yum.repos.dæ–‡ä»¶å¤¹</p><p>-rw-râ€“râ€“. 1 root root 1991 Mar 28  2017 CentOS-Base.repo            ç½‘ç»œyumæºé…ç½®æ–‡ä»¶<br>-rw-râ€“râ€“. 1 root root  647 Mar 28  2017 CentOS-Debuginfo.repo    å†…æ ¸ç›¸å…³çš„æ›´æ–°åŒ…<br>-rw-râ€“râ€“. 1 root root  289 Mar 28  2017 CentOS-fasttrack.repo       å¿«é€Ÿé€šé“<br>-rw-râ€“râ€“. 1 root root  630 Mar 28  2017 CentOS-Media.repo           æœ¬åœ°yumæºé…ç½®æ–‡ä»¶<br>-rw-râ€“râ€“. 1 root root 7989 Mar 28  2017 CentOS-Vault.repo          æœ€è¿‘ç‰ˆæœ¬åŠ å…¥è€æœ¬çš„YUMé…ç½®   </p><p>æ‰©å±•ï¼šåœ¨YUMé•œåƒæºä¸­æ·»åŠ é˜¿é‡Œäº‘é•œåƒæº</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">ç¬¬ä¸€æ­¥ï¼šå¤‡ä»½CentOS-Base.repoè¿™ä¸ªæºï¼ˆæ›´æ”¹åç¼€å.repo =&gt; .repo.bakï¼‰# mv CentOS-Base.repo CentOS-Base.repo.bakç¬¬äºŒæ­¥ï¼šä½¿ç”¨wgetå‘½ä»¤ä¸‹è½½é˜¿é‡Œäº‘çš„é•œåƒæ–‡ä»¶# wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repoé€‰é¡¹è¯´æ˜ï¼š-O ï¼šæŒ‡å®šæ–‡ä»¶ä¸‹è½½çš„ä½ç½®ä»¥åŠåç§°ç¬¬ä¸‰æ­¥ï¼šæ¸…ç†YUMç¼“å­˜# yum clean allç¬¬å››æ­¥ï¼šé‡æ–°å»ºç«‹ç¼“å­˜ï¼ˆè®©æ–°YUMæºç”Ÿæ•ˆï¼‰# yum makecache<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="3ã€yumå‘½ä»¤è¯¦è§£"><a href="#3ã€yumå‘½ä»¤è¯¦è§£" class="headerlink" title="3ã€yumå‘½ä»¤è¯¦è§£"></a>3ã€yumå‘½ä»¤è¯¦è§£</h2><h3 id="â˜†-æœç´¢è¦å®‰è£…çš„è½¯ä»¶"><a href="#â˜†-æœç´¢è¦å®‰è£…çš„è½¯ä»¶" class="headerlink" title="â˜† æœç´¢è¦å®‰è£…çš„è½¯ä»¶"></a>â˜† æœç´¢è¦å®‰è£…çš„è½¯ä»¶</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum search è½¯ä»¶åç§°çš„å…³é”®è¯<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæœç´¢é˜¿é‡Œäº‘ä»“åº“ä¸­çš„vimè½¯ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum search vim<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæœç´¢firefoxç«ç‹æµè§ˆå™¨</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum search firefox<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â˜†-ä½¿ç”¨yumå®‰è£…è½¯ä»¶"><a href="#â˜†-ä½¿ç”¨yumå®‰è£…è½¯ä»¶" class="headerlink" title="â˜† ä½¿ç”¨yumå®‰è£…è½¯ä»¶"></a>â˜† ä½¿ç”¨yumå®‰è£…è½¯ä»¶</h3><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install è½¯ä»¶åç§°å…³é”®è¯ [é€‰é¡¹]é€‰é¡¹ï¼š-y ï¼šyesç¼©å†™ï¼Œç¡®è®¤å®‰è£…ï¼Œä¸æç¤ºã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šä½¿ç”¨yumå‘½ä»¤å®‰è£…vimç¼–è¾‘å™¨</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install vim -y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šä½¿ç”¨yumå‘½ä»¤å®‰è£…firefoxæµè§ˆå™¨</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install firefox -y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â˜†-ä½¿ç”¨yumå¸è½½è½¯ä»¶"><a href="#â˜†-ä½¿ç”¨yumå¸è½½è½¯ä»¶" class="headerlink" title="â˜† ä½¿ç”¨yumå¸è½½è½¯ä»¶"></a>â˜† ä½¿ç”¨yumå¸è½½è½¯ä»¶</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum remove è½¯ä»¶åç§°å…³é”®è¯ [é€‰é¡¹]é€‰é¡¹ï¼š-y ï¼šyesç¼©å†™ï¼Œç¡®è®¤å¸è½½ï¼Œä¸æç¤ºã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠfirefoxç«ç‹æµè§ˆå™¨è¿›è¡Œå¸è½½æ“ä½œ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum remove firefox -y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠhttpdè½¯ä»¶è¿›è¡Œå¼ºåˆ¶å¸è½½</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum remove httpd -y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â˜†-ä½¿ç”¨yumæ›´æ–°è½¯ä»¶"><a href="#â˜†-ä½¿ç”¨yumæ›´æ–°è½¯ä»¶" class="headerlink" title="â˜† ä½¿ç”¨yumæ›´æ–°è½¯ä»¶"></a>â˜† ä½¿ç”¨yumæ›´æ–°è½¯ä»¶</h3><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum update è½¯ä»¶åç§°å…³é”®è¯ [é€‰é¡¹]é€‰é¡¹ï¼š-y ï¼šyesç¼©å†™ï¼Œç¡®è®¤æ›´æ–°ï¼Œä¸æç¤º<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠvimç¼–è¾‘å™¨è¿›è¡Œæ›´æ–°æ“ä½œ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum update vim -y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠfirefoxç«ç‹æµè§ˆå™¨è¿›è¡Œæ›´æ–°æ“ä½œ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum update firefox -y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h1 id="ä¸‰ã€LAMPæ¦‚è¿°"><a href="#ä¸‰ã€LAMPæ¦‚è¿°" class="headerlink" title="ä¸‰ã€LAMPæ¦‚è¿°"></a>ä¸‰ã€LAMPæ¦‚è¿°</h1><h2 id="1ã€ä»€ä¹ˆæ˜¯LAMP"><a href="#1ã€ä»€ä¹ˆæ˜¯LAMP" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯LAMP"></a>1ã€ä»€ä¹ˆæ˜¯LAMP</h2><p>LAMPï¼š==L==inux + ==A==pache + ==M==ySQL + ==P==HP                        LAMP æ¶æ„ï¼ˆç»„åˆï¼‰</p><p>LNMPï¼šLinux + Nginx + MySQL + php-fpm                             LNMP æ¶æ„ï¼ˆç»„åˆï¼‰</p><p>LNMPAï¼šLinux + Nginx(80) + MySQL + PHP + Apache           Nginx ä»£ç†æ–¹å¼</p><p><img src="/../assets/blog_res/%E8%BF%9B%E7%A8%8B%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7%E4%B8%8ELAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200326152052773.png" alt="image-20200326152052773"></p><p>Apacheï¼šApacheæ˜¯ä¸–ç•Œä½¿ç”¨æ’åç¬¬ä¸€çš„WebæœåŠ¡å™¨è½¯ä»¶ã€‚</p><p>PHPï¼šä¸€ç§ä¸“é—¨ç”¨äºWebå¼€å‘çš„ç¼–ç¨‹è¯­è¨€ã€‚</p><p>MySQLï¼šMySQLæ˜¯ä¸€ä¸ªå…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œä¸»è¦ç”¨äºæ°¸ä¹…å­˜å‚¨é¡¹ç›®æ•°æ®ã€‚</p><h2 id="2ã€AMPä¸‰è€…ä¹‹é—´çš„å…³ç³»"><a href="#2ã€AMPä¸‰è€…ä¹‹é—´çš„å…³ç³»" class="headerlink" title="2ã€AMPä¸‰è€…ä¹‹é—´çš„å…³ç³»"></a>2ã€AMPä¸‰è€…ä¹‹é—´çš„å…³ç³»</h2><p><img src="/../assets/blog_res/%E8%BF%9B%E7%A8%8B%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7%E4%B8%8ELAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200326152231295.png" alt="image-20200326152231295"></p><p>Apacheï¼šç”¨äºæ¥æ”¶ç”¨æˆ·çš„è¯·æ±‚ï¼ˆè¾“å…¥ç½‘å€ï¼Œè¿”å›ç½‘é¡µ=&gt;ç»“æœï¼‰</p><p>PHPï¼šæ³¨å†Œã€ç™»å½•ã€åŠ å…¥è´­ç‰©è½¦ã€ä¸‹å•ã€æ”¯ä»˜ç­‰åŠ¨æ€åŠŸèƒ½ï¼ˆæœ‰ç¼–ç¨‹è¯­è¨€çš„æ”¯æŒï¼‰</p><p>MySQLï¼šæ°¸ä¹…ä¿å­˜æ•°æ®ï¼Œæ¯”å¦‚ä½ åœ¨ç½‘ç«™ä¸Šæ³¨å†Œçš„ç”¨æˆ·å’Œå¯†ç ã€ä½ åŠ å…¥è´­ç‰©è½¦çš„äº§å“ã€ä½ çš„äº§å“è®¢å•</p><p>LAMP = Linux + APache + PHP + MySQL</p><h1 id="å››ã€é˜¿é‡Œäº‘è¯¦è§£"><a href="#å››ã€é˜¿é‡Œäº‘è¯¦è§£" class="headerlink" title="å››ã€é˜¿é‡Œäº‘è¯¦è§£"></a>å››ã€é˜¿é‡Œäº‘è¯¦è§£</h1><p>è¦æƒ³éƒ¨ç½²ä¸€ä¸ªäº’è”ç½‘ä¸Šå¯ä»¥è®¿é—®åˆ°çš„ç¯å¢ƒï¼Œå¿…é¡»å…ˆå…·å¤‡ä»¥ä¸‹å†…å®¹ ï¼š</p><p>æœåŠ¡å™¨ï¼ˆIPã€å¸å·å¯†ç ã€ç»ˆç«¯ï¼‰ã€ç›¸åº”çš„è½¯ä»¶ã€åŸŸåï¼ˆå¤‡æ¡ˆã€è§£æï¼‰ã€ä»£ç ç­‰ã€‚</p><p><img src="/../assets/blog_res/%E8%BF%9B%E7%A8%8B%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7%E4%B8%8ELAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200326154214921.png" alt="image-20200326154214921"></p><p>ä»£ç ï¼šå‰ç«¯å·¥ç¨‹å¸ˆ + åç«¯å·¥ç¨‹å¸ˆè¿›è¡Œå¼€å‘æä¾›çš„ï¼</p><h2 id="1ã€æ³¨å†Œé˜¿é‡Œäº‘è´¦å·"><a href="#1ã€æ³¨å†Œé˜¿é‡Œäº‘è´¦å·" class="headerlink" title="1ã€æ³¨å†Œé˜¿é‡Œäº‘è´¦å·"></a>1ã€æ³¨å†Œé˜¿é‡Œäº‘è´¦å·</h2><p>é˜¿é‡Œäº‘å®˜ç½‘ï¼š<a href="https://www.aliyun.com/">https://www.aliyun.com/</a></p><p><img src="/../assets/blog_res/%E8%BF%9B%E7%A8%8B%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7%E4%B8%8ELAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200326154527903.png" alt="image-20200326154527903"></p><blockquote><p>ç‰¹åˆ«è¯´æ˜ï¼šäº‘æœåŠ¡å™¨çš„å‚å•†ç‰¹åˆ«å¤šï¼Œä½ å¯ä»¥è¿›è¡Œä»»æ„é€‰æ‹© =&gt; é˜¿é‡Œäº‘ã€ç™¾åº¦äº‘ã€è…¾è®¯äº‘ã€åä¸ºäº‘â€¦</p></blockquote><p>æ³¨å†Œæ—¶å»ºè®®ä½¿ç”¨æ”¯ä»˜å®ï¼Œæ–¹ä¾¿å¿«æ·ã€‚æœ€é‡è¦ï¼šä»˜æ¬¾æ–¹ä¾¿</p><h2 id="2ã€å®åè®¤è¯ï¼ˆä¸Šä¼ èº«ä»½è¯ç…§ç‰‡ï¼‰"><a href="#2ã€å®åè®¤è¯ï¼ˆä¸Šä¼ èº«ä»½è¯ç…§ç‰‡ï¼‰" class="headerlink" title="2ã€å®åè®¤è¯ï¼ˆä¸Šä¼ èº«ä»½è¯ç…§ç‰‡ï¼‰"></a>2ã€å®åè®¤è¯ï¼ˆä¸Šä¼ èº«ä»½è¯ç…§ç‰‡ï¼‰</h2><p>ç¬¬ä¸€æ­¥ï¼šå•å‡»è´¦å·ä¸‹æ–¹çš„å®åè®¤è¯ï¼ˆé€‰æ‹©ä¸ªäººè®¤è¯ï¼‰</p><p><img src="/../assets/blog_res/%E8%BF%9B%E7%A8%8B%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7%E4%B8%8ELAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200326155133047.png" alt="image-20200326155133047"></p><p><img src="/../assets/blog_res/%E8%BF%9B%E7%A8%8B%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7%E4%B8%8ELAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200326155146301.png" alt="image-20200326155146301"></p><p>ç¬¬äºŒæ­¥ï¼šé€‰æ‹©æ”¯ä»˜å®æˆæƒè®¤è¯ï¼ˆåŠæ—¶å¼€é€šï¼Œæ— éœ€ç­‰å¾…ï¼‰</p><p><img src="/../assets/blog_res/%E8%BF%9B%E7%A8%8B%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7%E4%B8%8ELAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200326155223066.png" alt="image-20200326155223066"></p><p>ç¬¬ä¸‰æ­¥ï¼šå‹¾é€‰åŒæ„ï¼Œç‚¹å‡»æäº¤</p><p><img src="/../assets/blog_res/%E8%BF%9B%E7%A8%8B%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7%E4%B8%8ELAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200326155308208.png" alt="image-20200326155308208"></p><p>ç¬¬å››æ­¥ï¼šä½¿ç”¨æ‰‹æœºæ”¯ä»˜å®æ‰«æäºŒç»´ç ï¼Œè¿›è¡Œæˆæƒ</p><p><img src="/../assets/blog_res/%E8%BF%9B%E7%A8%8B%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7%E4%B8%8ELAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200326155339781.png" alt="image-20200326155339781"></p><p>ç¬¬äº”æ­¥ï¼šå¡«å†™ç›¸å…³ä¿¡æ¯ï¼ˆä½å€ï¼‰</p><p><img src="/../assets/blog_res/%E8%BF%9B%E7%A8%8B%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7%E4%B8%8ELAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200326155358292.png" alt="image-20200326155358292"></p><p>å¡«å†™å®Œæ¯•ï¼Œå³å¯å®Œæˆè®¤è¯ã€‚</p><p><img src="/../assets/blog_res/%E8%BF%9B%E7%A8%8B%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7%E4%B8%8ELAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200326155428202.png" alt="image-20200326155428202"></p><h2 id="3ã€è´­ä¹°é˜¿é‡Œäº‘çš„ECSäº‘æœåŠ¡å™¨"><a href="#3ã€è´­ä¹°é˜¿é‡Œäº‘çš„ECSäº‘æœåŠ¡å™¨" class="headerlink" title="3ã€è´­ä¹°é˜¿é‡Œäº‘çš„ECSäº‘æœåŠ¡å™¨"></a>3ã€è´­ä¹°é˜¿é‡Œäº‘çš„ECSäº‘æœåŠ¡å™¨</h2><p>ç¬¬ä¸€æ­¥ï¼šå›åˆ°é˜¿é‡Œäº‘é¦–é¡µï¼Œæ‰¾åˆ°å¼¹æ€§è®¡ç®— =&gt; ECSäº‘æœåŠ¡å™¨</p><p><img src="/../assets/blog_res/%E8%BF%9B%E7%A8%8B%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7%E4%B8%8ELAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200326161759062.png" alt="image-20200326161759062"></p><p>ç¬¬äºŒæ­¥ï¼šå•å‡»ç«‹å³è´­ä¹°ï¼Œè´­ä¹°ECSæœåŠ¡å™¨ï¼ˆé€‰åŒºåŸŸã€é€‰é…ç½®ï¼‰</p><p><img src="/../assets/blog_res/%E8%BF%9B%E7%A8%8B%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7%E4%B8%8ELAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200326161916781.png" alt="image-20200326161916781"></p><p>ç¬¬ä¸‰æ­¥ï¼šé€‰æ‹©ä»˜è´¹æ¨¡å¼ã€é€‰æ‹©CPUä¸å†…å­˜çš„é…ç½®</p><p><img src="/../assets/blog_res/%E8%BF%9B%E7%A8%8B%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7%E4%B8%8ELAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200326162659403.png" alt="image-20200326162659403"></p><p>ç¬¬å››æ­¥ï¼šé€‰æ‹©é•œåƒï¼ˆCentOS7.6ï¼‰ä¸äº‘ç›˜ï¼ˆç¡¬ç›˜ï¼‰</p><p><img src="/../assets/blog_res/%E8%BF%9B%E7%A8%8B%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7%E4%B8%8ELAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200326162845467.png" alt="image-20200326162845467"></p><p>ç¬¬å››æ­¥ï¼šè®¾ç½®ç½‘ç»œã€å…¬ç½‘IPä»¥åŠå®‰å…¨ç»„ï¼ˆé‡è¦ï¼‰</p><p><img src="/../assets/blog_res/%E8%BF%9B%E7%A8%8B%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7%E4%B8%8ELAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200326163143681.png" alt="image-20200326163143681"></p><blockquote><p>ç”¨æˆ· =&gt;  é˜¿é‡Œäº‘å®‰å…¨ç»„  =&gt;  firewalldé˜²ç«å¢™  =&gt; LinuxæœåŠ¡å™¨</p></blockquote><p>ç¬¬äº”æ­¥ï¼šè®¾ç½®rootè´¦å·å¯†ç ï¼ˆä¸€å®šè¦é€‰æ‹©è‡ªå®šä¹‰å¯†ç ï¼‰</p><p><img src="/../assets/blog_res/%E8%BF%9B%E7%A8%8B%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7%E4%B8%8ELAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200326163533492.png" alt="image-20200326163533492"></p><blockquote><p>8 - 30 ä¸ªå­—ç¬¦ï¼Œå¿…é¡»åŒæ—¶åŒ…å«ä¸‰é¡¹ï¼ˆå¤§å†™å­—æ¯ã€å°å†™å­—æ¯ã€æ•°å­—ã€ ()`~!@#$%^&amp;*_-+=|{}[]:;â€™&lt;&gt;,.?/ ä¸­çš„ç‰¹æ®Šç¬¦å·ï¼‰ï¼Œå…¶ä¸­ Windows å®ä¾‹ä¸èƒ½ä»¥æ–œçº¿å·ï¼ˆ/ï¼‰ä¸ºé¦–å­—ç¬¦</p></blockquote><p>ç¬¬å…­æ­¥ï¼šè®¾ç½®é‡Šæ”¾æ—¶é—´ =&gt; ä»€ä¹ˆæ—¶å€™åˆ é™¤è¿™å°æœåŠ¡å™¨ï¼ˆä¸æ”¶é’±ï¼‰</p><p><img src="/../assets/blog_res/%E8%BF%9B%E7%A8%8B%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7%E4%B8%8ELAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200326163830484.png" alt="image-20200326163830484"></p><blockquote><p>ç‰¹åˆ«è¯´æ˜ï¼šåªæœ‰ä¸ªäººè´­ä¹°çš„ECSæœåŠ¡å™¨å¯ä»¥è®¾ç½®é‡Šæ”¾æ—¶é—´ï¼Œç”Ÿäº§ç¯å¢ƒä¸€å®šä¸è¦è®¾ç½®é‡Šæ”¾æ—¶é—´ï¼Œå¦åˆ™åæœè‡ªè´Ÿï¼ï¼ï¼</p></blockquote><p>ç¬¬ä¸ƒæ­¥ï¼šè¿›å…¥ç®¡ç†æ§åˆ¶å°ï¼Œæ‰¾åˆ°æˆ‘ä»¬åˆšæ‰è´­ä¹°çš„ECSæœåŠ¡å™¨ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="/../assets/blog_res/%E8%BF%9B%E7%A8%8B%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7%E4%B8%8ELAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200326164148544.png" alt="image-20200326164148544"></p><blockquote><p>ä½¿ç”¨MXè½¯ä»¶ï¼Œç›´æ¥è¿æ¥å…¬ç½‘IP + rootè´¦å· + è‡ªå®šä¹‰çš„å¯†ç å³å¯è¿æ¥</p></blockquote><h2 id="4ã€ä½¿ç”¨MXè¿æ¥ECSæœåŠ¡å™¨"><a href="#4ã€ä½¿ç”¨MXè¿æ¥ECSæœåŠ¡å™¨" class="headerlink" title="4ã€ä½¿ç”¨MXè¿æ¥ECSæœåŠ¡å™¨"></a>4ã€ä½¿ç”¨MXè¿æ¥ECSæœåŠ¡å™¨</h2><p><img src="/../assets/blog_res/%E8%BF%9B%E7%A8%8B%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7%E4%B8%8ELAMP%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%AE%9E%E6%88%98.assets/image-20200326164519379.png" alt="image-20200326164519379"></p><h2 id="5ã€ä½¿ç”¨yumå®‰è£…slå°å·¥å…·"><a href="#5ã€ä½¿ç”¨yumå®‰è£…slå°å·¥å…·" class="headerlink" title="5ã€ä½¿ç”¨yumå®‰è£…slå°å·¥å…·"></a>5ã€ä½¿ç”¨yumå®‰è£…slå°å·¥å…·</h2><p>å®‰è£…è¿‡ç¨‹ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install sl -y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä½¿ç”¨slå‘½ä»¤ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># sl<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxç³»ç»Ÿè‡ªæœ‰æœåŠ¡</title>
      <link href="/2023/12/23/linux-xi-tong-zi-you-fu-wu/"/>
      <url>/2023/12/23/linux-xi-tong-zi-you-fu-wu/</url>
      
        <content type="html"><![CDATA[<h1 id="Linuxç³»ç»Ÿè‡ªæœ‰æœåŠ¡"><a href="#Linuxç³»ç»Ÿè‡ªæœ‰æœåŠ¡" class="headerlink" title="Linuxç³»ç»Ÿè‡ªæœ‰æœåŠ¡"></a>Linuxç³»ç»Ÿè‡ªæœ‰æœåŠ¡</h1><h1 id="ä¸€ã€Linuxä¸­é˜²ç«å¢™firewalld"><a href="#ä¸€ã€Linuxä¸­é˜²ç«å¢™firewalld" class="headerlink" title="ä¸€ã€Linuxä¸­é˜²ç«å¢™firewalld"></a>ä¸€ã€Linuxä¸­é˜²ç«å¢™firewalld</h1><h2 id="1ã€ä»€ä¹ˆæ˜¯é˜²ç«å¢™"><a href="#1ã€ä»€ä¹ˆæ˜¯é˜²ç«å¢™" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯é˜²ç«å¢™"></a>1ã€ä»€ä¹ˆæ˜¯é˜²ç«å¢™</h2><p>é˜²ç«å¢™ï¼šé˜²èŒƒä¸€äº›ç½‘ç»œæ”»å‡»ã€‚æœ‰è½¯ä»¶é˜²ç«å¢™ã€ç¡¬ä»¶é˜²ç«å¢™ä¹‹åˆ†ã€‚</p><p><img src="/../assets/blog_res/Linux%E7%B3%BB%E7%BB%9F%E8%87%AA%E6%9C%89%E6%9C%8D%E5%8A%A1.assets/image-20200323103515971.png" alt="image-20200323103515971"></p><p>é˜²ç«å¢™é€‰æ‹©è®©æ­£å¸¸è¯·æ±‚é€šè¿‡ï¼Œä»è€Œä¿è¯ç½‘ç»œå®‰å…¨æ€§ã€‚</p><p>Windowsé˜²ç«å¢™ï¼š</p><p><img src="/../assets/blog_res/Linux%E7%B3%BB%E7%BB%9F%E8%87%AA%E6%9C%89%E6%9C%8D%E5%8A%A1.assets/image-20200323103649880.png" alt="image-20200323103649880"></p><p>Windowsé˜²ç«å¢™çš„åˆ’åˆ†ä¸å¼€å¯ã€å…³é—­æ“ä½œï¼š</p><p><img src="/../assets/blog_res/Linux%E7%B3%BB%E7%BB%9F%E8%87%AA%E6%9C%89%E6%9C%8D%E5%8A%A1.assets/image-20200323103742027.png" alt="image-20200323103742027"></p><h2 id="2ã€é˜²ç«å¢™çš„ä½œç”¨"><a href="#2ã€é˜²ç«å¢™çš„ä½œç”¨" class="headerlink" title="2ã€é˜²ç«å¢™çš„ä½œç”¨"></a>2ã€é˜²ç«å¢™çš„ä½œç”¨</h2><p><img src="/../assets/blog_res/Linux%E7%B3%BB%E7%BB%9F%E8%87%AA%E6%9C%89%E6%9C%8D%E5%8A%A1.assets/image-20200323104432522.png" alt="image-20200323104432522"></p><h2 id="3ã€Linuxä¸­çš„é˜²ç«å¢™åˆ†ç±»"><a href="#3ã€Linuxä¸­çš„é˜²ç«å¢™åˆ†ç±»" class="headerlink" title="3ã€Linuxä¸­çš„é˜²ç«å¢™åˆ†ç±»"></a>3ã€Linuxä¸­çš„é˜²ç«å¢™åˆ†ç±»</h2><p>CentOS5ã€CentOS6 =&gt; é˜²ç«å¢™ =&gt; iptablesé˜²ç«å¢™</p><p>CentOS7 =&gt; é˜²ç«å¢™ =&gt; firewalldé˜²ç«å¢™</p><blockquote><p>firewalld = fireç«  wallå¢™  daemonå®ˆæŠ¤è¿›ç¨‹</p></blockquote><h2 id="4ã€firewalldé˜²ç«å¢™"><a href="#4ã€firewalldé˜²ç«å¢™" class="headerlink" title="4ã€firewalldé˜²ç«å¢™"></a>4ã€firewalldé˜²ç«å¢™</h2><h3 id="â˜†-åŒºåŸŸ"><a href="#â˜†-åŒºåŸŸ" class="headerlink" title="â˜† åŒºåŸŸ"></a>â˜† åŒºåŸŸ</h3><p>firewalldå¢åŠ äº†åŒºåŸŸ(zone)çš„æ¦‚å¿µï¼Œæ‰€è°“åŒºåŸŸæ˜¯æŒ‡ï¼Œfirewalld<strong>é¢„å…ˆå‡†å¤‡äº†å‡ å¥—é˜²ç«å¢™ç­–ç•¥çš„é›†åˆ</strong>ï¼Œç±»ä¼¼äº<strong>ç­–ç•¥çš„æ¨¡æ¿</strong>ï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®éœ€æ±‚é€‰æ‹©åŒºåŸŸã€‚</p><p>å¸¸è§åŒºåŸŸåŠç›¸åº”ç­–ç•¥è§„åˆ™(è§„åˆ™ï¼šå“ªäº›ç«¯å£æˆ–æœåŠ¡å¯ä»¥é€šè¿‡é˜²ç«å¢™ï¼Œå“ªäº›ä¸èƒ½é€šè¿‡)</p><table><thead><tr><th>åŒºåŸŸ</th><th>é»˜è®¤ç­–ç•¥</th></tr></thead><tbody><tr><td>trusted</td><td>å…è®¸æ‰€æœ‰æ•°æ®åŒ…</td></tr><tr><td>home</td><td>æ‹’ç»æµå…¥çš„æµé‡ï¼Œé™¤éä¸æµå‡ºçš„æµé‡ç›¸å…³ï¼Œå…è®¸ssh,mdns,ippclient,amba-client,dhcpv6-clientæœåŠ¡é€šè¿‡</td></tr><tr><td>internal</td><td>ç­‰åŒäºhome</td></tr><tr><td>work</td><td>æ‹’ç»æµå…¥çš„æµé‡ï¼Œé™¤éä¸æµå‡ºçš„æµé‡ç›¸å…³ï¼Œå…è®¸ssh,ipp-client,dhcpv6-clientæœåŠ¡é€šè¿‡</td></tr><tr><td>==public==</td><td>æ‹’ç»æµå…¥çš„æµé‡ï¼Œé™¤éä¸æµå‡ºçš„æµé‡ç›¸å…³ï¼Œå…è®¸ssh,dhcpv6-clientæœåŠ¡é€šè¿‡</td></tr><tr><td>external</td><td>æ‹’ç»æµå…¥çš„æµé‡ï¼Œé™¤éä¸æµå‡ºçš„æµé‡ç›¸å…³ï¼Œå…è®¸sshæœåŠ¡é€šè¿‡</td></tr><tr><td>dmz</td><td>æ‹’ç»æµå…¥çš„æµé‡ï¼Œé™¤éä¸æµå‡ºçš„æµé‡ç›¸å…³ï¼Œå…è®¸sshæœåŠ¡é€šè¿‡</td></tr><tr><td>block</td><td>æ‹’ç»æµå…¥çš„æµé‡ï¼Œé™¤éä¸æµå‡ºçš„æµé‡ç›¸å…³ï¼Œéæ³•æµé‡é‡‡å–æ‹’ç»æ“ä½œ</td></tr><tr><td>drop</td><td>æ‹’ç»æµå…¥çš„æµé‡ï¼Œé™¤éä¸æµå‡ºçš„æµé‡ç›¸å…³ï¼Œéæ³•æµé‡é‡‡å–ä¸¢å¼ƒæ“ä½œ</td></tr></tbody></table><p>æ¡ˆä¾‹ï¼šåœ¨Linuxç³»ç»Ÿä¸­å®‰è£…httpdæœåŠ¡ï¼ˆWebæœåŠ¡ï¼‰ï¼Œå ç”¨è®¡ç®—æœºçš„80ç«¯å£</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install httpd -y# systemctl start httpd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å®‰è£…å¯åŠ¨å®Œæˆåï¼Œåœ¨æµè§ˆå™¨ä¸­ï¼Œè¾“å…¥http://æœåŠ¡å™¨çš„IPåœ°å€/å³å¯è®¿é—®httpdæœåŠ¡é¡µé¢</p><p><img src="/../assets/blog_res/Linux%E7%B3%BB%E7%BB%9F%E8%87%AA%E6%9C%89%E6%9C%8D%E5%8A%A1.assets/image-20200323110040266.png" alt="image-20200323110040266"></p><blockquote><p>ä»¥ä¸Šæ“ä½œåªèƒ½ä½¿ç”¨Googleæµè§ˆå™¨ã€360æµè§ˆå™¨æˆ–è€…Firefoxç«ç‹æµè§ˆå™¨ï¼Œä¸€å®šä¸è¦ä½¿ç”¨IE</p></blockquote><p>ä»¥ä¸Šé—®é¢˜çš„åŸå› åœ¨äºï¼šfirewalldé˜²ç«å¢™å·²ç»æŠŠhttpdï¼ˆ80ç«¯å£ï¼‰å±è”½äº†ï¼Œæ‰€ä»¥æ²¡æœ‰åŠæ³•è®¿é—®è¿™å°æœåŠ¡å™¨çš„80ç«¯å£ï¼ˆhttpdæœåŠ¡ï¼‰</p><p>ä¸´æ—¶è§£å†³åŠæ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl stop firewalld<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/../assets/blog_res/Linux%E7%B3%BB%E7%BB%9F%E8%87%AA%E6%9C%89%E6%9C%8D%E5%8A%A1.assets/image-20200323110420640.png" alt="image-20200323110420640"></p><h3 id="â˜†-è¿è¡Œæ¨¡å¼å’Œæ°¸ä¹…æ¨¡å¼"><a href="#â˜†-è¿è¡Œæ¨¡å¼å’Œæ°¸ä¹…æ¨¡å¼" class="headerlink" title="â˜† è¿è¡Œæ¨¡å¼å’Œæ°¸ä¹…æ¨¡å¼"></a>â˜† è¿è¡Œæ¨¡å¼å’Œæ°¸ä¹…æ¨¡å¼</h3><p>è¿è¡Œæ¨¡å¼ï¼šæ­¤æ¨¡å¼ä¸‹ï¼Œé…ç½®çš„é˜²ç«å¢™ç­–ç•¥ç«‹å³ç”Ÿæ•ˆï¼Œä½†æ˜¯ä¸å†™å…¥é…ç½®æ–‡ä»¶</p><p>æ°¸ä¹…æ¨¡å¼ï¼šæ­¤æ¨¡å¼ä¸‹ï¼Œé…ç½®çš„é˜²ç«å¢™ç­–ç•¥å†™å…¥é…ç½®æ–‡ä»¶ï¼Œä½†æ˜¯éœ€è¦reloadé‡æ–°åŠ è½½æ‰èƒ½ç”Ÿæ•ˆã€‚</p><p>==firewalldé»˜è®¤é‡‡ç”¨è¿è¡Œæ¨¡å¼==</p><h2 id="5ã€é˜²ç«å¢™è®¾ç½®"><a href="#5ã€é˜²ç«å¢™è®¾ç½®" class="headerlink" title="5ã€é˜²ç«å¢™è®¾ç½®"></a>5ã€é˜²ç«å¢™è®¾ç½®</h2><h3 id="â˜†-é˜²ç«å¢™çš„å¯åŠ¨ã€åœæ­¢ä»¥åŠæŸ¥çœ‹è¿è¡ŒçŠ¶æ€"><a href="#â˜†-é˜²ç«å¢™çš„å¯åŠ¨ã€åœæ­¢ä»¥åŠæŸ¥çœ‹è¿è¡ŒçŠ¶æ€" class="headerlink" title="â˜† é˜²ç«å¢™çš„å¯åŠ¨ã€åœæ­¢ä»¥åŠæŸ¥çœ‹è¿è¡ŒçŠ¶æ€"></a>â˜† é˜²ç«å¢™çš„å¯åŠ¨ã€åœæ­¢ä»¥åŠæŸ¥çœ‹è¿è¡ŒçŠ¶æ€</h3><p>æŸ¥çœ‹è¿è¡ŒçŠ¶æ€</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl status firewalld<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/../assets/blog_res/Linux%E7%B3%BB%E7%BB%9F%E8%87%AA%E6%9C%89%E6%9C%8D%E5%8A%A1.assets/image-20200323113130407.png" alt="image-20200323113130407"></p><p>åœæ­¢é˜²ç«å¢™ï¼ˆå­¦ä¹ ç¯å¢ƒä»»æ„æ“ä½œï¼Œç”Ÿäº§ç¯å¢ƒä¸€å®šä¸è¦åœæ­¢é˜²ç«å¢™ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl stop firewalld<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>è®°ä½ï¼šé˜²ç«å¢™ä¸€æ—¦åœæ­¢ï¼Œå…¶è®¾ç½®çš„æ‰€æœ‰è§„åˆ™ä¼šå…¨éƒ¨å¤±æ•ˆï¼</p></blockquote><p>å¯åŠ¨é˜²ç«å¢™</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl start firewalld<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â˜†-é˜²ç«å¢™é‡å¯ä¸é‡è½½æ“ä½œ"><a href="#â˜†-é˜²ç«å¢™é‡å¯ä¸é‡è½½æ“ä½œ" class="headerlink" title="â˜† é˜²ç«å¢™é‡å¯ä¸é‡è½½æ“ä½œ"></a>â˜† é˜²ç«å¢™é‡å¯ä¸é‡è½½æ“ä½œ</h3><p>é‡å¯æ“ä½œ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl restart firewalld<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>restart = stop + startï¼Œé‡å¯é¦–å…ˆåœæ­¢æœåŠ¡ï¼Œç„¶ååœ¨é‡æ–°å¯åŠ¨æœåŠ¡</p></blockquote><p>é‡è½½æ“ä½œ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl reload firewalld<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æˆ‘ä»¬å¯¹é˜²ç«å¢™çš„é…ç½®æ–‡ä»¶åšäº†æ›´æ”¹ï¼ˆæ°¸ä¹…æ¨¡å¼ï¼‰ï¼Œéœ€è¦ä½¿ç”¨reloadè¿›è¡Œé‡è½½è®©å…¶ç«‹å³ç”Ÿæ•ˆ</p><blockquote><p>reloadå¹¶æ²¡æœ‰åœæ­¢æ­£åœ¨è¿è¡Œçš„é˜²ç«å¢™æœåŠ¡ï¼Œåªæ˜¯åœ¨æœåŠ¡çš„åŸºç¡€ä¸Šå˜æ¢äº†é˜²ç«å¢™è§„åˆ™</p></blockquote><h3 id="â˜†-æŠŠé˜²ç«å¢™è®¾ç½®ä¸ºå¼€æœºå¯åŠ¨ä¸å¼€æœºä¸å¯åŠ¨"><a href="#â˜†-æŠŠé˜²ç«å¢™è®¾ç½®ä¸ºå¼€æœºå¯åŠ¨ä¸å¼€æœºä¸å¯åŠ¨" class="headerlink" title="â˜† æŠŠé˜²ç«å¢™è®¾ç½®ä¸ºå¼€æœºå¯åŠ¨ä¸å¼€æœºä¸å¯åŠ¨"></a>â˜† æŠŠé˜²ç«å¢™è®¾ç½®ä¸ºå¼€æœºå¯åŠ¨ä¸å¼€æœºä¸å¯åŠ¨</h3><p>å¼€æœºå¯åŠ¨</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl enable firewalld<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¼€æœºä¸å¯åŠ¨</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl disable firewalld<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="6ã€firewalldé˜²ç«å¢™è§„åˆ™"><a href="#6ã€firewalldé˜²ç«å¢™è§„åˆ™" class="headerlink" title="6ã€firewalldé˜²ç«å¢™è§„åˆ™"></a>6ã€firewalldé˜²ç«å¢™è§„åˆ™</h2><h3 id="â˜†-firewalldç®¡ç†å·¥å…·"><a href="#â˜†-firewalldç®¡ç†å·¥å…·" class="headerlink" title="â˜† firewalldç®¡ç†å·¥å…·"></a>â˜† firewalldç®¡ç†å·¥å…·</h3><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># firewall-cmd [é€‰é¡¹1] [é€‰é¡¹2] [...N]<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â˜†-æŸ¥çœ‹é˜²ç«å¢™é»˜è®¤çš„åŒºåŸŸï¼ˆzoneï¼‰"><a href="#â˜†-æŸ¥çœ‹é˜²ç«å¢™é»˜è®¤çš„åŒºåŸŸï¼ˆzoneï¼‰" class="headerlink" title="â˜† æŸ¥çœ‹é˜²ç«å¢™é»˜è®¤çš„åŒºåŸŸï¼ˆzoneï¼‰"></a>â˜† æŸ¥çœ‹é˜²ç«å¢™é»˜è®¤çš„åŒºåŸŸï¼ˆzoneï¼‰</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># firewall-cmd --get-default-zone<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿è¡Œæ•ˆæœï¼š</p><p><img src="/../assets/blog_res/Linux%E7%B3%BB%E7%BB%9F%E8%87%AA%E6%9C%89%E6%9C%8D%E5%8A%A1.assets/image-20200323115400536.png" alt="image-20200323115400536"></p><h3 id="â˜†-æŸ¥çœ‹æ‰€æœ‰æ”¯æŒçš„åŒºåŸŸï¼ˆzonesï¼‰"><a href="#â˜†-æŸ¥çœ‹æ‰€æœ‰æ”¯æŒçš„åŒºåŸŸï¼ˆzonesï¼‰" class="headerlink" title="â˜† æŸ¥çœ‹æ‰€æœ‰æ”¯æŒçš„åŒºåŸŸï¼ˆzonesï¼‰"></a>â˜† æŸ¥çœ‹æ‰€æœ‰æ”¯æŒçš„åŒºåŸŸï¼ˆzonesï¼‰</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># firewall-cmd --get-zones<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿è¡Œç»“æœï¼š</p><p><img src="/../assets/blog_res/Linux%E7%B3%BB%E7%BB%9F%E8%87%AA%E6%9C%89%E6%9C%8D%E5%8A%A1.assets/image-20200323115553881.png" alt="image-20200323115553881"></p><blockquote><p>ä¸ºä»€ä¹ˆè¦æœ‰åŒºåŸŸçš„æ¦‚å¿µï¼šå…¶å®ä¸åŒçš„åŒºåŸŸå°±æ˜¯ä¸åŒçš„è§„åˆ™</p></blockquote><h3 id="â˜†-æŸ¥çœ‹å½“å‰åŒºåŸŸçš„è§„åˆ™è®¾ç½®"><a href="#â˜†-æŸ¥çœ‹å½“å‰åŒºåŸŸçš„è§„åˆ™è®¾ç½®" class="headerlink" title="â˜† æŸ¥çœ‹å½“å‰åŒºåŸŸçš„è§„åˆ™è®¾ç½®"></a>â˜† æŸ¥çœ‹å½“å‰åŒºåŸŸçš„è§„åˆ™è®¾ç½®</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># firewall-cmd --list-all<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/../assets/blog_res/Linux%E7%B3%BB%E7%BB%9F%E8%87%AA%E6%9C%89%E6%9C%8D%E5%8A%A1.assets/image-20200323120055400.png" alt="image-20200323120055400"></p><h3 id="â˜†-æŸ¥çœ‹æ‰€æœ‰åŒºåŸŸçš„è§„åˆ™è®¾ç½®"><a href="#â˜†-æŸ¥çœ‹æ‰€æœ‰åŒºåŸŸçš„è§„åˆ™è®¾ç½®" class="headerlink" title="â˜† æŸ¥çœ‹æ‰€æœ‰åŒºåŸŸçš„è§„åˆ™è®¾ç½®"></a>â˜† æŸ¥çœ‹æ‰€æœ‰åŒºåŸŸçš„è§„åˆ™è®¾ç½®</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># firewall-cmd --list-all-zones<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿è¡Œç»“æœï¼š</p><p><img src="/../assets/blog_res/Linux%E7%B3%BB%E7%BB%9F%E8%87%AA%E6%9C%89%E6%9C%8D%E5%8A%A1.assets/image-20200323140809857.png" alt="image-20200323140809857"></p><h3 id="â˜†-æ·»åŠ å…è®¸é€šè¿‡çš„æœåŠ¡æˆ–ç«¯å£ï¼ˆé‡ç‚¹ï¼‰"><a href="#â˜†-æ·»åŠ å…è®¸é€šè¿‡çš„æœåŠ¡æˆ–ç«¯å£ï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="â˜† æ·»åŠ å…è®¸é€šè¿‡çš„æœåŠ¡æˆ–ç«¯å£ï¼ˆé‡ç‚¹ï¼‰"></a>â˜† æ·»åŠ å…è®¸é€šè¿‡çš„æœåŠ¡æˆ–ç«¯å£ï¼ˆé‡ç‚¹ï¼‰</h3><h4 id="â‘ -é€šè¿‡æœåŠ¡çš„åç§°æ·»åŠ è§„åˆ™"><a href="#â‘ -é€šè¿‡æœåŠ¡çš„åç§°æ·»åŠ è§„åˆ™" class="headerlink" title="â‘  é€šè¿‡æœåŠ¡çš„åç§°æ·»åŠ è§„åˆ™"></a>â‘  é€šè¿‡æœåŠ¡çš„åç§°æ·»åŠ è§„åˆ™</h4><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># firewall-cmd --zone=public --add-service=æœåŠ¡çš„åç§°å¤‡æ³¨ï¼šæœåŠ¡å¿…é¡»å­˜å‚¨åœ¨/usr/lib/firewalld/servicesç›®å½•ä¸­<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠhttpæœåŠ¡æ·»åŠ åˆ°é˜²ç«å¢™çš„è§„åˆ™ä¸­ï¼Œå…è®¸é€šè¿‡é˜²ç«å¢™</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># firewall-cmd --zone=public --add-service=http<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/../assets/blog_res/Linux%E7%B3%BB%E7%BB%9F%E8%87%AA%E6%9C%89%E6%9C%8D%E5%8A%A1.assets/image-20200323142852553.png" alt="image-20200323142852553"></p><p>æ‰©å±•ï¼šæŠŠhttpæœåŠ¡ä»é˜²ç«å¢™è§„åˆ™ä¸­ç§»é™¤ï¼Œä¸å…è®¸å…¶é€šè¿‡é˜²ç«å¢™</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># firewall-cmd --zone=public --remove-service=http# firewall-cmd --list-all<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><img src="/../assets/blog_res/Linux%E7%B3%BB%E7%BB%9F%E8%87%AA%E6%9C%89%E6%9C%8D%E5%8A%A1.assets/image-20200323143838389.png" alt="image-20200323143838389"></p><h4 id="â‘¡-é€šè¿‡æœåŠ¡çš„ç«¯å£å·æ·»åŠ è§„åˆ™"><a href="#â‘¡-é€šè¿‡æœåŠ¡çš„ç«¯å£å·æ·»åŠ è§„åˆ™" class="headerlink" title="â‘¡ é€šè¿‡æœåŠ¡çš„ç«¯å£å·æ·»åŠ è§„åˆ™"></a>â‘¡ é€šè¿‡æœåŠ¡çš„ç«¯å£å·æ·»åŠ è§„åˆ™</h4><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># firewall-cmd --zone=public --add-port=ç«¯å£å·/tcp<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠ80/tcpæ·»åŠ åˆ°é˜²ç«å¢™è§„åˆ™ä¸­ï¼Œå…è®¸é€šè¿‡é˜²ç«å¢™</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ss -naltp |grep httpdhttpd :::80# å…è®¸80ç«¯å£é€šè¿‡firewalldé˜²ç«å¢™# firewall-cmd --zone=public --add-port=80/tcp<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œæ•ˆæœï¼š</p><p><img src="/../assets/blog_res/Linux%E7%B3%BB%E7%BB%9F%E8%87%AA%E6%9C%89%E6%9C%8D%E5%8A%A1.assets/image-20200323145118290.png" alt="image-20200323145118290"></p><p>æ¡ˆä¾‹ï¼šä»firewalldé˜²ç«å¢™ä¸­æŠŠ80ç«¯å£çš„è§„åˆ™ç§»é™¤æ‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># firewall-cmd --zone=public --remove-port=80/tcp<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/../assets/blog_res/Linux%E7%B3%BB%E7%BB%9F%E8%87%AA%E6%9C%89%E6%9C%8D%E5%8A%A1.assets/image-20200323152402733.png" alt="image-20200323152402733"></p><h3 id="â˜†-æ°¸ä¹…æ¨¡å¼permanent"><a href="#â˜†-æ°¸ä¹…æ¨¡å¼permanent" class="headerlink" title="â˜† æ°¸ä¹…æ¨¡å¼permanent"></a>â˜† æ°¸ä¹…æ¨¡å¼permanent</h3><p>åœ¨Linuxçš„æ–°ç‰ˆé˜²ç«å¢™firewalldä¸­ï¼Œå…¶æ¨¡å¼ä¸€å…±åˆ†ä¸ºä¸¤å¤§ç±»ï¼šè¿è¡Œæ¨¡å¼ï¼ˆä¸´æ—¶æ¨¡å¼ï¼‰+ æ°¸ä¹…æ¨¡å¼ã€‚</p><p>è¿è¡Œæ¨¡å¼ï¼šä¸ä¼šæŠŠè§„åˆ™ä¿å­˜åˆ°é˜²ç«å¢™çš„é…ç½®æ–‡ä»¶ä¸­ï¼Œè®¾ç½®å®Œæˆåç«‹å³ç”Ÿæ•ˆ</p><p>æ°¸ä¹…æ¨¡å¼ï¼šä¼šæŠŠè§„åˆ™å†™å…¥åˆ°é˜²ç«å¢™çš„é…ç½®æ–‡ä»¶ä¸­ï¼Œä½†æ˜¯å…¶éœ€è¦reloadé‡è½½åæ‰ä¼šç«‹å³ç”Ÿæ•ˆ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># æ ¹æ®æœåŠ¡åç§°æ·»åŠ è§„åˆ™ï¼ˆæ°¸ä¹…ï¼‰# firewall-cmd --zone=public --add-service=æœåŠ¡åç§° --permanent# firewall-cmd --reload# æ ¹æ®ç«¯å£å·æ·»åŠ è§„åˆ™ï¼ˆæ°¸ä¹…ï¼‰# firewall-cmd --zone=public --add-port=æœåŠ¡å ç”¨çš„ç«¯å£å· --permanent# firewall-cmd --reload<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠ80ç«¯å£æ·»åŠ åˆ°firewalldé˜²ç«å¢™è§„åˆ™ä¸­ï¼Œè¦æ±‚æ°¸ä¹…ç”Ÿæ•ˆ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># firewall-cmd --zone=public --add-port=80/tcp --permanent# firewall-cmd --reload# firewall-cmd --list-all<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h1 id="äºŒã€Linuxä¸­çš„è®¡åˆ’ä»»åŠ¡"><a href="#äºŒã€Linuxä¸­çš„è®¡åˆ’ä»»åŠ¡" class="headerlink" title="äºŒã€Linuxä¸­çš„è®¡åˆ’ä»»åŠ¡"></a>äºŒã€Linuxä¸­çš„è®¡åˆ’ä»»åŠ¡</h1><h2 id="1ã€ä»€ä¹ˆæ˜¯è®¡åˆ’ä»»åŠ¡"><a href="#1ã€ä»€ä¹ˆæ˜¯è®¡åˆ’ä»»åŠ¡" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯è®¡åˆ’ä»»åŠ¡"></a>1ã€ä»€ä¹ˆæ˜¯è®¡åˆ’ä»»åŠ¡</h2><p>ä½œç”¨ï¼šæ“ä½œç³»ç»Ÿä¸å¯èƒ½24 å°æ—¶éƒ½æœ‰äººåœ¨æ“ä½œï¼Œæœ‰äº›æ—¶å€™æƒ³åœ¨æŒ‡å®šçš„æ—¶é—´ç‚¹å»æ‰§è¡Œä»»åŠ¡ï¼ˆä¾‹å¦‚ï¼šæ¯å¤©å‡Œæ™¨ 2 ç‚¹å»é‡æ–°å¯åŠ¨httpd=&gt;é˜¿å¸•å¥‡ï¼‰ï¼Œæ­¤æ—¶ä¸å¯èƒ½çœŸæœ‰äººæ¯å¤©å¤œé‡Œ 2 ç‚¹å»æ‰§è¡Œå‘½ä»¤ï¼Œè¿™å°±å¯ä»¥äº¤ç»™è®¡åˆ’ä»»åŠ¡ç¨‹åºå»æ‰§è¡Œæ“ä½œäº†ã€‚</p><blockquote><p>åœ¨æŒ‡å®šçš„æ—¶é—´æ‰§è¡ŒæŒ‡å®šçš„æ“ä½œï¼</p></blockquote><h2 id="2ã€Windowsä¸­è®¡åˆ’ä»»åŠ¡"><a href="#2ã€Windowsä¸­è®¡åˆ’ä»»åŠ¡" class="headerlink" title="2ã€Windowsä¸­è®¡åˆ’ä»»åŠ¡"></a>2ã€Windowsä¸­è®¡åˆ’ä»»åŠ¡</h2><p>å¼€å§‹ =&gt; æ§åˆ¶é¢æ¿=&gt; ç®¡ç†å·¥å…·</p><blockquote><p>Windows10 =&gt; Windowsé”®  +  X</p></blockquote><p><img src="/../assets/blog_res/Linux%E7%B3%BB%E7%BB%9F%E8%87%AA%E6%9C%89%E6%9C%8D%E5%8A%A1.assets/image-20200323155756266.png" alt="image-20200323155756266"></p><p><img src="/../assets/blog_res/Linux%E7%B3%BB%E7%BB%9F%E8%87%AA%E6%9C%89%E6%9C%8D%E5%8A%A1.assets/image-20200323155841596.png" alt="image-20200323155841596"></p><p>æ¡ˆä¾‹ï¼šåœ¨Windowsä¸­åˆ›å»ºä¸€ä¸ªè®¡åˆ’ä»»åŠ¡</p><p>ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºåŸºæœ¬ä»»åŠ¡</p><p><img src="/../assets/blog_res/Linux%E7%B3%BB%E7%BB%9F%E8%87%AA%E6%9C%89%E6%9C%8D%E5%8A%A1.assets/image-20200323155948453.png" alt="image-20200323155948453"></p><p>ç¬¬äºŒæ­¥ï¼šè®¾ç½®è®¡åˆ’ä»»åŠ¡åç§°</p><p> <img src="/../assets/blog_res/Linux%E7%B3%BB%E7%BB%9F%E8%87%AA%E6%9C%89%E6%9C%8D%E5%8A%A1.assets/image-20200323160038098.png" alt="image-20200323160038098"></p><p>ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºä»»åŠ¡è§¦å‘å™¨ï¼ˆä»€ä¹ˆæ—¶é—´è§¦å‘è¿™ä¸ªä»»åŠ¡ï¼‰</p><p> <img src="/../assets/blog_res/Linux%E7%B3%BB%E7%BB%9F%E8%87%AA%E6%9C%89%E6%9C%8D%E5%8A%A1.assets/image-20200323160124406.png" alt="image-20200323160124406"></p><p>ç¬¬å››æ­¥ï¼šè®¾ç½®å…·ä½“çš„æ—¶é—´</p><p> <img src="/../assets/blog_res/Linux%E7%B3%BB%E7%BB%9F%E8%87%AA%E6%9C%89%E6%9C%8D%E5%8A%A1.assets/image-20200323160210033.png" alt="image-20200323160210033"></p><p>ç¬¬äº”æ­¥ï¼šå¯ä»¥åšçš„å·¥ä½œ</p><p> <img src="/../assets/blog_res/Linux%E7%B3%BB%E7%BB%9F%E8%87%AA%E6%9C%89%E6%9C%8D%E5%8A%A1.assets/image-20200323160240174.png" alt="image-20200323160240174"></p><p>ç¬¬å…­æ­¥ï¼šè®¾ç½®è¦å¯åŠ¨çš„ç¨‹åº</p><p> <img src="/../assets/blog_res/Linux%E7%B3%BB%E7%BB%9F%E8%87%AA%E6%9C%89%E6%9C%8D%E5%8A%A1.assets/image-20200323160326102.png" alt="image-20200323160326102"></p><h2 id="3ã€Linuxä¸­çš„è®¡åˆ’ä»»åŠ¡"><a href="#3ã€Linuxä¸­çš„è®¡åˆ’ä»»åŠ¡" class="headerlink" title="3ã€Linuxä¸­çš„è®¡åˆ’ä»»åŠ¡"></a>3ã€Linuxä¸­çš„è®¡åˆ’ä»»åŠ¡</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># crontab [é€‰é¡¹]-l ï¼šlistï¼Œæ˜¾ç¤ºç›®å‰å·²ç»è®¾ç½®çš„è®¡åˆ’ä»»åŠ¡-e ï¼šä½¿ç”¨vimç¼–è¾‘å™¨ç¼–è¾‘è®¡åˆ’ä»»åŠ¡çš„æ–‡ä»¶<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæ˜¾ç¤ºå½“å‰è´¦å·ä¸‹çš„è®¡åˆ’ä»»åŠ¡</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># crontab -lno crontab for root =&gt; rootè´¦å·ä¸‹æ²¡æœ‰åˆ›å»ºè®¡åˆ’ä»»åŠ¡<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šç¼–å†™è®¡åˆ’ä»»åŠ¡</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># crontab -e<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="4ã€è®¡åˆ’ä»»åŠ¡çš„ç¼–è¾‘"><a href="#4ã€è®¡åˆ’ä»»åŠ¡çš„ç¼–è¾‘" class="headerlink" title="4ã€è®¡åˆ’ä»»åŠ¡çš„ç¼–è¾‘"></a>4ã€è®¡åˆ’ä»»åŠ¡çš„ç¼–è¾‘</h2><p>crontab -eè¿›å…¥è®¡åˆ’ä»»åŠ¡ç¼–è¾‘æ–‡ä»¶</p><p><img src="/../assets/blog_res/Linux%E7%B3%BB%E7%BB%9F%E8%87%AA%E6%9C%89%E6%9C%8D%E5%8A%A1.assets/image-20200323162534378.png" alt="image-20200323162534378"></p><p>æ‰“å¼€è®¡åˆ’ä»»åŠ¡ç¼–è¾‘æ–‡ä»¶åï¼Œå¯ä»¥åœ¨æ­¤æ–‡ä»¶ä¸­ç¼–å†™æˆ‘ä»¬è‡ªå®šä¹‰çš„è®¡åˆ’ä»»åŠ¡ï¼š</p><p>==è®¡åˆ’ä»»åŠ¡çš„è§„åˆ™è¯­æ³•æ ¼å¼ï¼Œä»¥è¡Œä¸ºå•ä½ï¼Œä¸€è¡Œåˆ™ä¸ºä¸€ä¸ªè®¡åˆ’==</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">åˆ†  æ—¶  æ—¥  æœˆ  å‘¨  è¦æ‰§è¡Œçš„å‘½ä»¤ï¼ˆè¦æ±‚å¿…é¡»ä½¿ç”¨å‘½ä»¤çš„å®Œæ•´è·¯å¾„ï¼Œå¯ä»¥ä½¿ç”¨whichæŸ¥çœ‹ï¼‰å–å€¼èŒƒå›´ï¼ˆå¸¸è¯†ï¼‰ï¼šåˆ†ï¼š0~59æ—¶ï¼š0~23æ—¥ï¼š1~31æœˆï¼š1~12å‘¨ï¼š0~7ï¼Œ0 å’Œ 7 è¡¨ç¤ºæ˜ŸæœŸå¤©å››ä¸ªç¬¦å·ï¼š*ï¼šè¡¨ç¤ºå–å€¼èŒƒå›´ä¸­çš„æ¯ä¸€ä¸ªæ•°å­—-ï¼šåšè¿ç»­åŒºé—´è¡¨è¾¾å¼çš„ï¼Œè¦æƒ³è¡¨ç¤º1~7ï¼Œåˆ™å¯ä»¥å†™æˆï¼š1-7/ï¼šè¡¨ç¤ºæ¯å¤šå°‘ä¸ªï¼Œä¾‹å¦‚ï¼šæƒ³æ¯ 10 åˆ†é’Ÿä¸€æ¬¡ï¼Œåˆ™å¯ä»¥åœ¨åˆ†çš„ä½ç½®å†™ï¼š*/10,ï¼šè¡¨ç¤ºå¤šä¸ªå–å€¼ï¼Œæ¯”å¦‚æƒ³åœ¨ 1 ç‚¹ï¼Œ2 ç‚¹ 6 ç‚¹æ‰§è¡Œï¼Œåˆ™å¯ä»¥åœ¨æ—¶çš„ä½ç½®å†™ï¼š1,2,6<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="/../assets/blog_res/Linux%E7%B3%BB%E7%BB%9F%E8%87%AA%E6%9C%89%E6%9C%8D%E5%8A%A1.assets/image-20200323163957324.png" alt="image-20200323163957324"></p><h2 id="5ã€å‡ ä¸ªå°æ¡ˆä¾‹"><a href="#5ã€å‡ ä¸ªå°æ¡ˆä¾‹" class="headerlink" title="5ã€å‡ ä¸ªå°æ¡ˆä¾‹"></a>5ã€å‡ ä¸ªå°æ¡ˆä¾‹</h2><p>é—®é¢˜1ï¼šæ¯æœˆ1ã€10ã€22 æ—¥çš„4:45 é‡å¯network æœåŠ¡</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">ç¬¬ä¸€æ­¥ï¼šå®šåˆ¶æ ¼å¼åˆ†  æ—¶  æ—¥      æœˆ   å‘¨ /usr/bin/systemctl restart networkç¬¬äºŒæ­¥ï¼šå®šåˆ¶æ—¶é—´45  4  1,10,22  *   *  /usr/bin/systemctl restart network<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>é—®é¢˜2ï¼šæ¯å‘¨å…­ã€å‘¨æ—¥çš„1:10 é‡å¯network æœåŠ¡</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">ç¬¬ä¸€æ­¥ï¼šå®šåˆ¶æ ¼å¼åˆ† æ—¶ æ—¥ æœˆ å‘¨ /usr/bin/systemctl restart networkç¬¬äºŒæ­¥ï¼šå®šåˆ¶æ—¶é—´10 1  * *  6,7 /usr/bin/systemctl restart network<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>é—®é¢˜3ï¼šæ¯å¤©18:00 è‡³23:00 ä¹‹é—´æ¯éš”30 åˆ†é’Ÿé‡å¯network æœåŠ¡</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">ç¬¬ä¸€æ­¥ï¼šå®šåˆ¶æ ¼å¼åˆ† æ—¶ æ—¥ æœˆ å‘¨ /usr/bin/systemctl restart networkç¬¬äºŒæ­¥ï¼šå®šåˆ¶æ—¶é—´*/30 18-23 * * * /usr/bin/systemctl restart network<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>é—®é¢˜4ï¼šæ¯éš”ä¸¤å¤©çš„ä¸Šåˆ8 ç‚¹åˆ°11 ç‚¹çš„ç¬¬3 å’Œç¬¬15 åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡é‡å¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">ç¬¬ä¸€æ­¥ï¼šå®šåˆ¶æ ¼å¼åˆ† æ—¶ æ—¥ æœˆ å‘¨ /usr/sbin/rebootç¬¬äºŒæ­¥ï¼šå®šåˆ¶æ—¶é—´3,15  8-11 */2 * * /usr/sbin/reboot<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæ¯1 åˆ†é’Ÿå¾€ root å®¶ç›®å½•ä¸­çš„ readme.txt ä¸­è¾“ä¸€ä¸ª1ï¼Œä¸ºäº†çœ‹åˆ°æ•ˆæœä½¿ç”¨è¿½åŠ è¾“å‡ºã€è¾“å‡ºä½¿ç”¨echo å‘½ä»¤ï¼Œè¯­æ³•ï¼š# echo è¾“å‡ºçš„å†…å®¹ã€‘</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># crontab -e* * * * * /usr/bin/echo 1 &gt;&gt; /root/readme.txt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æç¤ºï¼šä¸ºäº†çœ‹åˆ°è®¡åˆ’ä»»åŠ¡çš„æ•ˆæœï¼Œä½ å¯ä»¥å•ç‹¬å¼€ä¸€ä¸ªé€‰é¡¹å¡ï¼Œä½¿ç”¨tail  -f  /root/readme.txt</p><h2 id="6ã€è®¡åˆ’ä»»åŠ¡"><a href="#6ã€è®¡åˆ’ä»»åŠ¡" class="headerlink" title="6ã€è®¡åˆ’ä»»åŠ¡"></a>6ã€è®¡åˆ’ä»»åŠ¡</h2><p>å¸¸è§çš„ä¸€ä¸ªæ“ä½œï¼šå®šæ—¶å¤‡ä»½ï¼ˆå®šæ—¶æŠŠæ•°æ®åº“ä¸­çš„æ•°æ®å¯¼å‡ºåˆ°æŸä¸ªæ–‡ä»¶ä¸­ï¼‰</p>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxè‡ªæœ‰æœåŠ¡ä¸è½¯ä»¶åŒ…ç®¡ç†</title>
      <link href="/2023/12/23/linux-zi-you-fu-wu-yu-ruan-jian-bao-guan-li/"/>
      <url>/2023/12/23/linux-zi-you-fu-wu-yu-ruan-jian-bao-guan-li/</url>
      
        <content type="html"><![CDATA[<h1 id="Linuxè‡ªæœ‰æœåŠ¡ä¸è½¯ä»¶åŒ…ç®¡ç†"><a href="#Linuxè‡ªæœ‰æœåŠ¡ä¸è½¯ä»¶åŒ…ç®¡ç†" class="headerlink" title="Linuxè‡ªæœ‰æœåŠ¡ä¸è½¯ä»¶åŒ…ç®¡ç†"></a>Linuxè‡ªæœ‰æœåŠ¡ä¸è½¯ä»¶åŒ…ç®¡ç†</h1><p>æœåŠ¡æ˜¯ä¸€äº›ç‰¹å®šçš„è¿›ç¨‹ï¼Œè‡ªæœ‰æœåŠ¡å°±æ˜¯ç³»ç»Ÿå¼€æœºåå°±è‡ªåŠ¨è¿è¡Œçš„ä¸€äº›è¿›ç¨‹ï¼Œä¸€æ—¦å®¢æˆ·å‘å‡ºè¯·æ±‚ï¼Œè¿™äº›è¿›ç¨‹å°±è‡ªåŠ¨ä¸ºä»–ä»¬æä¾›æœåŠ¡ï¼Œwindowsç³»ç»Ÿä¸­ï¼ŒæŠŠè¿™äº›è‡ªåŠ¨è¿è¡Œçš„è¿›ç¨‹ï¼Œç§°ä¸ºâ€æœåŠ¡â€</p><p>ä¸¾ä¾‹ï¼šå½“æˆ‘ä»¬ä½¿ç”¨SSHå®¢æˆ·ç«¯è½¯ä»¶è¿æ¥linuxçš„æ—¶å€™ï¼Œæˆ‘ä»¬çš„æœåŠ¡å™¨ä¸ºä»€ä¹ˆä¼šå¯¹è¿æ¥åšå‡ºå“åº”ï¼Ÿæ˜¯å› ä¸ºSSHæœåŠ¡å¼€æœºå°±è‡ªåŠ¨è¿è¡Œäº†ã€‚</p><p>æ‰€è°“è‡ªæœ‰æœåŠ¡ï¼Œç®€å•æ¥è¯´ï¼Œå¯ä»¥ç†è§£ä¸ºLinuxç³»ç»Ÿå¼€æœºè‡ªåŠ¨è¿è¡Œçš„æœåŠ¡ï¼ˆç¨‹åºï¼‰ã€‚</p><h1 id="ä¸€ã€systemctlç®¡ç†ç³»ç»ŸæœåŠ¡"><a href="#ä¸€ã€systemctlç®¡ç†ç³»ç»ŸæœåŠ¡" class="headerlink" title="ä¸€ã€systemctlç®¡ç†ç³»ç»ŸæœåŠ¡"></a>ä¸€ã€systemctlç®¡ç†ç³»ç»ŸæœåŠ¡</h1><h2 id="1ã€systemctlæ¦‚è¿°"><a href="#1ã€systemctlæ¦‚è¿°" class="headerlink" title="1ã€systemctlæ¦‚è¿°"></a>1ã€systemctlæ¦‚è¿°</h2><p>CentOS6ç‰ˆæœ¬ï¼š</p><p>serviceå‘½ä»¤ï¼ˆç®¡ç†æœåŠ¡å¼€å¯ã€åœæ­¢ä»¥åŠé‡å¯ï¼‰+ chkconfigï¼ˆå®šä¹‰å¼€æœºå¯åŠ¨é¡¹ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># service network start|stop|restart<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>CentOS7ç‰ˆæœ¬ï¼š</p><p>systemctlå‘½ä»¤ = systemç³»ç»Ÿ + controlæ§åˆ¶ï¼ˆæœåŠ¡ç®¡ç†+å¼€å¯å¯åŠ¨é¡¹ç®¡ç†ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl start|stop|restart network<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="2ã€æ˜¾ç¤ºç³»ç»ŸæœåŠ¡"><a href="#2ã€æ˜¾ç¤ºç³»ç»ŸæœåŠ¡" class="headerlink" title="2ã€æ˜¾ç¤ºç³»ç»ŸæœåŠ¡"></a>2ã€æ˜¾ç¤ºç³»ç»ŸæœåŠ¡</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl [é€‰é¡¹]é€‰é¡¹è¯´æ˜ï¼šlist-units --type service --allï¼šåˆ—å‡ºæ‰€æœ‰æœåŠ¡ï¼ˆåŒ…å«å¯åŠ¨çš„å’Œæ²¡å¯åŠ¨çš„ï¼‰list-units --type serviceï¼šåˆ—å‡ºæ‰€æœ‰å¯åŠ¨çš„æœåŠ¡<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåˆ—å‡ºLinuxç³»ç»Ÿä¸­æ‰€æœ‰çš„æœåŠ¡ï¼ˆåŒ…å«å¯åŠ¨çš„å’Œæ²¡å¯åŠ¨çš„ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl list-units --type service --all<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåªåˆ—å‡ºå·²ç»å¯åŠ¨çš„Linuxç³»ç»ŸæœåŠ¡</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl list-units --type service<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠsystemctlæ˜¾ç¤ºç³»ç»ŸæœåŠ¡ä¸ç®¡é“å‘½ä»¤ç›¸ç»“åˆï¼Œç­›é€‰æˆ‘ä»¬æƒ³è¦çš„æœåŠ¡ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl list-units --type service | grep sshd<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="3ã€Linuxç³»ç»ŸæœåŠ¡ç®¡ç†"><a href="#3ã€Linuxç³»ç»ŸæœåŠ¡ç®¡ç†" class="headerlink" title="3ã€Linuxç³»ç»ŸæœåŠ¡ç®¡ç†"></a>3ã€Linuxç³»ç»ŸæœåŠ¡ç®¡ç†</h2><h3 id="â˜†-statusæŸ¥çœ‹çŠ¶æ€"><a href="#â˜†-statusæŸ¥çœ‹çŠ¶æ€" class="headerlink" title="â˜† statusæŸ¥çœ‹çŠ¶æ€"></a>â˜† statusæŸ¥çœ‹çŠ¶æ€</h3><p>æŸ¥çœ‹ç³»ç»ŸæœåŠ¡çš„çŠ¶æ€</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl status ç³»ç»ŸæœåŠ¡çš„åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŸ¥è¯¢ç³»ç»Ÿä¸­ç½‘ç»œæœåŠ¡çš„çŠ¶æ€ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl status network<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/../assets/blog_res/Linux%E8%87%AA%E6%9C%89%E6%9C%8D%E5%8A%A1%E4%B8%8E%E8%BD%AF%E4%BB%B6%E5%8C%85%E7%AE%A1%E7%90%86.assets/image-20200321101758022.png" alt="image-20200321101758022"></p><p>æ¡ˆä¾‹ï¼šæŸ¥è¯¢ç³»ç»Ÿä¸­sshdæœåŠ¡çš„çŠ¶æ€ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl status sshd<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/../assets/blog_res/Linux%E8%87%AA%E6%9C%89%E6%9C%8D%E5%8A%A1%E4%B8%8E%E8%BD%AF%E4%BB%B6%E5%8C%85%E7%AE%A1%E7%90%86.assets/image-20200321102106850.png" alt="image-20200321102106850"></p><h3 id="â˜†-stopåœæ­¢æœåŠ¡"><a href="#â˜†-stopåœæ­¢æœåŠ¡" class="headerlink" title="â˜† stopåœæ­¢æœåŠ¡"></a>â˜† stopåœæ­¢æœåŠ¡</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl stop ç³»ç»ŸæœåŠ¡çš„åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šä½¿ç”¨systemctlå‘½ä»¤åœæ­¢networkç½‘ç»œæœåŠ¡</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl stop network<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â˜†-startå¯åŠ¨æœåŠ¡"><a href="#â˜†-startå¯åŠ¨æœåŠ¡" class="headerlink" title="â˜† startå¯åŠ¨æœåŠ¡"></a>â˜† startå¯åŠ¨æœåŠ¡</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl start ç³»ç»ŸæœåŠ¡çš„åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šä½¿ç”¨systemctlå‘½ä»¤å¯åŠ¨networkç½‘ç»œæœåŠ¡</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl start network<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â˜†-restarté‡å¯æœåŠ¡"><a href="#â˜†-restarté‡å¯æœåŠ¡" class="headerlink" title="â˜† restarté‡å¯æœåŠ¡"></a>â˜† restarté‡å¯æœåŠ¡</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl restart ç³»ç»ŸæœåŠ¡çš„åç§°ç­‰ä»·äº# systemctl stop ç³»ç»ŸæœåŠ¡çš„åç§°# systemctl start ç³»ç»ŸæœåŠ¡çš„åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šä½¿ç”¨systemctlå‘½ä»¤é‡å¯crondè®¡åˆ’ä»»åŠ¡çš„æœåŠ¡ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl restart crond<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â˜†-reloadçƒ­é‡è½½æŠ€æœ¯"><a href="#â˜†-reloadçƒ­é‡è½½æŠ€æœ¯" class="headerlink" title="â˜† reloadçƒ­é‡è½½æŠ€æœ¯"></a>â˜† reloadçƒ­é‡è½½æŠ€æœ¯</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl reload ç³»ç»ŸæœåŠ¡åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>reloadï¼šé‡æ–°åŠ è½½æŒ‡å®šæœåŠ¡çš„é…ç½®æ–‡ä»¶ï¼ˆå¹¶éæ‰€æœ‰æœåŠ¡éƒ½æ”¯æŒreloadï¼Œé€šå¸¸ä½¿ç”¨restart)</p><blockquote><p>æœ‰äº›æœåŠ¡ï¼Œå¦‚Nginxï¼Œæ›´æ”¹äº†é…ç½®æ–‡ä»¶ï¼Œä½†æ˜¯ä¸èƒ½é‡å¯NginxæœåŠ¡ï¼Œåªæ˜¯æƒ³ç«‹å³è®©æˆ‘ä»¬é…ç½®æ–‡ä»¶çš„æ›´æ”¹ç”Ÿæ•ˆï¼Œåˆ™å°±å¯ä»¥ä½¿ç”¨çƒ­é‡è½½æŠ€æœ¯äº†ã€‚</p></blockquote><p>æ¡ˆä¾‹ï¼šä½¿ç”¨çƒ­é‡è½½æŠ€æœ¯é‡æ–°åŠ è½½crondæœåŠ¡</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl reload crond<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="4ã€æœåŠ¡æŒä¹…åŒ–ï¼ˆå¼€æœºè‡ªå¯ä¸å¼€æœºä¸è‡ªå¯ï¼‰"><a href="#4ã€æœåŠ¡æŒä¹…åŒ–ï¼ˆå¼€æœºè‡ªå¯ä¸å¼€æœºä¸è‡ªå¯ï¼‰" class="headerlink" title="4ã€æœåŠ¡æŒä¹…åŒ–ï¼ˆå¼€æœºè‡ªå¯ä¸å¼€æœºä¸è‡ªå¯ï¼‰"></a>4ã€æœåŠ¡æŒä¹…åŒ–ï¼ˆå¼€æœºè‡ªå¯ä¸å¼€æœºä¸è‡ªå¯ï¼‰</h2><p> æ‰€è°“æœåŠ¡æŒä¹…åŒ–ï¼Œå°±æ˜¯æœåŠ¡åœ¨å¼€æœºçš„æ—¶å€™ï¼Œæ˜¯å¦è‡ªåŠ¨å¯åŠ¨ã€‚</p><h3 id="â˜†-å¼€æœºè‡ªå¯"><a href="#â˜†-å¼€æœºè‡ªå¯" class="headerlink" title="â˜† å¼€æœºè‡ªå¯"></a>â˜† å¼€æœºè‡ªå¯</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl enable ç³»ç»ŸæœåŠ¡çš„åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠnetworkç½‘ç»œæœåŠ¡è®¾ç½®ä¸ºå¼€æœºè‡ªå¯åŠ¨</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl enable networknetwork.service is not a native service, redirecting to /sbin/chkconfig.Executing /sbin/chkconfig network onä»¥ä¸Šæç¤ºä»£è¡¨network.serviceä¸æ˜¯ä¸€ä¸ªæœ¬åœ°çš„ç³»ç»ŸæœåŠ¡ï¼Œæ‰€ä»¥æƒ³è®¾ç½®å¼€æœºè‡ªå¯éœ€è¦ä½¿ç”¨/sbin/chkconfigè¿›è¡Œæ“ä½œ# /sbin/chkconfig network on<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠcrondè®¡åˆ’ä»»åŠ¡çš„æœåŠ¡ä¿¡æ¯æ·»åŠ åˆ°å¼€æœºè‡ªå¯åŠ¨ä¸­</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl enable crond<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/../assets/blog_res/Linux%E8%87%AA%E6%9C%89%E6%9C%8D%E5%8A%A1%E4%B8%8E%E8%BD%AF%E4%BB%B6%E5%8C%85%E7%AE%A1%E7%90%86.assets/image-20200321105158884.png" alt="image-20200321105158884"></p><h3 id="â˜†-å¼€æœºä¸è‡ªå¯"><a href="#â˜†-å¼€æœºä¸è‡ªå¯" class="headerlink" title="â˜† å¼€æœºä¸è‡ªå¯"></a>â˜† å¼€æœºä¸è‡ªå¯</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl disable ç³»ç»ŸæœåŠ¡çš„åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠcrondè®¡åˆ’ä»»åŠ¡çš„æœåŠ¡ä¿¡æ¯ä»å¼€æœºè‡ªå¯åŠ¨ä¸­ç§»é™¤</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl disable crond<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/../assets/blog_res/Linux%E8%87%AA%E6%9C%89%E6%9C%8D%E5%8A%A1%E4%B8%8E%E8%BD%AF%E4%BB%B6%E5%8C%85%E7%AE%A1%E7%90%86.assets/image-20200321105106368.png" alt="image-20200321105106368"></p><h1 id="äºŒã€æ‰©å±•ï¼šç³»ç»Ÿè¿è¡Œçº§åˆ«"><a href="#äºŒã€æ‰©å±•ï¼šç³»ç»Ÿè¿è¡Œçº§åˆ«" class="headerlink" title="äºŒã€æ‰©å±•ï¼šç³»ç»Ÿè¿è¡Œçº§åˆ«"></a>äºŒã€æ‰©å±•ï¼šç³»ç»Ÿè¿è¡Œçº§åˆ«</h1><h2 id="1ã€ä»€ä¹ˆæ˜¯è¿è¡Œçº§åˆ«"><a href="#1ã€ä»€ä¹ˆæ˜¯è¿è¡Œçº§åˆ«" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯è¿è¡Œçº§åˆ«"></a>1ã€ä»€ä¹ˆæ˜¯è¿è¡Œçº§åˆ«</h2><p>è¿è¡Œçº§åˆ«å…¨ç§°ï¼ˆRunning Levelï¼‰ï¼Œä»£è¡¨Linuxç³»ç»Ÿçš„ä¸åŒè¿è¡Œæ¨¡å¼</p><h2 id="2ã€CentOS6çš„è¿è¡Œçº§åˆ«"><a href="#2ã€CentOS6çš„è¿è¡Œçº§åˆ«" class="headerlink" title="2ã€CentOS6çš„è¿è¡Œçº§åˆ«"></a>2ã€CentOS6çš„è¿è¡Œçº§åˆ«</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/inittab0   ç³»ç»Ÿå…³æœºçŠ¶æ€   halt (Do NOT set initdefault to this)1   å•ç”¨æˆ·å·¥ä½œçŠ¶æ€   Single user mode (ç±»ä¼¼Windowsçš„å®‰å…¨æ¨¡å¼ï¼ŒLinuxå¿˜è®°å¯†ç )2   å¤šç”¨æˆ·çŠ¶æ€ï¼ˆæ²¡æœ‰NFSï¼‰ Multiuser, without NFS (The same as 3, if you do not have networking)3   å¤šç”¨æˆ·çŠ¶æ€ï¼ˆæœ‰NFSï¼‰   Full multiuser mode (å­—ç¬¦æ¨¡å¼,æœåŠ¡åŸºæœ¬éƒ½æ˜¯æ­¤æ¨¡å¼)4   ç³»ç»Ÿæœªä½¿ç”¨ï¼Œç•™ç»™ç”¨æˆ·   unused5   å›¾å½¢ç•Œé¢    X11 (å›¾å½¢æ¨¡å¼ï¼Œä¸ªäººè®¡ç®—æœºéƒ½æ˜¯æ­¤æ¨¡å¼)6   ç³»ç»Ÿæ­£å¸¸å…³é—­å¹¶é‡æ–°å¯åŠ¨   reboot (Do NOT set initdefault to this)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="3ã€CentOS7çš„è¿è¡Œçº§åˆ«"><a href="#3ã€CentOS7çš„è¿è¡Œçº§åˆ«" class="headerlink" title="3ã€CentOS7çš„è¿è¡Œçº§åˆ«"></a>3ã€CentOS7çš„è¿è¡Œçº§åˆ«</h2><pre class="line-numbers language-poweshell" data-language="poweshell"><code class="language-poweshell">0   shutdown.target1   emergency.target2   rescure.target3   multi-user.target   å­—ç¬¦æ¨¡å¼4   æ— 5   graphical.target    å›¾å½¢æ¨¡å¼6   æ— <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="4ã€initå‘½ä»¤ï¼ˆä¸´æ—¶æ›´æ”¹è¿è¡Œæ¨¡å¼ï¼‰"><a href="#4ã€initå‘½ä»¤ï¼ˆä¸´æ—¶æ›´æ”¹è¿è¡Œæ¨¡å¼ï¼‰" class="headerlink" title="4ã€initå‘½ä»¤ï¼ˆä¸´æ—¶æ›´æ”¹è¿è¡Œæ¨¡å¼ï¼‰"></a>4ã€initå‘½ä»¤ï¼ˆä¸´æ—¶æ›´æ”¹è¿è¡Œæ¨¡å¼ï¼‰</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># init æ¨¡å¼ç¼–å·<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šç«‹å³å…³æœº</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># shutdown -h 0æˆ–nowæˆ–# halt -pæˆ–# init 0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šç«‹å³é‡å¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rebootæˆ–# init 6<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠè®¡ç®—æœºåˆ‡æ¢åˆ°å­—ç¬¦æ¨¡å¼ï¼ˆé»‘çª—å£ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># init 3<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠè®¡ç®—æœºåˆ‡æ¢åˆ°å›¾å½¢æ¨¡å¼ï¼ˆå›¾å½¢ç•Œé¢ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># init 5<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="5ã€CentOS6ä¸­çš„chkconfig"><a href="#5ã€CentOS6ä¸­çš„chkconfig" class="headerlink" title="5ã€CentOS6ä¸­çš„chkconfig"></a>5ã€CentOS6ä¸­çš„chkconfig</h2><p>é—®é¢˜ï¼šåœ¨CentOS7ä¸­ï¼Œè®¾ç½®networkå¼€æœºå¯åŠ¨æ—¶ï¼Œç³»ç»Ÿè¦æ±‚ä½¿ç”¨chkconfigå‘½ä»¤</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chkconfig network on<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è®¾ç½®å®Œæˆåï¼Œæ€ä¹ˆæŸ¥çœ‹networkæœ‰æ²¡æœ‰éšå¼€æœºè‡ªåŠ¨å¯åŠ¨å‘¢ï¼Ÿ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chkconfig --list |grep network network        0:off1:off2:on3:on4:on5:on6:off0 å…³æœºæ¨¡å¼1 å•ç”¨æˆ·æ¨¡å¼2 å¤šç”¨æˆ·æ¨¡å¼ï¼ˆæ— NFSï¼‰3 å­—ç¬¦æ¨¡å¼4 è‡ªå®šä¹‰æ¨¡å¼5 å›¾å½¢æ¨¡å¼6 é‡å¯æ¨¡å¼<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="ä¸‰ã€NTPæ—¶é—´åŒæ­¥æœåŠ¡"><a href="#ä¸‰ã€NTPæ—¶é—´åŒæ­¥æœåŠ¡" class="headerlink" title="ä¸‰ã€NTPæ—¶é—´åŒæ­¥æœåŠ¡"></a>ä¸‰ã€NTPæ—¶é—´åŒæ­¥æœåŠ¡</h1><h2 id="1ã€ä»€ä¹ˆæ˜¯NTPæœåŠ¡"><a href="#1ã€ä»€ä¹ˆæ˜¯NTPæœåŠ¡" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯NTPæœåŠ¡"></a>1ã€ä»€ä¹ˆæ˜¯NTPæœåŠ¡</h2><p> NTPæ˜¯ç½‘ç»œæ—¶é—´åè®®(Network Time Protocol)ï¼Œå®ƒæ˜¯ç”¨æ¥åŒæ­¥ç½‘ç»œä¸­å„ä¸ªè®¡ç®—æœºçš„æ—¶é—´çš„åè®®ã€‚</p><p> å·¥ä½œåœºæ™¯ï¼š</p><p>â€‹        å…¬å¸å¼€å‘äº†ä¸€ä¸ªç”µå•†ç½‘ç«™ï¼Œç”±äºè®¿é—®é‡å¾ˆå¤§ï¼Œç½‘ç«™åç«¯ç”±100å°æœåŠ¡å™¨ç»„æˆé›†ç¾¤ã€‚50å°è´Ÿè´£æ¥æ”¶è®¢å•ï¼Œ50å°è´Ÿè´£å®‰æ’å‘è´§ï¼Œæ¥æ”¶è®¢å•çš„æœåŠ¡å™¨éœ€è¦è®°å½•ç”¨æˆ·ä¸‹è®¢å•çš„å…·ä½“æ—¶é—´ï¼ŒæŠŠæ•°æ®ä¼ ç»™è´Ÿè´£å‘è´§çš„æœåŠ¡å™¨ï¼Œç”±äº100å°æœåŠ¡å™¨æ—¶é—´å„ä¸ç›¸åŒï¼Œè®°å½•çš„æ—¶é—´ç»å¸¸ä¸ä¸€è‡´ï¼Œç”šè‡³ä¼šå‡ºç°ä¸‹å•æ—¶é—´æ˜¯æ˜å¤©ï¼Œå‘è´§æ—¶é—´æ˜¯æ˜¨å¤©çš„æƒ…å†µã€‚</p><h2 id="2ã€NTPæ—¶é—´åŒæ­¥çš„åŸç†"><a href="#2ã€NTPæ—¶é—´åŒæ­¥çš„åŸç†" class="headerlink" title="2ã€NTPæ—¶é—´åŒæ­¥çš„åŸç†"></a>2ã€NTPæ—¶é—´åŒæ­¥çš„åŸç†</h2><p>é—®é¢˜ï¼šæ ‡å‡†æ—¶é—´æ˜¯å“ªé‡Œæ¥çš„ï¼Ÿ</p><p>â€‹        ç°åœ¨çš„æ ‡å‡†æ—¶é—´æ˜¯ç”±åŸå­é’ŸæŠ¥æ—¶çš„å›½é™…æ ‡å‡†æ—¶é—´UTCï¼ˆUniversal Time Coordinatedï¼Œä¸–ç•Œåè°ƒæ—¶)ï¼Œæ‰€ä»¥NTPè·å¾—UTCçš„æ—¶é—´æ¥æºå¯ä»¥æ˜¯åŸå­é’Ÿã€å¤©æ–‡å°ã€å«æ˜Ÿï¼Œä¹Ÿå¯ä»¥ä»Internetä¸Šè·å–ã€‚</p><p>åœ¨NTPä¸­ï¼Œå®šä¹‰äº†æ—¶é—´æŒ‰ç…§æœåŠ¡å™¨çš„ç­‰çº§ä¼ æ’­ï¼Œ<strong>Stratumå±‚çš„æ€»æ•°é™åˆ¶åœ¨15ä»¥å†…</strong></p><p>å·¥ä½œä¸­ï¼Œ==é€šå¸¸æˆ‘ä»¬ä¼šç›´æ¥ä½¿ç”¨å„ä¸ªç»„ç»‡æä¾›çš„ï¼Œç°æˆçš„NTPæœåŠ¡å™¨==</p><p><img src="/../assets/blog_res/Linux%E8%87%AA%E6%9C%89%E6%9C%8D%E5%8A%A1%E4%B8%8E%E8%BD%AF%E4%BB%B6%E5%8C%85%E7%AE%A1%E7%90%86.assets/image-20200321114613074.png" alt="image-20200321114613074"></p><blockquote><p>å¤‡æ³¨ï¼šåƒä¸‡ä¸è¦æ”¹Windowsç³»ç»Ÿæ—¶é—´ï¼</p></blockquote><h2 id="3ã€ä»å“ªé‡Œæ‰¾åˆé€‚çš„NTPæœåŠ¡å™¨å‘¢ï¼Ÿ"><a href="#3ã€ä»å“ªé‡Œæ‰¾åˆé€‚çš„NTPæœåŠ¡å™¨å‘¢ï¼Ÿ" class="headerlink" title="3ã€ä»å“ªé‡Œæ‰¾åˆé€‚çš„NTPæœåŠ¡å™¨å‘¢ï¼Ÿ"></a>3ã€ä»å“ªé‡Œæ‰¾åˆé€‚çš„NTPæœåŠ¡å™¨å‘¢ï¼Ÿ</h2><p>NTPæˆæ—¶ç½‘ç«™ï¼š<a href="http://www.ntp.org.cn/pool.php">http://www.ntp.org.cn/pool.php</a></p><p><img src="/../assets/blog_res/Linux%E8%87%AA%E6%9C%89%E6%9C%8D%E5%8A%A1%E4%B8%8E%E8%BD%AF%E4%BB%B6%E5%8C%85%E7%AE%A1%E7%90%86.assets/image-20200321115655939.png" alt="image-20200321115655939"></p><h2 id="4ã€NTPæ—¶é—´åŒæ­¥æ“ä½œ"><a href="#4ã€NTPæ—¶é—´åŒæ­¥æ“ä½œ" class="headerlink" title="4ã€NTPæ—¶é—´åŒæ­¥æ“ä½œ"></a>4ã€NTPæ—¶é—´åŒæ­¥æ“ä½œ</h2><h3 id="â˜†-æ‰‹å·¥åŒæ­¥"><a href="#â˜†-æ‰‹å·¥åŒæ­¥" class="headerlink" title="â˜† æ‰‹å·¥åŒæ­¥"></a>â˜† æ‰‹å·¥åŒæ­¥</h3><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ntpdate NTPæœåŠ¡å™¨çš„IPåœ°å€æˆ–åŸŸå<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŸ¥çœ‹Linuxç³»ç»Ÿæ—¶é—´</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># date<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šä»NTPæœåŠ¡å™¨ä¸­åŒæ­¥ç³»ç»Ÿæ—¶é—´</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ntpdate cn.ntp.org.cn<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â˜†-è‡ªåŠ¨åŒæ­¥"><a href="#â˜†-è‡ªåŠ¨åŒæ­¥" class="headerlink" title="â˜† è‡ªåŠ¨åŒæ­¥"></a>â˜† è‡ªåŠ¨åŒæ­¥</h3><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">â‘  å¯åŠ¨ntpdæœåŠ¡# systemctl start ntpdâ‘¡ æŠŠntpdæœåŠ¡è¿½åŠ åˆ°ç³»ç»Ÿå¼€æœºå¯åŠ¨é¡¹ä¸­# systemctl enable ntpd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>é—®é¢˜1ï¼šå¯åŠ¨ntpdæœåŠ¡åï¼Œæ˜¯ä¸æ˜¯æ—¶é—´å°±è‡ªåŠ¨åŒæ­¥äº†ï¼Ÿ</p><p>å¯åŠ¨åå°±è‡ªåŠ¨åŒæ­¥äº†</p><p>é—®é¢˜2ï¼šéœ€ä¸éœ€è¦è®©ntpdæœåŠ¡ï¼Œå¼€æœºè‡ªåŠ¨è¿è¡Œï¼Ÿ</p><p>éœ€è¦</p><p>ntpdæœåŠ¡é…ç½®æ–‡ä»¶ä½ç½®  /etc/ntp.conf</p><h1 id="å››ã€Linuxä¸‹çš„è½¯ä»¶åŒ…ç®¡ç†"><a href="#å››ã€Linuxä¸‹çš„è½¯ä»¶åŒ…ç®¡ç†" class="headerlink" title="å››ã€Linuxä¸‹çš„è½¯ä»¶åŒ…ç®¡ç†"></a>å››ã€Linuxä¸‹çš„è½¯ä»¶åŒ…ç®¡ç†</h1><h2 id="1ã€ä»€ä¹ˆæ˜¯è½¯ä»¶åŒ…"><a href="#1ã€ä»€ä¹ˆæ˜¯è½¯ä»¶åŒ…" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯è½¯ä»¶åŒ…"></a>1ã€ä»€ä¹ˆæ˜¯è½¯ä»¶åŒ…</h2><p>è¿™æ˜¯ä»€ä¹ˆï¼Ÿ</p><p><img src="/../assets/blog_res/Linux%E8%87%AA%E6%9C%89%E6%9C%8D%E5%8A%A1%E4%B8%8E%E8%BD%AF%E4%BB%B6%E5%8C%85%E7%AE%A1%E7%90%86.assets/image-20200321143411461.png" alt="image-20200321143411461"></p><p>ç”±ä»¥ä¸Šå›¾è§£å¯çŸ¥ï¼Œè¿™ä¸ªPCQQ2019.exeæ˜¯Windowsä¸­çš„è½¯ä»¶å®‰è£…åŒ…ã€‚</p><blockquote><p>æ‰€è°“çš„Linuxè½¯ä»¶åŒ…å°±æ˜¯Linuxä¸‹è½¯ä»¶çš„å®‰è£…ç¨‹åº</p></blockquote><h2 id="2ã€Linuxä¸‹è½¯ä»¶çš„å®‰è£…æ–¹å¼"><a href="#2ã€Linuxä¸‹è½¯ä»¶çš„å®‰è£…æ–¹å¼" class="headerlink" title="2ã€Linuxä¸‹è½¯ä»¶çš„å®‰è£…æ–¹å¼"></a>2ã€Linuxä¸‹è½¯ä»¶çš„å®‰è£…æ–¹å¼</h2><p>â‘  RPMè½¯ä»¶åŒ…å®‰è£…   =&gt;   è½¯ä»¶åç§°.rpm</p><p>â‘¡ YUMåŒ…ç®¡ç†å·¥å…·   =&gt;   yum  install  è½¯ä»¶åç§°  -y</p><p>â‘¢ æºç å®‰è£… =&gt; ä¸‹è½½è½¯ä»¶çš„æºä»£ç  =&gt; ç¼–è¯‘ =&gt; å®‰è£…ï¼ˆæœ€éº»çƒ¦çš„ï¼Œä½†æ˜¯ä¹Ÿæœ€ç¨³å®šï¼‰</p><h2 id="3ã€äºŒè¿›åˆ¶è½¯ä»¶åŒ…"><a href="#3ã€äºŒè¿›åˆ¶è½¯ä»¶åŒ…" class="headerlink" title="3ã€äºŒè¿›åˆ¶è½¯ä»¶åŒ…"></a>3ã€äºŒè¿›åˆ¶è½¯ä»¶åŒ…</h2><p>â€‹        äºŒè¿›åˆ¶åŒ…ï¼Œä¹Ÿå°±æ˜¯æºç åŒ…ç»è¿‡æˆåŠŸç¼–è¯‘ä¹‹åäº§ç”Ÿçš„åŒ…ã€‚</p><p>â€‹        äºŒè¿›åˆ¶åŒ…æ˜¯ Linux ä¸‹é»˜è®¤çš„è½¯ä»¶å®‰è£…åŒ…ï¼Œç›®å‰ä¸»è¦æœ‰ä»¥ä¸‹ 2 å¤§ä¸»æµçš„äºŒè¿›åˆ¶åŒ…ç®¡ç†ç³»ç»Ÿï¼š</p><ul><li>==RPM åŒ…==ç®¡ç†ç³»ç»Ÿï¼šåŠŸèƒ½å¼ºå¤§ï¼Œå®‰è£…ã€å‡çº§ã€æŸ»è¯¢å’Œå¸è½½éå¸¸ç®€å•æ–¹ä¾¿ï¼Œå› æ­¤å¾ˆå¤š Linux å‘è¡Œç‰ˆéƒ½é»˜è®¤ä½¿ç”¨æ­¤æœºåˆ¶ä½œä¸ºè½¯ä»¶å®‰è£…çš„ç®¡ç†æ–¹å¼ï¼Œä¾‹å¦‚ Fedoraã€==CentOS==ã€SuSE ç­‰ã€‚</li><li>DPKG åŒ…ç®¡ç†ç³»ç»Ÿï¼šç”± Debian Linux æ‰€å¼€å‘çš„åŒ…ç®¡ç†æœºåˆ¶ï¼Œé€šè¿‡ DPKG åŒ…ï¼ŒDebian Linux å°±å¯ä»¥è¿›è¡Œè½¯ä»¶åŒ…ç®¡ç†ï¼Œä¸»è¦åº”ç”¨åœ¨ Debian å’Œ Ubuntu ä¸­ã€‚</li></ul><p>â€‹        <strong>RPM</strong>æ˜¯RedHat Package Managerï¼ˆRedHatè½¯ä»¶åŒ…ç®¡ç†å·¥å…·ï¼‰çš„ç¼©å†™</p><p>â€‹        ä½œç”¨ï¼šrpm çš„ä½œç”¨ç±»ä¼¼äºè±Œè±†èšï¼Œåä¸ºåº”ç”¨å¸‚åœºï¼ŒApp Storeï¼Œä¸»è¦ä½œç”¨æ˜¯å¯¹linux æœåŠ¡å™¨ä¸Šçš„è½¯ä»¶åŒ…è¿›è¡Œå¯¹åº”ç®¡ç†æ“ä½œï¼Œç®¡ç†åˆ†ä¸ºï¼šæŸ¥è¯¢ã€å¸è½½ã€å®‰è£…/æ›´æ–°ã€‚</p><h2 id="4ã€è·å–-rpmè½¯ä»¶åŒ…"><a href="#4ã€è·å–-rpmè½¯ä»¶åŒ…" class="headerlink" title="4ã€è·å–*.rpmè½¯ä»¶åŒ…"></a>4ã€è·å–*.rpmè½¯ä»¶åŒ…</h2><p>a. å»å®˜ç½‘å»ä¸‹è½½ï¼ˆ<a href="http://rpm.pbone.net);/">http://rpm.pbone.netï¼‰ï¼›</a></p><p>b. ä¸ä»‹æ„è€ç‰ˆæœ¬çš„è¯ï¼Œå¯ä»¥ä»å…‰ç›˜ï¼ˆæˆ–è€…é•œåƒæ–‡ä»¶ï¼‰ä¸­è¯»å–ï¼›CentOS7.6*.iso</p><h2 id="5ã€æŸ¥è¯¢ç³»ç»Ÿä¸­å·²å®‰è£…çš„rpmè½¯ä»¶"><a href="#5ã€æŸ¥è¯¢ç³»ç»Ÿä¸­å·²å®‰è£…çš„rpmè½¯ä»¶" class="headerlink" title="5ã€æŸ¥è¯¢ç³»ç»Ÿä¸­å·²å®‰è£…çš„rpmè½¯ä»¶"></a>5ã€æŸ¥è¯¢ç³»ç»Ÿä¸­å·²å®‰è£…çš„rpmè½¯ä»¶</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rpm -qa |grep è¦æœç´¢çš„è½¯ä»¶åç§°é€‰é¡¹è¯´æ˜ï¼š-q ï¼šqueryï¼ŒæŸ¥è¯¢æ“ä½œ-a ï¼šallï¼Œä»£è¡¨æ‰€æœ‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹1ï¼šæŸ¥è¯¢è®¡ç®—æœºä¸­å·²å®‰è£…çš„rpmè½¯ä»¶åŒ…</p> <pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rpm -qa<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹2ï¼šæœç´¢è®¡ç®—æœºä¸­å·²å®‰è£…çš„firefoxè½¯ä»¶åŒ…</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rpm -qa |grep firefox<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="6ã€å¸è½½CentOSç³»ç»Ÿä¸­çš„rpmè½¯ä»¶åŒ…"><a href="#6ã€å¸è½½CentOSç³»ç»Ÿä¸­çš„rpmè½¯ä»¶åŒ…" class="headerlink" title="6ã€å¸è½½CentOSç³»ç»Ÿä¸­çš„rpmè½¯ä»¶åŒ…"></a>6ã€å¸è½½CentOSç³»ç»Ÿä¸­çš„rpmè½¯ä»¶åŒ…</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rpm -e è½¯ä»¶åç§° [é€‰é¡¹]é€‰é¡¹è¯´æ˜ï¼š--nodeps ï¼šå¼ºåˆ¶å¸è½½<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠç³»ç»Ÿä¸­çš„firefoxæµè§ˆå™¨è¿›è¡Œå¸è½½æ“ä½œ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rpm -qa |grep firefoxfirefox-60.2.2-1.el7.centos.x86_64# rpm -e firefox-60.2.2-1.el7.centos.x86_64<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="7ã€rpmè½¯ä»¶åŒ…çš„å®‰è£…"><a href="#7ã€rpmè½¯ä»¶åŒ…çš„å®‰è£…" class="headerlink" title="7ã€rpmè½¯ä»¶åŒ…çš„å®‰è£…"></a>7ã€rpmè½¯ä»¶åŒ…çš„å®‰è£…</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rpm -ivh è½¯ä»¶åŒ…çš„åç§°.rpmé€‰é¡¹è¯´æ˜ï¼š-iï¼šinstallï¼Œå®‰è£…-vï¼šæ˜¾ç¤ºè¿›åº¦æ¡-hï¼šè¡¨ç¤ºä»¥"#"å½¢å¼æ˜¾ç¤ºè¿›åº¦æ¡<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="8ã€rpmè½¯ä»¶åŒ…çš„è·å–ï¼ˆå…‰ç›˜ï¼‰"><a href="#8ã€rpmè½¯ä»¶åŒ…çš„è·å–ï¼ˆå…‰ç›˜ï¼‰" class="headerlink" title="8ã€rpmè½¯ä»¶åŒ…çš„è·å–ï¼ˆå…‰ç›˜ï¼‰"></a>8ã€rpmè½¯ä»¶åŒ…çš„è·å–ï¼ˆå…‰ç›˜ï¼‰</h2><p>ç¬¬ä¸€æ­¥ï¼šåœ¨VMwareè™šæ‹Ÿæœºä¸­åŠ è½½CentOS7.6çš„å®‰è£…å…‰ç›˜</p><p><img src="/../assets/blog_res/Linux%E8%87%AA%E6%9C%89%E6%9C%8D%E5%8A%A1%E4%B8%8E%E8%BD%AF%E4%BB%B6%E5%8C%85%E7%AE%A1%E7%90%86.assets/image-20200321152142795.png" alt="image-20200321152142795"></p><p>ç¬¬äºŒæ­¥ï¼šä½¿ç”¨ # lsblkï¼ˆlist block devicesï¼‰æˆ–è€…df -T æŸ¥çœ‹å—çŠ¶è®¾å¤‡çš„ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># lsblk[root@yunwei ~]# lsblkNAME            MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTsda               8:0    0   20G  0 diskâ”œâ”€sda1            8:1    0    1G  0 part /bootâ””â”€sda2            8:2    0   19G  0 part  â”œâ”€centos-root 253:0    0   17G  0 lvm  /  â””â”€centos-swap 253:1    0    2G  0 lvm  [SWAP]sr0              11:0    1  4.3G  0 rom  /run/media/itheima/CentOS 7 x86_64ç”±ä»¥ä¸Šå›¾è§£å¯çŸ¥ï¼Œ/dev/sr0ä»£è¡¨å…‰é©±è®¾å¤‡ =&gt; æŒ‚è½½ç‚¹ =&gt; /run/media/itheima/CentOS 7 x86_64æ–‡ä»¶å¤¹æˆ–# df -T<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>Linuxæ“ä½œç³»ç»Ÿçš„ä¸­æ‰€æœ‰å­˜å‚¨è®¾å¤‡å¿…é¡»å…ˆæŒ‚è½½åä½¿ç”¨</p></blockquote><p>ç¬¬ä¸‰æ­¥ï¼šä½¿ç”¨cdå‘½ä»¤ï¼Œåˆ‡æ¢åˆ°æŒ‚è½½ç›®å½•</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cd /run/media/itheima/CentOS\ 7\ x86_64<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/../assets/blog_res/Linux%E8%87%AA%E6%9C%89%E6%9C%8D%E5%8A%A1%E4%B8%8E%E8%BD%AF%E4%BB%B6%E5%8C%85%E7%AE%A1%E7%90%86.assets/image-20200321152744329.png" alt="image-20200321152744329"></p><p>ç¬¬å››æ­¥ï¼šä½¿ç”¨cdå‘½ä»¤ï¼Œåˆ‡æ¢åˆ°Packagesè½¯ä»¶åŒ…ä¸­</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cd Packages<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬äº”æ­¥ï¼šæŸ¥è¯¢æˆ‘ä»¬è¦å®‰è£…çš„è½¯ä»¶åŒ…</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ls |grep firefoxfirefox-60.2.2-1.el7.centos.x86_64.rpm<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç¬¬å…­æ­¥ï¼šä½¿ç”¨rpm -ivhå‘½ä»¤å®‰è£…è½¯ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rpm -ivh firefox-60.2.2-1.el7.centos.x86_64.rpm<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>è¾“å…¥firefox + Tabï¼Œè®©å…¶è‡ªåŠ¨è¡¥å…¨</p></blockquote><h2 id="9ã€rpmè½¯ä»¶åŒ…çš„å‡çº§"><a href="#9ã€rpmè½¯ä»¶åŒ…çš„å‡çº§" class="headerlink" title="9ã€rpmè½¯ä»¶åŒ…çš„å‡çº§"></a>9ã€rpmè½¯ä»¶åŒ…çš„å‡çº§</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rpm -Uvh å‡çº§åçš„è½¯ä»¶åŒ…åç§°.rpmé€‰é¡¹è¯´æ˜ï¼š-U ï¼šUpdateï¼Œæ›´æ–°æ“ä½œ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šä½¿ç”¨rpm -Uvhå¯¹firefox-60.2.2ç‰ˆæœ¬è¿›è¡Œå‡çº§</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rpm -Uvh firefox-68.4.1-1.el7.centos.x86_64.rpm<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="10ã€rpmæ‰©å±•"><a href="#10ã€rpmæ‰©å±•" class="headerlink" title="10ã€rpmæ‰©å±•"></a>10ã€rpmæ‰©å±•</h2><h3 id="â˜†-ä¾èµ–å…³ç³»"><a href="#â˜†-ä¾èµ–å…³ç³»" class="headerlink" title="â˜† ä¾èµ–å…³ç³»"></a>â˜† ä¾èµ–å…³ç³»</h3><p>ä¸€ä¸ªè½¯ä»¶å¿…é¡»å…ˆæœ‰å…¶ä»–è½¯ä»¶æ‰èƒ½è¿è¡Œï¼Œä¾‹å¦‚ä¹‹å‰xmindå¯åŠ¨è¿‡ç¨‹ä¸­æç¤ºçš„ç¼ºå°‘DLLï¼Œç§°ä¹‹ä¸ºä¾èµ–</p><p>WAMPï¼ˆWindows + Apache + MySQL + PHPï¼‰å®‰è£…å‰å¿…é¡»å…ˆå®‰è£…VC++ 2014 x86_64ï¼Œè¿™ç§æƒ…å†µå°±ç§°ä¹‹ä¸ºæœ‰ä¾èµ–å…³ç³»ã€‚</p><p>60.8.0çš„firefoxå¯ä»¥æ›´æ–°æˆåŠŸ</p><p>ä¸‹é¢æˆ‘ä»¬å°è¯•æ›´æ–°åˆ°68.4.1çš„ç‰ˆæœ¬</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">ç”¨æ³•ï¼šrpm -Uvh è½¯ä»¶åŒ…åç§°# rpm -Uvh firefox-68.4.1-1.el7.centos.x86_64.rpmä½¿ç”¨rpmå‘½ä»¤ï¼Œå®‰è£…68.4.1ç‰ˆæœ¬çš„è½¯ä»¶åŒ…<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><img src="/../assets/blog_res/Linux%E8%87%AA%E6%9C%89%E6%9C%8D%E5%8A%A1%E4%B8%8E%E8%BD%AF%E4%BB%B6%E5%8C%85%E7%AE%A1%E7%90%86.assets/image-20200321155724824.png" alt="image-20200321155724824"></p><p>é”™è¯¯æç¤ºï¼š</p><p>errorï¼šFailed dependencies:</p><p>æç¤ºå®‰è£…68ç‰ˆæœ¬çš„firefoxéœ€è¦ä¾èµ–nspr4.21çš„ç‰ˆæœ¬ï¼Œnssçš„3.44çš„ç‰ˆæœ¬ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬è¯´çš„==ä¾èµ–å…³ç³»==ã€‚</p><p>ä¸ºäº†è§£å†³ä¾èµ–å…³ç³»çš„é—®é¢˜ï¼Œæœ‰å¦å¤–ä¸€ä¸ªç®¡ç†å·¥å…·å«åš==yum==ï¼Œåé¢æˆ‘ä»¬ä¼šè®²åˆ°ã€‚</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">Aè½¯ä»¶Aè½¯ä»¶ =&gt; éœ€è¦ä¾èµ–Bè½¯ä»¶Bè½¯ä»¶ =&gt; éœ€è¦ä¾èµ–Cè½¯ä»¶Cè½¯ä»¶<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ä¾èµ–å…³ç³»çš„è§£å†³ï¼šä½¿ç”¨YUMè½¯ä»¶åŒ…ç®¡ç†å·¥å…·å¯¹å…¶è¿›è¡Œå®‰è£…ï¼ˆè‡ªåŠ¨è§£å†³ä¾èµ–å…³ç³»ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install firefox -y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â˜†-æŸ¥çœ‹æ–‡ä»¶æ‰€å±çš„åŒ…å"><a href="#â˜†-æŸ¥çœ‹æ–‡ä»¶æ‰€å±çš„åŒ…å" class="headerlink" title="â˜† æŸ¥çœ‹æ–‡ä»¶æ‰€å±çš„åŒ…å"></a>â˜† æŸ¥çœ‹æ–‡ä»¶æ‰€å±çš„åŒ…å</h3><p>åŸºæœ¬è¯­æ³•ï¼šf = file</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rpm -qf æ–‡ä»¶åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸»è¦åŠŸèƒ½ï¼šåˆ¤æ–­æŸä¸ªæ–‡ä»¶æ‰€å±çš„åŒ…åç§°</p><p>æ¡ˆä¾‹ï¼šæŸ¥è¯¢/etc/ntp.conf å±äºå“ªä¸ªè½¯ä»¶åŒ…</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rpm -qf /etc/ntp.confntp-4.2.6p5-28.el7.centos.x86_64<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="â˜†-æŸ¥è¯¢è½¯ä»¶å®‰è£…å®Œæˆåï¼Œç”Ÿæˆäº†å“ªäº›æ–‡ä»¶"><a href="#â˜†-æŸ¥è¯¢è½¯ä»¶å®‰è£…å®Œæˆåï¼Œç”Ÿæˆäº†å“ªäº›æ–‡ä»¶" class="headerlink" title="â˜† æŸ¥è¯¢è½¯ä»¶å®‰è£…å®Œæˆåï¼Œç”Ÿæˆäº†å“ªäº›æ–‡ä»¶"></a>â˜† æŸ¥è¯¢è½¯ä»¶å®‰è£…å®Œæˆåï¼Œç”Ÿæˆäº†å“ªäº›æ–‡ä»¶</h3><p>åŸºæœ¬è¯­æ³•ï¼šl = listï¼Œæ˜¾ç¤ºè¿™ä¸ªè½¯ä»¶å®‰è£…åç”Ÿæˆäº†å“ªäº›æ–‡ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rpm -ql è½¯ä»¶åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹1ï¼šæŸ¥è¯¢firefoxè½¯ä»¶ç”Ÿæˆäº†å“ªäº›æ–‡ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rpm -ql firefoxç‰¹åˆ«è¯´æ˜ï¼šè½¯ä»¶å®‰è£…å®Œæˆåï¼Œä¸€å…±ç”Ÿæˆäº†ä»¥ä¸‹å‡ ç±»æ–‡ä»¶é…ç½®æ–‡ä»¶ç±»ï¼š/etcç›®å½•ç¨‹åºæ–‡ä»¶æœ¬èº«ï¼ŒäºŒè¿›åˆ¶æ–‡ä»¶å‘½ä»¤ï¼š/usr/binæˆ–/usr/sbinç›®å½•æ–‡æ¡£æ‰‹å†Œï¼š/usr/share/docæˆ–manç›®å½•<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹2ï¼šæŸ¥è¯¢opensshè½¯ä»¶ç”Ÿæˆäº†å“ªäº›æ–‡ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rpm -ql openssh<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="11ã€å…‰ç›˜çš„æŒ‚è½½ä¸è§£æŒ‚"><a href="#11ã€å…‰ç›˜çš„æŒ‚è½½ä¸è§£æŒ‚" class="headerlink" title="11ã€å…‰ç›˜çš„æŒ‚è½½ä¸è§£æŒ‚"></a>11ã€å…‰ç›˜çš„æŒ‚è½½ä¸è§£æŒ‚</h2><p>åœ¨Linuxæ“ä½œç³»ç»Ÿä¸­ï¼Œæ‰€æœ‰çš„å­˜å‚¨è®¾å¤‡éƒ½å¿…é¡»å…ˆæŒ‚è½½ç„¶åæ‰èƒ½ä½¿ç”¨ã€‚</p><p>é—®é¢˜ï¼šä¸ºä»€ä¹ˆå½“æˆ‘ä»¬ç›´æ¥è®¿é—®/run/media/itheima/CentOS 7 x86_64å°±ç›¸å½“äºè®¿é—®å…‰ç›˜</p><p>ç­”ï¼šä¸»è¦åŸå› å°±æ˜¯å› ä¸ºCentOS7çš„æ“ä½œç³»ç»Ÿè‡ªåŠ¨æŠŠå…‰é©±è®¾å¤‡æŒ‚è½½åˆ°æ­¤ç›®å½•äº†ï¼Œè®¿é—®è¿™ä¸ªç›®å½•å°±ç›¸å½“äºè®¿é—®å…‰ç›˜ã€‚</p><h3 id="â˜†-è§£æŒ‚"><a href="#â˜†-è§£æŒ‚" class="headerlink" title="â˜† è§£æŒ‚"></a>â˜† è§£æŒ‚</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cd ~# umount /run/media/itheima/CentOS\ 7\ x86_64<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å¸¸è§é—®é¢˜ï¼šå½“æˆ‘ä»¬æ‰§è¡Œä»¥ä¸Šå‘½ä»¤æ—¶ï¼Œç³»ç»Ÿæç¤ºtarget  is busyï¼</p><p>å‡ºç°ä»¥ä¸Šé—®é¢˜çš„ä¸»è¦åŸå› åœ¨äºæˆ‘ä»¬å½“å‰æ‰€åœ¨çš„ç›®å½•ä¸ºæŒ‚è½½ç›®å½•ã€‚</p><h3 id="â˜†-æŒ‚è½½"><a href="#â˜†-æŒ‚è½½" class="headerlink" title="â˜† æŒ‚è½½"></a>â˜† æŒ‚è½½</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mount è®¾å¤‡æ–‡ä»¶ æŒ‚è½½ç›®å½•<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>æç¤ºï¼šå…‰é©±çš„è®¾å¤‡æ–‡ä»¶ä¸º/dev/sr0</p></blockquote><p>æ¡ˆä¾‹ï¼šæŠŠå…‰é©±æŒ‚è½½åˆ°/mnt/cdromç›®å½•</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mkdir /mnt/cdrom# mount /dev/sr0 /mnt/cdrommount: /dev/sr0 is write-protected, mounting read-only<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠ/mnt/cdromè¿›è¡Œè§£æŒ‚æ“ä½œ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cd ~# umount /mnt/cdrom<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxè®¡åˆ’ä»»åŠ¡ä»¥åŠè¿›ç¨‹æ£€æµ‹ä¸æ§åˆ¶</title>
      <link href="/2023/12/23/linux-ji-hua-ren-wu-yi-ji-jin-cheng-jian-ce-yu-kong-zhi/"/>
      <url>/2023/12/23/linux-ji-hua-ren-wu-yi-ji-jin-cheng-jian-ce-yu-kong-zhi/</url>
      
        <content type="html"><![CDATA[<h1 id="Linuxè®¡åˆ’ä»»åŠ¡ä»¥åŠè¿›ç¨‹æ£€æµ‹ä¸æ§åˆ¶"><a href="#Linuxè®¡åˆ’ä»»åŠ¡ä»¥åŠè¿›ç¨‹æ£€æµ‹ä¸æ§åˆ¶" class="headerlink" title="Linuxè®¡åˆ’ä»»åŠ¡ä»¥åŠè¿›ç¨‹æ£€æµ‹ä¸æ§åˆ¶"></a>Linuxè®¡åˆ’ä»»åŠ¡ä»¥åŠè¿›ç¨‹æ£€æµ‹ä¸æ§åˆ¶</h1><h1 id="ä¸€ã€Linuxè®¡åˆ’ä»»åŠ¡"><a href="#ä¸€ã€Linuxè®¡åˆ’ä»»åŠ¡" class="headerlink" title="ä¸€ã€Linuxè®¡åˆ’ä»»åŠ¡"></a>ä¸€ã€Linuxè®¡åˆ’ä»»åŠ¡</h1><h2 id="1ã€è®¡åˆ’ä»»åŠ¡æƒé™"><a href="#1ã€è®¡åˆ’ä»»åŠ¡æƒé™" class="headerlink" title="1ã€è®¡åˆ’ä»»åŠ¡æƒé™"></a>1ã€è®¡åˆ’ä»»åŠ¡æƒé™</h2><h3 id="â˜†-é»‘åå•"><a href="#â˜†-é»‘åå•" class="headerlink" title="â˜† é»‘åå•"></a>â˜† é»‘åå•</h3><p>crontabæ˜¯ä»»ä½•ç”¨æˆ·éƒ½å¯ä»¥åˆ›å»ºçš„è®¡åˆ’ä»»åŠ¡ï¼Œä½†æ˜¯è¶…çº§ç®¡ç†å‘˜å¯ä»¥é€šè¿‡é…ç½®æ¥è®¾ç½®æŸäº›ç”¨æˆ·ä¸å…è®¸è®¾ç½®è®¡åˆ’ä»»åŠ¡ ã€‚</p><p>æå‡ºé—®é¢˜ï¼šå¦‚æœæˆ‘ä»¬æƒ³é™å®šæŸä¸ªç”¨æˆ·ï¼ˆå¦‚itheimaï¼‰ä½¿ç”¨è®¡åˆ’ä»»åŠ¡ï¼Œå¦‚ä½•å¤„ç†å‘¢ï¼Ÿ</p><p>ç­”ï¼šå¯ä»¥ä½¿ç”¨è®¡åˆ’ä»»åŠ¡çš„é»‘åå•ï¼Œé»‘åå•æ–‡ä»¶è·¯å¾„ =&gt; ==/etc/cron.deny==æ–‡ä»¶</p><p>æ¡ˆä¾‹ï¼šæŠŠæ™®é€šè´¦å·itheimaåŠ å…¥åˆ°cron.denyé»‘åå•ä¸­ï¼Œç¦æ­¢å…¶åˆ›å»ºè®¡åˆ’ä»»åŠ¡</p><p>ç¬¬ä¸€æ­¥ï¼šåˆ‡æ¢åˆ°è¶…çº§ç®¡ç†å‘˜root</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># su - root<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬äºŒæ­¥ï¼šä½¿ç”¨vimæ‰“å¼€/etc/cron.denyæ–‡ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/cron.deny<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬ä¸‰æ­¥ï¼šæŠŠä½ éœ€è¦ç¦æ­¢çš„ç”¨æˆ·åå•ï¼ŒåŠ å…¥æ­¤æ–‡ä»¶ï¼ˆå¦‚itheimaï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">itheima<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åˆ‡æ¢åˆ°itheimaè´¦å·ï¼Œæµ‹è¯•æ˜¯å¦å¯ä»¥ä½¿ç”¨crontabå‘½ä»¤</p><p><img src="/../assets/blog_res/Linux%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1%E4%BB%A5%E5%8F%8A%E8%BF%9B%E7%A8%8B%E6%A3%80%E6%B5%8B%E4%B8%8E%E6%8E%A7%E5%88%B6.assets/image-20200324095412933.png" alt="image-20200324095412933"></p><h3 id="â˜†-ç™½åå•"><a href="#â˜†-ç™½åå•" class="headerlink" title="â˜† ç™½åå•"></a>â˜† ç™½åå•</h3><p>åœ¨Linuxçš„è®¡åˆ’ä»»åŠ¡ä¸­ï¼Œé™¤äº†æ‹¥æœ‰é»‘åå•ä»¥å¤–ï¼Œè¿˜æœ‰ç™½åå•ã€‚ä½œç”¨ï¼šå…è®¸å“ªäº›ç”¨æˆ·ä½¿ç”¨è®¡åˆ’ä»»åŠ¡ã€‚</p><p>ç™½åå•æ–‡ä»¶çš„è·¯å¾„ =&gt; ==/etc/cron.allow==ï¼Œä½†æ˜¯è¦ç‰¹åˆ«æ³¨æ„ï¼Œæ­¤æ–‡ä»¶éœ€è¦æ‰‹å·¥åˆ›å»ºã€‚</p><blockquote><p>æ³¨æ„ï¼šç™½åå•ä¼˜å…ˆçº§é«˜äºé»‘åå•ï¼Œå¦‚æœä¸€ä¸ªç”¨æˆ·åŒæ—¶å­˜åœ¨ä¸¤ä¸ªåå•æ–‡ä»¶ä¸­ï¼Œåˆ™ä¼šè¢«é»˜è®¤å…è®¸åˆ›å»ºè®¡åˆ’ä»»åŠ¡ã€‚</p></blockquote><h2 id="2ã€æŸ¥çœ‹è®¡åˆ’ä»»åŠ¡çš„ä¿å­˜æ–‡ä»¶"><a href="#2ã€æŸ¥çœ‹è®¡åˆ’ä»»åŠ¡çš„ä¿å­˜æ–‡ä»¶" class="headerlink" title="2ã€æŸ¥çœ‹è®¡åˆ’ä»»åŠ¡çš„ä¿å­˜æ–‡ä»¶"></a>2ã€æŸ¥çœ‹è®¡åˆ’ä»»åŠ¡çš„ä¿å­˜æ–‡ä»¶</h2><p>é—®é¢˜ï¼šè®¡åˆ’ä»»åŠ¡æ–‡ä»¶å…·ä½“ä¿å­˜åœ¨å“ªé‡Œå‘¢ï¼Ÿ</p><p>ç­”ï¼š<code>/var/spool/cron/ç”¨æˆ·åç§°</code>ï¼Œå¦‚æœä½¿ç”¨rootç”¨æˆ·ç¼–è¾‘è®¡åˆ’ä»»åŠ¡ï¼Œåˆ™ç”¨æˆ·æ–‡ä»¶åä¸ºroot</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ll /var/spool/crontotal 4-rw-------. 1 itheima itheima  0 Mar 24 09:50 itheima-rw-------. 1 root    root    40 Mar 24 10:21 root<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="3ã€è®¡åˆ’ä»»åŠ¡çš„æ—¥å¿—ç¨‹åº"><a href="#3ã€è®¡åˆ’ä»»åŠ¡çš„æ—¥å¿—ç¨‹åº" class="headerlink" title="3ã€è®¡åˆ’ä»»åŠ¡çš„æ—¥å¿—ç¨‹åº"></a>3ã€è®¡åˆ’ä»»åŠ¡çš„æ—¥å¿—ç¨‹åº</h2><p>é—®é¢˜ï¼šåœ¨å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬å¦‚ä½•æŸ¥çœ‹å®šæ—¶ä»»åŠ¡è¿è¡Œæƒ…å†µï¼Ÿ</p><p>ç­”ï¼šé€šè¿‡è®¡åˆ’ä»»åŠ¡æ—¥å¿—ï¼Œæ—¥å¿—æ–‡ä»¶ä½äº<code>/var/log/cron</code></p><p>æ¡ˆä¾‹ï¼šæ¼”ç¤ºè®¡åˆ’ä»»åŠ¡çš„æ—¥å¿—ç¨‹åº</p><p>ç¬¬ä¸€æ­¥ï¼šä½¿ç”¨rootè´¦å·åˆ›å»ºä¸€ä¸ªè®¡åˆ’ä»»åŠ¡</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># su - root# crontab -e* * * * * echo 1 &gt;&gt; ~/readme.txt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç¬¬äºŒæ­¥ï¼šä½¿ç”¨tail -få‘½ä»¤ç›‘æ§/var/log/cronæ—¥å¿—ç¨‹åº</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># tail -f /var/log/cron<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="4ã€æ‰©å±•å†…å®¹ï¼šatå‘½ä»¤"><a href="#4ã€æ‰©å±•å†…å®¹ï¼šatå‘½ä»¤" class="headerlink" title="4ã€æ‰©å±•å†…å®¹ï¼šatå‘½ä»¤"></a>4ã€æ‰©å±•å†…å®¹ï¼šatå‘½ä»¤</h2><p>åœ¨Linuxç³»ç»Ÿä¸‹ï¼Œæœ‰ä¸¤ä¸ªå‘½ä»¤å¯ä»¥å®ç°è®¡åˆ’ä»»åŠ¡ï¼šcrontabä¸atï¼ˆç¬¬ä¸‰æ–¹éœ€è¦é¢å¤–å®‰è£…ï¼‰</p><p>crontab ï¼šæ¯å¤©å®šæ—¶æ‰§è¡Œè®¡åˆ’ä»»åŠ¡ï¼ˆæœ€å°å•å…ƒåˆ†é’Ÿï¼‰</p><p>at ï¼šä¸€æ¬¡æ€§å®šæ—¶æ‰§è¡Œä»»åŠ¡</p><h3 id="â˜†-å®‰è£…atå‘½ä»¤"><a href="#â˜†-å®‰è£…atå‘½ä»¤" class="headerlink" title="â˜† å®‰è£…atå‘½ä»¤"></a>â˜† å®‰è£…atå‘½ä»¤</h3><p>CentOS7è‡ªå¸¦ï¼Œå…¶ä»–ç‰ˆæœ¬å¯èƒ½éœ€è¦æ‰‹å·¥å®‰è£…</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install at -y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â˜†-å¯åŠ¨åº•å±‚æœåŠ¡"><a href="#â˜†-å¯åŠ¨åº•å±‚æœåŠ¡" class="headerlink" title="â˜† å¯åŠ¨åº•å±‚æœåŠ¡"></a>â˜† å¯åŠ¨åº•å±‚æœåŠ¡</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl start atd# systemctl enable atd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><blockquote><p>atd = at + d = atå‘½ä»¤ + daemonç¼©å†™</p></blockquote><h3 id="â˜†-æ¡ˆä¾‹æ¼”ç¤º"><a href="#â˜†-æ¡ˆä¾‹æ¼”ç¤º" class="headerlink" title="â˜† æ¡ˆä¾‹æ¼”ç¤º"></a>â˜† æ¡ˆä¾‹æ¼”ç¤º</h3><p>æ¡ˆä¾‹1ï¼šä¸‰å¤©åä¸‹åˆ5ç‚¹æ‰§è¡Œ/bin/ls</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># at 5pm+3 daysat&gt;/bin/ls &gt;/root/readme.txtat&gt;æŒ‰Ctrl+D<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><blockquote><p>am = ä¸Šåˆã€pm = ä¸‹åˆã€3 days = 3å¤©</p></blockquote><p>æ¡ˆä¾‹2ï¼šæ˜å¤©17ç‚¹ï¼Œè¾“å‡ºæ—¶é—´åˆ°æŒ‡å®šçš„æ–‡ä»¶ä¸­</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># at 17:00 tomorrowat&gt;date&gt;/root/readme.txtat&gt;æŒ‰Ctrl+D<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><blockquote><p>tomorrow = æ˜å¤©</p></blockquote><p>æ¡ˆä¾‹3ï¼šä½¿ç”¨atqæŸ¥çœ‹æ²¡æœ‰æ‰§è¡Œçš„è®¡åˆ’ä»»åŠ¡</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># atq<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>atq = at + q = atå‘½ä»¤ + queryæŸ¥è¯¢</p></blockquote><p>æ¡ˆä¾‹4ï¼šåˆ é™¤æŒ‡å®šçš„è®¡åˆ’ä»»åŠ¡</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># atq# atrm ä»»åŠ¡å·<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><blockquote><p>atrm = at + rm = atå‘½ä»¤ + removeç§»é™¤</p></blockquote><h1 id="äºŒã€Linuxè¿›ç¨‹ä¸ç¨‹åº"><a href="#äºŒã€Linuxè¿›ç¨‹ä¸ç¨‹åº" class="headerlink" title="äºŒã€Linuxè¿›ç¨‹ä¸ç¨‹åº"></a>äºŒã€Linuxè¿›ç¨‹ä¸ç¨‹åº</h1><h2 id="1ã€äº†è§£ä¸€ä¸‹è¿›ç¨‹ä¸ç¨‹åºçš„å…³ç³»"><a href="#1ã€äº†è§£ä¸€ä¸‹è¿›ç¨‹ä¸ç¨‹åºçš„å…³ç³»" class="headerlink" title="1ã€äº†è§£ä¸€ä¸‹è¿›ç¨‹ä¸ç¨‹åºçš„å…³ç³»"></a>1ã€äº†è§£ä¸€ä¸‹è¿›ç¨‹ä¸ç¨‹åºçš„å…³ç³»</h2><p>â€‹        <strong>è¿›ç¨‹</strong>æ˜¯æ­£åœ¨æ‰§è¡Œçš„ä¸€ä¸ªç¨‹åºæˆ–å‘½ä»¤ï¼Œæ¯ä¸ªè¿›ç¨‹éƒ½æ˜¯ä¸€ä¸ªè¿è¡Œçš„å®ä½“ï¼Œå¹¶å ç”¨ä¸€å®šçš„ç³»ç»Ÿèµ„æºã€‚<strong>ç¨‹åº</strong>æ˜¯äººä½¿ç”¨è®¡ç®—æœºè¯­è¨€ç¼–å†™çš„å¯ä»¥å®ç°ç‰¹å®šç›®æ ‡æˆ–è§£å†³ç‰¹å®šé—®é¢˜çš„ä»£ç é›†åˆã€‚</p><p>â€‹        ç®€å•æ¥è¯´ï¼Œç¨‹åºæ˜¯äººä½¿ç”¨è®¡ç®—æœºè¯­è¨€ç¼–å†™çš„ï¼Œå¯ä»¥å®ç°ä¸€å®šåŠŸèƒ½ï¼Œå¹¶ä¸”å¯ä»¥æ‰§è¡Œçš„ä»£ç é›†åˆã€‚è¿›ç¨‹æ˜¯æ­£åœ¨æ‰§è¡Œä¸­çš„ç¨‹åºã€‚</p><p><strong>ä¸¾ä¾‹</strong>ï¼šè°·æ­Œæµè§ˆå™¨æ˜¯ä¸€ä¸ªç¨‹åºï¼Œå½“æˆ‘ä»¬æ‰“å¼€è°·æ­Œæµè§ˆå™¨ï¼Œå°±ä¼šåœ¨ç³»ç»Ÿä¸­çœ‹åˆ°ä¸€ä¸ªæµè§ˆå™¨çš„è¿›ç¨‹ï¼Œå½“ç¨‹åºè¢«æ‰§è¡Œæ—¶ï¼Œç¨‹åºçš„ä»£ç éƒ½ä¼šè¢«åŠ è½½å…¥å†…å­˜ï¼Œæ“ä½œç³»ç»Ÿç»™è¿™ä¸ªè¿›ç¨‹åˆ†é…ä¸€ä¸ª IDï¼Œç§°ä¸º <strong>PID</strong>ï¼ˆè¿›ç¨‹ IDï¼‰ã€‚æˆ‘ä»¬æ‰“å¼€å¤šä¸ªè°·æ­Œæµè§ˆå™¨ï¼Œå°±æœ‰å¤šä¸ªæµè§ˆå™¨å­è¿›ç¨‹ï¼Œä½†æ˜¯è¿™äº›è¿›ç¨‹ä½¿ç”¨çš„ç¨‹åºï¼Œéƒ½æ˜¯chrome</p><blockquote><p>PID = Process ID = è¿›ç¨‹ç¼–å·</p></blockquote><p><img src="/../assets/blog_res/Linux%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1%E4%BB%A5%E5%8F%8A%E8%BF%9B%E7%A8%8B%E6%A3%80%E6%B5%8B%E4%B8%8E%E6%8E%A7%E5%88%B6.assets/image-20200324113209223.png" alt="image-20200324113209223"></p><h2 id="2ã€Linuxä¸‹çš„è¿›ç¨‹ç®¡ç†å·¥ä½œ"><a href="#2ã€Linuxä¸‹çš„è¿›ç¨‹ç®¡ç†å·¥ä½œ" class="headerlink" title="2ã€Linuxä¸‹çš„è¿›ç¨‹ç®¡ç†å·¥ä½œ"></a>2ã€Linuxä¸‹çš„è¿›ç¨‹ç®¡ç†å·¥ä½œ</h2><p>è¿›ç¨‹æŸ¥çœ‹ï¼Œé€šè¿‡æŸ¥çœ‹ï¼Œåˆ¤æ–­å¥åº·çŠ¶æ€</p><p>è¿›ç¨‹ç»ˆæ­¢</p><p>è¿›ç¨‹ä¼˜å…ˆçº§æ§åˆ¶</p><h1 id="ä¸‰ã€Linuxä¸‹è¿›ç¨‹ç®¡ç†å‘½ä»¤"><a href="#ä¸‰ã€Linuxä¸‹è¿›ç¨‹ç®¡ç†å‘½ä»¤" class="headerlink" title="ä¸‰ã€Linuxä¸‹è¿›ç¨‹ç®¡ç†å‘½ä»¤"></a>ä¸‰ã€Linuxä¸‹è¿›ç¨‹ç®¡ç†å‘½ä»¤</h1><h2 id="1ã€ä»»åŠ¡èƒŒæ™¯"><a href="#1ã€ä»»åŠ¡èƒŒæ™¯" class="headerlink" title="1ã€ä»»åŠ¡èƒŒæ™¯"></a>1ã€ä»»åŠ¡èƒŒæ™¯</h2><p>å·¥ä½œåœºæ™¯ï¼š</p><p>â€‹        å°é»‘å…¥èŒåˆ°ä¸€å®¶å…¬å¸ï¼Œæ¥åˆ°çš„ç¬¬ä¸€é¡¹ä»»åŠ¡ï¼Œå°±æ˜¯ç›‘æ§ç”Ÿäº§æœåŠ¡å™¨çš„æ€§èƒ½ï¼Œæåˆ°æœåŠ¡å™¨æ€§èƒ½ï¼Œæˆ‘ä»¬é¦–å…ˆæƒ³åˆ°çš„å°±æ˜¯CPUï¼Œå†…å­˜å’Œç£ç›˜ã€‚</p><h2 id="2ã€ä½¿ç”¨topå‘½ä»¤åŠ¨æ€ç›‘æµ‹CPUä¿¡æ¯"><a href="#2ã€ä½¿ç”¨topå‘½ä»¤åŠ¨æ€ç›‘æµ‹CPUä¿¡æ¯" class="headerlink" title="2ã€ä½¿ç”¨topå‘½ä»¤åŠ¨æ€ç›‘æµ‹CPUä¿¡æ¯"></a>2ã€ä½¿ç”¨topå‘½ä»¤åŠ¨æ€ç›‘æµ‹CPUä¿¡æ¯</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># top<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/../assets/blog_res/Linux%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1%E4%BB%A5%E5%8F%8A%E8%BF%9B%E7%A8%8B%E6%A3%80%E6%B5%8B%E4%B8%8E%E6%8E%A7%E5%88%B6.assets/image-20200324114201114.png" alt="image-20200324114201114"></p><h2 id="3ã€ç³»ç»Ÿçš„æ•´ä½“æƒ…å†µ"><a href="#3ã€ç³»ç»Ÿçš„æ•´ä½“æƒ…å†µ" class="headerlink" title="3ã€ç³»ç»Ÿçš„æ•´ä½“æƒ…å†µ"></a>3ã€ç³»ç»Ÿçš„æ•´ä½“æƒ…å†µ</h2><h3 id="â˜†-ç¬¬ä¸€è¡Œ"><a href="#â˜†-ç¬¬ä¸€è¡Œ" class="headerlink" title="â˜† ç¬¬ä¸€è¡Œ"></a>â˜† ç¬¬ä¸€è¡Œ</h3><p><img src="/../assets/blog_res/Linux%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1%E4%BB%A5%E5%8F%8A%E8%BF%9B%E7%A8%8B%E6%A3%80%E6%B5%8B%E4%B8%8E%E6%8E%A7%E5%88%B6.assets/image-20200324114427942.png" alt="image-20200324114427942"></p><table><thead><tr><th>å†… å®¹</th><th>è¯´ æ˜</th></tr></thead><tbody><tr><td>10:12:28</td><td>ç³»ç»Ÿå½“å‰æ—¶é—´</td></tr><tr><td>up 13:05</td><td>ç³»ç»Ÿçš„è¿è¡Œæ—¶é—´.æœ¬æœºå·±ç»è¿è¡Œ 13 å°æ—¶ 05 åˆ†é’Ÿ</td></tr><tr><td>3 users</td><td>å½“å‰ç™»å½•äº†ä¸‰ä¸ªç”¨æˆ·</td></tr><tr><td>load average: 0.00,0.01ï¼Œ0.05</td><td>ç³»ç»Ÿåœ¨ä¹‹å‰ 1 åˆ†é’Ÿã€5 åˆ†é’Ÿã€15 åˆ†é’Ÿçš„å¹³å‡è´Ÿè½½ã€‚å¦‚æœ CPU æ˜¯å•æ ¸çš„ï¼Œåˆ™è¿™ä¸ªæ•°å€¼è¶…è¿‡ 1 å°±æ˜¯é«˜è´Ÿè½½ï¼šå¦‚æœ CPU æ˜¯å››æ ¸çš„ï¼Œåˆ™è¿™ä¸ªæ•°å€¼è¶…è¿‡ 4 å°±æ˜¯é«˜è´Ÿè½½</td></tr></tbody></table><h3 id="â˜†-ç¬¬äºŒè¡Œ"><a href="#â˜†-ç¬¬äºŒè¡Œ" class="headerlink" title="â˜† ç¬¬äºŒè¡Œ"></a>â˜† ç¬¬äºŒè¡Œ</h3><p><img src="/../assets/blog_res/Linux%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1%E4%BB%A5%E5%8F%8A%E8%BF%9B%E7%A8%8B%E6%A3%80%E6%B5%8B%E4%B8%8E%E6%8E%A7%E5%88%B6.assets/image-20200324115718442.png" alt="image-20200324115718442"></p><table><thead><tr><th>Tasks:   230 total</th><th>ç³»ç»Ÿä¸­çš„è¿›ç¨‹æ€»æ•°</th></tr></thead><tbody><tr><td>1 running</td><td>æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹æ•°</td></tr><tr><td>229 sleeping</td><td>ç¡çœ çš„è¿›ç¨‹æ•°</td></tr><tr><td>0 stopped</td><td>æ­£åœ¨åœæ­¢çš„è¿›ç¨‹æ•°</td></tr><tr><td>0 zombie</td><td>åƒµå°¸è¿›ç¨‹æ•°ã€‚å¦‚æœä¸æ˜¯   0ï¼Œåˆ™éœ€è¦æ‰‹å·¥æ£€æŸ¥åƒµå°¸è¿›ç¨‹</td></tr></tbody></table><h3 id="â˜†-ç¬¬ä¸‰è¡Œ"><a href="#â˜†-ç¬¬ä¸‰è¡Œ" class="headerlink" title="â˜† ç¬¬ä¸‰è¡Œ"></a>â˜† ç¬¬ä¸‰è¡Œ</h3><p><img src="/../assets/blog_res/Linux%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1%E4%BB%A5%E5%8F%8A%E8%BF%9B%E7%A8%8B%E6%A3%80%E6%B5%8B%E4%B8%8E%E6%8E%A7%E5%88%B6.assets/image-20200324142002240.png" alt="image-20200324142002240"></p><table><thead><tr><th>å†… å®¹</th><th>è¯´ æ˜</th></tr></thead><tbody><tr><td>Cpu(s): 0.1 %us</td><td>ç”¨æˆ·æ¨¡å¼å ç”¨çš„   CPU ç™¾åˆ†æ¯”</td></tr><tr><td>0.1%sy</td><td>ç³»ç»Ÿæ¨¡å¼å ç”¨çš„   CPU ç™¾åˆ†æ¯”</td></tr><tr><td>0.0%ni</td><td>æ”¹å˜è¿‡ä¼˜å…ˆçº§çš„ç”¨æˆ·è¿›ç¨‹å ç”¨çš„   CPU ç™¾åˆ†æ¯”</td></tr><tr><td>99.7%id</td><td>idleç¼©å†™ï¼Œç©ºé—²   CPU å ç”¨çš„ CPU ç™¾åˆ†æ¯”</td></tr><tr><td>0.1%wa</td><td>ç­‰å¾…è¾“å…¥/è¾“å‡ºçš„è¿›ç¨‹å ç”¨çš„   CPU ç™¾åˆ†æ¯”</td></tr><tr><td>0.0%hi</td><td>ç¡¬ä¸­æ–­è¯·æ±‚æœåŠ¡å ç”¨çš„   CPU ç™¾åˆ†æ¯”</td></tr><tr><td>0.1%si</td><td>è½¯ä¸­æ–­è¯·æ±‚æœåŠ¡å ç”¨çš„   CPU ç™¾åˆ†æ¯”</td></tr><tr><td>0.0%st</td><td>stï¼ˆsteal   timeï¼‰æ„ä¸ºè™šæ‹Ÿæ—¶é—´ç™¾åˆ†æ¯”ï¼Œå°±æ˜¯å½“æœ‰è™šæ‹Ÿæœºæ—¶ï¼Œè™šæ‹Ÿ CPU ç­‰å¾…å®é™… CPU çš„æ—¶é—´ç™¾åˆ†æ¯”</td></tr></tbody></table><h4 id="é—®é¢˜ï¼šå¦‚æœæˆ‘çš„æœºå™¨æœ‰4æ ¸CPUï¼Œæˆ‘æƒ³æŸ¥çœ‹æ¯ä¸€æ ¸å¿ƒåˆ†åˆ«çš„è´Ÿè½½æƒ…å†µæ€èƒ½åŠï¼Ÿ"><a href="#é—®é¢˜ï¼šå¦‚æœæˆ‘çš„æœºå™¨æœ‰4æ ¸CPUï¼Œæˆ‘æƒ³æŸ¥çœ‹æ¯ä¸€æ ¸å¿ƒåˆ†åˆ«çš„è´Ÿè½½æƒ…å†µæ€èƒ½åŠï¼Ÿ" class="headerlink" title="é—®é¢˜ï¼šå¦‚æœæˆ‘çš„æœºå™¨æœ‰4æ ¸CPUï¼Œæˆ‘æƒ³æŸ¥çœ‹æ¯ä¸€æ ¸å¿ƒåˆ†åˆ«çš„è´Ÿè½½æƒ…å†µæ€èƒ½åŠï¼Ÿ"></a>é—®é¢˜ï¼šå¦‚æœæˆ‘çš„æœºå™¨æœ‰4æ ¸CPUï¼Œæˆ‘æƒ³æŸ¥çœ‹æ¯ä¸€æ ¸å¿ƒåˆ†åˆ«çš„è´Ÿè½½æƒ…å†µæ€èƒ½åŠï¼Ÿ</h4><p>ç­”ï¼šäº¤æ¢å¿«æ·é”® â€œ1â€</p><p><img src="/../assets/blog_res/Linux%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1%E4%BB%A5%E5%8F%8A%E8%BF%9B%E7%A8%8B%E6%A3%80%E6%B5%8B%E4%B8%8E%E6%8E%A7%E5%88%B6.assets/image-20200324142144911.png" alt="image-20200324142144911"></p><blockquote><p>CPUè´Ÿè½½æµ‹è¯• =&gt;  cat  /dev/urandom |md5sum</p></blockquote><h3 id="â˜†-ç¬¬å››è¡Œ"><a href="#â˜†-ç¬¬å››è¡Œ" class="headerlink" title="â˜† ç¬¬å››è¡Œ"></a>â˜† ç¬¬å››è¡Œ</h3><p><img src="/../assets/blog_res/Linux%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1%E4%BB%A5%E5%8F%8A%E8%BF%9B%E7%A8%8B%E6%A3%80%E6%B5%8B%E4%B8%8E%E6%8E%A7%E5%88%B6.assets/image-20200324143340302.png" alt="image-20200324143340302"></p><table><thead><tr><th>å†… å®¹</th><th>è¯´ æ˜</th></tr></thead><tbody><tr><td>Mem: 1863252 total</td><td>ç‰©ç†å†…å­˜çš„æ€»é‡ï¼Œå•ä½ä¸ºKB</td></tr><tr><td>829960 used</td><td>å·±ç»ä½¿ç”¨çš„ç‰©ç†å†…å­˜æ•°é‡</td></tr><tr><td>68352 free</td><td>ç©ºé—²çš„ç‰©ç†å†…å­˜æ•°é‡ã€‚æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯è™šæ‹Ÿæœºï¼Œå…±åˆ†é…äº† 628MBå†…å­˜ï¼Œæ‰€ä»¥åªæœ‰53MBçš„ç©ºé—²å†…å­˜</td></tr><tr><td>96490 buff/cache</td><td>ä½œä¸ºç¼“å†²çš„å†…å­˜æ•°é‡</td></tr></tbody></table><blockquote><p>æ‰©å±•ï¼šçœŸæ­£å‰©ä½™å†…å­˜ = free + buff/cacheï¼ŒçœŸæ­£ä½¿ç”¨å†…å­˜ = used - buff/cache</p></blockquote><h3 id="â˜†-ç¬¬äº”è¡Œ"><a href="#â˜†-ç¬¬äº”è¡Œ" class="headerlink" title="â˜† ç¬¬äº”è¡Œ"></a>â˜† ç¬¬äº”è¡Œ</h3><p><img src="/../assets/blog_res/Linux%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1%E4%BB%A5%E5%8F%8A%E8%BF%9B%E7%A8%8B%E6%A3%80%E6%B5%8B%E4%B8%8E%E6%8E%A7%E5%88%B6.assets/image-20200324144347040.png" alt="image-20200324144347040"></p><table><thead><tr><th>å†… å®¹</th><th>è¯´ æ˜</th></tr></thead><tbody><tr><td>Swap: 2097148 total</td><td>äº¤æ¢åˆ†åŒºï¼ˆè™šæ‹Ÿå†…å­˜ï¼‰çš„æ€»å¤§å°</td></tr><tr><td>3336 used</td><td>å·²ç»ä½¿ç”¨çš„äº¤æ¢åˆ†åŒºçš„å¤§å°</td></tr><tr><td>2093812 free</td><td>ç©ºé—²äº¤æ¢åˆ†åŒºçš„å¤§å°</td></tr><tr><td>622420 avail Mem</td><td>å¯ç”¨å†…å­˜</td></tr></tbody></table><p> åœ¨Linuxæ“ä½œç³»ç»Ÿåˆ†åŒºæ—¶ï¼Œæœ€å°‘éœ€è¦3ä¸ªåˆ†åŒºï¼š</p><p>â‘  /bootåˆ†åŒº ï¼š ç³»ç»Ÿåˆ†åŒº</p><p>â‘¡ swapäº¤æ¢åˆ†åŒº ï¼šä¸€èˆ¬æƒ…å†µä¸‹ä¸ºå†…å­˜çš„1~2å€ï¼Œä½†æ˜¯å°½é‡ä¸è¦è¶…è¿‡2G</p><p>â‘¢ /åˆ†åŒº ï¼šæ ¹åˆ†åŒºï¼Œæ‰€æœ‰æ–‡ä»¶éƒ½å­˜æ”¾äºæ­¤</p><blockquote><p>swapåˆ†åŒºï¼šå°±æ˜¯å½“è®¡ç®—æœºçš„å†…å­˜ä¸è¶³æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ä»ç¡¬ç›˜ä¸­åˆ’å‡ºä¸€å—åŒºåŸŸå……å½“å†…å­˜ä½¿ç”¨ã€‚</p></blockquote><p>â€‹       æˆ‘ä»¬é€šè¿‡ top å‘½ä»¤çš„æ•´ä½“ä¿¡æ¯éƒ¨åˆ†ï¼Œå°±å¯ä»¥åˆ¤æ–­æœåŠ¡å™¨çš„å¥åº·çŠ¶æ€ã€‚å¦‚æœ 1 åˆ†é’Ÿã€5 åˆ†é’Ÿã€15 åˆ†é’Ÿçš„å¹³å‡è´Ÿè½½é«˜äºCPUæ ¸æ•°ï¼Œè¯´æ˜ç³»ç»Ÿå‹åŠ›è¾ƒå¤§ã€‚å¦‚æœç‰©ç†å†…å­˜çš„ç©ºé—²å†…å­˜è¿‡å°ï¼Œåˆ™ä¹Ÿè¯æ˜ç³»ç»Ÿå‹åŠ›è¾ƒå¤§ã€‚</p><p>é—®é¢˜ï¼šæ ¹æ®ä»¥ä¸Šä¿¡æ¯ï¼Œç›®å‰æˆ‘ä»¬çš„ç³»ç»Ÿå‹åŠ›å¦‚ä½•ï¼Ÿ</p><p>ç­”ï¼šçœ‹CPUè´Ÿè½½åŠå†…å­˜çš„ä½¿ç”¨æƒ…å†µ</p><p>é—®é¢˜ï¼šå¦‚æœæˆ‘ä»¬å‘ç°CPUè´Ÿè½½è¿‡å¤§ï¼Œæ¥ä¸‹æ¥æ€ä¹ˆåŠï¼Ÿ</p><p>ç­”ï¼šå¦‚æœ1åˆ†é’Ÿã€5åˆ†é’Ÿä»¥åŠ15åˆ†é’Ÿå…¨éƒ¨è¶…è¿‡CPUçš„æ€»æ ¸å¿ƒæ•°ï¼ˆå¿…é¡»å¼•èµ·è­¦è§‰ï¼‰ï¼Œè¿™ä¸ªæ—¶å€™å°±è¦æŸ¥çœ‹åº•éƒ¨çš„è¿›ç¨‹ä¿¡æ¯äº†ã€‚</p><blockquote><p>ç»éªŒä¹‹è°ˆï¼šå¦‚æœä¸€ä¸ªæ€»æ ¸æ•°=8æ ¸å¿ƒçš„CPUï¼Œç†è®ºä¸Šå¹³å‡è´Ÿè½½è¾¾åˆ°16ï¼Œä¹Ÿè¿˜å¯ä»¥åšæŒå¾ˆé•¿ä¸€æ®µæ—¶é—´ã€‚</p></blockquote><h2 id="4ã€ç³»ç»Ÿçš„è¿›ç¨‹ä¿¡æ¯"><a href="#4ã€ç³»ç»Ÿçš„è¿›ç¨‹ä¿¡æ¯" class="headerlink" title="4ã€ç³»ç»Ÿçš„è¿›ç¨‹ä¿¡æ¯"></a>4ã€ç³»ç»Ÿçš„è¿›ç¨‹ä¿¡æ¯</h2><p><img src="/../assets/blog_res/Linux%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1%E4%BB%A5%E5%8F%8A%E8%BF%9B%E7%A8%8B%E6%A3%80%E6%B5%8B%E4%B8%8E%E6%8E%A7%E5%88%B6.assets/image-20200324151820219.png" alt="image-20200324151820219"></p><table><thead><tr><th>PID</th><th>è¿›ç¨‹çš„ IDã€‚</th></tr></thead><tbody><tr><td>USER</td><td>è¯¥è¿›ç¨‹æ‰€å±çš„ç”¨æˆ·ã€‚</td></tr><tr><td>PR</td><td>ä¼˜å…ˆçº§ï¼Œæ•°å€¼è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜ã€‚</td></tr><tr><td>NI</td><td>NICEä¼˜å…ˆçº§ï¼Œæ•°å€¼è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜ï¼Œå–å€¼èŒƒå›´-20åˆ°19ï¼Œé»˜è®¤éƒ½æ˜¯0</td></tr><tr><td>VIRT</td><td>è¯¥è¿›ç¨‹ä½¿ç”¨çš„è™šæ‹Ÿå†…å­˜çš„å¤§å°ï¼Œå•ä½ä¸º KBã€‚</td></tr><tr><td>RES</td><td>è¯¥è¿›ç¨‹ä½¿ç”¨çš„ç‰©ç†å†…å­˜çš„å¤§å°ï¼Œå•ä½ä¸º KBã€‚</td></tr><tr><td>SHR</td><td>å…±äº«å†…å­˜å¤§å°ï¼Œå•ä½ä¸º KBã€‚è®¡ç®—ä¸€ä¸ªè¿›ç¨‹å®é™…ä½¿ç”¨çš„å†…å­˜ = å¸¸é©»å†…å­˜ï¼ˆRESï¼‰- å…±äº«å†…å­˜ï¼ˆSHRï¼‰</td></tr><tr><td>S</td><td>è¿›ç¨‹çŠ¶æ€ã€‚å…¶ä¸­S è¡¨ç¤ºç¡çœ ï¼ŒR è¡¨ç¤ºè¿è¡Œ</td></tr><tr><td>%CPU</td><td>è¯¥è¿›ç¨‹å ç”¨ CPU çš„ç™¾åˆ†æ¯”ã€‚</td></tr><tr><td>%MEM</td><td>è¯¥è¿›ç¨‹å ç”¨å†…å­˜çš„ç™¾åˆ†æ¯”ã€‚</td></tr><tr><td>TIME+</td><td>è¯¥è¿›ç¨‹å…±å ç”¨çš„ CPU æ—¶é—´ã€‚</td></tr><tr><td>COMMAND</td><td>è¿›ç¨‹å</td></tr></tbody></table><h4 id="é—®é¢˜ï¼šå¦‚æœæˆ‘ä»¬å‘ç°CPUè´Ÿè½½è¿‡å¤§ï¼Œæ¥ä¸‹æ¥æ€ä¹ˆåŠï¼Ÿ"><a href="#é—®é¢˜ï¼šå¦‚æœæˆ‘ä»¬å‘ç°CPUè´Ÿè½½è¿‡å¤§ï¼Œæ¥ä¸‹æ¥æ€ä¹ˆåŠï¼Ÿ" class="headerlink" title="é—®é¢˜ï¼šå¦‚æœæˆ‘ä»¬å‘ç°CPUè´Ÿè½½è¿‡å¤§ï¼Œæ¥ä¸‹æ¥æ€ä¹ˆåŠï¼Ÿ"></a>é—®é¢˜ï¼šå¦‚æœæˆ‘ä»¬å‘ç°CPUè´Ÿè½½è¿‡å¤§ï¼Œæ¥ä¸‹æ¥æ€ä¹ˆåŠï¼Ÿ</h4><p>ç­”ï¼šæŸ¥çœ‹å ç”¨CPUæœ€å¤šçš„è¿›ç¨‹</p><h4 id="é—®é¢˜ï¼šå¦‚ä½•æŸ¥çœ‹å ç”¨CPUæœ€å¤šçš„è¿›ç¨‹ï¼Ÿ"><a href="#é—®é¢˜ï¼šå¦‚ä½•æŸ¥çœ‹å ç”¨CPUæœ€å¤šçš„è¿›ç¨‹ï¼Ÿ" class="headerlink" title="é—®é¢˜ï¼šå¦‚ä½•æŸ¥çœ‹å ç”¨CPUæœ€å¤šçš„è¿›ç¨‹ï¼Ÿ"></a>é—®é¢˜ï¼šå¦‚ä½•æŸ¥çœ‹å ç”¨CPUæœ€å¤šçš„è¿›ç¨‹ï¼Ÿ</h4><p>ç­”ï¼šäº¤äº’æ“ä½œå¿«æ·é”®Pï¼ŒPï¼ˆå¤§å†™ï¼‰ï¼šï¼Œè¡¨ç¤ºå°†ç»“æœæŒ‰ç…§CPU ä½¿ç”¨ç‡ä»é«˜åˆ°ä½è¿›è¡Œé™åºæ’åˆ—</p><h4 id="é—®é¢˜ï¼šå¦‚æœæˆ‘ä»¬å‘ç°å†…å­˜å¯ç”¨é‡å¾ˆå°ï¼Œæ¥ä¸‹æ¥æ€ä¹ˆåŠï¼Ÿ"><a href="#é—®é¢˜ï¼šå¦‚æœæˆ‘ä»¬å‘ç°å†…å­˜å¯ç”¨é‡å¾ˆå°ï¼Œæ¥ä¸‹æ¥æ€ä¹ˆåŠï¼Ÿ" class="headerlink" title="é—®é¢˜ï¼šå¦‚æœæˆ‘ä»¬å‘ç°å†…å­˜å¯ç”¨é‡å¾ˆå°ï¼Œæ¥ä¸‹æ¥æ€ä¹ˆåŠï¼Ÿ"></a>é—®é¢˜ï¼šå¦‚æœæˆ‘ä»¬å‘ç°å†…å­˜å¯ç”¨é‡å¾ˆå°ï¼Œæ¥ä¸‹æ¥æ€ä¹ˆåŠï¼Ÿ</h4><p>ç­”ï¼šæŸ¥çœ‹å ç”¨å†…å­˜æœ€å¤šçš„è¿›ç¨‹ï¼Œä½¿ç”¨äº¤äº’å¿«æ·é”®Mï¼ˆå¤§å†™ï¼‰ï¼šè¡¨ç¤ºå°†ç»“æœæŒ‰ç…§å†…å­˜ï¼ˆMEMï¼‰ä»é«˜åˆ°ä½è¿›è¡Œé™åºæ’åˆ—</p><p><img src="/../assets/blog_res/Linux%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1%E4%BB%A5%E5%8F%8A%E8%BF%9B%E7%A8%8B%E6%A3%80%E6%B5%8B%E4%B8%8E%E6%8E%A7%E5%88%B6.assets/image-20200324154216736.png" alt="image-20200324154216736"></p><h4 id="é—®é¢˜ï¼šå½“æˆ‘ä»¬æŸ¥çœ‹å®Œç³»ç»ŸçŠ¶æ€ï¼Œéœ€è¦åšä»€ä¹ˆï¼Ÿ"><a href="#é—®é¢˜ï¼šå½“æˆ‘ä»¬æŸ¥çœ‹å®Œç³»ç»ŸçŠ¶æ€ï¼Œéœ€è¦åšä»€ä¹ˆï¼Ÿ" class="headerlink" title="é—®é¢˜ï¼šå½“æˆ‘ä»¬æŸ¥çœ‹å®Œç³»ç»ŸçŠ¶æ€ï¼Œéœ€è¦åšä»€ä¹ˆï¼Ÿ"></a>é—®é¢˜ï¼šå½“æˆ‘ä»¬æŸ¥çœ‹å®Œç³»ç»ŸçŠ¶æ€ï¼Œéœ€è¦åšä»€ä¹ˆï¼Ÿ</h4><p>ç­”ï¼šé€€å‡ºï¼Œä½¿ç”¨qï¼ŒæŒ‰é”®ç›˜ä¸Šçš„qï¼Œå°±ä¼šå›åˆ°#æç¤ºç¬¦çš„çŠ¶æ€ã€‚</p><h2 id="5ã€freeæŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µ"><a href="#5ã€freeæŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µ" class="headerlink" title="5ã€freeæŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µ"></a>5ã€freeæŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µ</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># free [é€‰é¡¹]  1GB = 1024MB  1MB = 1024KBé€‰é¡¹è¯´æ˜ï¼š-m : ä»¥MBçš„å½¢å¼æ˜¾ç¤ºå†…å­˜å¤§å°<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæ˜¾ç¤ºè®¡ç®—æœºçš„å†…å­˜ä½¿ç”¨æƒ…å†µ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># free -m<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹    å’ŒCentos6ç›¸æ¯”ï¼Œbufferå’Œcachedè¢«åˆæˆä¸€ç»„ï¼ŒåŠ å…¥äº†ä¸€ä¸ªavailableã€‚</p><p>â€‹    å…³äºæ­¤availableï¼Œå³ç³»ç»Ÿå¯ç”¨å†…å­˜ï¼Œç”¨æˆ·ä¸éœ€è¦å»è®¡ç®—buffer/cacheï¼Œå³å¯ä»¥çœ‹åˆ°è¿˜æœ‰å¤šå°‘å†…å­˜å¯ç”¨ï¼Œæ›´åŠ ç®€å•ç›´è§‚</p><p><img src="/../assets/blog_res/Linux%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1%E4%BB%A5%E5%8F%8A%E8%BF%9B%E7%A8%8B%E6%A3%80%E6%B5%8B%E4%B8%8E%E6%8E%A7%E5%88%B6.assets/image-20200324155922424.png" alt="image-20200324155922424"></p><h2 id="6ã€dfæŸ¥çœ‹ç£ç›˜å‰©ä½™ç©ºé—´"><a href="#6ã€dfæŸ¥çœ‹ç£ç›˜å‰©ä½™ç©ºé—´" class="headerlink" title="6ã€dfæŸ¥çœ‹ç£ç›˜å‰©ä½™ç©ºé—´"></a>6ã€dfæŸ¥çœ‹ç£ç›˜å‰©ä½™ç©ºé—´</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># df [é€‰é¡¹]-h ï¼šä»¥è¾ƒé«˜çš„å¯è¯»æ€§æ˜¾ç¤ºç£ç›˜å‰©ä½™ç©ºé—´å¤§å°<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><blockquote><p>df = disk free = ç£ç›˜ å‰©ä½™</p></blockquote><p>è¿™å‡ åˆ—ä¾æ¬¡æ˜¯ï¼š</p><table><thead><tr><th>Filesystem</th><th>ç£ç›˜åç§°</th></tr></thead><tbody><tr><td>Size</td><td>æ€»å¤§å°</td></tr><tr><td>Used</td><td>è¢«ä½¿ç”¨çš„å¤§å°</td></tr><tr><td>Avail</td><td>å‰©ä½™å¤§å°</td></tr><tr><td>Use%</td><td>ä½¿ç”¨ç™¾åˆ†æ¯”</td></tr><tr><td>Mounted on</td><td>æŒ‚è½½è·¯å¾„ï¼ˆç›¸å½“äºWindows çš„ç£ç›˜ç¬¦ï¼‰</td></tr></tbody></table><h2 id="7ã€psæŸ¥çœ‹ç³»ç»Ÿè¿›ç¨‹ä¿¡æ¯"><a href="#7ã€psæŸ¥çœ‹ç³»ç»Ÿè¿›ç¨‹ä¿¡æ¯" class="headerlink" title="7ã€psæŸ¥çœ‹ç³»ç»Ÿè¿›ç¨‹ä¿¡æ¯"></a>7ã€psæŸ¥çœ‹ç³»ç»Ÿè¿›ç¨‹ä¿¡æ¯</h2><p>top ï¼š åŠ¨æ€æŸ¥çœ‹ç³»ç»Ÿè¿›ç¨‹çš„ä¿¡æ¯ï¼ˆæ¯éš”3såˆ‡æ¢ä¸€æ¬¡ï¼‰</p><p>ps  ï¼š é™æ€æŸ¥çœ‹ç³»ç»Ÿè¿›ç¨‹çš„ä¿¡æ¯ï¼ˆåªèƒ½æŸ¥è¯¢è¿è¡Œpså‘½ä»¤ç¬é—´ï¼Œç³»ç»Ÿçš„è¿›ç¨‹ä¿¡æ¯ï¼‰</p><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ps [é€‰é¡¹]é€‰é¡¹è¯´æ˜ï¼š-e : ç­‰ä»·äºâ€œ-Aâ€ï¼Œè¡¨ç¤ºåˆ—å‡ºå…¨éƒ¨ï¼ˆallï¼‰çš„è¿›ç¨‹-f : è¡¨ç¤ºfullï¼Œæ˜¾ç¤ºå…¨éƒ¨çš„åˆ—ï¼ˆæ˜¾ç¤ºå…¨å­—æ®µï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæ˜¾ç¤ºå½“å‰ç³»ç»Ÿä¸­æ‰€æœ‰è¿›ç¨‹çš„ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ps -ef<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/../assets/blog_res/Linux%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1%E4%BB%A5%E5%8F%8A%E8%BF%9B%E7%A8%8B%E6%A3%80%E6%B5%8B%E4%B8%8E%E6%8E%A7%E5%88%B6.assets/image-20200324162137670.png" alt="image-20200324162137670"></p><table><thead><tr><th>UID</th><th>è¯¥è¿›ç¨‹æ‰§è¡Œçš„ç”¨æˆ·ID</th></tr></thead><tbody><tr><td>PID</td><td>è¿›ç¨‹ID</td></tr><tr><td>PPID</td><td>è¯¥è¿›ç¨‹çš„çˆ¶çº§è¿›ç¨‹IDï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œåˆ™è¯¥è¿›ç¨‹å°±è¢«ç§°ä¹‹ä¸ºåƒµå°¸è¿›ç¨‹ï¼ˆParent Process IDï¼‰</td></tr><tr><td>C</td><td>Cpuçš„å ç”¨ç‡ï¼Œå…¶å½¢å¼æ˜¯ç™¾åˆ†æ•°</td></tr><tr><td>STIME</td><td>è¿›ç¨‹çš„å¯åŠ¨æ—¶é—´</td></tr><tr><td>TTY</td><td>ç»ˆç«¯è®¾å¤‡ï¼Œå‘èµ·è¯¥è¿›ç¨‹çš„è®¾å¤‡è¯†åˆ«ç¬¦å·ï¼Œå¦‚æœæ˜¾ç¤ºâ€œ?â€åˆ™è¡¨ç¤ºè¯¥è¿›ç¨‹å¹¶ä¸æ˜¯ç”±ç»ˆç«¯è®¾å¤‡å‘èµ·</td></tr><tr><td>TIME</td><td>è¿›ç¨‹å®é™…ä½¿ç”¨CPUçš„æ—¶é—´</td></tr><tr><td>CMD</td><td>è¯¥è¿›ç¨‹çš„åç§°æˆ–è€…å¯¹åº”çš„è·¯å¾„</td></tr></tbody></table><blockquote><p>ç»éªŒä¹‹è°ˆï¼šæˆ‘ä»¬åœ¨å®é™…å·¥ä½œä¸­ä½¿ç”¨pså‘½ä»¤å…¶å®ä¸»è¦ç”¨äºæŸ¥è¯¢æŸä¸ªè¿›ç¨‹çš„PIDæˆ–PPID</p></blockquote><p>å·¥ä½œåœºæ™¯</p><p>â€‹        å°é»‘ç”¨å­¦åˆ°çš„å‘½ä»¤ï¼Œå‘ç°æŸä¸ªè¿›ç¨‹å ç”¨CPUå¾ˆé«˜ï¼Œå¸Œæœ›è¿›ä¸€æ­¥æŸ¥çœ‹è¿™ä¸ªç®€ç§°çš„ä¿¡æ¯ã€‚</p><p>â€‹        ps -ef ä¼šåˆ—å‡ºå…¨éƒ¨è¿›ç¨‹ï¼Œä½†æ˜¯æˆ‘ä»¬å‘ç°è¿›ç¨‹éå¸¸å¤šï¼Œæˆ‘ä»¬å¾ˆéš¾æ‰¾åˆ°è‡ªå·±æƒ³è¦çœ‹çš„è¿›ç¨‹ã€‚è¿™é‡Œéœ€è¦ä½¿ç”¨è¿‡æ»¤å‘½ä»¤grepï¼Œæ¥è¿‡æ»¤æ‰æˆ‘ä»¬ä¸éœ€è¦çš„ä¿¡æ¯ã€‚</p><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">ç”¨æ³•ï¼šps -ef |grep æƒ³è¦çœ‹åˆ°çš„è¿›ç¨‹åç¤ºä¾‹ä»£ç ï¼š# ps -ef |grep crondå«ä¹‰ï¼šæŸ¥çœ‹crondè¿›ç¨‹çš„è¯¦ç»†æƒ…å†µæ³¨æ„ï¼šæŸ¥è¯¢ç»“æœä¸­ï¼Œå¦‚æœåªæœ‰ä¸€æ¡åˆ™è¡¨ç¤ºæ²¡æŸ¥åˆ°å¯¹åº”çš„è¿›ç¨‹ï¼ˆè¿™1 æ¡è¡¨ç¤ºåˆšæ‰ps æŒ‡ä»¤çš„è‡ªèº«ï¼‰ã€‚åªæœ‰æŸ¥åˆ°çš„ç»“æœå¤šä½™1 æ¡ï¼Œæ‰è¡¨ç¤ºæœ‰å¯¹åº”çš„è¿›ç¨‹ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŸ¥è¯¢crondçš„è¿›ç¨‹ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ps -ef |grep crondroot       7102      1  0 Mar23 ?        00:00:04 /usr/sbin/crond -nroot      24752  12881  0 16:34 pts/2    00:00:00 grep --color=auto crond<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>é—®é¢˜ï¼šä»¥ä¸Šä¿¡æ¯åªæœ‰ç¬¬ä¸€è¡Œæ˜¯crondçš„è¿›ç¨‹ï¼Œç¬¬äºŒè¡Œï¼Œå®é™…æ˜¯ç®¡é“å‘½ä»¤å‘èµ·æ—¶ï¼Œgrepæ‰€å¯åŠ¨çš„è¿›ç¨‹ï¼Œå¦‚ä½•å»æ‰ï¼Ÿ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ps -ef |grep crond |grep -v "grep"root       7102      1  0 Mar23 ?        00:00:04 /usr/sbin/crond -n<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><blockquote><p>grep  -v  éœ€è¦å»é™¤çš„ç›¸å…³ä¿¡æ¯ ï¼š å»é™¤åŒ…å«æŒ‡å®šå…³é”®è¯çš„é‚£ä¸€è¡Œ</p></blockquote><p>æ‰©å±•ï¼šps  auxå‘½ä»¤</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ps aux<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p># man ps</p><p>1   UNIX options, which may be grouped and must be preceded by a dash.     ps  -ef<br>2   BSD options, which may be grouped and must not be used with a dash. ps  aux</p></blockquote><p><img src="/../assets/blog_res/Linux%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1%E4%BB%A5%E5%8F%8A%E8%BF%9B%E7%A8%8B%E6%A3%80%E6%B5%8B%E4%B8%8E%E6%8E%A7%E5%88%B6.assets/image-20200324165018806.png" alt="image-20200324165018806"></p><p>USERï¼šè¯¥ process å±äºå“ªä¸ªä½¿ç”¨è€…è´¦å·<br>==PID ï¼šè¯¥ process çš„ID==<br>==%CPUï¼šè¯¥ process ä½¿ç”¨æ‰çš„ CPU èµ„æºç™¾åˆ†æ¯”==<br>==%MEMï¼šè¯¥ process æ‰€å ç”¨çš„ç‰©ç†å†…å­˜ç™¾åˆ†æ¯”==<br>VSZ ï¼šè¯¥ process ä½¿ç”¨æ‰çš„è™šæ‹Ÿå†…å­˜é‡ (Kbytes)<br>RSS ï¼šè¯¥ process å ç”¨çš„å›ºå®šçš„å†…å­˜é‡ (Kbytes)<br>TTY ï¼šè¯¥ process æ˜¯åœ¨é‚£ä¸ªç»ˆç«¯æœºä¸Šé¢è¿ä½œï¼Œè‹¥ä¸ç»ˆç«¯æœºæ— å…³ï¼Œåˆ™æ˜¾ç¤º ?ï¼Œå¦å¤–ï¼Œ tty1-tty6 æ˜¯æœ¬æœºä¸Šé¢çš„ç™»å…¥è€…ç¨‹åºï¼Œè‹¥ä¸º pts/0 ç­‰ç­‰çš„ï¼Œåˆ™è¡¨ç¤ºä¸ºç”±ç½‘ç»œè¿æ¥è¿›ä¸»æœºçš„ç¨‹åºã€‚<br>==STATï¼šè¯¥ç¨‹åºç›®å‰çš„çŠ¶æ€ï¼Œä¸»è¦çš„çŠ¶æ€æœ‰==<br>    R ï¼šè¯¥ç¨‹åºç›®å‰æ­£åœ¨è¿ä½œï¼Œæˆ–è€…æ˜¯å¯è¢«è¿ä½œ<br>    S ï¼šè¯¥ç¨‹åºç›®å‰æ­£åœ¨ç¡çœ å½“ä¸­ (å¯è¯´æ˜¯ idle çŠ¶æ€)ï¼Œä½†å¯è¢«æŸäº›è®¯å· (signal) å”¤é†’ã€‚<br>    T ï¼šè¯¥ç¨‹åºç›®å‰æ­£åœ¨ä¾¦æµ‹æˆ–è€…æ˜¯åœæ­¢äº†<br>   ==Z ï¼šè¯¥ç¨‹åºåº”è¯¥å·²ç»ç»ˆæ­¢ï¼Œä½†æ˜¯å…¶çˆ¶ç¨‹åºå´æ— æ³•æ­£å¸¸çš„ç»ˆæ­¢ä»–ï¼Œé€ æˆ zombie (ç–†å°¸) ç¨‹åºçš„çŠ¶æ€==<br>STARTï¼šè¯¥ process è¢«è§¦å‘å¯åŠ¨çš„æ—¶é—´<br>TIME ï¼šè¯¥ process å®é™…ä½¿ç”¨ CPU è¿ä½œçš„æ—¶é—´<br>COMMANDï¼šè¯¥ç¨‹åºçš„å®é™…æŒ‡ä»¤</p><h2 id="8ã€netstat-ssæŸ¥è¯¢ç½‘ç»œè®¿é—®ä¿¡æ¯"><a href="#8ã€netstat-ssæŸ¥è¯¢ç½‘ç»œè®¿é—®ä¿¡æ¯" class="headerlink" title="8ã€netstat/ssæŸ¥è¯¢ç½‘ç»œè®¿é—®ä¿¡æ¯"></a>8ã€netstat/ssæŸ¥è¯¢ç½‘ç»œè®¿é—®ä¿¡æ¯</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># netstat [é€‰é¡¹] |grep è¿›ç¨‹åç§°é€‰é¡¹è¯´æ˜ï¼š-tï¼šè¡¨ç¤ºåªåˆ—å‡ºtcp åè®®çš„è¿æ¥ï¼ˆtcpåè®®ä¸udpåè®®ï¼‰-nï¼šè¡¨ç¤ºå°†åœ°å€ä»å­—æ¯ç»„åˆè½¬åŒ–æˆip åœ°å€ï¼Œå°†åè®®è½¬åŒ–æˆç«¯å£å·æ¥æ˜¾ç¤º  10.1.1.10:80-lï¼šè¡¨ç¤ºè¿‡æ»¤å‡º"stateï¼ˆçŠ¶æ€ï¼‰"åˆ—ä¸­å…¶å€¼ä¸ºLISTENï¼ˆç›‘å¬ï¼‰çš„è¿æ¥-pï¼šè¡¨ç¤ºæ˜¾ç¤ºå‘èµ·è¿æ¥çš„è¿›ç¨‹pid å’Œè¿›ç¨‹åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŸ¥è¯¢Web Serverï¼ˆhttpdï¼‰æœåŠ¡çš„ç«¯å£ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># netstat -tnlp |grep httpd<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ss -naltp |grep è¿›ç¨‹åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŸ¥è¯¢sshdæœåŠ¡çš„ç«¯å£ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ss -naltp |grep sshd<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>netstatä¸ssåŒºåˆ«ï¼Ÿâ‘  netstatä¿¡æ¯æ¯”è¾ƒç®€æ´ï¼Œssæ›´åŠ ä¸°å¯Œ â‘¡ ssæ‰§è¡Œæ•ˆç‡æ¯”netstatç•¥é«˜ä¸€äº›</p></blockquote><h2 id="9ã€kill-killallæ€æ­»è¿›ç¨‹"><a href="#9ã€kill-killallæ€æ­»è¿›ç¨‹" class="headerlink" title="9ã€kill/killallæ€æ­»è¿›ç¨‹"></a>9ã€kill/killallæ€æ­»è¿›ç¨‹</h2><h3 id="â˜†-æ ¹æ®pidæ€æ‰è¿›ç¨‹"><a href="#â˜†-æ ¹æ®pidæ€æ‰è¿›ç¨‹" class="headerlink" title="â˜† æ ¹æ®pidæ€æ‰è¿›ç¨‹"></a>â˜† æ ¹æ®pidæ€æ‰è¿›ç¨‹</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">å‘½ä»¤ï¼škillè¯­æ³•ï¼škill [ä¿¡å·] PIDä½œç”¨ï¼škill å‘½ä»¤ä¼šå‘æ“ä½œç³»ç»Ÿå†…æ ¸å‘é€ä¸€ä¸ªä¿¡å·ï¼ˆå¤šæ˜¯ç»ˆæ­¢ä¿¡å·ï¼‰å’Œç›®æ ‡è¿›ç¨‹çš„ PIDï¼Œç„¶åç³»ç»Ÿå†…æ ¸æ ¹æ®æ”¶åˆ°çš„ä¿¡å·ç±»å‹ï¼Œå¯¹æŒ‡å®šè¿›ç¨‹è¿›è¡Œç›¸åº”çš„æ“ä½œç»éªŒï¼škillç»å¸¸ç»“åˆpså‘½ä»¤ä¸€èµ·ä½¿ç”¨<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>killå‘½ä»¤ç”¨äºæ€æ­»æŸä¸ªè¿›ç¨‹ï¼Œè¿™å…¶å®åªæ˜¯å…¶ä¸€ä¸ªåŠŸèƒ½ã€‚killå‘½ä»¤çš„å®è´¨æ˜¯å‘è¿›ç¨‹å‘é€ä¿¡å·</p></blockquote><p>ä¿¡å·ç§ç±»ï¼š</p><table><thead><tr><th>ä¿¡å·ç¼–å·</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>9</td><td>æ€æ­»è¿›ç¨‹ï¼Œå³å¼ºåˆ¶ç»“æŸè¿›ç¨‹ã€‚</td></tr><tr><td>15</td><td>æ­£å¸¸ç»“æŸè¿›ç¨‹ï¼Œæ˜¯ kill   å‘½ä»¤çš„é»˜è®¤ä¿¡å·ã€‚</td></tr></tbody></table><p>æ¡ˆä¾‹ï¼šä½¿ç”¨killå‘½ä»¤æ€æ­»crondè¿›ç¨‹</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ps -ef |grep crond7102# kill 7102<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><blockquote><p>å¤‡æ³¨ï¼šåœ¨äº’è”ç½‘ä¸­ï¼Œç»å¸¸çœ‹åˆ°kill  -9  è¿›ç¨‹PIDï¼Œå¼ºåˆ¶æ€æ­»æŸä¸ªè¿›ç¨‹ï¼Œkill -9 pid</p></blockquote><h3 id="â˜†-æ ¹æ®è¿›ç¨‹åç§°æ€æ‰è¿›ç¨‹"><a href="#â˜†-æ ¹æ®è¿›ç¨‹åç§°æ€æ‰è¿›ç¨‹" class="headerlink" title="â˜† æ ¹æ®è¿›ç¨‹åç§°æ€æ‰è¿›ç¨‹"></a>â˜† æ ¹æ®è¿›ç¨‹åç§°æ€æ‰è¿›ç¨‹</h3><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># killall [ä¿¡å·ç¼–å·] è¿›ç¨‹åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šä½¿ç”¨killallå‘½ä»¤æ€æ­»crondè¿›ç¨‹</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># killall crond<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šä½¿ç”¨killallå‘½ä»¤æ€æ­»httpdè¿›ç¨‹</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># killall httpd<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxçš„æƒé™ç®¡ç†æ“ä½œ</title>
      <link href="/2023/12/23/linux-de-quan-xian-guan-li-cao-zuo/"/>
      <url>/2023/12/23/linux-de-quan-xian-guan-li-cao-zuo/</url>
      
        <content type="html"><![CDATA[<h1 id="Linuxçš„æƒé™ç®¡ç†æ“ä½œ"><a href="#Linuxçš„æƒé™ç®¡ç†æ“ä½œ" class="headerlink" title="Linuxçš„æƒé™ç®¡ç†æ“ä½œ"></a>Linuxçš„æƒé™ç®¡ç†æ“ä½œ</h1><h1 id="ä¸€ã€æƒé™æ¦‚è¿°"><a href="#ä¸€ã€æƒé™æ¦‚è¿°" class="headerlink" title="ä¸€ã€æƒé™æ¦‚è¿°"></a>ä¸€ã€æƒé™æ¦‚è¿°</h1><h2 id="1ã€æƒé™çš„åŸºæœ¬æ¦‚å¿µ"><a href="#1ã€æƒé™çš„åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="1ã€æƒé™çš„åŸºæœ¬æ¦‚å¿µ"></a>1ã€æƒé™çš„åŸºæœ¬æ¦‚å¿µ</h2><p>åœ¨å¤šç”¨æˆ·è®¡ç®—æœºç³»ç»Ÿçš„ç®¡ç†ä¸­ï¼Œæƒé™æ˜¯æŒ‡æŸä¸ªç‰¹å®šçš„ç”¨æˆ·å…·æœ‰ç‰¹å®šçš„ç³»ç»Ÿèµ„æºä½¿ç”¨æƒåˆ©ã€‚</p><p>åœ¨Linux ä¸­åˆ†åˆ«æœ‰è¯»ã€å†™ã€æ‰§è¡Œæƒé™ï¼š</p><table><thead><tr><th></th><th>æƒé™é’ˆå¯¹æ–‡ä»¶</th><th>æƒé™é’ˆå¯¹ç›®å½•</th></tr></thead><tbody><tr><td>è¯»r</td><td>è¡¨ç¤ºå¯ä»¥æŸ¥çœ‹æ–‡ä»¶å†…å®¹ï¼›cat</td><td>è¡¨ç¤ºå¯ä»¥(ls)æŸ¥çœ‹ç›®å½•ä¸­å­˜åœ¨çš„æ–‡ä»¶åç§°</td></tr><tr><td>å†™w</td><td>è¡¨ç¤ºå¯ä»¥æ›´æ”¹æ–‡ä»¶çš„å†…å®¹ï¼›vim ä¿®æ”¹ï¼Œä¿å­˜é€€å‡º</td><td>è¡¨ç¤ºæ˜¯å¦å¯ä»¥åˆ é™¤ç›®å½•ä¸­çš„å­æ–‡ä»¶æˆ–è€…æ–°å»ºå­ç›®å½•(rm/touch/mkdir)</td></tr><tr><td>æ‰§è¡Œx</td><td>è¡¨ç¤ºæ˜¯å¦å¯ä»¥å¼€å¯æ–‡ä»¶å½“ä¸­è®°å½•çš„ç¨‹åº,ä¸€èˆ¬æŒ‡äºŒè¿›åˆ¶æ–‡ä»¶(.sh) =&gt; ç»¿è‰²</td><td>è¡¨ç¤ºæ˜¯å¦å¯ä»¥è¿›å…¥ç›®å½•ä¸­(cd)</td></tr></tbody></table><blockquote><p>æ³¨ï¼šä¸€èˆ¬ç»™äºˆç›®å½•è¯»æƒé™æ—¶ï¼Œä¹Ÿå°†ä¼šç»™å…¶æ‰§è¡Œæƒé™ï¼Œå±äºâ€œå¥—é¤â€ç»„åˆ</p><p>å¯è¯»æƒé™ read =&gt; rï¼ˆç®€å†™ï¼‰ï¼Œå¯å†™æƒé™ write =&gt; wï¼ˆç®€å†™ï¼‰ï¼Œå¯æ‰§è¡Œæƒé™ excute =&gt; xï¼ˆç®€å†™ï¼‰</p></blockquote><h2 id="2ã€ä¸ºä»€ä¹ˆè¦è®¾ç½®æƒé™"><a href="#2ã€ä¸ºä»€ä¹ˆè¦è®¾ç½®æƒé™" class="headerlink" title="2ã€ä¸ºä»€ä¹ˆè¦è®¾ç½®æƒé™"></a>2ã€ä¸ºä»€ä¹ˆè¦è®¾ç½®æƒé™</h2><p>1ï¼‰æœåŠ¡å™¨ä¸­çš„æ•°æ®ä»·å€¼</p><p>2ï¼‰å‘˜å·¥çš„å·¥ä½œèŒè´£å’Œåˆ†å·¥ä¸åŒ</p><p>3ï¼‰åº”å¯¹è‡ªå¤–éƒ¨çš„æ”»å‡»(æŒ‚é©¬)</p><p>4ï¼‰å†…éƒ¨ç®¡ç†çš„éœ€è¦</p><h2 id="3ã€Linuxç”¨æˆ·èº«ä»½ç±»åˆ«"><a href="#3ã€Linuxç”¨æˆ·èº«ä»½ç±»åˆ«" class="headerlink" title="3ã€Linuxç”¨æˆ·èº«ä»½ç±»åˆ«"></a>3ã€Linuxç”¨æˆ·èº«ä»½ç±»åˆ«</h2><p>Linux ç³»ç»Ÿä¸€èˆ¬å°†æ–‡ä»¶æƒé™åˆ†ä¸º3 ç±»ï¼š</p><p>readï¼ˆè¯»ï¼‰</p><p>writeï¼ˆå†™ï¼‰</p><p>executeï¼ˆæ‰§è¡Œï¼‰</p><p>**==è°==**å¯¹æ–‡ä»¶æœ‰è¯»ï¼Œå†™ï¼Œæ‰§è¡Œçš„æƒé™å‘¢ï¼Ÿ ç­”ï¼šé’ˆå¯¹ä¸‰å¤§ç±»ç”¨æˆ·</p><h2 id="4ã€useræ–‡ä»¶æ‹¥æœ‰è€…"><a href="#4ã€useræ–‡ä»¶æ‹¥æœ‰è€…" class="headerlink" title="4ã€useræ–‡ä»¶æ‹¥æœ‰è€…"></a>4ã€useræ–‡ä»¶æ‹¥æœ‰è€…</h2><p>æ–‡ä»¶çš„æ‹¥æœ‰è€…ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œè°åˆ›å»ºäº†è¿™ä¸ªæ–‡ä»¶è°å°±æ˜¯æ–‡ä»¶çš„æ‹¥æœ‰è€…ã€‚æ–‡ä»¶çš„æ‹¥æœ‰è€…å¯ä»¥è¿›è¡Œæ›´æ”¹å¹¶ä¸æ˜¯ä¸€æˆä¸å˜çš„ã€‚</p><p>è£´å‡¯ =&gt; linux.txtï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œè£´å‡¯å°±æ˜¯linux.txtæ–‡ä»¶çš„æ‹¥æœ‰è€…</p><h2 id="5ã€groupæ–‡ä»¶æ‰€å±ç»„å†…ç”¨æˆ·"><a href="#5ã€groupæ–‡ä»¶æ‰€å±ç»„å†…ç”¨æˆ·" class="headerlink" title="5ã€groupæ–‡ä»¶æ‰€å±ç»„å†…ç”¨æˆ·"></a>5ã€groupæ–‡ä»¶æ‰€å±ç»„å†…ç”¨æˆ·</h2><p>groupæ‰€å±ç»„å†…ç”¨æˆ·ä»£è¡¨ä¸æ–‡ä»¶çš„æ‰€å±ç»„ç›¸åŒçš„ç»„å†…ç”¨æˆ·ã€‚</p><p>æ¯”å¦‚ï¼Œè£´å‡¯ä¸ç½—æ–°å…´ã€å‘¨å“éƒ½åŒå±äºä¸€ä¸ªitheimaçš„ç”¨æˆ·ç»„ï¼Œç½—æ–°å…´å’Œå‘¨å“å°±æ˜¯è¿™ä¸ªæ–‡ä»¶çš„ç»„å†…ç”¨æˆ·ã€‚</p><h2 id="6ã€otherå…¶ä»–ç”¨æˆ·"><a href="#6ã€otherå…¶ä»–ç”¨æˆ·" class="headerlink" title="6ã€otherå…¶ä»–ç”¨æˆ·"></a>6ã€otherå…¶ä»–ç”¨æˆ·</h2><p>otherå…¶ä»–ç”¨æˆ·ä»£è¡¨è¿™äº›äººæ—¢ä¸æ˜¯æ–‡ä»¶çš„æ‹¥æœ‰è€…ï¼Œä¹Ÿä¸æ˜¯æ–‡ä»¶æ‰€å±ç»„å†…çš„ç”¨æˆ·ï¼Œæˆ‘ä»¬æŠŠè¿™äº›äººå°±ç§°ä¹‹ä¸ºotherå…¶ä»–ç”¨æˆ·ã€‚</p><h2 id="7ã€ç‰¹æ®Šç”¨æˆ·root"><a href="#7ã€ç‰¹æ®Šç”¨æˆ·root" class="headerlink" title="7ã€ç‰¹æ®Šç”¨æˆ·root"></a>7ã€ç‰¹æ®Šç”¨æˆ·root</h2><p>åœ¨Linuxæ“ä½œç³»ç»Ÿä¸­ï¼Œrootæ‹¥æœ‰æœ€é«˜æƒé™ï¼ˆé’ˆå¯¹æ‰€æœ‰æ–‡ä»¶ï¼‰ï¼Œæ‰€ä»¥æƒé™è®¾ç½®å¯¹rootè´¦å·æ²¡æœ‰æ•ˆæœã€‚</p><p><img src="/../assets/blog_res/Linux%E7%9A%84%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E6%93%8D%E4%BD%9C.assets/image-20200320110034242.png" alt="image-20200320110034242"></p><blockquote><p>åœ¨Linuxç³»ç»Ÿä¸­ï¼Œä¸‰å¤§ç±»ç”¨æˆ·ä¹Ÿå¯ä»¥æ‹¥æœ‰ç®€å†™å½¢å¼user(u)ã€group(g)ã€other(o)</p></blockquote><h1 id="äºŒã€æ™®é€šæƒé™ç®¡ç†"><a href="#äºŒã€æ™®é€šæƒé™ç®¡ç†" class="headerlink" title="äºŒã€æ™®é€šæƒé™ç®¡ç†"></a>äºŒã€æ™®é€šæƒé™ç®¡ç†</h1><h2 id="1ã€ls-lå‘½ä»¤æŸ¥çœ‹æ–‡ä»¶æƒé™"><a href="#1ã€ls-lå‘½ä»¤æŸ¥çœ‹æ–‡ä»¶æƒé™" class="headerlink" title="1ã€ls -lå‘½ä»¤æŸ¥çœ‹æ–‡ä»¶æƒé™"></a>1ã€ls -lå‘½ä»¤æŸ¥çœ‹æ–‡ä»¶æƒé™</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ls -læˆ–# ll<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><blockquote><p>å¤‡æ³¨ï¼šllå‘½ä»¤æ˜¯çº¢å¸½ä»¥åŠCentOSç³»ç»Ÿç‰¹æœ‰çš„ä¸€ä¸ªå‘½ä»¤ï¼Œåœ¨å…¶ä»–æ“ä½œç³»ç»Ÿä¸­å¯èƒ½å¹¶ä¸æ”¯æŒ</p></blockquote><p><img src="/../assets/blog_res/Linux%E7%9A%84%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E6%93%8D%E4%BD%9C.assets/image-20200320113017121.png" alt="image-20200320113017121"></p><h2 id="2ã€æ–‡ä»¶ç±»å‹-æƒé™è§£æ"><a href="#2ã€æ–‡ä»¶ç±»å‹-æƒé™è§£æ" class="headerlink" title="2ã€æ–‡ä»¶ç±»å‹+æƒé™è§£æ"></a>2ã€æ–‡ä»¶ç±»å‹+æƒé™è§£æ</h2><p><img src="/../assets/blog_res/Linux%E7%9A%84%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E6%93%8D%E4%BD%9C.assets/image-20200320114528433.png" alt="image-20200320114528433"></p><p>Linuxä¸€å…±æœ‰7ç§æ–‡ä»¶ç±»å‹,åˆ†åˆ«å¦‚ä¸‹:<br>-ï¼šæ™®é€šæ–‡ä»¶<br>dï¼šç›®å½•æ–‡ä»¶<br>lï¼š è½¯é“¾æ¥ï¼ˆç±»ä¼¼Windowsçš„å¿«æ·æ–¹å¼ï¼‰</p><p>(ä¸‹é¢å››ç§æ˜¯ç‰¹æ®Šæ–‡ä»¶)<br>bï¼šblockï¼Œå—è®¾å¤‡æ–‡ä»¶ï¼ˆä¾‹å¦‚ç¡¬ç›˜ã€å…‰é©±ç­‰ï¼‰<br>pï¼šç®¡é“æ–‡ä»¶<br>cï¼šå­—ç¬¦è®¾å¤‡æ–‡ä»¶ï¼ˆä¾‹å¦‚çŒ«(ä¸Šç½‘çŒ«)ç­‰ä¸²å£è®¾å¤‡ï¼‰<br>sï¼šå¥—æ¥å£æ–‡ä»¶/æ•°æ®æ¥å£æ–‡ä»¶ï¼ˆä¾‹å¦‚å¯åŠ¨ä¸€ä¸ªMySqlæœåŠ¡å™¨æ—¶ä¼šäº§ç”Ÿä¸€ä¸ªmysql.sockæ–‡ä»¶ï¼‰</p><h2 id="3ã€æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹æƒé™è®¾ç½®ï¼ˆå­—æ¯ï¼‰"><a href="#3ã€æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹æƒé™è®¾ç½®ï¼ˆå­—æ¯ï¼‰" class="headerlink" title="3ã€æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹æƒé™è®¾ç½®ï¼ˆå­—æ¯ï¼‰"></a>3ã€æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹æƒé™è®¾ç½®ï¼ˆå­—æ¯ï¼‰</h2><p>åŸºæœ¬è¯­æ³•ï¼šch = change modç®€å•ç†è§£æƒé™</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chmod [é€‰é¡¹] æƒé™è®¾ç½® æ–‡ä»¶æˆ–ç›®å½•çš„åç§°é€‰é¡¹è¯´æ˜ï¼š-R ï¼šé€’å½’è®¾ç½®ï¼Œé’ˆå¯¹æ–‡ä»¶å¤¹ï¼ˆç›®å½•ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><blockquote><p>é‡ç‚¹ï¼šå­—æ¯è®¾ç½®å¹¶ä¸éš¾ï¼Œé‡ç‚¹çœ‹ä¸‰æ–¹é¢</p><p>ç¬¬ä¸€ä¸ªï¼šç¡®è®¤è¦ç»™å“ªä¸ªèº«ä»½è®¾ç½®æƒé™ï¼Œuã€gã€oã€ugo(a)</p><p>ç¬¬äºŒä¸ªï¼šç¡®è®¤æ˜¯æ·»åŠ æƒé™(+)ã€åˆ é™¤æƒé™(-)è¿˜æ˜¯èµ‹äºˆæƒé™(=) </p><p>ç¬¬ä¸‰ä¸ªï¼šç¡®è®¤ç»™è¿™ä¸ªç”¨æˆ·é’ˆå¯¹è¿™ä¸ªæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹è®¾ç½®ä»€ä¹ˆæ ·çš„æƒé™ï¼Œrã€wã€x</p></blockquote><p>æ¡ˆä¾‹ï¼šç»™readme.txtæ–‡ä»¶çš„æ‹¥æœ‰è€…ï¼Œå¢åŠ ä¸€ä¸ªå¯æ‰§è¡Œæƒé™</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chmod u+x readme.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠreadme.txtæ–‡ä»¶çš„æ‹¥æœ‰è€…çš„å¯æ‰§è¡Œæƒé™å»é™¤</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chmod u-x readme.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šä¸ºreadme.txtä¸­çš„æ‰€å±ç»„å†…ç”¨æˆ·èµ‹äºˆrwæƒé™</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chmod g=rw readme.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šç»™shopç›®å½•åŠå…¶å†…éƒ¨çš„æ–‡ä»¶ç»Ÿä¸€æ·»åŠ wå¯å†™æƒé™</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chmod -R ugo+w shopæˆ–# chomd -R a+w shop<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šç»™shopç›®å½•è®¾ç½®æƒé™ï¼Œè¦æ±‚æ‹¥æœ‰è€…rwxï¼Œç»„å†…ç”¨æˆ·r-xï¼Œå…¶ä»–ç”¨æˆ·r-x</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chmod -R u=rwx,g=r-x,o=r-x shop<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="4ã€æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹æƒé™è®¾ç½®ï¼ˆæ•°å­—ï¼‰"><a href="#4ã€æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹æƒé™è®¾ç½®ï¼ˆæ•°å­—ï¼‰" class="headerlink" title="4ã€æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹æƒé™è®¾ç½®ï¼ˆæ•°å­—ï¼‰"></a>4ã€æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹æƒé™è®¾ç½®ï¼ˆæ•°å­—ï¼‰</h2><p> ç»å¸¸ä¼šåœ¨æŠ€æœ¯ç½‘ç«™ä¸Šçœ‹åˆ°ç±»ä¼¼äº# chmod 777 a.txt è¿™æ ·çš„å‘½ä»¤ï¼Œè¿™ç§å½¢å¼ç§°ä¹‹ä¸º==æ•°å­—å½¢å¼æƒé™==ã€‚</p><p>æ–‡ä»¶<strong>æƒé™ä¸æ•°å­—</strong>çš„å¯¹åº”å…³ç³»ï¼Œæˆ‘ä»¬ä¼šå‘ç°<strong>æ²¡æœ‰7</strong>è¿™ä¸ªæ•°å­—</p><table><thead><tr><th>æƒé™</th><th>å¯¹åº”æ•°å­—</th><th align="left">æ„ä¹‰</th></tr></thead><tbody><tr><td>r</td><td>4</td><td align="left">å¯è¯»</td></tr><tr><td>w</td><td>2</td><td align="left">å¯å†™</td></tr><tr><td>x</td><td>1</td><td align="left">å¯æ‰§è¡Œ</td></tr><tr><td>-</td><td>0</td><td align="left">æ²¡æœ‰æƒé™</td></tr></tbody></table><p>777 ï¼š</p><p>ç¬¬ä¸€ä¸ªæ•°å­—7ï¼Œä»£è¡¨æ–‡ä»¶æ‹¥æœ‰è€…æƒé™</p><p>ç¬¬äºŒä¸ªæ•°å­—7ï¼Œä»£è¡¨æ–‡ä»¶æ‰€å±ç»„å†…ç”¨æˆ·æƒé™</p><p>ç¬¬ä¸‰ä¸ªæ•°å­—7ï¼Œä»£è¡¨å…¶ä»–ç”¨æˆ·æƒé™</p><p>rwx = 4 + 2 + 1 = 7</p><p>rw = 4 + 2 = 6</p><p>rx = 4 + 1 = 5</p><p>æ¡ˆä¾‹ï¼šç»™readme.txtè®¾ç½®æƒé™ï¼Œæ–‡ä»¶çš„æ‹¥æœ‰è€…rwxï¼Œç»„å†…ç”¨æˆ·rwï¼Œå…¶ä»–ç”¨æˆ·r</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">rwx = 7rw = 6r = 4# chmod 764 readme.txt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šç»™shopæ–‡ä»¶å¤¹è®¾ç½®777æƒé™</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chmod -R 777 shop<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="5ã€å¥‡è‘©æƒé™"><a href="#5ã€å¥‡è‘©æƒé™" class="headerlink" title="5ã€å¥‡è‘©æƒé™"></a>5ã€å¥‡è‘©æƒé™</h2><p>é—®é¢˜ï¼šç”¨è¶…çº§ç®¡ç†å‘˜è®¾ç½®æ–‡æ¡£çš„æƒé™å‘½ä»¤æ˜¯# chmod  -R  731 shopï¼Œè¯·é—®è¿™ä¸ªå‘½ä»¤æœ‰æ²¡æœ‰ä»€ä¹ˆä¸åˆç†çš„åœ°æ–¹ï¼Ÿ</p><p>ç­”ï¼š731æƒé™è¿›è¡Œæ‹†è§£</p><p>7 = 4 + 2 + 1 = rwx</p><p>3 = 2 + 1 = wx</p><p>1 = x</p><p>é—®é¢˜åœ¨æƒé™731ä¸­çš„3æƒé™ï¼Œ3è¡¨ç¤ºå†™+æ‰§è¡Œæƒé™ï¼Œä½†æ˜¯å†™åˆå¿…é¡»éœ€è¦èƒ½æ‰“å¼€ä¹‹åæ‰å¯ä»¥å†™ï¼Œå› æ­¤å¿…é¡»éœ€è¦å…·å¤‡å¯è¯»æƒé™ï¼Œå› æ­¤æ­¤æƒé™è®¾ç½®ä¸åˆç†ã€‚</p><p>æ³¨ï¼šå®é™…å·¥ä½œä¸­ï¼Œå„ä½å°ä¼™ä¼´åœ¨è®¾ç½®æƒé™æ—¶ä¸€å®šä¸è¦è®¾ç½®è¿™ç§â€å¥‡è‘©æƒé™â€ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå•ç‹¬å‡ºç°2ã€3çš„æƒé™æ•°å­—ä¸€èˆ¬éƒ½æ˜¯æœ‰é—®é¢˜çš„æƒé™ã€‚</p><h2 id="6ã€ç»ƒä¹ é¢˜"><a href="#6ã€ç»ƒä¹ é¢˜" class="headerlink" title="6ã€ç»ƒä¹ é¢˜"></a>6ã€ç»ƒä¹ é¢˜</h2><p>1ï¼‰ä½¿ç”¨root ç”¨æˆ·è®¾ç½®æ–‡ä»¶å¤¹/root/shop çš„æƒé™ä¸ºï¼šå±ä¸»å…¨éƒ¨æƒé™ï¼Œå±ç»„æ‹¥æœ‰è¯»å’Œæ‰§è¡Œæƒé™ï¼Œå…¶ä»–ç”¨æˆ·æ²¡æœ‰æƒé™ï¼Œè¯·ä½¿ç”¨æ•°å­—æƒé™çš„å½¢å¼è®¾ç½®</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">rwx=7,rx=4+1=5,0# chmod -R 750 /root/shop<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>2ï¼‰è¯·ç½®æ–‡ä»¶/root/readme.txt çš„æƒé™ï¼Œæƒé™è¦æ±‚ä¸ºï¼š</p><p>â€‹        å±ä¸»æ‹¥æœ‰<strong>å…¨éƒ¨</strong>æƒé™ï¼Œå±ç»„è¦æ±‚å¯ä»¥<strong>è¯»å†™</strong>ï¼Œå…¶ä»–ç”¨æˆ·<strong>åªè¯»</strong>ï¼Œè¦æ±‚ä½¿ç”¨æ•°å­—å½¢å¼ï¼›</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">rwx=7,rw=4+2=6,r=4# chmod 764 /root/readme.txt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>3ï¼‰è¯·è®¾ç½®/root/email.docæƒé™ï¼Œæƒé™è¦æ±‚åªæœ‰å±ä¸»å¯ä»¥è¯»å†™ï¼Œé™¤æ­¤ä¹‹å¤–ä»»ä½•äººæ²¡æœ‰æƒé™ï¼›</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">rw=6,0,0# chmod 600 /root/email.doc<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="7ã€ç‰¹æ®Šæƒé™è¯´æ˜"><a href="#7ã€ç‰¹æ®Šæƒé™è¯´æ˜" class="headerlink" title="7ã€ç‰¹æ®Šæƒé™è¯´æ˜"></a>7ã€ç‰¹æ®Šæƒé™è¯´æ˜</h2><p>åœ¨Linux ä¸­ï¼Œå¦‚æœè¦åˆ é™¤ä¸€ä¸ªæ–‡ä»¶ï¼Œä¸æ˜¯çœ‹æ–‡ä»¶æœ‰æ²¡æœ‰å¯¹åº”çš„æƒé™ï¼Œè€Œæ˜¯çœ‹æ–‡ä»¶æ‰€åœ¨çš„==ç›®å½•æ˜¯å¦æœ‰å†™æƒé™==ï¼Œå¦‚æœæœ‰æ‰å¯ä»¥åˆ é™¤ï¼ˆåŒæ—¶å¿…é¡»å…·å¤‡æ‰§è¡Œæƒé™ï¼‰ã€‚</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">/shell/readme.txtæˆ‘ä»¬æƒ³åˆ é™¤readme.txtæ–‡ä»¶ï¼Œå¿…é¡»è¦å¯¹shellç›®å½•å…·æœ‰å¯å†™æƒé™ï¼Œå¦åˆ™æ–‡ä»¶æ— æ³•åˆ é™¤<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h1 id="ä¸‰ã€æ–‡ä»¶æ‹¥æœ‰è€…ä»¥åŠæ–‡ä»¶æ‰€å±ç»„è®¾ç½®"><a href="#ä¸‰ã€æ–‡ä»¶æ‹¥æœ‰è€…ä»¥åŠæ–‡ä»¶æ‰€å±ç»„è®¾ç½®" class="headerlink" title="ä¸‰ã€æ–‡ä»¶æ‹¥æœ‰è€…ä»¥åŠæ–‡ä»¶æ‰€å±ç»„è®¾ç½®"></a>ä¸‰ã€æ–‡ä»¶æ‹¥æœ‰è€…ä»¥åŠæ–‡ä»¶æ‰€å±ç»„è®¾ç½®</h1><p>æ–‡ä»¶æ‹¥æœ‰è€…ï¼šå±ä¸»</p><p>æ–‡ä»¶æ‰€å±ç»„ï¼šå±ç»„</p><h2 id="1ã€ä»€ä¹ˆæ˜¯å±ä¸»ä¸å±ç»„"><a href="#1ã€ä»€ä¹ˆæ˜¯å±ä¸»ä¸å±ç»„" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯å±ä¸»ä¸å±ç»„"></a>1ã€ä»€ä¹ˆæ˜¯å±ä¸»ä¸å±ç»„</h2><p>å±ä¸»ï¼šæ‰€å±çš„ç”¨æˆ·ï¼Œæ–‡æ¡£æ‰€æœ‰è€…ï¼Œè¿™æ˜¯ä¸€ä¸ªè´¦æˆ·ï¼Œè¿™æ˜¯ä¸€ä¸ªäºº</p><p>å±ç»„ï¼šæ‰€å±çš„ç”¨æˆ·ç»„ï¼Œè¿™æ˜¯ä¸€ä¸ªç»„</p><h2 id="2ã€æ–‡ä»¶æ‹¥æœ‰è€…ä¸æ‰€å±ç»„çš„æŸ¥çœ‹"><a href="#2ã€æ–‡ä»¶æ‹¥æœ‰è€…ä¸æ‰€å±ç»„çš„æŸ¥çœ‹" class="headerlink" title="2ã€æ–‡ä»¶æ‹¥æœ‰è€…ä¸æ‰€å±ç»„çš„æŸ¥çœ‹"></a>2ã€æ–‡ä»¶æ‹¥æœ‰è€…ä¸æ‰€å±ç»„çš„æŸ¥çœ‹</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ls -læˆ–# ll<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><img src="/../assets/blog_res/Linux%E7%9A%84%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E6%93%8D%E4%BD%9C.assets/image-20200320150210026.png" alt="image-20200320150210026"></p><h2 id="3ã€äº†è§£æ–‡ä»¶çš„æ‹¥æœ‰è€…ä¸æ–‡ä»¶æ‰€å±ç»„æ¥æº"><a href="#3ã€äº†è§£æ–‡ä»¶çš„æ‹¥æœ‰è€…ä¸æ–‡ä»¶æ‰€å±ç»„æ¥æº" class="headerlink" title="3ã€äº†è§£æ–‡ä»¶çš„æ‹¥æœ‰è€…ä¸æ–‡ä»¶æ‰€å±ç»„æ¥æº"></a>3ã€äº†è§£æ–‡ä»¶çš„æ‹¥æœ‰è€…ä¸æ–‡ä»¶æ‰€å±ç»„æ¥æº</h2><p>åœ¨Linuxæ“ä½œç³»ç»Ÿä¸­ï¼Œæ¯ä¸ªæ–‡ä»¶éƒ½æ˜¯ç”±Linuxç³»ç»Ÿç”¨æˆ·åˆ›å»ºçš„ã€‚</p><p>åœ¨Linuxæ“ä½œç³»ç»Ÿä¸­ï¼Œæ¯ä¸ªç”¨æˆ·éƒ½å…·æœ‰ä¸€ä¸ªç”¨æˆ·åç§°ä»¥åŠä¸€ä¸ªä¸»ç»„çš„æ¦‚å¿µ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># su - itheima# touch readme.txt# ll readme.txt-rw-rw-r--. 1 itheima itheima 0 Mar 20 15:17 readme.txt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="4ã€ä¸ºä»€ä¹ˆéœ€è¦æ›´æ”¹æ–‡ä»¶æ‹¥æœ‰è€…ä¸æ‰€å±ç»„"><a href="#4ã€ä¸ºä»€ä¹ˆéœ€è¦æ›´æ”¹æ–‡ä»¶æ‹¥æœ‰è€…ä¸æ‰€å±ç»„" class="headerlink" title="4ã€ä¸ºä»€ä¹ˆéœ€è¦æ›´æ”¹æ–‡ä»¶æ‹¥æœ‰è€…ä¸æ‰€å±ç»„"></a>4ã€ä¸ºä»€ä¹ˆéœ€è¦æ›´æ”¹æ–‡ä»¶æ‹¥æœ‰è€…ä¸æ‰€å±ç»„</h2><p>ä¸€ä¸ªè´¢åŠ¡è¡¨æ ¼ï¼Œä»¥å‰ç”±èƒ¡ä¸€è²è¿›è¡Œæ›´æ–°ï¼Œå¥¹æœ‰è¯»å†™æƒé™ï¼Œç°åœ¨èƒ¡ä¸€è²å»é˜¿æ‹‰å–„æ²™æ¼ æ‰¾æ›¾è€å¸ˆäº†ï¼Œæ”¹æƒé™æ²¡ç”¨ï¼Œéœ€è¦æŠŠå±ä¸»æ”¹æˆè¯¸è‘›å¤§åŠ›ï¼Œç”±è¯¸è‘›å¤§åŠ›æ›´æ–°ã€‚</p><h2 id="5ã€æ–‡ä»¶æ‹¥æœ‰è€…è®¾ç½®"><a href="#5ã€æ–‡ä»¶æ‹¥æœ‰è€…è®¾ç½®" class="headerlink" title="5ã€æ–‡ä»¶æ‹¥æœ‰è€…è®¾ç½®"></a>5ã€æ–‡ä»¶æ‹¥æœ‰è€…è®¾ç½®</h2><p>åŸºæœ¬è¯­æ³•ï¼šch = change ï¼Œown = owner</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chown [é€‰é¡¹] æ–°æ–‡ä»¶æ‹¥æœ‰è€…åç§° æ–‡ä»¶åç§°é€‰é¡¹è¯´æ˜ï¼š-R ï¼šä»£è¡¨é€’å½’ä¿®æ”¹ï¼Œä¸»è¦é’ˆå¯¹æ–‡ä»¶å¤¹<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠ/root/readme.txtæ–‡ä»¶çš„æ‹¥æœ‰è€…æ›´æ”¹ä¸ºitheima</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chown itheima /root/readme.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠ/root/shopæ–‡ä»¶å¤¹çš„æ‹¥æœ‰è€…æ›´æ”¹ä¸ºlinuxuser</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chown -R linuxuser /root/shop<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="6ã€æ–‡ä»¶æ‰€å±ç»„çš„è®¾ç½®"><a href="#6ã€æ–‡ä»¶æ‰€å±ç»„çš„è®¾ç½®" class="headerlink" title="6ã€æ–‡ä»¶æ‰€å±ç»„çš„è®¾ç½®"></a>6ã€æ–‡ä»¶æ‰€å±ç»„çš„è®¾ç½®</h2><p>åŸºæœ¬è¯­æ³•ï¼š ch = change , groupï¼Œchgrp</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chgrp [é€‰é¡¹] æ–°æ–‡ä»¶æ‰€å±ç»„åç§° æ–‡ä»¶åç§°é€‰é¡¹è¯´æ˜ï¼š-R : ä»£è¡¨é€’å½’ä¿®æ”¹ï¼Œä¸»è¦é’ˆå¯¹æ–‡ä»¶å¤¹<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠ/root/readme.txtæ–‡ä»¶çš„æ‰€å±ç»„åç§°æ›´æ”¹ä¸ºitheima</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chgrp itheima /root/readme.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠ/root/shopæ–‡ä»¶å¤¹çš„æ‰€å±ç»„åç§°ä¹Ÿæ›´æ”¹ä¸ºitheima</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chgrp -R itheima /root/shop<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="7ã€chownåŒæ—¶ä¿®æ”¹å±ä¸»ä¸å±ç»„"><a href="#7ã€chownåŒæ—¶ä¿®æ”¹å±ä¸»ä¸å±ç»„" class="headerlink" title="7ã€chownåŒæ—¶ä¿®æ”¹å±ä¸»ä¸å±ç»„"></a>7ã€chownåŒæ—¶ä¿®æ”¹å±ä¸»ä¸å±ç»„</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chown [é€‰é¡¹] æ–‡ä»¶æ‹¥æœ‰è€…åç§°:æ–‡ä»¶æ‰€å±ç»„åç§° æ–‡ä»¶åç§°æˆ–# chown [é€‰é¡¹] æ–‡ä»¶æ‹¥æœ‰è€…åç§°.æ–‡ä»¶æ‰€å±ç»„åç§° æ–‡ä»¶åç§°é€‰é¡¹è¯´æ˜ï¼š-R : ä»£è¡¨é€’å½’ä¿®æ”¹ï¼Œä¸»è¦é’ˆå¯¹æ–‡ä»¶å¤¹<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šreadme.txtæ–‡ä»¶çš„æ‹¥æœ‰è€…ä¸æ‰€å±ç»„åŒæ—¶æ›´æ”¹ä¸ºroot</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chown root:root readme.txtæˆ–# chown root.root readme.txt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæ›´æ”¹shopç›®å½•çš„æ‹¥æœ‰è€…ä»¥åŠæ‰€å±ç»„ä¸ºroot</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chown -R root:root shopæˆ–# chown -R root.root shop<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h1 id="å››ã€ç‰¹æ®Šæƒé™ï¼ˆæ‰©å±•ï¼‰"><a href="#å››ã€ç‰¹æ®Šæƒé™ï¼ˆæ‰©å±•ï¼‰" class="headerlink" title="å››ã€ç‰¹æ®Šæƒé™ï¼ˆæ‰©å±•ï¼‰"></a>å››ã€ç‰¹æ®Šæƒé™ï¼ˆæ‰©å±•ï¼‰</h1><h2 id="1ã€è®¾ç½®ä½Sï¼ˆé’ˆå¯¹äºŒè¿›åˆ¶æ–‡ä»¶ï¼‰"><a href="#1ã€è®¾ç½®ä½Sï¼ˆé’ˆå¯¹äºŒè¿›åˆ¶æ–‡ä»¶ï¼‰" class="headerlink" title="1ã€è®¾ç½®ä½Sï¼ˆé’ˆå¯¹äºŒè¿›åˆ¶æ–‡ä»¶ï¼‰"></a>1ã€è®¾ç½®ä½Sï¼ˆé’ˆå¯¹äºŒè¿›åˆ¶æ–‡ä»¶ï¼‰</h2><h3 id="â˜†-è®¾ç½®ä½Sçš„ä½œç”¨"><a href="#â˜†-è®¾ç½®ä½Sçš„ä½œç”¨" class="headerlink" title="â˜† è®¾ç½®ä½Sçš„ä½œç”¨"></a>â˜† è®¾ç½®ä½Sçš„ä½œç”¨</h3><p>ä½œç”¨ï¼šä¸ºäº†è®©ä¸€èˆ¬ä½¿ç”¨è€…ä¸´æ—¶å…·æœ‰è¯¥æ–‡ä»¶æ‰€å±ä¸»/ç»„çš„æ‰§è¡Œæƒé™ã€‚</p><p>ä¸»è¦é’ˆå¯¹äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆå‘½ä»¤ï¼‰</p><p>ä¾‹å¦‚ï¼š/usr/bin/passwdåœ¨æ‰§è¡Œå®ƒçš„æ—¶å€™éœ€è¦å»ä¿®æ”¹/etc/passwdå’Œ/etc/shadowç­‰æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶é™¤äº†rootå¤–ï¼Œå…¶ä»–ç”¨æˆ·éƒ½æ²¡æœ‰å†™æƒé™ï¼Œä½†æ˜¯åˆä¸ºäº†èƒ½è®©æ™®é€šç”¨æˆ·ä¿®æ”¹è‡ªå·±çš„å¯†ç ï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p><blockquote><p>whereiså‘½ä»¤ï¼Œä¸»è¦åŠŸèƒ½å°±æ˜¯æŸ¥è¯¢æŸä¸ªå‘½ä»¤æ‰€åœ¨çš„è·¯å¾„ï¼ŒåŸºæœ¬è¯­æ³• =&gt; whereis  passwd</p></blockquote><p>itheimaæ™®é€šè´¦å· =&gt; æ‰§è¡Œ/usr/bin/passwd =&gt; ä¿®æ”¹/etc/shadowæ–‡ä»¶ï¼ˆå­˜æ”¾ç”¨æˆ·çš„å¯†ç ï¼‰</p><blockquote><p>/etc/shadowæ–‡ä»¶æ¯”è¾ƒç‰¹æ®Šï¼Œå…¶æƒé™ä¸ºâ€” â€” â€”ï¼ˆ000ï¼‰ï¼Œé™¤rootå¤–ï¼Œå…¶ä»–äººéƒ½æ²¡æœ‰æƒé™</p></blockquote><h3 id="â˜†-å»é™¤Sä½æƒé™"><a href="#â˜†-å»é™¤Sä½æƒé™" class="headerlink" title="â˜† å»é™¤Sä½æƒé™"></a>â˜† å»é™¤Sä½æƒé™</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chmod u-s /usr/bin/passwd æˆ–è€…# chmod 0755 /usr/bin/passwd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="â˜†-æ·»åŠ Sä½æƒé™"><a href="#â˜†-æ·»åŠ Sä½æƒé™" class="headerlink" title="â˜† æ·»åŠ Sä½æƒé™"></a>â˜† æ·»åŠ Sä½æƒé™</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chmod u+s /usr/bin/passwdæˆ–è€…# chmod 4755 /usr/bin/passwd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="2ã€æ²¾æ»ä½Tï¼ˆé’ˆå¯¹æ–‡ä»¶å¤¹ï¼‰"><a href="#2ã€æ²¾æ»ä½Tï¼ˆé’ˆå¯¹æ–‡ä»¶å¤¹ï¼‰" class="headerlink" title="2ã€æ²¾æ»ä½Tï¼ˆé’ˆå¯¹æ–‡ä»¶å¤¹ï¼‰"></a>2ã€æ²¾æ»ä½Tï¼ˆé’ˆå¯¹æ–‡ä»¶å¤¹ï¼‰</h2><h3 id="â˜†-ç²˜æ»ä½ä½œç”¨"><a href="#â˜†-ç²˜æ»ä½ä½œç”¨" class="headerlink" title="â˜† ç²˜æ»ä½ä½œç”¨"></a>â˜† ç²˜æ»ä½ä½œç”¨</h3><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chmod -R o+t æ–‡ä»¶å¤¹çš„åç§°æˆ–# chmod -R 1777 æ–‡ä»¶å¤¹çš„åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>==ä¸»è¦åŠŸèƒ½ï¼šåªå…è®¸æ–‡ä»¶çš„åˆ›å»ºè€…å’Œrootç”¨æˆ·åˆ é™¤æ–‡ä»¶ï¼ˆé˜²æ­¢è¯¯åˆ é™¤æƒé™ä½ï¼‰==</p><p>æ¡ˆä¾‹ï¼š/tmpæ–‡ä»¶å¤¹ï¼Œæ‹¥æœ‰æœ€é«˜æƒé™777ï¼Œæ¯”å¦‚itheimaåˆ›å»ºäº†ä¸€ä¸ªæ–‡ä»¶åœ¨æ­¤ç›®å½•ï¼Œlinuxuserç”¨æˆ·å¯ä»¥å¯¹å…¶è¿›è¡Œåˆ é™¤æ“ä½œï¼Œè¿™ç§æ˜¾ç„¶ä¸å¤ªåˆé€‚ã€‚</p><p>7 = r + w + x = å¯è¯»ã€å¯å†™ã€å¯æ‰§è¡Œ</p><p>æ¡ˆä¾‹ï¼šä½¿ç”¨ls -lå‘½ä»¤æŸ¥çœ‹/tmpç›®å½•æƒé™</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ls -ld /tmpæˆ–# ll -d /tmp<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="â˜†-ç§»é™¤ç²˜æ»ä½"><a href="#â˜†-ç§»é™¤ç²˜æ»ä½" class="headerlink" title="â˜† ç§»é™¤ç²˜æ»ä½"></a>â˜† ç§»é™¤ç²˜æ»ä½</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chmod -R o-t /tmpæˆ–# chmod -R 0777 /tmp<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="â˜†-æ·»åŠ ç²˜æ»ä½"><a href="#â˜†-æ·»åŠ ç²˜æ»ä½" class="headerlink" title="â˜† æ·»åŠ ç²˜æ»ä½"></a>â˜† æ·»åŠ ç²˜æ»ä½</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># chmod -R o+t /tmpæˆ–# chmod -R 1777 /tmp<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h1 id="äº”ã€ACLè®¿é—®æ§åˆ¶"><a href="#äº”ã€ACLè®¿é—®æ§åˆ¶" class="headerlink" title="äº”ã€ACLè®¿é—®æ§åˆ¶"></a>äº”ã€ACLè®¿é—®æ§åˆ¶</h1><h2 id="1ã€ä¸ºä»€ä¹ˆéœ€è¦ACL"><a href="#1ã€ä¸ºä»€ä¹ˆéœ€è¦ACL" class="headerlink" title="1ã€ä¸ºä»€ä¹ˆéœ€è¦ACL"></a>1ã€ä¸ºä»€ä¹ˆéœ€è¦ACL</h2><p><img src="/../assets/blog_res/Linux%E7%9A%84%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E6%93%8D%E4%BD%9C.assets/image-20200320164900337.png" alt="image-20200320164900337"></p><p>ACLï¼Œæ˜¯ Access Control Listï¼ˆè®¿é—®æ§åˆ¶åˆ—è¡¨ï¼‰çš„ç¼©å†™ï¼Œåœ¨ Linux ç³»ç»Ÿä¸­ï¼Œ ACL å¯å®ç°å¯¹å•ä¸€ç”¨æˆ·è®¾å®šè®¿é—®æ–‡ä»¶çš„æƒé™ã€‚</p><blockquote><p>æ‰©å±•ï¼šACLæƒé™å¯ä»¥é’ˆå¯¹æŸä¸ªç”¨æˆ·ï¼Œä¹Ÿå¯ä»¥é’ˆå¯¹æŸä¸ªç»„ã€‚ACLä¼˜åŠ¿å°±æ˜¯è®©æƒé™æ§åˆ¶æ›´åŠ çš„ç²¾å‡†ã€‚</p></blockquote><h2 id="2ã€è·å–æŸä¸ªæ–‡ä»¶çš„ACLæƒé™"><a href="#2ã€è·å–æŸä¸ªæ–‡ä»¶çš„ACLæƒé™" class="headerlink" title="2ã€è·å–æŸä¸ªæ–‡ä»¶çš„ACLæƒé™"></a>2ã€è·å–æŸä¸ªæ–‡ä»¶çš„ACLæƒé™</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># getfacl æ–‡ä»¶æˆ–ç›®å½•åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="3ã€ç»™æŸä¸ªæ–‡ä»¶è®¾ç½®ACLæƒé™"><a href="#3ã€ç»™æŸä¸ªæ–‡ä»¶è®¾ç½®ACLæƒé™" class="headerlink" title="3ã€ç»™æŸä¸ªæ–‡ä»¶è®¾ç½®ACLæƒé™"></a>3ã€ç»™æŸä¸ªæ–‡ä»¶è®¾ç½®ACLæƒé™</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># setfacl [é€‰é¡¹] æ–‡ä»¶æˆ–ç›®å½•åç§°é€‰é¡¹è¯´æ˜ï¼š-m ï¼š ä¿®æ”¹aclç­–ç•¥-x ï¼š å»æ‰æŸä¸ªç”¨æˆ·æˆ–è€…æŸä¸ªç»„çš„æƒé™-b ï¼š åˆ é™¤æ‰€æœ‰çš„aclç­–ç•¥-R  ï¼šé€’å½’,é€šå¸¸ç”¨åœ¨æ–‡ä»¶å¤¹<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šé’ˆå¯¹readme.txtæ–‡ä»¶ç»™linuxuserè®¾ç½®ä¸€ä¸ªæƒé™=&gt;å¯è¯»</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># setfacl -m u:linuxuser:r readme.txt=&gt;  é’ˆå¯¹æŸä¸ªç”¨æˆ·å¼€é€šACLæƒé™<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šé’ˆå¯¹shopæ–‡ä»¶å¤¹ç»™itheimaç»„è®¾ç½®ä¸€ä¸ªæƒé™=&gt;å¯è¯»å¯å†™æƒé™rw</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># setfacl -R -m g:itheima:rw shop=&gt; é’ˆå¯¹æŸä¸ªç”¨æˆ·ç»„å¼€é€šACLæƒé™<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠlinuxuserç”¨æˆ·æƒé™ä»readme.txtä¸­ç§»é™¤æ‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># setfacl -x u:linuxuser readme.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠitheimaç”¨æˆ·ç»„æƒé™ä»shopä¸­ç§»é™¤æ‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># setfacl -x -R g:itheima shop<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠreadme.txtæ–‡ä»¶ä¸­çš„æ‰€æœ‰ACLæƒé™å…¨éƒ¨ç§»é™¤</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># setfacl -b readme.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h1 id="å…­ã€umaskï¼ˆäº†è§£ï¼Œä¸è¦æ›´æ”¹ï¼ï¼ï¼ï¼‰"><a href="#å…­ã€umaskï¼ˆäº†è§£ï¼Œä¸è¦æ›´æ”¹ï¼ï¼ï¼ï¼‰" class="headerlink" title="å…­ã€umaskï¼ˆäº†è§£ï¼Œä¸è¦æ›´æ”¹ï¼ï¼ï¼ï¼‰"></a>å…­ã€umaskï¼ˆäº†è§£ï¼Œä¸è¦æ›´æ”¹ï¼ï¼ï¼ï¼‰</h1><h2 id="1ã€ä»€ä¹ˆæ˜¯umask"><a href="#1ã€ä»€ä¹ˆæ˜¯umask" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯umask"></a>1ã€ä»€ä¹ˆæ˜¯umask</h2><p>umaskè¡¨ç¤ºåˆ›å»ºæ–‡ä»¶æ—¶çš„é»˜è®¤æƒé™ï¼ˆå³åˆ›å»ºæ–‡ä»¶æ—¶ä¸éœ€è¦è®¾ç½®è€Œå¤©ç”Ÿçš„æƒé™ï¼‰</p><p> rootç”¨æˆ·ä¸‹ï¼Œtouch a ï¼Œæ–‡ä»¶açš„é»˜è®¤æƒé™æ˜¯644</p><p> æ™®é€šç”¨æˆ·ä¸‹ï¼Œtouch b ï¼Œæ–‡ä»¶bçš„é»˜è®¤æƒé™æ˜¯664 </p><p>644å’Œ664æˆ‘ä»¬å¹¶æ²¡æœ‰è®¾ç½®ï¼Œå…¶ä¸­çš„å…³é”®å› ç´ å°±æ˜¯<strong>umask</strong></p><blockquote><p>æ‰©å±•ï¼šå®é™…ä¸Šæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ™®é€šæ–‡ä»¶æœ€é«˜æƒé™666ã€‚è€Œåˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹å…¶æœ€é«˜æƒé™777</p><p>å®é™…æ–‡ä»¶æƒé™ = æœ€é«˜æƒé™ - umaskçš„å€¼</p></blockquote><h2 id="2ã€è·å–ç”¨æˆ·çš„umaskå€¼"><a href="#2ã€è·å–ç”¨æˆ·çš„umaskå€¼" class="headerlink" title="2ã€è·å–ç”¨æˆ·çš„umaskå€¼"></a>2ã€è·å–ç”¨æˆ·çš„umaskå€¼</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># umask0022æ³¨ï¼š0022ä¸­ç¬¬ä¸€ä½0ä»£è¡¨ç‰¹æ®Šæƒé™ä½ï¼Œå¯ä»¥ä¸è®¾ç½®ã€‚umaskçš„é»˜è®¤å€¼ï¼Œåœ¨rootå’Œæ™®é€šç”¨æˆ·ä¸‹æ˜¯ä¸ä¸€æ ·çš„ï¼Œåˆ†åˆ«æ˜¯022å’Œ002<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸ºä»€ä¹ˆæ–‡ä»¶åœ¨rootä¸‹åˆ›å»ºå°±æ˜¯644ï¼Œåœ¨itheimaä¸‹å°±æ˜¯664</p><p>root : 666 - 022 = 644</p><p>itheimaï¼š666 - 002 = 664</p><h2 id="3ã€ä¿®æ”¹umaskå€¼ï¼ˆä¸€å®šä¸è¦æ”¹ï¼‰"><a href="#3ã€ä¿®æ”¹umaskå€¼ï¼ˆä¸€å®šä¸è¦æ”¹ï¼‰" class="headerlink" title="3ã€ä¿®æ”¹umaskå€¼ï¼ˆä¸€å®šä¸è¦æ”¹ï¼‰"></a>3ã€ä¿®æ”¹umaskå€¼ï¼ˆä¸€å®šä¸è¦æ”¹ï¼‰</h2><h3 id="â˜†-ä¸´æ—¶ä¿®æ”¹ï¼ˆé‡å¯åå¤±æ•ˆï¼‰"><a href="#â˜†-ä¸´æ—¶ä¿®æ”¹ï¼ˆé‡å¯åå¤±æ•ˆï¼‰" class="headerlink" title="â˜† ä¸´æ—¶ä¿®æ”¹ï¼ˆé‡å¯åå¤±æ•ˆï¼‰"></a>â˜† ä¸´æ—¶ä¿®æ”¹ï¼ˆé‡å¯åå¤±æ•ˆï¼‰</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># umask 002777 - 002 = 775<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="â˜†-æ°¸ä¹…ä¿®æ”¹"><a href="#â˜†-æ°¸ä¹…ä¿®æ”¹" class="headerlink" title="â˜† æ°¸ä¹…ä¿®æ”¹"></a>â˜† æ°¸ä¹…ä¿®æ”¹</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim ~/.bashrc â‘  åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ umask 002â‘¡ ä¿å­˜é€€å‡º â‘¢ suåˆ‡æ¢ç”¨æˆ·åˆ™ç«‹å³ç”Ÿæ•ˆ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxæ–‡ä»¶ç®¡ç†ï¼ˆä¸Šï¼‰-2</title>
      <link href="/2023/12/23/linux-wen-jian-guan-li-shang-2/"/>
      <url>/2023/12/23/linux-wen-jian-guan-li-shang-2/</url>
      
        <content type="html"><![CDATA[<h1 id="Linuxæ–‡ä»¶ç®¡ç†ï¼ˆä¸Šï¼‰"><a href="#Linuxæ–‡ä»¶ç®¡ç†ï¼ˆä¸Šï¼‰" class="headerlink" title="Linuxæ–‡ä»¶ç®¡ç†ï¼ˆä¸Šï¼‰"></a>Linuxæ–‡ä»¶ç®¡ç†ï¼ˆä¸Šï¼‰</h1><h1 id="ä¸€ã€VIMç¼–è¾‘å™¨"><a href="#ä¸€ã€VIMç¼–è¾‘å™¨" class="headerlink" title="ä¸€ã€VIMç¼–è¾‘å™¨"></a>ä¸€ã€VIMç¼–è¾‘å™¨</h1><h2 id="1ã€viæ¦‚è¿°"><a href="#1ã€viæ¦‚è¿°" class="headerlink" title="1ã€viæ¦‚è¿°"></a>1ã€viæ¦‚è¿°</h2><p> viï¼ˆvisual editorï¼‰ç¼–è¾‘å™¨é€šå¸¸è¢«ç®€ç§°ä¸ºviï¼Œå®ƒæ˜¯Linuxå’ŒUnixç³»ç»Ÿä¸Šæœ€åŸºæœ¬çš„æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œç±»ä¼¼äºWindows ç³»ç»Ÿä¸‹çš„notepadï¼ˆè®°äº‹æœ¬ï¼‰ç¼–è¾‘å™¨ã€‚</p><h2 id="2ã€vimç¼–è¾‘å™¨"><a href="#2ã€vimç¼–è¾‘å™¨" class="headerlink" title="2ã€vimç¼–è¾‘å™¨"></a>2ã€vimç¼–è¾‘å™¨</h2><p>Vim(Vi improved)æ˜¯viç¼–è¾‘å™¨çš„åŠ å¼ºç‰ˆï¼Œæ¯”viæ›´å®¹æ˜“ä½¿ç”¨ã€‚viçš„å‘½ä»¤å‡ ä¹å…¨éƒ¨éƒ½å¯ä»¥åœ¨vimä¸Šä½¿ç”¨ã€‚</p><h2 id="3ã€vimç¼–è¾‘å™¨çš„å®‰è£…"><a href="#3ã€vimç¼–è¾‘å™¨çš„å®‰è£…" class="headerlink" title="3ã€vimç¼–è¾‘å™¨çš„å®‰è£…"></a>3ã€vimç¼–è¾‘å™¨çš„å®‰è£…</h2><h3 id="â˜†-å·²å®‰è£…"><a href="#â˜†-å·²å®‰è£…" class="headerlink" title="â˜† å·²å®‰è£…"></a>â˜† å·²å®‰è£…</h3><p>Centosé€šå¸¸éƒ½å·²ç»é»˜è®¤å®‰è£…å¥½äº† vi æˆ– Vim æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œæˆ‘ä»¬åªéœ€è¦é€šè¿‡vimå‘½ä»¤å°±å¯ä»¥ç›´æ¥æ‰“å¼€vimç¼–è¾‘å™¨äº†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="/../assets/blog_res/Linux%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%EF%BC%88%E4%B8%8A2%EF%BC%89.assets/image-20200315093026701.png" alt="image-20200315093026701"></p><h3 id="â˜†-æœªå®‰è£…"><a href="#â˜†-æœªå®‰è£…" class="headerlink" title="â˜† æœªå®‰è£…"></a>â˜† æœªå®‰è£…</h3><p>æœ‰äº›ç²¾ç®€ç‰ˆçš„Linuxæ“ä½œç³»ç»Ÿï¼Œé»˜è®¤å¹¶æ²¡æœ‰å®‰è£…vimç¼–è¾‘å™¨ï¼ˆå¯èƒ½è‡ªå¸¦çš„æ˜¯viç¼–è¾‘å™¨ï¼‰ã€‚å½“æˆ‘ä»¬åœ¨ç»ˆç«¯ä¸­è¾“å…¥vimå‘½ä»¤æ—¶ï¼Œç³»ç»Ÿä¼šæç¤ºâ€command  not  foundâ€ã€‚</p><p>è§£å†³åŠæ³•ï¼šæœ‰ç½‘çš„å‰æä¸‹ï¼Œå¯ä»¥ä½¿ç”¨yumå·¥å…·å¯¹vimç¼–è¾‘å™¨è¿›è¡Œå®‰è£…</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># yum install vim -y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="4ã€vimç¼–è¾‘å™¨çš„å››ç§æ¨¡å¼ï¼ˆé‡ç‚¹ï¼‰"><a href="#4ã€vimç¼–è¾‘å™¨çš„å››ç§æ¨¡å¼ï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="4ã€vimç¼–è¾‘å™¨çš„å››ç§æ¨¡å¼ï¼ˆé‡ç‚¹ï¼‰"></a>4ã€vimç¼–è¾‘å™¨çš„å››ç§æ¨¡å¼ï¼ˆé‡ç‚¹ï¼‰</h2><h3 id="â˜†-å‘½ä»¤æ¨¡å¼"><a href="#â˜†-å‘½ä»¤æ¨¡å¼" class="headerlink" title="â˜† å‘½ä»¤æ¨¡å¼"></a>â˜† å‘½ä»¤æ¨¡å¼</h3><p>ä½¿ç”¨VIMç¼–è¾‘å™¨æ—¶ï¼Œ==é»˜è®¤å¤„äºå‘½ä»¤æ¨¡å¼ã€‚==åœ¨è¯¥æ¨¡å¼ä¸‹å¯ä»¥ç§»åŠ¨å…‰æ ‡ä½ç½®ï¼Œå¯ä»¥é€šè¿‡==å¿«æ·é”®==å¯¹æ–‡ä»¶==å†…å®¹==è¿›è¡Œå¤åˆ¶ã€ç²˜è´´ã€åˆ é™¤ç­‰æ“ä½œã€‚</p><h3 id="â˜†-ç¼–è¾‘æ¨¡å¼æˆ–è¾“å…¥æ¨¡å¼"><a href="#â˜†-ç¼–è¾‘æ¨¡å¼æˆ–è¾“å…¥æ¨¡å¼" class="headerlink" title="â˜† ç¼–è¾‘æ¨¡å¼æˆ–è¾“å…¥æ¨¡å¼"></a>â˜† ç¼–è¾‘æ¨¡å¼æˆ–è¾“å…¥æ¨¡å¼</h3><p>åœ¨å‘½ä»¤æ¨¡å¼ä¸‹è¾“å…¥å°å†™å­—æ¯aæˆ–å°å†™å­—æ¯iå³å¯è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œåœ¨è¯¥æ¨¡å¼ä¸‹å¯ä»¥å¯¹æ–‡ä»¶çš„å†…å®¹è¿›è¡Œç¼–è¾‘</p><h3 id="â˜†-æœ«è¡Œæ¨¡å¼"><a href="#â˜†-æœ«è¡Œæ¨¡å¼" class="headerlink" title="â˜† æœ«è¡Œæ¨¡å¼"></a>â˜† æœ«è¡Œæ¨¡å¼</h3><p>åœ¨å‘½ä»¤æ¨¡å¼ä¸‹è¾“å…¥å†’å·:å³å¯è¿›å…¥æœ«è¡Œæ¨¡å¼ï¼Œå¯ä»¥åœ¨==æœ«è¡Œè¾“å…¥å‘½ä»¤==æ¥å¯¹æ–‡ä»¶è¿›è¡ŒæŸ¥æ‰¾ã€æ›¿æ¢ã€ä¿å­˜ã€é€€å‡ºç­‰æ“ä½œ</p><h3 id="â˜†-å¯è§†åŒ–æ¨¡å¼ï¼ˆäº†è§£ï¼‰"><a href="#â˜†-å¯è§†åŒ–æ¨¡å¼ï¼ˆäº†è§£ï¼‰" class="headerlink" title="â˜† å¯è§†åŒ–æ¨¡å¼ï¼ˆäº†è§£ï¼‰"></a>â˜† å¯è§†åŒ–æ¨¡å¼ï¼ˆäº†è§£ï¼‰</h3><p>å¯ä»¥åšä¸€äº›åˆ—é€‰æ“ä½œï¼ˆé€šè¿‡æ–¹å‘é”®é€‰æ‹©æŸäº›åˆ—çš„å†…å®¹ï¼‰</p><h1 id="äºŒã€VIMå››ç§æ¨¡å¼çš„å…³ç³»"><a href="#äºŒã€VIMå››ç§æ¨¡å¼çš„å…³ç³»" class="headerlink" title="äºŒã€VIMå››ç§æ¨¡å¼çš„å…³ç³»"></a>äºŒã€VIMå››ç§æ¨¡å¼çš„å…³ç³»</h1><h2 id="1ã€VIMå››ç§æ¨¡å¼"><a href="#1ã€VIMå››ç§æ¨¡å¼" class="headerlink" title="1ã€VIMå››ç§æ¨¡å¼"></a>1ã€VIMå››ç§æ¨¡å¼</h2><p>å‘½ä»¤æ¨¡å¼/ç¼–è¾‘æ¨¡å¼/æœ«è¡Œæ¨¡å¼/å¯è§†åŒ–æ¨¡å¼</p><h2 id="2ã€VIMå››ç§æ¨¡å¼çš„å…³ç³»"><a href="#2ã€VIMå››ç§æ¨¡å¼çš„å…³ç³»" class="headerlink" title="2ã€VIMå››ç§æ¨¡å¼çš„å…³ç³»"></a>2ã€VIMå››ç§æ¨¡å¼çš„å…³ç³»</h2><p><img src="/../assets/blog_res/Linux%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%EF%BC%88%E4%B8%8A2%EF%BC%89.assets/image-20200315094423790.png" alt="image-20200315094423790"></p><h1 id="ä¸‰ã€VIMç¼–è¾‘å™¨çš„ä½¿ç”¨"><a href="#ä¸‰ã€VIMç¼–è¾‘å™¨çš„ä½¿ç”¨" class="headerlink" title="ä¸‰ã€VIMç¼–è¾‘å™¨çš„ä½¿ç”¨"></a>ä¸‰ã€VIMç¼–è¾‘å™¨çš„ä½¿ç”¨</h1><h2 id="1ã€ä½¿ç”¨vimæ‰“å¼€æ–‡ä»¶"><a href="#1ã€ä½¿ç”¨vimæ‰“å¼€æ–‡ä»¶" class="headerlink" title="1ã€ä½¿ç”¨vimæ‰“å¼€æ–‡ä»¶"></a>1ã€ä½¿ç”¨vimæ‰“å¼€æ–‡ä»¶</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim  æ–‡ä»¶åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â‘  å¦‚æœæ–‡ä»¶å·²å­˜åœ¨ï¼Œåˆ™ç›´æ¥æ‰“å¼€</p><p>â‘¡ å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™vimç¼–è¾‘å™¨ä¼šè‡ªåŠ¨åœ¨å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶</p><p>æ¡ˆä¾‹ï¼šä½¿ç”¨vimå‘½ä»¤æ‰“å¼€readme.txtæ–‡ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim readme.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="2ã€vimç¼–è¾‘å™¨ä¿å­˜æ–‡ä»¶"><a href="#2ã€vimç¼–è¾‘å™¨ä¿å­˜æ–‡ä»¶" class="headerlink" title="2ã€vimç¼–è¾‘å™¨ä¿å­˜æ–‡ä»¶"></a>2ã€vimç¼–è¾‘å™¨ä¿å­˜æ–‡ä»¶</h2><p>åœ¨ä»»ä½•æ¨¡å¼ä¸‹ï¼Œè¿ç»­æŒ‰ä¸¤æ¬¡Escé”®ï¼Œå³å¯è¿”å›åˆ°å‘½ä»¤æ¨¡å¼ã€‚ç„¶åæŒ‰å†’å·ï¼šï¼Œè¿›å…¥åˆ°æœ«è¡Œæ¨¡å¼ï¼Œè¾“å…¥wqï¼Œä»£è¡¨ä¿å­˜å¹¶é€€å‡ºã€‚</p><p><img src="/../assets/blog_res/Linux%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%EF%BC%88%E4%B8%8A2%EF%BC%89.assets/image-20200315102210869.png" alt="image-20200315102210869"></p><h2 id="3ã€vimç¼–è¾‘å™¨å¼ºåˆ¶é€€å‡ºï¼ˆä¸ä¿å­˜ï¼‰"><a href="#3ã€vimç¼–è¾‘å™¨å¼ºåˆ¶é€€å‡ºï¼ˆä¸ä¿å­˜ï¼‰" class="headerlink" title="3ã€vimç¼–è¾‘å™¨å¼ºåˆ¶é€€å‡ºï¼ˆä¸ä¿å­˜ï¼‰"></a>3ã€vimç¼–è¾‘å™¨å¼ºåˆ¶é€€å‡ºï¼ˆä¸ä¿å­˜ï¼‰</h2><p>åœ¨ä»»ä½•æ¨¡å¼ä¸‹ï¼Œè¿ç»­æŒ‰ä¸¤æ¬¡Escé”®ï¼Œå³å¯è¿”å›åˆ°å‘½ä»¤æ¨¡å¼ã€‚ç„¶åæŒ‰å†’å·ï¼šï¼Œè¿›å…¥åˆ°æœ«è¡Œæ¨¡å¼ï¼Œè¾“å…¥q!ï¼Œä»£è¡¨å¼ºåˆ¶é€€å‡ºä½†æ˜¯ä¸ä¿å­˜æ–‡ä»¶ã€‚</p><p><img src="/../assets/blog_res/Linux%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%EF%BC%88%E4%B8%8A2%EF%BC%89.assets/image-20200315102248865.png" alt="image-20200315102248865"></p><h2 id="4ã€å‘½ä»¤æ¨¡å¼ä¸‹çš„ç›¸å…³æ“ä½œï¼ˆé‡ç‚¹ï¼‰"><a href="#4ã€å‘½ä»¤æ¨¡å¼ä¸‹çš„ç›¸å…³æ“ä½œï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="4ã€å‘½ä»¤æ¨¡å¼ä¸‹çš„ç›¸å…³æ“ä½œï¼ˆé‡ç‚¹ï¼‰"></a>4ã€å‘½ä»¤æ¨¡å¼ä¸‹çš„ç›¸å…³æ“ä½œï¼ˆé‡ç‚¹ï¼‰</h2><h3 id="â˜†-å¦‚ä½•è¿›å…¥å‘½ä»¤æ¨¡å¼"><a href="#â˜†-å¦‚ä½•è¿›å…¥å‘½ä»¤æ¨¡å¼" class="headerlink" title="â˜† å¦‚ä½•è¿›å…¥å‘½ä»¤æ¨¡å¼"></a>â˜† å¦‚ä½•è¿›å…¥å‘½ä»¤æ¨¡å¼</h3><p>ç­”ï¼šåœ¨Linuxæ“ä½œç³»ç»Ÿä¸­ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨vimå‘½ä»¤ç›´æ¥æ‰“å¼€æŸä¸ªæ–‡ä»¶æ—¶ï¼Œé»˜è®¤è¿›å…¥çš„å°±æ˜¯å‘½ä»¤æ¨¡å¼ã€‚å¦‚æœæˆ‘ä»¬å¤„äºå…¶ä»–æ¨¡å¼ï¼ˆç¼–è¾‘æ¨¡å¼ã€å¯è§†åŒ–æ¨¡å¼ä»¥åŠæœ«è¡Œæ¨¡å¼ï¼‰å¯ä»¥è¿ç»­æŒ‰ä¸¤æ¬¡Escé”®ä¹Ÿå¯ä»¥è¿”å›å‘½ä»¤æ¨¡å¼</p><h3 id="â˜†-å‘½ä»¤æ¨¡å¼ä¸‹æˆ‘ä»¬èƒ½åšä»€ä¹ˆ"><a href="#â˜†-å‘½ä»¤æ¨¡å¼ä¸‹æˆ‘ä»¬èƒ½åšä»€ä¹ˆ" class="headerlink" title="â˜† å‘½ä»¤æ¨¡å¼ä¸‹æˆ‘ä»¬èƒ½åšä»€ä¹ˆ"></a>â˜† å‘½ä»¤æ¨¡å¼ä¸‹æˆ‘ä»¬èƒ½åšä»€ä¹ˆ</h3><p>â‘  ç§»åŠ¨å…‰æ ‡ â‘¡ å¤åˆ¶ ç²˜è´´ â‘¢ å‰ªåˆ‡ ç²˜è´´ åˆ é™¤ â‘£ æ’¤é”€ä¸æ¢å¤</p><h3 id="â˜†-ç§»åŠ¨å…‰æ ‡åˆ°é¦–è¡Œæˆ–æœ«è¡Œï¼ˆé‡ç‚¹ï¼‰"><a href="#â˜†-ç§»åŠ¨å…‰æ ‡åˆ°é¦–è¡Œæˆ–æœ«è¡Œï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="â˜† ç§»åŠ¨å…‰æ ‡åˆ°é¦–è¡Œæˆ–æœ«è¡Œï¼ˆé‡ç‚¹ï¼‰"></a>â˜† ç§»åŠ¨å…‰æ ‡åˆ°é¦–è¡Œæˆ–æœ«è¡Œï¼ˆé‡ç‚¹ï¼‰</h3><p>ç§»åŠ¨å…‰æ ‡åˆ°é¦–è¡Œ =&gt; gg</p><p>ç§»åŠ¨å…‰æ ‡åˆ°æœ«è¡Œ =&gt; G</p><h3 id="â˜†-ç¿»å±"><a href="#â˜†-ç¿»å±" class="headerlink" title="â˜† ç¿»å±"></a>â˜† ç¿»å±</h3><p>å‘ä¸Š    ç¿»å±ï¼ŒæŒ‰é”®ï¼š<code>ctrl + b ï¼ˆbeforeï¼‰ æˆ– PgUp</code></p><p>å‘ä¸‹    ç¿»å±ï¼ŒæŒ‰é”®ï¼š<code>ctrl + f ï¼ˆafterï¼‰  æˆ– PgDn</code></p><p>å‘ä¸Šç¿»åŠå±ï¼ŒæŒ‰é”®ï¼š<code>ctrl + u ï¼ˆupï¼‰</code></p><p>å‘ä¸‹ç¿»åŠå±ï¼ŒæŒ‰é”®ï¼š<code>ctrl + d ï¼ˆdownï¼‰</code></p><h3 id="â˜†-å¿«é€Ÿå®šä½å…‰æ ‡åˆ°æŒ‡å®šè¡Œï¼ˆé‡ç‚¹ï¼‰"><a href="#â˜†-å¿«é€Ÿå®šä½å…‰æ ‡åˆ°æŒ‡å®šè¡Œï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="â˜† å¿«é€Ÿå®šä½å…‰æ ‡åˆ°æŒ‡å®šè¡Œï¼ˆé‡ç‚¹ï¼‰"></a>â˜† å¿«é€Ÿå®šä½å…‰æ ‡åˆ°æŒ‡å®šè¡Œï¼ˆé‡ç‚¹ï¼‰</h3><p>è¡Œå· + Gï¼Œå¦‚150Gä»£è¡¨å¿«é€Ÿç§»åŠ¨å…‰æ ‡åˆ°ç¬¬150è¡Œã€‚</p><h3 id="â˜†-å¤åˆ¶-ç²˜è´´ï¼ˆé‡ç‚¹ï¼‰"><a href="#â˜†-å¤åˆ¶-ç²˜è´´ï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="â˜† å¤åˆ¶/ç²˜è´´ï¼ˆé‡ç‚¹ï¼‰"></a>â˜† å¤åˆ¶/ç²˜è´´ï¼ˆé‡ç‚¹ï¼‰</h3><p>â‘  å¤åˆ¶å½“å‰è¡Œï¼ˆå…‰æ ‡æ‰€åœ¨é‚£ä¸€è¡Œï¼‰</p><p>æŒ‰é”®ï¼šyy</p><p>ç²˜è´´ï¼šåœ¨æƒ³è¦ç²˜è´´çš„åœ°æ–¹æŒ‰ä¸‹p é”®ã€å°†ç²˜è´´åœ¨å…‰æ ‡æ‰€åœ¨è¡Œçš„ä¸‹ä¸€è¡Œã€‘,å¦‚æœæƒ³ç²˜è´´åœ¨å…‰æ ‡æ‰€åœ¨è¡Œä¹‹å‰ï¼Œåˆ™ä½¿ç”¨Pé”®</p><p>â‘¡ ä»å½“å‰è¡Œå¼€å§‹å¤åˆ¶æŒ‡å®šçš„è¡Œæ•°ï¼Œå¦‚å¤åˆ¶5è¡Œï¼Œ5yy</p><p>ç²˜è´´ï¼šåœ¨æƒ³è¦ç²˜è´´çš„åœ°æ–¹æŒ‰ä¸‹p é”®ã€å°†ç²˜è´´åœ¨å…‰æ ‡æ‰€åœ¨è¡Œçš„ä¸‹ä¸€è¡Œã€‘,å¦‚æœæƒ³ç²˜è´´åœ¨å…‰æ ‡æ‰€åœ¨è¡Œä¹‹å‰ï¼Œåˆ™ä½¿ç”¨Pé”®</p><h3 id="â˜†-å‰ªåˆ‡-åˆ é™¤ï¼ˆé‡ç‚¹ï¼‰"><a href="#â˜†-å‰ªåˆ‡-åˆ é™¤ï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="â˜† å‰ªåˆ‡/åˆ é™¤ï¼ˆé‡ç‚¹ï¼‰"></a>â˜† å‰ªåˆ‡/åˆ é™¤ï¼ˆé‡ç‚¹ï¼‰</h3><p>åœ¨VIMç¼–è¾‘å™¨ä¸­ï¼Œå‰ªåˆ‡ä¸åˆ é™¤éƒ½æ˜¯dd</p><p>å¦‚æœå‰ªåˆ‡äº†æ–‡ä»¶ï¼Œä½†æ˜¯æ²¡æœ‰ä½¿ç”¨pè¿›è¡Œç²˜è´´ï¼Œå°±æ˜¯åˆ é™¤æ“ä½œ</p><p>å¦‚æœå‰ªåˆ‡äº†æ–‡ä»¶ï¼Œç„¶åä½¿ç”¨pè¿›è¡Œç²˜è´´ï¼Œè¿™å°±æ˜¯å‰ªåˆ‡æ“ä½œ</p><p>â‘  å‰ªåˆ‡/åˆ é™¤å½“å‰å…‰æ ‡æ‰€åœ¨è¡Œ</p><p>æŒ‰é”®ï¼šdd ï¼ˆåˆ é™¤ä¹‹åä¸‹ä¸€è¡Œä¸Šç§»ï¼‰</p><p>ç²˜è´´ï¼šp</p><p>æ³¨æ„ï¼šdd ä¸¥æ ¼æ„ä¹‰ä¸Šè¯´æ˜¯å‰ªåˆ‡å‘½ä»¤ï¼Œä½†æ˜¯å¦‚æœå‰ªåˆ‡äº†ä¸ç²˜è´´å°±æ˜¯åˆ é™¤çš„æ•ˆæœã€‚</p><p>â‘¡ å‰ªåˆ‡/åˆ é™¤å¤šè¡Œï¼ˆä»å½“å‰å…‰æ ‡æ‰€åœ¨è¡Œå¼€å§‹è®¡ç®—ï¼‰</p><p>æŒ‰é”®ï¼šæ•°å­—dd</p><p>ç²˜è´´ï¼šp</p><p>ç‰¹æ®Šç”¨æ³•ï¼š</p><p>â‘¢ å‰ªåˆ‡/åˆ é™¤å…‰æ ‡æ‰€åœ¨çš„å½“å‰è¡Œï¼ˆå…‰æ ‡æ‰€åœ¨ä½ç½®ï¼‰ä¹‹åçš„å†…å®¹ï¼Œä½†æ˜¯åˆ é™¤ä¹‹åä¸‹ä¸€è¡Œä¸ä¸Šç§»</p><p>æŒ‰é”®ï¼šD ï¼ˆåˆ é™¤ä¹‹åå½“å‰è¡Œä¼šå˜æˆç©ºç™½è¡Œï¼‰</p><h3 id="â˜†-æ’¤é”€-æ¢å¤ï¼ˆé‡ç‚¹ï¼‰"><a href="#â˜†-æ’¤é”€-æ¢å¤ï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="â˜† æ’¤é”€/æ¢å¤ï¼ˆé‡ç‚¹ï¼‰"></a>â˜† æ’¤é”€/æ¢å¤ï¼ˆé‡ç‚¹ï¼‰</h3><p>æ’¤é”€ï¼šuï¼ˆundoï¼‰</p><p>æ¢å¤ï¼šctrl + r æ¢å¤ï¼ˆå–æ¶ˆï¼‰ä¹‹å‰çš„æ’¤é”€æ“ä½œã€é‡åšï¼Œredoã€‘</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>â‘  æ€ä¹ˆè¿›å…¥å‘½ä»¤æ¨¡å¼ï¼ˆvim æ–‡ä»¶åç§°ï¼Œåœ¨ä»»æ„æ¨¡å¼ä¸‹ï¼Œå¯ä»¥è¿ç»­æŒ‰ä¸¤æ¬¡Escé”®å³å¯è¿”å›å‘½ä»¤æ¨¡å¼ï¼‰</p><p>â‘¡ å‘½ä»¤æ¨¡å¼èƒ½åšä»€ä¹ˆï¼Ÿç§»åŠ¨å…‰æ ‡ã€å¤åˆ¶/ç²˜è´´ã€å‰ªåˆ‡/åˆ é™¤ã€æ’¤é”€ä¸æ¢å¤</p><p>é¦–è¡Œ =&gt; ggï¼Œæœ«è¡Œ =&gt; G  ç¿»å±ï¼ˆäº†è§£ï¼‰ å¿«é€Ÿå®šä½ è¡Œå·Gï¼Œå¦‚150G</p><p>yy  p   5yy  p</p><p>dd p   5dd p</p><p>u</p><p>ctrl + r</p><h2 id="5ã€æœ«è¡Œæ¨¡å¼ä¸‹çš„ç›¸å…³æ“ä½œï¼ˆé‡ç‚¹ï¼‰"><a href="#5ã€æœ«è¡Œæ¨¡å¼ä¸‹çš„ç›¸å…³æ“ä½œï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="5ã€æœ«è¡Œæ¨¡å¼ä¸‹çš„ç›¸å…³æ“ä½œï¼ˆé‡ç‚¹ï¼‰"></a>5ã€æœ«è¡Œæ¨¡å¼ä¸‹çš„ç›¸å…³æ“ä½œï¼ˆé‡ç‚¹ï¼‰</h2><h3 id="â˜†-å¦‚ä½•è¿›å…¥æœ«è¡Œæ¨¡å¼"><a href="#â˜†-å¦‚ä½•è¿›å…¥æœ«è¡Œæ¨¡å¼" class="headerlink" title="â˜† å¦‚ä½•è¿›å…¥æœ«è¡Œæ¨¡å¼"></a>â˜† å¦‚ä½•è¿›å…¥æœ«è¡Œæ¨¡å¼</h3><p>è¿›å…¥æœ«è¡Œæ¨¡å¼çš„æ–¹æ³•åªæœ‰ä¸€ä¸ªï¼Œåœ¨å‘½ä»¤æ¨¡å¼ä¸‹ä½¿ç”¨å†’å·ï¼šçš„æ–¹å¼è¿›å…¥ã€‚</p><h3 id="â˜†-æœ«è¡Œæ¨¡å¼ä¸‹æˆ‘ä»¬èƒ½åšä»€ä¹ˆ"><a href="#â˜†-æœ«è¡Œæ¨¡å¼ä¸‹æˆ‘ä»¬èƒ½åšä»€ä¹ˆ" class="headerlink" title="â˜† æœ«è¡Œæ¨¡å¼ä¸‹æˆ‘ä»¬èƒ½åšä»€ä¹ˆ"></a>â˜† æœ«è¡Œæ¨¡å¼ä¸‹æˆ‘ä»¬èƒ½åšä»€ä¹ˆ</h3><p>æ–‡ä»¶ä¿å­˜ã€é€€å‡ºã€æŸ¥æ‰¾ä¸æ›¿æ¢ã€æ˜¾ç¤ºè¡Œå·ã€pasteæ¨¡å¼ç­‰ç­‰</p><h3 id="â˜†-ä¿å­˜-é€€å‡ºï¼ˆé‡ç‚¹ï¼‰"><a href="#â˜†-ä¿å­˜-é€€å‡ºï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="â˜† ä¿å­˜/é€€å‡ºï¼ˆé‡ç‚¹ï¼‰"></a>â˜† ä¿å­˜/é€€å‡ºï¼ˆé‡ç‚¹ï¼‰</h3><p>:w =&gt; ä»£è¡¨å¯¹å½“å‰æ–‡ä»¶è¿›è¡Œä¿å­˜æ“ä½œï¼Œä½†æ˜¯å…¶ä¿å­˜å®Œæˆåï¼Œå¹¶æ²¡æœ‰é€€å‡ºè¿™ä¸ªæ–‡ä»¶</p><p>:q =&gt; ä»£è¡¨é€€å‡ºå½“å‰æ­£åœ¨ç¼–è¾‘çš„æ–‡ä»¶ï¼Œä½†æ˜¯ä¸€å®šè¦æ³¨æ„ï¼Œæ–‡ä»¶å¿…é¡»å…ˆä¿å­˜ï¼Œç„¶åæ‰èƒ½é€€å‡º</p><p>:wq =&gt; ä»£è¡¨æ–‡ä»¶å…ˆä¿å­˜åé€€å‡ºï¼ˆä¿å­˜å¹¶é€€å‡ºï¼‰</p><p>å¦‚æœä¸€ä¸ªæ–‡ä»¶åœ¨ç¼–è¾‘æ—¶æ²¡æœ‰åå­—ï¼Œåˆ™å¯ä»¥ä½¿ç”¨:wq  æ–‡ä»¶åç§°ï¼Œä»£è¡¨æŠŠå½“å‰æ­£åœ¨ç¼–è¾‘çš„æ–‡ä»¶ä¿å­˜åˆ°æŒ‡å®šçš„åç§°ä¸­ï¼Œç„¶åé€€å‡º</p><p>:q! =&gt; ä»£è¡¨å¼ºåˆ¶é€€å‡ºä½†æ˜¯æ–‡ä»¶æœªä¿å­˜ï¼ˆä¸å»ºè®®ä½¿ç”¨ï¼‰</p><h3 id="â˜†-æŸ¥æ‰¾-æœç´¢ï¼ˆé‡ç‚¹ï¼‰"><a href="#â˜†-æŸ¥æ‰¾-æœç´¢ï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="â˜† æŸ¥æ‰¾/æœç´¢ï¼ˆé‡ç‚¹ï¼‰"></a>â˜† æŸ¥æ‰¾/æœç´¢ï¼ˆé‡ç‚¹ï¼‰</h3><p>åˆ‡æ¢åˆ°å‘½ä»¤æ¨¡å¼ï¼Œç„¶åè¾“å…¥æ–œæ /ï¼ˆä¹Ÿæ˜¯è¿›å…¥æœ«è¡Œæ¨¡å¼çš„æ–¹å¼ä¹‹ä¸€ï¼‰</p><p>è¿›å…¥åˆ°æœ«è¡Œæ¨¡å¼åï¼Œè¾“å…¥è¦æŸ¥æ‰¾æˆ–æœç´¢çš„å…³é”®è¯ï¼Œç„¶åå›è½¦</p><p>å¦‚æœåœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œå­˜åœ¨å¤šä¸ªæ»¡è¶³æ¡ä»¶çš„ç»“æœã€‚åœ¨æœç´¢ç»“æœä¸­åˆ‡æ¢ä¸Š/ä¸‹ä¸€ä¸ªç»“æœï¼šN/n ï¼ˆå¤§å†™Nä»£è¡¨ä¸Šä¸€ä¸ªç»“æœï¼Œå°å†™nä»£è¡¨nextï¼‰</p><p>å¦‚æœéœ€è¦å–æ¶ˆé«˜äº®ï¼Œåˆ™éœ€è¦åœ¨æœ«è¡Œæ¨¡å¼ä¸­è¾“å…¥<code>:noh</code>ã€no highlightã€‘</p><h3 id="â˜†-æ–‡ä»¶å†…å®¹çš„æ›¿æ¢ï¼ˆé‡ç‚¹ï¼‰"><a href="#â˜†-æ–‡ä»¶å†…å®¹çš„æ›¿æ¢ï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="â˜† æ–‡ä»¶å†…å®¹çš„æ›¿æ¢ï¼ˆé‡ç‚¹ï¼‰"></a>â˜† æ–‡ä»¶å†…å®¹çš„æ›¿æ¢ï¼ˆé‡ç‚¹ï¼‰</h3><p>ç¬¬ä¸€æ­¥ï¼šé¦–å…ˆè¦è¿›å…¥æœ«è¡Œæ¨¡å¼ï¼ˆåœ¨å‘½ä»¤æ¨¡å¼ä¸‹è¾“å…¥å†’å·:ï¼‰</p><p>ç¬¬äºŒæ­¥ï¼šæ ¹æ®éœ€æ±‚æ›¿æ¢å†…å®¹</p><p>â‘  åªæ›¿æ¢å…‰æ ‡æ‰€åœ¨è¿™ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„ç»“æœï¼ˆåªèƒ½æ›¿æ¢1æ¬¡ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">:s/è¦æ›¿æ¢çš„å…³é”®è¯/æ›¿æ¢åçš„å…³é”®è¯   +  å›è½¦<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠhello centosä¸­çš„centosæ›¿æ¢ä¸ºcentos7.6</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">åˆ‡æ¢å…‰æ ‡åˆ°hello centosè¿™ä¸€è¡Œ:s/centos/centos7.6<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>â‘¡ æ›¿æ¢å…‰æ ‡æ‰€åœ¨è¿™ä¸€è¡Œä¸­çš„æ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„ç»“æœï¼ˆæ›¿æ¢å¤šæ¬¡ï¼Œåªèƒ½æ›¿æ¢ä¸€è¡Œï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">:s/è¦æ›¿æ¢çš„å…³é”®è¯/æ›¿æ¢åçš„å…³é”®è¯/gg=globalå…¨å±€æ›¿æ¢<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠhello centosä¸­çš„æ‰€æœ‰centoséƒ½æ›¿æ¢ä¸ºcentos7.6</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">åˆ‡æ¢å…‰æ ‡åˆ°hello centosè¿™ä¸€è¡Œ:s/centos/centos7.6/g<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>â‘¢ é’ˆå¯¹æ•´ä¸ªæ–‡æ¡£ä¸­çš„æ‰€æœ‰è¡Œè¿›è¡Œæ›¿æ¢ï¼Œåªæ›¿æ¢æ¯ä¸€è¡Œä¸­æ»¡è¶³æ¡ä»¶çš„ç¬¬ä¸€ä¸ªç»“æœ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">:%s/è¦æ›¿æ¢çš„å…³é”®è¯/æ›¿æ¢åçš„å…³é”®è¯<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠæ¯ä¸€è¡Œä¸­çš„ç¬¬ä¸€ä¸ªhelloå…³é”®è¯éƒ½æ›¿æ¢ä¸ºhi</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">:%s/hello/hi<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â‘£ é’ˆå¯¹æ•´ä¸ªæ–‡æ¡£ä¸­çš„æ‰€æœ‰å…³é”®è¯è¿›è¡Œæ›¿æ¢ï¼ˆåªè¦æ»¡è¶³æ¡ä»¶å°±è¿›è¡Œæ›¿æ¢æ“ä½œï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">:%s/è¦æ›¿æ¢çš„å…³é”®è¯/æ›¿æ¢åçš„å…³é”®è¯/g<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæ›¿æ¢æ•´ä¸ªæ–‡æ¡£ä¸­çš„helloå…³é”®è¯ä¸ºhi</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">:%s/hello/hi/g<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â˜†-æ˜¾ç¤ºè¡Œå·"><a href="#â˜†-æ˜¾ç¤ºè¡Œå·" class="headerlink" title="â˜† æ˜¾ç¤ºè¡Œå·"></a>â˜† æ˜¾ç¤ºè¡Œå·</h3><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">:set nunu = numberï¼Œè¡Œå·<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><blockquote><p>å–æ¶ˆè¡Œå· =&gt; :set  nonu</p></blockquote><h3 id="â˜†-set-pasteæ¨¡å¼-äº†è§£"><a href="#â˜†-set-pasteæ¨¡å¼-äº†è§£" class="headerlink" title="â˜† set pasteæ¨¡å¼(äº†è§£)"></a>â˜† set pasteæ¨¡å¼(äº†è§£)</h3><p>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨pasteæ¨¡å¼ï¼Ÿ</p><p>é—®é¢˜ï¼šåœ¨ç»ˆç«¯Vimä¸­ç²˜è´´ä»£ç æ—¶ï¼Œå‘ç°æ’å…¥çš„ä»£ç ä¼šæœ‰å¤šä½™çš„ç¼©è¿›ï¼Œè€Œä¸”ä¼šé€è¡Œç´¯åŠ ã€‚åŸå› æ˜¯ç»ˆç«¯æŠŠç²˜è´´çš„æ–‡æœ¬å­˜å…¥é”®ç›˜ç¼“å­˜ï¼ˆKeyboard Bufferï¼‰ä¸­ï¼ŒVimåˆ™æŠŠè¿™äº›å†…å®¹ä½œä¸ºç”¨æˆ·çš„é”®ç›˜è¾“å…¥æ¥å¤„ç†ã€‚å¯¼è‡´åœ¨é‡åˆ°æ¢è¡Œç¬¦çš„æ—¶å€™ï¼Œå¦‚æœVimå¼€å¯äº†è‡ªåŠ¨ç¼©è¿›ï¼Œå°±ä¼šé»˜è®¤çš„æŠŠä¸Šä¸€è¡Œç¼©è¿›æ’å…¥åˆ°ä¸‹ä¸€è¡Œçš„å¼€å¤´ï¼Œæœ€ç»ˆä½¿ä»£ç å˜ä¹±ã€‚</p><p>åœ¨ç²˜è´´æ•°æ®ä¹‹å‰ï¼Œè¾“å…¥ä¸‹é¢å‘½ä»¤å¼€å¯pasteæ¨¡å¼<br>:set paste</p><p>ç²˜è´´å®Œæ¯•åï¼Œè¾“å…¥ä¸‹é¢å‘½ä»¤å…³é—­pasteæ¨¡å¼<br>:set nopaste</p><h2 id="æ€»ç»“-1"><a href="#æ€»ç»“-1" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>â‘  å¦‚ä½•è¿›å…¥æœ«è¡Œæ¨¡å¼ï¼Œå¿…é¡»ä»å‘½ä»¤æ¨¡å¼ä¸­ä½¿ç”¨å†’å·è¿›è¡Œåˆ‡æ¢</p><p>â‘¡ æœ«è¡Œæ¨¡å¼ä¸‹èƒ½åšä»€ä¹ˆï¼Ÿä¿å­˜ã€é€€å‡ºã€æŸ¥æ‰¾ã€æ›¿æ¢ã€æ˜¾ç¤ºè¡Œå·ä»¥åŠpasteæ¨¡å¼</p><p>â‘¢ ä¿å­˜ =&gt; :w</p><p>â‘£ é€€å‡º =&gt; :qï¼Œå…ˆä¿å­˜åé€€å‡ºã€‚:wq     :wq  æ–‡ä»¶åç§°    :q!</p><p>â‘¤ æŸ¥æ‰¾åŠŸèƒ½ =&gt; å‘½ä»¤æ¨¡å¼è¾“å…¥/æ–œæ   +  å…³é”®è¯ï¼ˆé«˜äº®æ˜¾ç¤ºï¼‰=&gt; :noh</p><p>â‘¥ æ›¿æ¢åŠŸèƒ½</p><p>:s/è¦æ›¿æ¢çš„å…³é”®è¯/æ›¿æ¢åçš„å…³é”®è¯</p><p>:s/è¦æ›¿æ¢çš„å…³é”®è¯/æ›¿æ¢åçš„å…³é”®è¯/g</p><p>:%s/è¦æ›¿æ¢çš„å…³é”®è¯/æ›¿æ¢åçš„å…³é”®è¯</p><p>:%s/è¦æ›¿æ¢çš„å…³é”®è¯/æ›¿æ¢åçš„å…³é”®è¯/g</p><p>â‘¦ æ˜¾ç¤ºè¡Œå· =&gt; :set nu å–æ¶ˆè¡Œå· =&gt; :set nonu</p><p>â‘§ pasteæ¨¡å¼ =&gt; å°†æ¥åœ¨ç²˜è´´ä»£ç çš„æ—¶å€™ä¸ºäº†ä¿å­˜åŸæ ¼å¼ =&gt; ç²˜è´´ä¹‹å‰ =&gt; :set paste</p><h1 id="å››ã€ç¼–è¾‘æ¨¡å¼"><a href="#å››ã€ç¼–è¾‘æ¨¡å¼" class="headerlink" title="å››ã€ç¼–è¾‘æ¨¡å¼"></a>å››ã€ç¼–è¾‘æ¨¡å¼</h1><h2 id="1ã€ç¼–è¾‘æ¨¡å¼çš„ä½œç”¨"><a href="#1ã€ç¼–è¾‘æ¨¡å¼çš„ä½œç”¨" class="headerlink" title="1ã€ç¼–è¾‘æ¨¡å¼çš„ä½œç”¨"></a>1ã€ç¼–è¾‘æ¨¡å¼çš„ä½œç”¨</h2><p>ç¼–è¾‘æ¨¡å¼çš„ä½œç”¨æ¯”è¾ƒç®€å•ï¼Œä¸»è¦æ˜¯å®ç°å¯¹æ–‡ä»¶çš„å†…å®¹è¿›è¡Œç¼–è¾‘æ¨¡å¼ã€‚</p><h2 id="2ã€å¦‚ä½•è¿›å…¥ç¼–è¾‘æ¨¡å¼"><a href="#2ã€å¦‚ä½•è¿›å…¥ç¼–è¾‘æ¨¡å¼" class="headerlink" title="2ã€å¦‚ä½•è¿›å…¥ç¼–è¾‘æ¨¡å¼"></a>2ã€å¦‚ä½•è¿›å…¥ç¼–è¾‘æ¨¡å¼</h2><p>é¦–å…ˆä½ éœ€è¦è¿›å…¥åˆ°å‘½ä»¤æ¨¡å¼ï¼Œç„¶åä½¿ç”¨å°å†™å­—æ¯aæˆ–å°å†™å­—æ¯iï¼Œè¿›å…¥ç¼–è¾‘æ¨¡å¼ã€‚</p><p>å‘½ä»¤æ¨¡å¼ + i  ï¼š insertç¼©å†™ï¼Œä»£è¡¨åœ¨å…‰æ ‡ä¹‹å‰æ’å…¥å†…å®¹</p><p>å‘½ä»¤æ¨¡å¼ + a ï¼š appendç¼©å†™ï¼Œä»£è¡¨åœ¨å…‰æ ‡ä¹‹åæ’å…¥å†…å®¹</p><h2 id="3ã€é€€å‡ºç¼–è¾‘æ¨¡å¼"><a href="#3ã€é€€å‡ºç¼–è¾‘æ¨¡å¼" class="headerlink" title="3ã€é€€å‡ºç¼–è¾‘æ¨¡å¼"></a>3ã€é€€å‡ºç¼–è¾‘æ¨¡å¼</h2><p>åœ¨ç¼–è¾‘æ¨¡å¼ä¸­ï¼Œç›´æ¥æŒ‰Escï¼Œå³å¯ä»ç¼–è¾‘æ¨¡å¼é€€å‡ºåˆ°å‘½ä»¤æ¨¡å¼ã€‚</p><h1 id="äº”ã€å¯è§†åŒ–æ¨¡å¼"><a href="#äº”ã€å¯è§†åŒ–æ¨¡å¼" class="headerlink" title="äº”ã€å¯è§†åŒ–æ¨¡å¼"></a>äº”ã€å¯è§†åŒ–æ¨¡å¼</h1><h2 id="1ã€å¦‚ä½•è¿›å…¥åˆ°å¯è§†åŒ–æ¨¡å¼"><a href="#1ã€å¦‚ä½•è¿›å…¥åˆ°å¯è§†åŒ–æ¨¡å¼" class="headerlink" title="1ã€å¦‚ä½•è¿›å…¥åˆ°å¯è§†åŒ–æ¨¡å¼"></a>1ã€å¦‚ä½•è¿›å…¥åˆ°å¯è§†åŒ–æ¨¡å¼</h2><p>åœ¨å‘½ä»¤æ¨¡å¼ä¸­ï¼Œç›´æ¥æŒ‰ctrl + vï¼ˆå¯è§†å—ï¼‰æˆ–Vï¼ˆå¯è§†è¡Œï¼‰æˆ–vï¼ˆå¯è§†ï¼‰ï¼Œç„¶åæŒ‰ä¸‹â†‘  â†“  â†  â†’æ–¹å‘é”®æ¥é€‰ä¸­éœ€è¦å¤åˆ¶çš„åŒºå—ï¼ŒæŒ‰ä¸‹y é”®è¿›è¡Œå¤åˆ¶ï¼ˆä¸è¦æŒ‰ä¸‹yyï¼‰ï¼Œæœ€åæŒ‰ä¸‹p é”®ç²˜è´´</p><p>é€€å‡ºå¯è§†æ¨¡å¼æŒ‰ä¸‹Esc</p><h2 id="2ã€å¯è§†åŒ–æ¨¡å¼å¤åˆ¶æ“ä½œ"><a href="#2ã€å¯è§†åŒ–æ¨¡å¼å¤åˆ¶æ“ä½œ" class="headerlink" title="2ã€å¯è§†åŒ–æ¨¡å¼å¤åˆ¶æ“ä½œ"></a>2ã€å¯è§†åŒ–æ¨¡å¼å¤åˆ¶æ“ä½œ</h2><p>ç¬¬ä¸€æ­¥ï¼šåœ¨å‘½ä»¤æ¨¡å¼ä¸‹ï¼Œç›´æ¥æŒ‰å°vï¼Œè¿›å…¥å¯è§†åŒ–æ¨¡å¼</p><p>ç¬¬äºŒæ­¥ï¼šä½¿ç”¨æ–¹å‘é”®â†‘  â†“  â†  â†’é€‰æ‹©è¦å¤åˆ¶çš„å†…å®¹ï¼Œç„¶åæŒ‰yé”®</p><p>ç¬¬ä¸‰æ­¥ï¼šç§»åŠ¨å…‰æ ‡ï¼Œåœåœ¨éœ€è¦ç²˜è´´çš„ä½ç½®ï¼ŒæŒ‰pé”®è¿›è¡Œç²˜è´´æ“ä½œ</p><h2 id="3ã€ä¸ºé…ç½®æ–‡ä»¶æ·»åŠ -å¤šè¡Œæ³¨é‡Šï¼ˆé‡ç‚¹ï¼‰"><a href="#3ã€ä¸ºé…ç½®æ–‡ä»¶æ·»åŠ -å¤šè¡Œæ³¨é‡Šï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="3ã€ä¸ºé…ç½®æ–‡ä»¶æ·»åŠ #å¤šè¡Œæ³¨é‡Šï¼ˆé‡ç‚¹ï¼‰"></a>3ã€ä¸ºé…ç½®æ–‡ä»¶æ·»åŠ #å¤šè¡Œæ³¨é‡Šï¼ˆé‡ç‚¹ï¼‰</h2><p>ç¬¬ä¸€æ­¥ï¼šæŒ‰Escé€€å‡ºåˆ°å‘½ä»¤æ¨¡å¼ï¼ŒæŒ‰ggåˆ‡æ¢åˆ°ç¬¬1è¡Œ</p><p>ç¬¬äºŒæ­¥ï¼šç„¶åæŒ‰Ctrl+vè¿›å…¥åˆ°å¯è§†åŒ–åŒºå—æ¨¡å¼ï¼ˆåˆ—æ¨¡å¼ï¼‰</p><p>ç¬¬ä¸‰æ­¥ï¼šåœ¨è¡Œé¦–ä½¿ç”¨ä¸Šä¸‹é”®é€‰æ‹©éœ€è¦æ³¨é‡Šçš„å¤šè¡Œ</p><p>ç¬¬å››æ­¥ï¼šæŒ‰ä¸‹é”®ç›˜ï¼ˆå¤§å†™ï¼‰â€œIâ€é”®ï¼Œè¿›å…¥æ’å…¥æ¨¡å¼ï¼ˆShift + iï¼‰</p><p>ç¬¬äº”æ­¥ï¼šè¾“å…¥#å·æ³¨é‡Šç¬¦</p><p>ç¬¬å…­æ­¥ï¼šè¾“å…¥å®Œæˆåï¼Œè¿ç»­æŒ‰ä¸¤æ¬¡Escå³å¯å®Œæˆæ·»åŠ å¤šè¡Œæ³¨é‡Šçš„è¿‡ç¨‹</p><h2 id="4ã€ä¸ºé…ç½®æ–‡ä»¶å»é™¤-å¤šè¡Œæ³¨é‡Šï¼ˆé‡ç‚¹ï¼‰"><a href="#4ã€ä¸ºé…ç½®æ–‡ä»¶å»é™¤-å¤šè¡Œæ³¨é‡Šï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="4ã€ä¸ºé…ç½®æ–‡ä»¶å»é™¤#å¤šè¡Œæ³¨é‡Šï¼ˆé‡ç‚¹ï¼‰"></a>4ã€ä¸ºé…ç½®æ–‡ä»¶å»é™¤#å¤šè¡Œæ³¨é‡Šï¼ˆé‡ç‚¹ï¼‰</h2><p>ç¬¬ä¸€æ­¥ï¼šæŒ‰Escé€€å‡ºåˆ°å‘½ä»¤æ¨¡å¼ï¼ŒæŒ‰ggåˆ‡æ¢åˆ°ç¬¬1è¡Œ</p><p>ç¬¬äºŒæ­¥ï¼šç„¶åæŒ‰Ctrl+vè¿›å…¥å¯è§†åŒ–åŒºå—æ¨¡å¼ï¼ˆåˆ—æ¨¡å¼ï¼‰</p><p>ç¬¬ä¸‰æ­¥ï¼šä½¿ç”¨é”®ç›˜ä¸Šçš„æ–¹å‘é”®çš„ä¸Šä¸‹é€‰ä¸­éœ€è¦ç§»é™¤çš„#å·æ³¨é‡Š</p><p>ç¬¬å››æ­¥ï¼šç›´æ¥æŒ‰Deleteé”®å³å¯å®Œæˆåˆ é™¤æ³¨é‡Šçš„æ“ä½œ</p><h1 id="å…­ã€VIMç¼–è¾‘å™¨å®ç”¨åŠŸèƒ½"><a href="#å…­ã€VIMç¼–è¾‘å™¨å®ç”¨åŠŸèƒ½" class="headerlink" title="å…­ã€VIMç¼–è¾‘å™¨å®ç”¨åŠŸèƒ½"></a>å…­ã€VIMç¼–è¾‘å™¨å®ç”¨åŠŸèƒ½</h1><h2 id="1ã€ä»£ç ç€è‰²"><a href="#1ã€ä»£ç ç€è‰²" class="headerlink" title="1ã€ä»£ç ç€è‰²"></a>1ã€ä»£ç ç€è‰²</h2><p>ä¹‹å‰è¯´è¿‡vim æ˜¯vi çš„å‡çº§ç‰ˆæœ¬ï¼Œå…¶ä¸­æ¯”è¾ƒå…¸å‹çš„åŒºåˆ«å°±æ˜¯vim æ›´åŠ é€‚åˆcodingï¼Œå› ä¸ºvimæ¯”vi å¤šä¸€ä¸ªä»£ç ç€è‰²çš„åŠŸèƒ½ï¼Œè¿™ä¸ªåŠŸèƒ½ä¸»è¦æ˜¯ä¸ºç¨‹åºå‘˜æä¾›ç¼–ç¨‹è¯­è¨€å‡çš„è¯­æ³•æ˜¾ç¤ºæ•ˆæœï¼Œå¦‚ä¸‹ï¼š</p><p>ç¬¬ä¸€æ­¥ï¼šå®šä¹‰åç¼€åä¸ºç½‘é¡µæ–‡ä»¶çš„ä»£ç æ–‡ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim index.php<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬äºŒæ­¥ï¼šç¼–å†™å¯¹åº”çš„PHPä»£ç </p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">&lt;?phpecho 'hello world';?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>åœ¨VIMç¼–è¾‘å™¨ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡<code>:syntax on</code>æˆ–<code>:syntax off</code>å¼€å¯æˆ–å…³é—­ä»£ç ç€è‰²åŠŸèƒ½ã€‚</p><h2 id="2ã€å¼‚å¸¸é€€å‡ºè§£å†³æ–¹æ¡ˆ"><a href="#2ã€å¼‚å¸¸é€€å‡ºè§£å†³æ–¹æ¡ˆ" class="headerlink" title="2ã€å¼‚å¸¸é€€å‡ºè§£å†³æ–¹æ¡ˆ"></a>2ã€å¼‚å¸¸é€€å‡ºè§£å†³æ–¹æ¡ˆ</h2><p>ä»€ä¹ˆæ˜¯å¼‚å¸¸é€€å‡ºï¼šåœ¨ç¼–è¾‘æ–‡ä»¶ä¹‹åå¹¶æ²¡æœ‰æ­£å¸¸çš„å»wqï¼ˆä¿å­˜é€€å‡ºï¼‰ï¼Œè€Œæ˜¯é‡åˆ°çªç„¶å…³é—­ç»ˆç«¯æˆ–è€…æ–­ç”µçš„æƒ…å†µï¼Œåˆ™ä¼šæ˜¾ç¤ºä¸‹é¢çš„æ•ˆæœï¼Œè¿™ä¸ªæƒ…å†µç§°ä¹‹ä¸ºå¼‚å¸¸é€€å‡ºï¼š</p><p><img src="/../assets/blog_res/Linux%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%EF%BC%88%E4%B8%8A2%EF%BC%89.assets/image-20200315155600276.png" alt="image-20200315155600276"></p><blockquote><p>æ¸©é¦¨æç¤ºï¼šæ¯ä¸ªæ–‡ä»¶çš„å¼‚å¸¸æ–‡ä»¶éƒ½ä¼šæœ‰æ‰€ä¸åŒï¼Œå…¶å‘½åè§„åˆ™ä¸€èˆ¬ä¸º<code>.æ–‡ä»¶åç§°.swp</code></p></blockquote><p>è§£å†³åŠæ³•ï¼šå°†äº¤æ¢æ–‡ä»¶ï¼ˆåœ¨ç¼–ç¨‹è¿‡ç¨‹ä¸­äº§ç”Ÿçš„ä¸´æ—¶æ–‡ä»¶ï¼‰åˆ é™¤æ‰å³å¯ã€åœ¨ä¸Šè¿°æç¤ºç•Œé¢æŒ‰ä¸‹D é”®æˆ–è€…ä½¿ç”¨rm æŒ‡ä»¤åˆ é™¤äº¤æ¢æ–‡ä»¶ã€‘</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rm .1.php.swp<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="3ã€é€€å‡ºvimç¼–è¾‘å™¨"><a href="#3ã€é€€å‡ºvimç¼–è¾‘å™¨" class="headerlink" title="3ã€é€€å‡ºvimç¼–è¾‘å™¨"></a>3ã€é€€å‡ºvimç¼–è¾‘å™¨</h2><p>å›é¡¾ï¼šåœ¨vimä¸­ï¼Œé€€å‡ºæ­£åœ¨ç¼–è¾‘çš„æ–‡ä»¶å¯ä»¥ä½¿ç”¨<code>:q</code>æˆ–è€…<code>:wq</code></p><p>é™¤äº†ä¸Šé¢çš„è¿™ä¸ªè¯­æ³•ä¹‹å¤–ï¼Œvim è¿˜æ”¯æŒå¦å¤–ä¸€ä¸ªä¿å­˜é€€å‡º(é’ˆå¯¹å†…å®¹)æ–¹æ³•<code>:x</code></p><p>â‘  <code>:x</code>åœ¨æ–‡ä»¶æ²¡æœ‰ä¿®æ”¹çš„æƒ…å†µä¸‹ï¼Œè¡¨ç¤ºç›´æ¥é€€å‡ºï¼ˆç­‰ä»·äº:qï¼‰ï¼Œåœ¨æ–‡ä»¶ä¿®æ”¹çš„æƒ…å†µä¸‹è¡¨</p><p>ç¤ºä¿å­˜å¹¶é€€å‡ºï¼ˆ:wqï¼‰</p><p>â‘¡ å¦‚æœæ–‡ä»¶æ²¡æœ‰è¢«ä¿®æ”¹ï¼Œä½†æ˜¯ä½¿ç”¨wq è¿›è¡Œé€€å‡ºçš„è¯ï¼Œåˆ™æ–‡ä»¶çš„ä¿®æ”¹æ—¶é—´ä¼šè¢«æ›´æ–°ï¼›ä½†æ˜¯å¦‚æœæ–‡ä»¶æ²¡æœ‰è¢«ä¿®æ”¹ï¼Œä½¿ç”¨x è¿›è¡Œé€€å‡ºçš„è¯ï¼Œåˆ™æ–‡ä»¶ä¿®æ”¹æ—¶é—´ä¸ä¼šè¢«æ›´æ–°çš„ï¼›ä¸»è¦æ˜¯ä¼šæ··æ·†ç”¨æˆ·å¯¹æ–‡ä»¶çš„ä¿®æ”¹æ—¶é—´çš„è®¤å®šã€‚</p><h1 id="ä¸ƒã€æŸ¥çœ‹æ–‡ä»¶çš„å†…å®¹"><a href="#ä¸ƒã€æŸ¥çœ‹æ–‡ä»¶çš„å†…å®¹" class="headerlink" title="ä¸ƒã€æŸ¥çœ‹æ–‡ä»¶çš„å†…å®¹"></a>ä¸ƒã€æŸ¥çœ‹æ–‡ä»¶çš„å†…å®¹</h1><h2 id="1ã€catå‘½ä»¤"><a href="#1ã€catå‘½ä»¤" class="headerlink" title="1ã€catå‘½ä»¤"></a>1ã€catå‘½ä»¤</h2><h3 id="â˜†-è¾“å‡ºæ–‡ä»¶å†…å®¹"><a href="#â˜†-è¾“å‡ºæ–‡ä»¶å†…å®¹" class="headerlink" title="â˜† è¾“å‡ºæ–‡ä»¶å†…å®¹"></a>â˜† è¾“å‡ºæ–‡ä»¶å†…å®¹</h3><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cat æ–‡ä»¶åç§°111222333444<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸»è¦åŠŸèƒ½ï¼šæ­£åºè¾“å‡ºæ–‡ä»¶çš„å†…å®¹</p><h3 id="â˜†-åˆå¹¶å¤šä¸ªæ–‡ä»¶å†…å®¹"><a href="#â˜†-åˆå¹¶å¤šä¸ªæ–‡ä»¶å†…å®¹" class="headerlink" title="â˜† åˆå¹¶å¤šä¸ªæ–‡ä»¶å†…å®¹"></a>â˜† åˆå¹¶å¤šä¸ªæ–‡ä»¶å†…å®¹</h3><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cat æ–‡ä»¶åç§°1  æ–‡ä»¶åç§°2  ... &gt; åˆå¹¶åçš„æ–‡ä»¶åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸»è¦åŠŸèƒ½ï¼šæŠŠæ–‡ä»¶åç§°1ã€æ–‡ä»¶åç§°2ã€â€¦ä¸­çš„å†…å®¹çš„åˆå¹¶åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­</p><h2 id="2ã€tacå‘½ä»¤"><a href="#2ã€tacå‘½ä»¤" class="headerlink" title="2ã€tacå‘½ä»¤"></a>2ã€tacå‘½ä»¤</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># tac æ–‡ä»¶åç§°444333222111<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸»è¦åŠŸèƒ½ï¼šå€’åºè¾“å‡ºæ–‡ä»¶çš„å†…å®¹</p><h2 id="3ã€headå‘½ä»¤"><a href="#3ã€headå‘½ä»¤" class="headerlink" title="3ã€headå‘½ä»¤"></a>3ã€headå‘½ä»¤</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># head -n æ–‡ä»¶åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸»è¦åŠŸèƒ½ï¼šæŸ¥çœ‹ä¸€ä¸ªæ–‡ä»¶çš„å‰n è¡Œï¼Œå¦‚æœä¸æŒ‡å®šnï¼Œåˆ™é»˜è®¤æ˜¾ç¤ºå‰10 è¡Œ</p><p>æ¡ˆä¾‹ï¼šæŸ¥è¯¢linux.txtæ–‡ä»¶ä¸­çš„å‰10è¡Œ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># head linux.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŸ¥è¯¢linux.txtæ–‡ä»¶ä¸­çš„å‰3è¡Œ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># head -3 linux.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="4ã€tailå‘½ä»¤"><a href="#4ã€tailå‘½ä»¤" class="headerlink" title="4ã€tailå‘½ä»¤"></a>4ã€tailå‘½ä»¤</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># tail -n æ–‡ä»¶åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸»è¦åŠŸèƒ½ï¼šæŸ¥çœ‹ä¸€ä¸ªæ–‡ä»¶çš„æœ€ån è¡Œï¼Œå¦‚æœä¸æŒ‡å®šnï¼Œåˆ™é»˜è®¤æ˜¾ç¤ºæœ€å10 è¡Œ</p><p>æ¡ˆä¾‹ï¼šæŸ¥è¯¢linux.txtæ–‡ä»¶çš„æœ€å10è¡Œ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># tail linux.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŸ¥è¯¢linux.txtæ–‡ä»¶çš„æœ€å3è¡Œ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># tail -3 linux.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="5ã€tail-få‘½ä»¤"><a href="#5ã€tail-få‘½ä»¤" class="headerlink" title="5ã€tail -få‘½ä»¤"></a>5ã€tail -få‘½ä»¤</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># tail  -f  æ–‡ä»¶åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸»è¦åŠŸèƒ½ï¼šåŠ¨æ€æŸ¥çœ‹ä¸€ä¸ªæ–‡ä»¶å†…å®¹çš„è¾“å‡ºä¿¡æ¯ï¼ˆä¸»è¦ç”¨äºå°†æ¥æŸ¥è¯¢æ—¥å¿—æ–‡ä»¶çš„å˜åŒ–ï¼‰</p><p>æ¡ˆä¾‹ï¼šæŸ¥è¯¢ç³»ç»Ÿçš„/var/log/messagesæ–‡ä»¶çš„æ—¥å¿—ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># tail -f /var/log/messages<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é€€å‡ºæ–¹å¼å¯ä»¥ç›´æ¥æŒ‰å¿«æ·é”®ï¼šCtrl + Cï¼Œä¸­æ–­æ“ä½œ</p>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxæ–‡ä»¶ç®¡ç†ä¸ç”¨æˆ·ç®¡ç†</title>
      <link href="/2023/12/23/linux-wen-jian-guan-li-yu-yong-hu-guan-li/"/>
      <url>/2023/12/23/linux-wen-jian-guan-li-yu-yong-hu-guan-li/</url>
      
        <content type="html"><![CDATA[<h1 id="Linuxæ–‡ä»¶ç®¡ç†ä¸ç”¨æˆ·ç®¡ç†"><a href="#Linuxæ–‡ä»¶ç®¡ç†ä¸ç”¨æˆ·ç®¡ç†" class="headerlink" title="Linuxæ–‡ä»¶ç®¡ç†ä¸ç”¨æˆ·ç®¡ç†"></a>Linuxæ–‡ä»¶ç®¡ç†ä¸ç”¨æˆ·ç®¡ç†</h1><h1 id="ä¸€ã€æŸ¥çœ‹æ–‡ä»¶å†…å®¹"><a href="#ä¸€ã€æŸ¥çœ‹æ–‡ä»¶å†…å®¹" class="headerlink" title="ä¸€ã€æŸ¥çœ‹æ–‡ä»¶å†…å®¹"></a>ä¸€ã€æŸ¥çœ‹æ–‡ä»¶å†…å®¹</h1><h2 id="1ã€å›é¡¾ä¹‹å‰çš„å‘½ä»¤"><a href="#1ã€å›é¡¾ä¹‹å‰çš„å‘½ä»¤" class="headerlink" title="1ã€å›é¡¾ä¹‹å‰çš„å‘½ä»¤"></a>1ã€å›é¡¾ä¹‹å‰çš„å‘½ä»¤</h2><p>catå‘½ä»¤ã€tacå‘½ä»¤ã€headå‘½ä»¤ã€tailå‘½ä»¤ã€æ‰©å±•ï¼štail  -fåŠ¨æ€æŸ¥çœ‹ä¸€ä¸ªæ–‡ä»¶çš„å†…å®¹</p><h2 id="2ã€moreåˆ†å±æ˜¾ç¤ºæ–‡ä»¶å†…å®¹ï¼ˆäº†è§£ï¼‰"><a href="#2ã€moreåˆ†å±æ˜¾ç¤ºæ–‡ä»¶å†…å®¹ï¼ˆäº†è§£ï¼‰" class="headerlink" title="2ã€moreåˆ†å±æ˜¾ç¤ºæ–‡ä»¶å†…å®¹ï¼ˆäº†è§£ï¼‰"></a>2ã€moreåˆ†å±æ˜¾ç¤ºæ–‡ä»¶å†…å®¹ï¼ˆäº†è§£ï¼‰</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># more æ–‡ä»¶åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>ç‰¹åˆ«æ³¨æ„ï¼šmoreå‘½ä»¤åœ¨åŠ è½½æ–‡ä»¶æ—¶å¹¶ä¸æ˜¯ä¸€ç‚¹ä¸€ç‚¹è¿›è¡ŒåŠ è½½ï¼Œè€Œæ˜¯æ‰“å¼€æ–‡ä»¶æ—¶å°±å·²ç»æŠŠæ–‡ä»¶çš„å…¨éƒ¨å†…å®¹åŠ è½½åˆ°å†…å­˜ä¸­äº†ã€‚å¦‚æœæ‰“å¼€æ–‡ä»¶è¾ƒå¤§ï¼Œåˆ™å¯èƒ½ä¼šå‡ºç°å¡é¡¿æƒ…å†µã€‚</p></blockquote><p>moreå‘½ä»¤æ‹¥æœ‰ä¸€äº›äº¤äº’åŠŸèƒ½ï¼Œå¯ä»¥é€šè¿‡å¿«æ·é”®è¿›è¡Œæ“ä½œè¿™ä¸ªmoreçš„é˜…è¯»å™¨ã€‚</p><table><thead><tr><th>å›è½¦é”®</th><th>å‘ä¸‹ç§»åŠ¨ä¸€è¡Œã€‚</th></tr></thead><tbody><tr><td>d</td><td>å‘ä¸‹ç§»åŠ¨åŠé¡µã€‚</td></tr><tr><td>ç©ºæ ¼é”®</td><td>å‘ä¸‹ç§»åŠ¨ä¸€é¡µã€‚</td></tr><tr><td>b</td><td>å‘ä¸Šç§»åŠ¨ä¸€é¡µï¼ŒåæœŸå¼•å…¥åŠŸèƒ½ï¼Œæ—©æœŸmoreåªèƒ½å‰è¿›ä¸èƒ½åé€€</td></tr><tr><td>q</td><td>é€€å‡º   moreã€‚</td></tr></tbody></table><blockquote><p>æ—©æœŸmoreå‘½ä»¤æ²¡æœ‰ç°åœ¨è¿™ä¹ˆå¼ºå¤§ï¼Œå…¶åªèƒ½å‰è¿›ä¸èƒ½åé€€</p></blockquote><h2 id="3ã€lessåˆ†å±æ˜¾ç¤ºæ–‡ä»¶å†…å®¹ï¼ˆé‡ç‚¹ï¼‰"><a href="#3ã€lessåˆ†å±æ˜¾ç¤ºæ–‡ä»¶å†…å®¹ï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="3ã€lessåˆ†å±æ˜¾ç¤ºæ–‡ä»¶å†…å®¹ï¼ˆé‡ç‚¹ï¼‰"></a>3ã€lessåˆ†å±æ˜¾ç¤ºæ–‡ä»¶å†…å®¹ï¼ˆé‡ç‚¹ï¼‰</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># less æ–‡ä»¶åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>ç‰¹åˆ«æ³¨æ„ï¼šlesså‘½ä»¤ä¸æ˜¯åŠ è½½æ•´ä¸ªæ–‡ä»¶åˆ°å†…å­˜ï¼Œè€Œæ˜¯ä¸€ç‚¹ä¸€ç‚¹è¿›è¡ŒåŠ è½½ï¼Œç›¸å¯¹è€Œè¨€ï¼Œè¯»å–å¤§æ–‡ä»¶æ—¶ï¼Œæ•ˆç‡æ¯”è¾ƒé«˜ã€‚</p></blockquote><p>å¦å¤–ï¼šlesså¯ä»¥é€šè¿‡ä¸Šä¸‹æ–¹å‘é”®æ˜¾ç¤ºä¸Šä¸‹å†…å®¹ï¼Œé€€å‡ºæ—¶ä¸ä¼šåœ¨Shellä¸­ç•™ä¸‹åˆšæ˜¾ç¤ºçš„å†…å®¹</p><p>less å‘½ä»¤çš„æ‰§è¡Œä¹Ÿä¼šæ‰“å¼€ä¸€ä¸ªäº¤äº’ç•Œé¢ï¼Œä¸‹é¢æ˜¯ä¸€äº›å¸¸ç”¨äº¤äº’å‘½ä»¤ï¼ˆå’Œmoreç±»ä¼¼ï¼‰ï¼š</p><table><thead><tr><th>æŒ‰é”®</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>å›è½¦é”®</td><td>å‘ä¸‹ç§»åŠ¨ä¸€è¡Œã€‚</td></tr><tr><td>d</td><td>å‘ä¸‹ç§»åŠ¨åŠé¡µã€‚</td></tr><tr><td>ç©ºæ ¼é”®</td><td>å‘ä¸‹ç§»åŠ¨ä¸€é¡µã€‚</td></tr><tr><td>b</td><td>å‘ä¸Šç§»åŠ¨ä¸€é¡µã€‚</td></tr><tr><td>ä¸Šä¸‹æ–¹å‘é”®</td><td>å‘ä¸Šä¸å‘ä¸‹ç§»åŠ¨ï¼Œlesså‘½ä»¤ç‰¹æœ‰åŠŸèƒ½é”®</td></tr><tr><td>less -N æ–‡ä»¶åç§°</td><td>æ˜¾ç¤ºè¡Œå·</td></tr><tr><td>/ å­—ç¬¦ä¸²</td><td>æœç´¢æŒ‡å®šçš„å­—ç¬¦ä¸²ã€‚</td></tr><tr><td>q</td><td>é€€å‡ºless</td></tr></tbody></table><p>cat,more,lessä¸‰è€…çš„å¯¹æ¯”ï¼š</p><table><thead><tr><th></th><th>cat</th><th>more</th><th>less</th></tr></thead><tbody><tr><td>ä½œç”¨</td><td>æ˜¾ç¤ºå°æ–‡ä»¶(ä¸€å±ä»¥å†…)</td><td>æ˜¾ç¤ºå¤§æ–‡ä»¶ï¼ˆè¶…è¿‡ä¸€å±ï¼‰</td><td>æ˜¾ç¤ºå¤§æ–‡ä»¶ï¼ˆè¶…è¿‡ä¸€å±ï¼‰</td></tr><tr><td>äº¤äº’å‘½ä»¤</td><td>æ— </td><td>æœ‰</td><td>æœ‰</td></tr><tr><td>ä¸Šä¸‹é”®ç¿»è¡Œ</td><td>æ— </td><td>æ— </td><td>æœ‰</td></tr></tbody></table><h1 id="äºŒã€æ–‡ä»¶ç»Ÿè®¡å‘½ä»¤"><a href="#äºŒã€æ–‡ä»¶ç»Ÿè®¡å‘½ä»¤" class="headerlink" title="äºŒã€æ–‡ä»¶ç»Ÿè®¡å‘½ä»¤"></a>äºŒã€æ–‡ä»¶ç»Ÿè®¡å‘½ä»¤</h1><h2 id="1ã€wcå‘½ä»¤"><a href="#1ã€wcå‘½ä»¤" class="headerlink" title="1ã€wcå‘½ä»¤"></a>1ã€wcå‘½ä»¤</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># wc [é€‰é¡¹] æ–‡ä»¶åç§°é€‰é¡¹è¯´æ˜ï¼š-lï¼šè¡¨ç¤ºlinesï¼Œè¡Œæ•°ï¼ˆä»¥å›è½¦/æ¢è¡Œç¬¦ä¸ºæ ‡å‡†ï¼‰-wï¼šè¡¨ç¤ºwordsï¼Œå•è¯æ•° ä¾ç…§ç©ºæ ¼æ¥åˆ¤æ–­å•è¯æ•°é‡-cï¼šè¡¨ç¤ºbytesï¼Œå­—èŠ‚æ•°ï¼ˆç©ºæ ¼ï¼Œå›è½¦ï¼Œæ¢è¡Œï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šç»Ÿè®¡linux.txtæ–‡ä»¶çš„æ€»è¡Œæ•°</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># wc -l linux.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šç»Ÿè®¡linux.txtæ–‡ä»¶ä¸­çš„å•è¯æ•°</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># wc -w linux.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šç»Ÿè®¡æ–‡ä»¶çš„å­—èŠ‚æ•°ï¼ˆæ•°å­—ã€å­—æ¯ä¸€èˆ¬1ä¸ªå­—ç¬¦=1ä¸ªå­—èŠ‚ï¼Œä¸­æ–‡å’Œç¼–ç æ ¼å¼æœ‰å…³ï¼Œå¦‚utf-8ç¼–ç æ ¼å¼ï¼Œ1ä¸ªæ±‰å­—å ç”¨3ä¸ªå­—èŠ‚ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># wc -c linux.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>æ‰©å±•ï¼šwc  [é€‰é¡¹]  æ–‡ä»¶çš„åç§°å¯ä»¥ç»Ÿè®¡ä¸€ä¸ªæ–‡ä»¶çš„ä¿¡æ¯ï¼Œå®é™…æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬é€‰é¡¹è¿˜å¯ä»¥ä¸€èµ·ä½¿ç”¨</p></blockquote><p>æ¡ˆä¾‹ï¼šç»Ÿè®¡ä¸€ä¸ªæ–‡ä»¶çš„æ€»è¡Œæ•°ã€æ€»å•è¯æ•°ä»¥åŠæ€»å­—èŠ‚æ•°</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># wc -wlc linux.txtæˆ–# wc -lwc linux.txtæˆ–# wc -clw linux.txt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2ã€duå‘½ä»¤"><a href="#2ã€duå‘½ä»¤" class="headerlink" title="2ã€duå‘½ä»¤"></a>2ã€duå‘½ä»¤</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># du [é€‰é¡¹] ç»Ÿè®¡çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹é€‰é¡¹è¯´æ˜ï¼š-s ï¼šsummariesï¼Œåªæ˜¾ç¤ºæ±‡æ€»çš„å¤§å°ï¼Œç»Ÿè®¡æ–‡ä»¶å¤¹çš„å¤§å°-h ï¼šä»¥è¾ƒé«˜çš„å¯è¯»æ€§æ˜¾ç¤ºæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹çš„å¤§å°ï¼Œï¼ˆKB/MB/GB/TB)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸»è¦åŠŸèƒ½ï¼šæŸ¥çœ‹æ–‡ä»¶æˆ–ç›®å½•(ä¼šé€’å½’æ˜¾ç¤ºå­ç›®å½•)å ç”¨ç£ç›˜ç©ºé—´å¤§å°</p><p>æ¡ˆä¾‹ï¼šæ˜¾ç¤ºreadme.txtæ–‡ä»¶çš„å¤§å°ï¼ˆå ç”¨ç£ç›˜ç©ºé—´ï¼Œä¸æ˜¾ç¤ºæ–‡ä»¶å¤§å°çš„å•ä½ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># du readme.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæ˜¾ç¤ºreadme.txtæ–‡ä»¶çš„å¤§å°ï¼ˆå ç”¨ç£ç›˜ç©ºé—´ï¼Œæ˜¾ç¤ºæ–‡ä»¶å¤§å°çš„å•ä½ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># du -h readme.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šç»Ÿè®¡wechatæ–‡ä»¶å¤¹çš„å¤§å°</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># du -sh wechat<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šç»Ÿè®¡/etcç›®å½•çš„å¤§å°</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># du -sh /etc<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h1 id="ä¸‰ã€æ–‡ä»¶å¤„ç†å‘½ä»¤"><a href="#ä¸‰ã€æ–‡ä»¶å¤„ç†å‘½ä»¤" class="headerlink" title="ä¸‰ã€æ–‡ä»¶å¤„ç†å‘½ä»¤"></a>ä¸‰ã€æ–‡ä»¶å¤„ç†å‘½ä»¤</h1><h2 id="1ã€findå‘½ä»¤"><a href="#1ã€findå‘½ä»¤" class="headerlink" title="1ã€findå‘½ä»¤"></a>1ã€findå‘½ä»¤</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># find æœç´¢è·¯å¾„ [é€‰é¡¹]é€‰é¡¹è¯´æ˜ï¼š-nameï¼šæŒ‡å®šè¦æœç´¢æ–‡ä»¶çš„åç§°ï¼Œæ”¯æŒ*æ˜Ÿå·é€šé…ç¬¦ï¼ˆShift + 8ï¼‰-typeï¼šä»£è¡¨æœç´¢çš„æ–‡ä»¶ç±»å‹ï¼Œfä»£è¡¨æ™®é€šæ–‡ä»¶ï¼Œdä»£è¡¨æ–‡ä»¶å¤¹=&gt;åŠ å¿«æ£€ç´¢é€Ÿåº¦<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸»è¦åŠŸèƒ½ï¼šå½“æˆ‘ä»¬æŸ¥æ‰¾ä¸€ä¸ªæ–‡ä»¶æ—¶ï¼Œå¿…é¡»ä½¿ç”¨çš„ä¸€ä¸ªå‘½ä»¤ã€‚</p><p>æ¡ˆä¾‹ï¼šæœç´¢/varç›®å½•ä¸­boot.logæ–‡ä»¶ï¼ˆæ™®é€šæ–‡ä»¶ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># find /var -name "boot.log" -type f<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šå…¨ç›˜æœç´¢sshç›®å½•</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># find / -name "ssh" -type d <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>ç‰¹åˆ«æ³¨æ„ï¼šå®é™…å·¥ä½œæ—¶ï¼Œå°½é‡å‡å°‘å…¨ç›˜æ£€ç´¢ï¼Œæ¯”è¾ƒæ¶ˆè€—èµ„æº</p></blockquote><p>æ‰©å±•åŠŸèƒ½ï¼šfindå®ç°æ¨¡ç³ŠæŸ¥è¯¢ï¼ˆå¿…é¡»ç»“åˆé€šé…ç¬¦ï¼‰</p><p>æ¡ˆä¾‹ï¼šæœç´¢/var/logç›®å½•ä¸‹çš„æ‰€æœ‰çš„ä»¥â€.logâ€ç»“å°¾çš„æ–‡ä»¶ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># find /var/log -name "*.log" -type f<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>* ï¼šé€šé…ç¬¦ï¼Œä»£è¡¨ä»»æ„ä¸ªä»»æ„å­—ç¬¦ã€‚å¦‚*.logä»£è¡¨ä»¥.logç»“å°¾çš„æ–‡ä»¶ï¼Œapache*ä»£è¡¨æœç´¢ä»¥apacheå¼€å¤´çš„æ–‡ä»¶ä¿¡æ¯</p></blockquote><h2 id="2ã€grepå‘½ä»¤"><a href="#2ã€grepå‘½ä»¤" class="headerlink" title="2ã€grepå‘½ä»¤"></a>2ã€grepå‘½ä»¤</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># grep [é€‰é¡¹] è¦æœç´¢çš„å…³é”®è¯ æœç´¢çš„æ–‡ä»¶åç§°é€‰é¡¹è¯´æ˜ï¼š-n ï¼šä»£è¡¨æ˜¾ç¤ºåŒ…å«å…³é”®è¯çš„è¡Œå·ä¿¡æ¯<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å•ä½ï¼šè¡Œï¼Œä¸€è¡Œä¸€è¡Œå‘ä¸‹æœç´¢</p><p>ä¸»è¦åŠŸèƒ½ï¼šåœ¨æ–‡ä»¶ä¸­ç›´æ¥æ‰¾åˆ°åŒ…å«æŒ‡å®šå…³é”®è¯çš„é‚£äº›è¡Œï¼Œå¹¶æŠŠè¿™äº›ä¿¡æ¯é«˜äº®æ˜¾ç¤ºå‡ºæ¥</p><p>æ¡ˆä¾‹ï¼šåœ¨initial-setup-ks.cfgæ–‡ä»¶ä¸­æœç´¢åŒ…å«å…³é”®è¯â€networkâ€çš„è¡Œ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># grep network initial-setup-ks.cfg<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåœ¨initial-setup-ks.cfgæ–‡ä»¶ä¸­æœç´¢åŒ…å«å…³é”®è¯â€networkâ€çš„è¡Œï¼Œç„¶åæ˜¾ç¤ºè¡Œå·ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># grep -n network initial-setup-ks.cfg<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ‰©å±•è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># grep è¦æœç´¢çš„å…³é”®è¯ å¤šä¸ªæ–‡ä»¶çš„åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸»è¦åŠŸèƒ½ï¼šåœ¨å¤šä¸ªæ–‡ä»¶ä¸­æŸ¥æ‰¾åŒ…å«æŒ‡å®šå…³é”®è¯çš„é‚£äº›è¡Œï¼Œå¹¶é«˜äº®æ˜¾ç¤ºå‡ºæ¥</p><p>æ¡ˆä¾‹ï¼šæœç´¢/var/logç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶ï¼Œæ‰¾åˆ°åŒ…å«å…³é”®è¯â€networkâ€çš„æ‰€æœ‰è¡Œä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># grep network /var/log/*<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="3ã€echoå‘½ä»¤"><a href="#3ã€echoå‘½ä»¤" class="headerlink" title="3ã€echoå‘½ä»¤"></a>3ã€echoå‘½ä»¤</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># echo "æ–‡æœ¬å†…å®¹"<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸»è¦åŠŸèƒ½ï¼šåœ¨ç»ˆç«¯ä¸­è¾“å…¥æŒ‡å®šçš„æ–‡æœ¬å†…å®¹</p><p>æ¡ˆä¾‹ï¼šåœ¨ç»ˆç«¯ä¸­ï¼Œè¾“å‡ºhello worldå­—ç¬¦ä¸²</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># echo "hello world"<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="4ã€è¾“å‡ºé‡å®šå‘"><a href="#4ã€è¾“å‡ºé‡å®šå‘" class="headerlink" title="4ã€è¾“å‡ºé‡å®šå‘"></a>4ã€è¾“å‡ºé‡å®šå‘</h2><p>åœºæ™¯ï¼šä¸€èˆ¬å‘½ä»¤çš„è¾“å‡ºéƒ½ä¼šæ˜¾ç¤ºåœ¨ç»ˆç«¯ä¸­ï¼Œæœ‰äº›æ—¶å€™éœ€è¦å°†ä¸€äº›å‘½ä»¤çš„æ‰§è¡Œç»“æœæƒ³è¦ä¿å­˜åˆ°æ–‡ä»¶ä¸­è¿›è¡Œåç»­çš„åˆ†æ/ç»Ÿè®¡ï¼Œåˆ™è¿™æ—¶å€™éœ€è¦ä½¿ç”¨åˆ°çš„è¾“å‡ºé‡å®šå‘æŠ€æœ¯ã€‚</p><p>&gt;  ï¼šæ ‡å‡†è¾“å‡ºé‡å®šå‘ : è¦†ç›–è¾“å‡ºï¼Œä¼šè¦†ç›–æ‰åŸå…ˆçš„æ–‡ä»¶å†…å®¹</p><p>&gt;&gt;ï¼šè¿½åŠ é‡å®šå‘ : è¿½åŠ è¾“å‡ºï¼Œä¸ä¼šè¦†ç›–åŸå§‹æ–‡ä»¶å†…å®¹ï¼Œä¼šåœ¨åŸå§‹å†…å®¹æœ«å°¾ç»§ç»­æ·»åŠ </p><p>æ¡ˆä¾‹ï¼šæŠŠechoè¾“å‡ºçš„â€hello worldâ€å†™å…¥åˆ°readme.txtæ–‡ä»¶ä¸­</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># echo "hello world" &gt; readme.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä»¥ä¸Šç¨‹åºçš„ä¸»è¦åŠŸèƒ½ä»£è¡¨æŠŠechoå‘½ä»¤çš„æ‰§è¡Œç»“æœï¼Œè¾“å‡ºå†™å…¥åˆ°readme.txtæ–‡ä»¶ä¸­ï¼Œå¦‚æœreadme.txtæ–‡ä»¶ä¸­å­˜åœ¨å†…å®¹ï¼Œåˆ™é¦–å…ˆæ¸…ç©ºï¼Œç„¶ååœ¨å†™å…¥hello world</p><p>æ¡ˆä¾‹ï¼šæŠŠechoè¾“å‡ºçš„â€hello linuxâ€å†™å…¥åˆ°readme.txtï¼Œè¦æ±‚ä¸èƒ½è¦†ç›–åŸæ¥çš„å†…å®¹</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># echo "hello linux" &gt;&gt; readme.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h1 id="å››ã€Linuxæ“ä½œç³»ç»Ÿç”¨æˆ·å’Œç»„çš„æ¦‚å¿µ"><a href="#å››ã€Linuxæ“ä½œç³»ç»Ÿç”¨æˆ·å’Œç»„çš„æ¦‚å¿µ" class="headerlink" title="å››ã€Linuxæ“ä½œç³»ç»Ÿç”¨æˆ·å’Œç»„çš„æ¦‚å¿µ"></a>å››ã€Linuxæ“ä½œç³»ç»Ÿç”¨æˆ·å’Œç»„çš„æ¦‚å¿µ</h1><h2 id="1ã€ä¸ºä»€ä¹ˆéœ€è¦äº†è§£ç”¨æˆ·å’Œç»„"><a href="#1ã€ä¸ºä»€ä¹ˆéœ€è¦äº†è§£ç”¨æˆ·å’Œç»„" class="headerlink" title="1ã€ä¸ºä»€ä¹ˆéœ€è¦äº†è§£ç”¨æˆ·å’Œç»„"></a>1ã€ä¸ºä»€ä¹ˆéœ€è¦äº†è§£ç”¨æˆ·å’Œç»„</h2><p>æœåŠ¡å™¨è¦æ·»åŠ å¤šè´¦æˆ·çš„ä½œç”¨</p><p>â€‹        é’ˆå¯¹ä¸åŒç”¨æˆ·åˆ†é…==ä¸åŒçš„æƒé™==ï¼Œä¸åŒæƒé™å¯ä»¥é™åˆ¶ç”¨æˆ·==å¯ä»¥è®¿é—®åˆ°çš„ç³»ç»Ÿèµ„æº==<br>â€‹        æé«˜ç³»ç»Ÿçš„å®‰å…¨æ€§<br>â€‹        å¸®åŠ©ç³»ç»Ÿç®¡ç†å‘˜å¯¹ä½¿ç”¨ç³»ç»Ÿçš„ç”¨æˆ·è¿›è¡Œè·Ÿè¸ª</p><h2 id="2ã€ç”¨æˆ·å’Œç»„çš„å…³ç³»"><a href="#2ã€ç”¨æˆ·å’Œç»„çš„å…³ç³»" class="headerlink" title="2ã€ç”¨æˆ·å’Œç»„çš„å…³ç³»"></a>2ã€ç”¨æˆ·å’Œç»„çš„å…³ç³»</h2><p><img src="/../assets/blog_res/Linux%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%E4%B8%8E%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86.assets/image-20200317145905871.png" alt="image-20200317145905871"></p><p>ç†è®ºä¸ŠLinuxç³»ç»Ÿä¸­çš„æ¯ä¸ªç”¨æˆ·åœ¨åˆ›å»ºæ—¶éƒ½åº”è¯¥æœ‰ä¸€ä¸ªå¯¹åº”çš„ç”¨æˆ·ç»„ï¼Œè¿™ä¸ªç»„å°±ç§°ä¹‹ä¸ºç”¨æˆ·çš„ä¸»ç»„ã€‚åŒæ—¶ï¼Œæœ‰äº›æƒ…å†µä¸‹ï¼ŒæŸä¸ªç”¨æˆ·éœ€è¦ä¸´æ—¶ä½¿ç”¨æŸä¸ªç»„çš„æƒé™ï¼Œé‚£è¿™ä¸ªç»„å°±ç§°ä¹‹ä¸ºè¿™ä¸ªç”¨æˆ·çš„é™„å±ç»„æˆ–é™„åŠ ç»„ã€‚</p><blockquote><p>ä¸»ç»„åªèƒ½æ‹¥æœ‰ä¸€ä¸ªï¼Œä½†æ˜¯é™„å±ç»„æˆ–é™„åŠ ç»„å¯ä»¥åŒæ—¶æ‹¥æœ‰å¤šä¸ª =&gt;  äº²çˆ¹ï¼Œå¹²çˆ¹ï¼ˆå¤šä¸ªï¼‰</p></blockquote><h2 id="3ã€ç”¨æˆ·ç»„æ“ä½œ"><a href="#3ã€ç”¨æˆ·ç»„æ“ä½œ" class="headerlink" title="3ã€ç”¨æˆ·ç»„æ“ä½œ"></a>3ã€ç”¨æˆ·ç»„æ“ä½œ</h2><p>ç”¨æˆ·ç»„çš„æ“ä½œæ— ç–‘ä¸‰ä»¶äº‹ï¼šç”¨æˆ·ç»„çš„æ·»åŠ ã€ç”¨æˆ·ç»„çš„ä¿®æ”¹ä»¥åŠç”¨æˆ·ç»„çš„åˆ é™¤æ“ä½œ</p><p>ç»„ï¼šgroup</p><p>æ·»åŠ ï¼šadd</p><p>ä¿®æ”¹ï¼šmod</p><p>åˆ é™¤ï¼šdel</p><h3 id="â˜†-ç”¨æˆ·ç»„çš„æ·»åŠ "><a href="#â˜†-ç”¨æˆ·ç»„çš„æ·»åŠ " class="headerlink" title="â˜† ç”¨æˆ·ç»„çš„æ·»åŠ "></a>â˜† ç”¨æˆ·ç»„çš„æ·»åŠ </h3><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># groupadd [é€‰é¡¹]  ç”¨æˆ·ç»„çš„ç»„åç§°é€‰é¡¹è¯´æ˜ï¼š-g ï¼šä»£è¡¨ç”¨æˆ·ç»„çš„ç»„IDç¼–å·ï¼Œè‡ªå®šä¹‰ç»„å¿…é¡»ä»1000å¼€å§‹ï¼Œä¸èƒ½é‡å¤<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåœ¨ç³»ç»Ÿä¸­æ·»åŠ ä¸€ä¸ªhrçš„ç”¨æˆ·ç»„</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># groupadd hr<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåœ¨ç³»ç»Ÿä¸­æ·»åŠ ä¸€ä¸ªtestçš„ç”¨æˆ·ç»„å¹¶æŒ‡å®šå®šç¼–å·1100</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># groupadd -g 1100 test<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é—®é¢˜ï¼šæˆ‘ä»¬åˆšæ‰åˆ›å»ºçš„hrä»¥åŠtestç”¨æˆ·ç»„åˆ°åº•æ·»åŠ åˆ°å“ªé‡Œäº†ï¼Ÿ</p><p>ç­”ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ·»åŠ çš„ç”¨æˆ·ç»„éƒ½ä¼šæ”¾åœ¨ä¸€ä¸ªç³»ç»Ÿæ–‡ä»¶ä¸­ï¼Œæ–‡ä»¶ä½ç½®=&gt;/etc/group</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># tail -3 /etc/grouproot:x:0:itheima:x:1000:<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="â˜†-etc-groupæ–‡ä»¶è§£æ"><a href="#â˜†-etc-groupæ–‡ä»¶è§£æ" class="headerlink" title="â˜† /etc/groupæ–‡ä»¶è§£æ"></a>â˜† /etc/groupæ–‡ä»¶è§£æ</h3><p>ç”±ä»¥ä¸Šå‘½ä»¤çš„æ‰§è¡Œç»“æœå¯çŸ¥ï¼Œåœ¨/etc/groupæ–‡ä»¶ä¸­ï¼Œå…¶ä¸€å…±æ‹¥æœ‰ä¸‰ä¸ªå†’å·ï¼Œå…±å››åˆ—ã€‚æ¯åˆ—å«ä¹‰ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">ç¬¬ä¸€åˆ—ï¼šç”¨æˆ·ç»„çš„ç»„åç§°ç¬¬äºŒåˆ—ï¼šç”¨æˆ·ç»„çš„ç»„å¯†ç ï¼Œä½¿ç”¨ä¸€ä¸ªxå ä½ç¬¦ç¬¬ä¸‰åˆ—ï¼šç”¨æˆ·ç»„çš„ç»„IDç¼–å·ï¼Œ1-999ä»£è¡¨ç³»ç»Ÿç”¨æˆ·ç»„çš„ç»„ç¼–å·ï¼Œ1000ä»¥åçš„ä»£è¡¨è‡ªå®šä¹‰ç»„çš„ç»„ç¼–å·CentOS6 =&gt; 1-499,500...CentOS7 =&gt; 1-999,1000...ç¬¬å››åˆ—ï¼šç”¨æˆ·ç»„å†…çš„ç”¨æˆ·ä¿¡æ¯ï¼ˆå¦‚æœä¸€ä¸ªç”¨æˆ·çš„é™„å±ç»„æˆ–é™„åŠ ç»„ä¸ºè¿™ä¸ªç»„åï¼Œåˆ™æ˜¾ç¤ºåœ¨æ­¤ä½ç½®ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="â˜†-ç”¨æˆ·ç»„çš„ä¿®æ”¹"><a href="#â˜†-ç”¨æˆ·ç»„çš„ä¿®æ”¹" class="headerlink" title="â˜† ç”¨æˆ·ç»„çš„ä¿®æ”¹"></a>â˜† ç”¨æˆ·ç»„çš„ä¿®æ”¹</h3><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># groupmod [é€‰é¡¹ é€‰é¡¹çš„å€¼] åŸæ¥ç»„çš„ç»„åç§°é€‰é¡¹è¯´æ˜ï¼š-g ï¼šgidç¼©å†™ï¼Œè®¾ç½®ä¸€ä¸ªè‡ªå®šä¹‰çš„ç”¨æˆ·ç»„IDæ•°å­—ï¼Œ1000ä»¥å-n ï¼šnameç¼©å†™ï¼Œè®¾ç½®æ–°çš„ç”¨æˆ·ç»„çš„åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠhrç”¨æˆ·ç»„æ›´åä¸ºszhr</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># groupmod -n szhr hr<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠtestç”¨æˆ·ç»„çš„ç»„ç¼–å·ç”±1100æ›´æ”¹ä¸º1003</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># groupmod -g 1003 test<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠitcastç»„çš„ç»„åç§°æ›´æ”¹ä¸ºadminä¸”ç”¨æˆ·ç»„çš„ç»„ç¼–å·æ›´æ”¹ä¸º1004</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># groupmod -g 1004 -n admin itcast<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â˜†-ç”¨æˆ·ç»„çš„åˆ é™¤"><a href="#â˜†-ç”¨æˆ·ç»„çš„åˆ é™¤" class="headerlink" title="â˜† ç”¨æˆ·ç»„çš„åˆ é™¤"></a>â˜† ç”¨æˆ·ç»„çš„åˆ é™¤</h3><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># groupdel ç”¨æˆ·ç»„åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šä½¿ç”¨groupdelåˆ é™¤testç”¨æˆ·ç»„</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># groupdel test<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="4ã€ç”¨æˆ·æ“ä½œ"><a href="#4ã€ç”¨æˆ·æ“ä½œ" class="headerlink" title="4ã€ç”¨æˆ·æ“ä½œ"></a>4ã€ç”¨æˆ·æ“ä½œ</h2><p>ç”¨æˆ·ï¼šuser</p><p>æ·»åŠ ï¼šadd</p><p>ä¿®æ”¹ï¼šmod</p><p>åˆ é™¤ï¼šdel</p><h3 id="â˜†-ç”¨æˆ·çš„æ·»åŠ "><a href="#â˜†-ç”¨æˆ·çš„æ·»åŠ " class="headerlink" title="â˜† ç”¨æˆ·çš„æ·»åŠ "></a>â˜† ç”¨æˆ·çš„æ·»åŠ </h3><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># useradd [é€‰é¡¹ é€‰é¡¹çš„å€¼] ç”¨æˆ·åç§°é€‰é¡¹è¯´æ˜ï¼š-g ï¼šä»£è¡¨æ·»åŠ ç”¨æˆ·æ—¶æŒ‡å®šç”¨æˆ·æ‰€å±ç»„çš„ä¸»ç»„ï¼Œå”¯ä¸€çš„ç»„ä¿¡æ¯ï¼ˆé‡è¦ï¼‰-s ï¼šä»£è¡¨æŒ‡å®šç”¨æˆ·å¯ä»¥ä½¿ç”¨çš„Shellç±»å‹ï¼Œé»˜è®¤ä¸º/bin/bashï¼ˆæ‹¥æœ‰å¤§éƒ¨åˆ†æƒé™ï¼‰è¿˜å¯ä»¥æ˜¯/sbin/nologinï¼Œä»£è¡¨è´¦å·åˆ›å»ºæˆåŠŸï¼Œä½†æ˜¯ä¸èƒ½ç”¨äºç™»å½•æ“ä½œç³»ç»Ÿã€‚/bin/bash =&gt; ç»™äººä½¿ç”¨çš„ï¼ˆè¿ç»´å·¥ç¨‹å¸ˆï¼‰/sbin/nologin =&gt; ç»™è½¯ä»¶ä½¿ç”¨çš„-G ï¼šä»£è¡¨æ·»åŠ ç”¨æˆ·æ—¶æŒ‡å®šç”¨æˆ·æ‰€å±ç»„çš„é™„å±ç»„æˆ–é™„åŠ ç»„ï¼Œå¯ä»¥æŒ‡å®šå¤šä¸ªï¼Œç”¨é€—å·éš”å¼€å³å¯(äº†è§£)-u ï¼šä»£è¡¨æ·»åŠ ç”¨æˆ·æ—¶æŒ‡å®šçš„ç”¨æˆ·IDç¼–å·ï¼ŒCentOS6ä»500å¼€å§‹ï¼ŒCentOS7ä¸­ä»1000å¼€å§‹(äº†è§£)-c ï¼šä»£è¡¨ç”¨æˆ·çš„å¤‡æ³¨ä¿¡æ¯ï¼Œcqw:123456:(é™ˆæƒä¼Ÿçš„è´¦å·)-d ï¼šä»£è¡¨ç”¨æˆ·çš„å®¶ç›®å½•ï¼Œé»˜è®¤ä¸º/home/ç”¨æˆ·åç§°ã€‚å¯ä»¥ä½¿ç”¨-dè¿›è¡Œæ›´æ”¹-n ï¼šå–æ¶ˆå»ºç«‹ä»¥ç”¨æˆ·åç§°ä¸ºåçš„ç¾¤ç»„ï¼ˆäº†è§£ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåœ¨ç³»ç»Ÿä¸­åˆ›å»ºä¸€ä¸ªlinuxuserè´¦å·</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># useradd linuxuser<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é—®é¢˜ï¼šæˆ‘ä»¬å¹¶æ²¡æœ‰ä¸ºlinuxuserè´¦å·æŒ‡å®šæ‰€å±çš„ä¸»ç»„ï¼Œå¯ä»¥æˆåŠŸåˆ›å»ºè´¦å·ä¹ˆï¼Ÿ</p><p>ç­”ï¼šå¯ä»¥ï¼Œå› ä¸ºåœ¨åˆ›å»ºè´¦å·æ—¶ï¼Œå¦‚æœæ²¡æœ‰æ˜ç¡®æŒ‡å®šç”¨æˆ·æ‰€å±çš„ä¸»ç»„ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åœ¨ç”¨æˆ·ç»„ä¸­åˆ›å»ºä¸€ä¸ªä¸ç”¨æˆ·linuxuseråŒåçš„ç”¨æˆ·ç»„ï¼Œè¿™ä¸ªç»„å°±æ˜¯è¿™ä¸ªç”¨æˆ·çš„ä¸»ç»„ã€‚</p><p>é—®é¢˜ï¼šåˆšæ‰åˆ›å»ºçš„linuxuserè´¦å·èƒ½ä¸èƒ½ç”¨äºç™»å½•æ“ä½œç³»ç»Ÿ</p><p>ç­”ï¼šä¸è¡Œï¼Œå› ä¸ºLinuxçš„ç™»å½•è´¦å·==å¿…é¡»è¦æ±‚æœ‰å¯†ç ==ï¼Œå¦‚æœä¸€ä¸ªè´¦å·æ²¡æœ‰å¯†ç æ˜¯æ— æ³•ç™»å½•æ“ä½œç³»ç»Ÿçš„ã€‚</p><p>æ¡ˆä¾‹ï¼šåœ¨ç³»ç»Ÿä¸­åˆ›å»ºä¸€ä¸ªè´¦å·zhangsanï¼ŒæŒ‡å®šç”¨æˆ·æ‰€å±çš„ä¸»ç»„ä¸ºitheima</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">ç¬¬ä¸€æ­¥ï¼šæŸ¥è¯¢ä¸€ä¸‹itheimaçš„ç»„IDç¼–å·# tail -5 /etc/groupitheima:x:1000:ç¬¬äºŒæ­¥ï¼šæ ¹æ®ç»„çš„ç¼–å·æ·»åŠ ç”¨æˆ·# useradd -g 1000 zhangsan<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåœ¨ç³»ç»Ÿä¸­åˆ›å»ºä¸€ä¸ªè´¦å·lisiï¼ŒæŒ‡å®šä¸»ç»„ä¸ºitheimaï¼Œæ­¤ç”¨æˆ·åªèƒ½è¢«è½¯ä»¶æ‰€ä½¿ç”¨ï¼Œä¸èƒ½ç”¨äºç™»å½•æ“ä½œç³»ç»Ÿ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># useradd -g 1000 -s /sbin/nologin lisi<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåœ¨ç³»ç»Ÿä¸­åˆ›å»ºä¸€ä¸ªwangwuï¼ŒæŒ‡å®šä¸»ç»„ä¸ºwangwuï¼Œé™„å±ç»„ä¸ºitheima</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># useradd -G 1000 wangwu<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â˜†-ç”¨æˆ·ä¿¡æ¯æŸ¥è¯¢"><a href="#â˜†-ç”¨æˆ·ä¿¡æ¯æŸ¥è¯¢" class="headerlink" title="â˜† ç”¨æˆ·ä¿¡æ¯æŸ¥è¯¢"></a>â˜† ç”¨æˆ·ä¿¡æ¯æŸ¥è¯¢</h3><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># id ç”¨æˆ·åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸»è¦åŠŸèƒ½ï¼šæŸ¥è¯¢æŸä¸ªæŒ‡å®šçš„ç”¨æˆ·ä¿¡æ¯</p><p>æ¡ˆä¾‹ï¼šæŸ¥è¯¢linuxuserç”¨æˆ·çš„ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># id linuxuseruid=1002(linuxuser) gid=1005(linuxuser) groups=1005(linuxuser)uidï¼šç”¨æˆ·ç¼–å·gidï¼šç”¨æˆ·æ‰€å±çš„ä¸»ç»„çš„ç¼–å·groupsï¼šç”¨æˆ·çš„ä¸»ç»„ä»¥åŠé™„å±ç»„ä¿¡æ¯ï¼Œç¬¬ä¸€ä¸ªæ˜¯ä¸»ç»„ï¼Œåé¢çš„éƒ½æ˜¯é™„å±ç»„æˆ–é™„åŠ ç»„ä¿¡æ¯<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxç”¨æˆ·ç®¡ç†ä¸è¿œç¨‹ç®¡ç†</title>
      <link href="/2023/12/23/linux-yong-hu-guan-li-yu-yuan-cheng-guan-li/"/>
      <url>/2023/12/23/linux-yong-hu-guan-li-yu-yuan-cheng-guan-li/</url>
      
        <content type="html"><![CDATA[<h1 id="Linuxç”¨æˆ·ç®¡ç†ä¸è¿œç¨‹ç®¡ç†"><a href="#Linuxç”¨æˆ·ç®¡ç†ä¸è¿œç¨‹ç®¡ç†" class="headerlink" title="Linuxç”¨æˆ·ç®¡ç†ä¸è¿œç¨‹ç®¡ç†"></a>Linuxç”¨æˆ·ç®¡ç†ä¸è¿œç¨‹ç®¡ç†</h1><h1 id="ä¸€ã€ç”¨æˆ·ç®¡ç†"><a href="#ä¸€ã€ç”¨æˆ·ç®¡ç†" class="headerlink" title="ä¸€ã€ç”¨æˆ·ç®¡ç†"></a>ä¸€ã€ç”¨æˆ·ç®¡ç†</h1><h2 id="1ã€å›é¡¾ç”¨æˆ·ç»„ç®¡ç†"><a href="#1ã€å›é¡¾ç”¨æˆ·ç»„ç®¡ç†" class="headerlink" title="1ã€å›é¡¾ç”¨æˆ·ç»„ç®¡ç†"></a>1ã€å›é¡¾ç”¨æˆ·ç»„ç®¡ç†</h2><p>groupadd ï¼šç»„æ·»åŠ </p><p>groupmodï¼šç»„ä¿®æ”¹</p><p>groupdelï¼šç»„åˆ é™¤</p><p>ä¸ç”¨æˆ·ç»„ç›¸å…³çš„æ–‡ä»¶/etc/groupï¼Œä¸€å…±æ‹¥æœ‰4åˆ—</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">itheima:x:1000:1-ç»„åç§°2-ç»„å¯†ç 3-ç»„ç¼–å·4-ç»„å†…ç”¨æˆ·ä¿¡æ¯ï¼ˆè¿™ä¸ªç»„å¿…é¡»æ˜¯è¿™ä¸ªç”¨æˆ·çš„é™„å±ç»„æˆ–é™„åŠ ç»„ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2ã€å›é¡¾ç”¨æˆ·ç®¡ç†"><a href="#2ã€å›é¡¾ç”¨æˆ·ç®¡ç†" class="headerlink" title="2ã€å›é¡¾ç”¨æˆ·ç®¡ç†"></a>2ã€å›é¡¾ç”¨æˆ·ç®¡ç†</h2><p>useraddç”¨æˆ·çš„æ·»åŠ </p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># useradd [é€‰é¡¹ é€‰é¡¹çš„å€¼]  ç”¨æˆ·åç§°é€‰é¡¹è¯´æ˜ï¼š-g ï¼šæŒ‡å®šç”¨æˆ·çš„ä¸»ç»„çš„ç¼–å·ä¿¡æ¯-s ï¼šæŒ‡å®šç”¨æˆ·å¯ä»¥ä½¿ç”¨çš„Shellç±»å‹/bin/bash ï¼šç»™äººç”¨çš„ï¼Œç»™è¿ç»´å·¥ç¨‹å¸ˆ/sbin/nologin ï¼šç»™è½¯ä»¶ç”¨çš„ï¼Œæ¯”å¦‚mysql-G ï¼šæŒ‡å®šé™„å±ç»„çš„IDç¼–å·ï¼Œå¦‚æœæœ‰å¤šä¸ªé™„å±ç»„ï¼Œå¯ä»¥ä½¿ç”¨é€—å·éš”å¼€ useradd -G 1000,1001 ..-d ï¼šæŒ‡å®šç”¨æˆ·çš„å®¶ï¼Œ/home/itheimaï¼Œuseradd -d /itheima itheima-u ï¼šæŒ‡å®šç”¨æˆ·çš„IDç¼–å·ï¼Œé»˜è®¤æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„-c ï¼šcommentï¼Œæ³¨é‡Šä¿¡æ¯ï¼Œscj:x:uid:gid:å®‹æ¥šæ°çš„è´¦å·-n ï¼šå–æ¶ˆä»¥ç”¨æˆ·åç§°å‘½åçš„ç»„ä¿¡æ¯<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>idå‘½ä»¤</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># id itheima<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="3ã€ä¸ç”¨æˆ·ç›¸å…³çš„ç”¨æˆ·æ–‡ä»¶"><a href="#3ã€ä¸ç”¨æˆ·ç›¸å…³çš„ç”¨æˆ·æ–‡ä»¶" class="headerlink" title="3ã€ä¸ç”¨æˆ·ç›¸å…³çš„ç”¨æˆ·æ–‡ä»¶"></a>3ã€ä¸ç”¨æˆ·ç›¸å…³çš„ç”¨æˆ·æ–‡ä»¶</h2><p>ç»„ï¼š/etc/groupæ–‡ä»¶</p><p>ç”¨æˆ·ï¼š/etc/passwdæ–‡ä»¶ï¼Œæ¯åˆ›å»ºä¸€ä¸ªç”¨æˆ·ï¼Œå…¶å°±ä¼šåœ¨æ­¤æ–‡ä»¶ä¸­è¿½åŠ ä¸€è¡Œ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/passwdroot:x:0:0:root:/root:/bin/bashç”±ä¸Šå›¾å¯çŸ¥ï¼Œä¸€å…±æ‹¥æœ‰7åˆ—ç¬¬1åˆ—ï¼šç”¨æˆ·åç§°ç¬¬2åˆ—ï¼šç”¨æˆ·çš„å¯†ç ï¼Œä½¿ç”¨ä¸€ä¸ªxå ä½ç¬¦ï¼ŒçœŸå®å¯†ç å­˜å‚¨åœ¨/etc/shadow(1-ç”¨æˆ·åï¼Œ2-åŠ å¯†å¯†ç )ç¬¬3åˆ—ï¼šæ•°å­—ï¼Œç”¨æˆ·çš„IDç¼–å·ç¬¬4åˆ—ï¼šæ•°å­—ï¼Œç”¨æˆ·çš„ä¸»ç»„IDç¼–å·ç¬¬5åˆ—ï¼šä»£è¡¨æ³¨é‡Šä¿¡æ¯ï¼Œuseradd -c "å¤‡æ³¨ä¿¡æ¯" ç”¨æˆ·åç§°ç¬¬6åˆ—ï¼šç”¨æˆ·çš„å®¶ç›®å½•ï¼Œé»˜è®¤åœ¨/home/ç”¨æˆ·åç§°ç¬¬7åˆ—ï¼šç”¨æˆ·å¯ä»¥ä½¿ç”¨çš„Shellç±»å‹ï¼Œuseradd -s /bin/bashæˆ–/sbin/nologin ç”¨æˆ·åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="4ã€ç”¨æˆ·ä¿®æ”¹æ“ä½œ"><a href="#4ã€ç”¨æˆ·ä¿®æ”¹æ“ä½œ" class="headerlink" title="4ã€ç”¨æˆ·ä¿®æ”¹æ“ä½œ"></a>4ã€ç”¨æˆ·ä¿®æ”¹æ“ä½œ</h2><p>ç”¨æˆ·ï¼šuserï¼Œæ·»åŠ ï¼šaddï¼Œä¿®æ”¹ï¼šmodï¼Œåˆ é™¤ï¼šdel</p><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># usermod [é€‰é¡¹ é€‰é¡¹çš„å€¼] ç”¨æˆ·åç§°é€‰é¡¹è¯´æ˜ï¼š-g ï¼šä¿®æ”¹ç”¨æˆ·æ‰€å±çš„ä¸»ç»„çš„ç¼–å·-l ï¼šlogin nameä¿®æ”¹ç”¨æˆ·çš„åç§°-s ï¼šä¿®æ”¹ç”¨æˆ·å¯ä»¥ä½¿ç”¨çš„Shellç±»å‹ï¼Œå¦‚/bin/bash =&gt; /sbin/nologinæ‰©å±•ï¼š-Lï¼šé”å®šç”¨æˆ·ï¼Œé”å®šåç”¨æˆ·æ— æ³•ç™»é™†ç³»ç»Ÿlock-Uï¼šè§£é”ç”¨æˆ·unlockäº†è§£ï¼š-G ï¼šä¿®æ”¹ç”¨æˆ·é™„å±ç»„çš„ç¼–å·ä¿¡æ¯-d ï¼šä¿®æ”¹ç”¨æˆ·çš„å®¶ç›®å½•-c ï¼šä¿®æ”¹ç”¨æˆ·çš„å¤‡æ³¨ä¿¡æ¯<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šä¿®æ”¹zhangsanè´¦å·ä¿¡æ¯ï¼Œæ›´åä¸ºzs</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># usermod -l zs zhangsan<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šä¿®æ”¹wangwuè´¦å·ä¿¡æ¯ï¼ŒæŠŠç”¨æˆ·çš„ä¸»ç»„çš„ç¼–å·æ›´æ–°ä¸º1000ï¼ˆitheimaï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># usermod -g 1000 wangwu<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šç¦æ­¢linuxuserè´¦å·ç™»å½•Linuxæ“ä½œç³»ç»Ÿ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># usermod -s /sbin/nologin linuxuser<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šç¦æ­¢linuxç”¨æˆ·ç™»å½•æ“ä½œï¼ˆCtrl + Alt + F2 ~ F6ï¼‰</p><blockquote><p>Linuxç³»ç»Ÿé™¤äº†é»˜è®¤çš„å›¾å½¢åŒ–ç•Œé¢ï¼Œå…¶å®è¿˜æœ‰5ä¸ªéšè—çš„å­—ç¬¦ç•Œé¢ï¼ŒæŒ‰Ctrl + Alt + F1~F6</p><p>æœ‰äº›ç”µè„‘å¼€å¯FnåŠŸèƒ½é”®ï¼Œæ‰€ä»¥å¦‚æœCtrl + Alt + F1<del>F6ä¸ç”Ÿæ•ˆï¼Œåˆ™å¯ä»¥æŒ‰Ctrl + Alt + Fn + F1</del>F6</p></blockquote><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># usermod -L linux<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šè§£é”linuxç”¨æˆ·</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># usermod -U linux<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>é—®é¢˜ï¼šè´¦å·å·²ç»è§£é”ï¼Œä½†æ˜¯æ— æ³•ç™»å½•</p><p>â‘  å½“å‰è´¦å·æ²¡æœ‰è®¾ç½®å¯†ç ï¼Œå› ä¸ºLinuxæ“ä½œç³»ç»Ÿä¸å…è®¸æ²¡æœ‰å¯†ç çš„æ“ä½œè¿›è¡Œç™»å½•</p><p>â‘¡ å½“å‰ç”¨æˆ·çš„Shellç±»å‹ä¸º/sbin/nologinï¼Œæ‰€ä»¥å…¶æ— æ³•ç™»å½•</p></blockquote><h2 id="5ã€passwdå‘½ä»¤"><a href="#5ã€passwdå‘½ä»¤" class="headerlink" title="5ã€passwdå‘½ä»¤"></a>5ã€passwdå‘½ä»¤</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># passwd ç”¨æˆ·åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸»è¦åŠŸèƒ½ï¼šä¸ºæŸä¸ªç”¨æˆ·è®¾ç½®å¯†ç ï¼ˆæ·»åŠ æˆ–ä¿®æ”¹ï¼‰ï¼Œå¯ä»¥ç»™è‡ªå·±ä¹Ÿå¯ä»¥ç»™åˆ«äººè®¾ç½®</p><p>æ¡ˆä¾‹ï¼šä¿®æ”¹è‡ªå·±çš„å¯†ç </p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">[root@yunwei ~]# passwd<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šä¸ºlinuxè´¦å·æ·»åŠ ä¸€ä¸ªå¯†ç ï¼Œå¯†ç ï¼š123456</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">[root@yunwei ~]# passwd linux<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>ç‰¹åˆ«æ³¨æ„ï¼šåœ¨Linuxæ“ä½œç³»ç»Ÿä¸­ï¼Œå¦‚æœä¸€ä¸ªè´¦å·æ²¡æœ‰å¯†ç ï¼Œåˆ™æ— æ³•ç™»å½•æ“ä½œç³»ç»Ÿã€‚</p></blockquote><h2 id="6ã€suå‘½ä»¤"><a href="#6ã€suå‘½ä»¤" class="headerlink" title="6ã€suå‘½ä»¤"></a>6ã€suå‘½ä»¤</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># su [-] rooté€‰é¡¹ï¼š- ï¼šæ¨ªæ ï¼ˆå‡å·ï¼‰ï¼Œä»£è¡¨åˆ‡æ¢ç”¨æˆ·çš„åŒæ—¶ï¼Œåˆ‡æ¢ç›®å½•åˆ°ç”¨æˆ·çš„å®¶<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ä¸»è¦åŠŸèƒ½ï¼šåˆ‡æ¢ç”¨æˆ·çš„è´¦å·</p><blockquote><p>ä»è¶…çº§ç®¡ç†å‘˜åˆ‡æ¢åˆ°æ™®é€šç”¨æˆ·ï¼Œroot =&gt; itheimaï¼Œä¸éœ€è¦è¾“å…¥itheimaçš„å¯†ç </p><p>ä»æ™®é€šè´¦å·åˆ‡æ¢åˆ°è¶…çº§ç®¡ç†å‘˜ï¼Œitheima =&gt; rootï¼Œéœ€è¦è¾“å…¥rootçš„å¯†ç </p><p>ä»æ™®é€šè´¦å·åˆ‡æ¢åˆ°æ™®é€šè´¦å·ï¼Œitheima =&gt; linuxuserï¼Œä¹Ÿéœ€è¦è¾“å…¥linuxuserå¯†ç </p></blockquote><h2 id="7ã€wheelç»„ï¼ˆäº†è§£ï¼‰"><a href="#7ã€wheelç»„ï¼ˆäº†è§£ï¼‰" class="headerlink" title="7ã€wheelç»„ï¼ˆäº†è§£ï¼‰"></a>7ã€wheelç»„ï¼ˆäº†è§£ï¼‰</h2><p>Linuxç³»ç»Ÿä¸­ï¼Œç†è®ºä¸Šåªæœ‰åœ¨wheelç»„ä¸­çš„æ™®é€šç”¨æˆ·ï¼Œæ‰å¯ä»¥é€šè¿‡suå‘½ä»¤åˆ‡æ¢åˆ°rootè´¦æˆ·ï¼Œé»˜è®¤æ‰€æœ‰æ™®é€šç”¨æˆ·éƒ½èƒ½åˆ‡æ¢åˆ°rootï¼Œåªè¦çŸ¥é“rootå¯†ç ï¼Œæ¢å¥è¯è¯´ï¼Œé»˜è®¤æ­¤é…ç½®ä¸ç”Ÿæ•ˆ</p><h2 id="8ã€ç”¨æˆ·åˆ é™¤æ“ä½œ"><a href="#8ã€ç”¨æˆ·åˆ é™¤æ“ä½œ" class="headerlink" title="8ã€ç”¨æˆ·åˆ é™¤æ“ä½œ"></a>8ã€ç”¨æˆ·åˆ é™¤æ“ä½œ</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># userdel [é€‰é¡¹] ç”¨æˆ·åç§°é€‰é¡¹è¯´æ˜ï¼š-r ï¼šåˆ é™¤ç”¨æˆ·çš„åŒæ—¶ï¼Œåˆ é™¤ç”¨æˆ·çš„å®¶ï¼ˆé»˜è®¤ä¸åˆ é™¤ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåˆ é™¤ç”¨æˆ·ä½†æ˜¯ä¸åˆ é™¤ç”¨æˆ·çš„å®¶ç›®å½•</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># userdel zs<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåˆ é™¤ç”¨æˆ·çš„åŒæ—¶åˆ é™¤ç”¨æˆ·çš„å®¶ç›®å½•</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># userdel -r lisi<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>åˆ é™¤è´¦å·æµç¨‹ï¼šâ‘  åˆ é™¤è´¦å· â‘¡ ç¡®è®¤æ˜¯å¦åˆ é™¤ç”¨æˆ·å®¶ â‘¢ åˆ é™¤ç”¨æˆ·ä¸»ç»„ï¼ˆæ²¡æœ‰å…¶ä»–ç”¨æˆ·ï¼‰</p></blockquote><p>æ‰©å±•ï¼šå½“æˆ‘ä»¬æƒ³è¦åˆ é™¤æŸä¸ªè´¦å·æ—¶ï¼Œç³»ç»Ÿæç¤ºå½“å‰è´¦å·æ­£åœ¨è¢«æŸä¸ªè¿›ç¨‹æ‰€ä½¿ç”¨</p><p>![image-20200318114052650](../assets/blog_res/Linuxæ–‡ä»¶ç®¡ç†ä¸ç”¨æˆ·ç®¡ç† (copy).assets/image-20200318114052650.png)</p><p>è§£å†³æ–¹æ¡ˆï¼š</p><p>ç¬¬ä¸€ç§æ–¹æ¡ˆï¼šæ‰¾åˆ°ç™»å½•çš„è¿™ä¸ªç”¨æˆ·ï¼Œç„¶åå°†å…¶ç›´æ¥æ³¨é”€</p><p>ç¬¬äºŒç§æ–¹æ¡ˆï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># kill [-9] è¿›ç¨‹çš„IDç¼–å·é€‰é¡¹è¯´æ˜ï¼š-9ä»£è¡¨å¼ºåˆ¶ç»“æŸæŸä¸ªè¿›ç¨‹ä¸»è¦åŠŸèƒ½ï¼šç”¨äºç»“æŸæŸä¸ªè¿›ç¨‹çš„ç»§ç»­è¿è¡Œ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šç»“æŸ11565è¿›ç¨‹</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># kill 11565<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç®€å•ç²—æš´ï¼Œkill å¯¹åº”ç”¨æˆ·çš„å…¨éƒ¨è¿›ç¨‹ï¼ˆå°½é‡æ–©è‰é™¤æ ¹ï¼Œç»“æŸçˆ¶è¿›ç¨‹ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ps -ef |grep linuxpså‘½ä»¤ï¼šæŸ¥çœ‹è¿›ç¨‹-ef ï¼šæŸ¥çœ‹ç³»ç»Ÿçš„æ‰€æœ‰è¿›ç¨‹|ï¼šç®¡é“å‘½ä»¤grep linuxï¼šæœç´¢åŒ…å«äº†linuxå…³é”®è¯çš„æ‰€æœ‰è¿›ç¨‹<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç»“æŸå®Œæˆåï¼Œå†æ¬¡ä½¿ç”¨userdelåˆ é™¤å³å¯</p><h1 id="äºŒã€ç®¡é“ï¼ˆé‡ç‚¹ï¼‰"><a href="#äºŒã€ç®¡é“ï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="äºŒã€ç®¡é“ï¼ˆé‡ç‚¹ï¼‰"></a>äºŒã€ç®¡é“ï¼ˆé‡ç‚¹ï¼‰</h1><h2 id="1ã€ç®¡é“ç¬¦"><a href="#1ã€ç®¡é“ç¬¦" class="headerlink" title="1ã€ç®¡é“ç¬¦"></a>1ã€ç®¡é“ç¬¦</h2><p>==â€|â€==ï¼Œç«–çº¿</p><p>ä½œç”¨ï¼šç®¡é“æ˜¯ä¸€ç§é€šä¿¡æœºåˆ¶ï¼Œé€šå¸¸ç”¨äºè¿›ç¨‹é—´çš„é€šä¿¡ã€‚å®ƒè¡¨ç°å‡ºæ¥çš„å½¢å¼å°†==å‰é¢æ¯ä¸€ä¸ªè¿›ç¨‹çš„è¾“å‡ºï¼ˆstdoutï¼‰ç›´æ¥ä½œä¸ºä¸‹ä¸€ä¸ªè¿›ç¨‹çš„è¾“å…¥ï¼ˆstdinï¼‰==ã€‚</p><p>![image-20200318140553750](../assets/blog_res/Linuxæ–‡ä»¶ç®¡ç†ä¸ç”¨æˆ·ç®¡ç† (copy).assets/image-20200318140553750.png)</p><p>0 ï¼š æ ‡å‡†è¾“å…¥ï¼Œç¨‹åºæˆ–å‘½ä»¤éœ€è¦å¤–éƒ¨çš„æŸäº›ç¨‹åºä¼ é€’ç›¸åº”çš„å‚æ•°ï¼Œæ‰èƒ½æ­£å¸¸è¿è¡Œ</p><p>1 ï¼šæ ‡å‡†è¾“å‡ºï¼Œç¨‹åºæˆ–å‘½ä»¤æ­£ç¡®çš„æ‰§è¡Œç»“æœï¼Œæˆ‘ä»¬å°±ç§°ä¹‹ä¸ºæ ‡å‡†è¾“å‡º</p><p>2 ï¼šæ ‡å‡†é”™è¯¯ï¼Œç¨‹åºæˆ–å‘½ä»¤é”™è¯¯çš„æ‰§è¡Œç»“æœï¼Œæˆ‘ä»¬å°±ç§°ä¹‹ä¸ºæ ‡å‡†é”™è¯¯</p><h2 id="2ã€è¿‡æ»¤ï¼ˆç­›é€‰ï¼‰åŠŸèƒ½"><a href="#2ã€è¿‡æ»¤ï¼ˆç­›é€‰ï¼‰åŠŸèƒ½" class="headerlink" title="2ã€è¿‡æ»¤ï¼ˆç­›é€‰ï¼‰åŠŸèƒ½"></a>2ã€è¿‡æ»¤ï¼ˆç­›é€‰ï¼‰åŠŸèƒ½</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># å‰ä¸€ä¸ªå‘½ä»¤ | åä¸€ä¸ªå‘½ä»¤<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šè·å–/æ ¹ç›®å½•ä¸‹åŒ…å«å…³é”®å­—â€yâ€çš„æ–‡ä»¶ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ls / | grep yè§£æï¼š| ï¼šç®¡é“ç¬¦å·ï¼Œä½œç”¨=&gt;æŠŠls /çš„æ­£ç¡®çš„æ‰§è¡Œç»“æœä½œä¸ºå‚æ•°ä¼ é€’ç»™grepå‘½ä»¤ls / ï¼šç®¡é“å·¦è¾¹çš„å‘½ä»¤grep y ï¼šç®¡é“å³è¾¹çš„å‘½ä»¤<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>grepå‘½ä»¤çš„åŸºæœ¬è¯­æ³• =&gt; grep  å…³é”®å­—  æ–‡ä»¶åç§°</p></blockquote><p>æ¡ˆä¾‹ï¼šæ£€ç´¢ç³»ç»Ÿä¸­çš„å·²å®‰è£…æ–‡ä»¶ï¼Œåªç­›é€‰mariadbè½¯ä»¶ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rpm -qa | grep mariadb-q ï¼šqueryï¼ŒæŸ¥è¯¢-a ï¼šallï¼Œæ‰€æœ‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåœ¨ç³»ç»Ÿçš„è¿›ç¨‹ä¸­è¿›è¡ŒæŸ¥æ‰¾ï¼ŒæŸ¥æ‰¾ä¸itheimaç›¸å…³çš„è¿›ç¨‹ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ps -ef | grep itheimaps -ef ï¼šæŸ¥è¯¢ç³»ç»Ÿä¸­æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="3ã€ç‰¹æ®ŠåŠŸèƒ½"><a href="#3ã€ç‰¹æ®ŠåŠŸèƒ½" class="headerlink" title="3ã€ç‰¹æ®ŠåŠŸèƒ½"></a>3ã€ç‰¹æ®ŠåŠŸèƒ½</h2><p>é€šè¿‡ç®¡é“çš„æ“ä½œæ–¹æ³•æ¥å®ç°less çš„ç­‰ä»·æ•ˆæœï¼ˆäº†è§£ï¼‰</p><p>ä¾‹å¦‚ï¼šæºæŒ‡ä»¤æ˜¯â€less xxx.txtâ€ï¼Œä½¿ç”¨ç®¡é“çš„è¯åˆ™å¯ä»¥å†™æˆï¼šcat xxx.txt | less</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># less initial-setup-ks.cfgæ›´æ”¹ä¸ºç®¡é“å‘½ä»¤# cat initial-setup-ks.cfg | less<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="4ã€ç»Ÿè®¡åŠŸèƒ½ï¼ˆé‡ç‚¹ï¼‰"><a href="#4ã€ç»Ÿè®¡åŠŸèƒ½ï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="4ã€ç»Ÿè®¡åŠŸèƒ½ï¼ˆé‡ç‚¹ï¼‰"></a>4ã€ç»Ÿè®¡åŠŸèƒ½ï¼ˆé‡ç‚¹ï¼‰</h2><p>å›é¡¾ï¼šwcå‘½ä»¤ï¼Œword countï¼Œæ–‡ä»¶ç»Ÿè®¡åŠŸèƒ½</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># wc [é€‰é¡¹] æ–‡ä»¶åç§°é€‰é¡¹è¯´æ˜ï¼š-l : ç»Ÿè®¡æ€»è¡Œæ•°-w : wordï¼Œæ€»å•è¯æ•°-c : ç»Ÿè®¡æ€»å­—èŠ‚æ•°<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šç»Ÿè®¡/æ ¹ç›®å½•ä¸‹ä¸€å…±æœ‰å¤šå°‘ä¸ªæ–‡ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ls / | wc -l<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šç”¨æˆ·åœ¨è®¡ç®—æœºä¸­æœ‰ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼ˆ/etc/passwdï¼‰ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¸€ä¸ªç”¨æˆ·ä¼šå ç”¨ä¸€è¡Œé…ç½®ï¼Œè¯·ä½ ä½¿ç”¨ç°å­¦çš„ç®¡é“ç»Ÿè®¡å½“å‰è®¡ç®—æœºä¸­ä¸€å…±æœ‰å¤šå°‘ä¸ªç”¨æˆ·ä¸ªä¿¡æ¯ï¼ˆä¸€ä¸ªç”¨æˆ·ä¸€è¡Œï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cat /etc/passwd | wc -l<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="5ã€xargså‘½ä»¤æ‰©å±•"><a href="#5ã€xargså‘½ä»¤æ‰©å±•" class="headerlink" title="5ã€xargså‘½ä»¤æ‰©å±•"></a>5ã€xargså‘½ä»¤æ‰©å±•</h2><p>é—®é¢˜ï¼šä¸ºä»€ä¹ˆéœ€è¦xargså‘½ä»¤ï¼Ÿ</p><p>ç­”ï¼šä¹‹æ‰€ä»¥èƒ½ç”¨åˆ°è¿™ä¸ªå‘½ä»¤ï¼Œå…³é”®æ˜¯ç”±äºå¾ˆå¤šå‘½ä»¤ä¸æ”¯æŒ | ç®¡é“æ¥ä¼ é€’å‚æ•°ï¼Œè€Œæ—¥å¸¸å·¥ä½œä¸­åˆæœ‰è¿™ä¸ªå¿…è¦ï¼Œæ‰€ä»¥å°±æœ‰äº† xargs å‘½ä»¤ã€‚</p><blockquote><p>ç®€å•æ¥è¯´ï¼Œxargså‘½ä»¤å°±ç›¸å½“äºå¯¹ç®¡é“å‘½ä»¤è¿›è¡Œäº†ä¸€ä¸ªæ‰©å±•ï¼Œè®©æ‰€æœ‰å‘½ä»¤éƒ½æ”¯æŒç®¡é“</p></blockquote><p>æ¡ˆä¾‹ï¼šæœç´¢/etcç›®å½•ä¸‹çš„æ‰€æœ‰â€.confâ€ç»“å°¾çš„æ–‡ä»¶ä¿¡æ¯ï¼Œç„¶åä»¥è¯¦ç»†åˆ—è¡¨å½¢å¼æ˜¾ç¤º</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># find /etc -name "*.conf" | ls -l<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è§£å†³æ–¹æ¡ˆï¼Œåœ¨lså‘½ä»¤ä¹‹å‰æ·»åŠ ä¸€ä¸ªxargså‘½ä»¤ï¼Œè¿™æ ·lså‘½ä»¤å°±æ”¯æŒç®¡é“äº†ï¼Œå¯ä»¥ç”¨äºæ¥æ”¶å‰ä¸€ä¸ªå‘½ä»¤çš„æ‰§è¡Œç»“æœ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># find /etc -name "*.conf" | xargs ls -l<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h1 id="ä¸‰ã€Linuxç½‘ç»œç®¡ç†"><a href="#ä¸‰ã€Linuxç½‘ç»œç®¡ç†" class="headerlink" title="ä¸‰ã€Linuxç½‘ç»œç®¡ç†"></a>ä¸‰ã€Linuxç½‘ç»œç®¡ç†</h1><h2 id="1ã€è·å–è®¡ç®—æœºçš„ç½‘ç»œä¿¡æ¯"><a href="#1ã€è·å–è®¡ç®—æœºçš„ç½‘ç»œä¿¡æ¯" class="headerlink" title="1ã€è·å–è®¡ç®—æœºçš„ç½‘ç»œä¿¡æ¯"></a>1ã€è·å–è®¡ç®—æœºçš„ç½‘ç»œä¿¡æ¯</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ifconfig<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>Windows =&gt; ipconfig    Linux =&gt; ifconfig</p></blockquote><p>ç¬¬ä¸€æ­¥ï¼šè¿æ¥ç½‘ç»œ</p><p>![image-20200318153054968](../assets/blog_res/Linuxæ–‡ä»¶ç®¡ç†ä¸ç”¨æˆ·ç®¡ç† (copy).assets/image-20200318153054968.png)</p><p>ç¬¬äºŒæ­¥ï¼šä½¿ç”¨ifconfigå‘½ä»¤ï¼Œè·å–è®¡ç®—æœºçš„ç½‘ç»œä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ifconfigens33: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500        inet 10.1.1.16  netmask 255.255.255.0  broadcast 10.1.1.255        inet6 fe80::e472:7b78:c871:8e12  prefixlen 64  scopeid 0x20&lt;link&gt;        ether 00:0c:29:48:bf:f9  txqueuelen 1000  (Ethernet)        RX packets 254  bytes 54837 (53.5 KiB)        RX errors 0  dropped 0  overruns 0  frame 0        TX packets 287  bytes 42006 (41.0 KiB)        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0        è§£æï¼šinet 10.1.1.16  netmask 255.255.255.0  broadcast 10.1.1.255inet 10.1.1.16 ï¼šä»£è¡¨ens33ç½‘å¡çš„IPåœ°å€ï¼Œå°†æ¥è¿œç¨‹è¿æ¥å°±æ˜¯ç”¨è¿™ä¸ªIPnetmask ï¼šå­ç½‘æ©ç ï¼Œä¸€èˆ¬ä¸º255.255.255.0broadcast ï¼šå¹¿æ’­åœ°å€ï¼Œ10.1.1.255<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>CentOS6 =&gt; eth0 ï¼Œ CentOS7 =&gt; ens33</p></blockquote><p>ens33 ï¼šæ˜¯é»˜è®¤çš„ç½‘å¡ï¼Œæˆ‘ä»¬è·å–çš„IPä¹Ÿè¦ä»è¿™ä¸ªç½‘å¡ä¸­è·å–</p><p>loï¼ˆloopï¼Œå¾ªç¯ï¼‰ï¼šè¡¨ç¤ºå›ç¯ç½‘å¡ï¼Œåªæœ‰ä¸€ä¸ªå›ºå®šçš„IPåœ°å€ï¼Œ127.0.0.1ä»£è¡¨æœ¬æœº</p><p>virbr0ï¼šè™šæ‹Ÿç½‘ç»œæ¥å£ï¼Œå› ä¸ºå’±ä»¬ä½¿ç”¨vmwareè™šæ‹Ÿæœºå®‰è£…Centosï¼Œæ‰€ä»¥å…¶ä¼šäº§ç”Ÿvirbr0è™šæ‹Ÿç½‘ç»œæ¥å£</p><h2 id="2ã€ä¸ç½‘å¡ç›¸å…³çš„é…ç½®æ–‡ä»¶"><a href="#2ã€ä¸ç½‘å¡ç›¸å…³çš„é…ç½®æ–‡ä»¶" class="headerlink" title="2ã€ä¸ç½‘å¡ç›¸å…³çš„é…ç½®æ–‡ä»¶"></a>2ã€ä¸ç½‘å¡ç›¸å…³çš„é…ç½®æ–‡ä»¶</h2><p>Linuxç³»ç»Ÿä¸­ï¼Œä¸€åˆ‡çš†æ–‡ä»¶ã€‚æ‰€ä»¥ä¿å­˜ç½‘ç»œä¿¡æ¯çš„ä¹Ÿæ˜¯é€šè¿‡ä¸€ä¸ªæ–‡ä»¶æ¥å®Œæˆçš„ã€‚</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># vim /etc/sysconfig/network-scripts/ifcfg-ens33TYPE="Ethernet"BOOTPROTO="dhcp"NAME="ens33"UUID="6c809893-d12c-46af-9987-4c05b2773c91"DEVICE="ens33"ONBOOT="yes"å‚æ•°è§£æï¼šTYPE ï¼šç½‘ç»œç±»å‹ï¼ŒEthernetä»¥å¤ªç½‘BOOTPROTOï¼šIPçš„è·å–æ–¹å¼ï¼Œdhcpä»£è¡¨è‡ªåŠ¨è·å–ï¼Œstatic/noneä»£è¡¨æ‰‹å·¥è®¾ç½®NAME ï¼šç½‘å¡çš„åç§°ï¼ˆåå­—ï¼‰ï¼Œens33UUID ï¼šä»£è¡¨ç½‘å¡çš„UUIDç¼–å·ï¼ˆå¿…é¡»æ˜¯å”¯ä¸€çš„ï¼‰DEVICE ï¼šè®¾å¤‡åç§°ONBOOT ï¼šä»£è¡¨ç½‘å¡æ˜¯å¦éšè®¡ç®—æœºå¼€å¯å¯åŠ¨ï¼Œyeséšè®¡ç®—æœºå¼€æœºå¯åŠ¨ï¼Œnoä»£è¡¨ä¸å¯åŠ¨<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="3ã€æŸ¥è¯¢è®¡ç®—æœºçš„ç½‘ç»œçŠ¶æ€"><a href="#3ã€æŸ¥è¯¢è®¡ç®—æœºçš„ç½‘ç»œçŠ¶æ€" class="headerlink" title="3ã€æŸ¥è¯¢è®¡ç®—æœºçš„ç½‘ç»œçŠ¶æ€"></a>3ã€æŸ¥è¯¢è®¡ç®—æœºçš„ç½‘ç»œçŠ¶æ€</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl  status  networksystemctl = system + control = ç³»ç»Ÿæ§åˆ¶<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ä¸»è¦åŠŸèƒ½ï¼šæŸ¥è¯¢è®¡ç®—æœºç½‘ç»œçš„çŠ¶æ€ï¼Œç½‘ç»œæ˜¯å¦æ­£å¸¸è¿æ¥ã€‚</p><p>![image-20200318160415929](../assets/blog_res/Linuxæ–‡ä»¶ç®¡ç†ä¸ç”¨æˆ·ç®¡ç† (copy).assets/image-20200318160415929.png)</p><p>Active ï¼š activeï¼ˆæ­£å¸¸ï¼‰æˆ–  inactiveï¼ˆdeadï¼Œç½‘ç»œçŠ¶æ€ä¸æ­£å¸¸æ²¡æœ‰è¿æ¥ï¼‰</p><h2 id="4ã€systemctlå¯åŠ¨-é‡å¯-åœæ­¢ç½‘ç»œ"><a href="#4ã€systemctlå¯åŠ¨-é‡å¯-åœæ­¢ç½‘ç»œ" class="headerlink" title="4ã€systemctlå¯åŠ¨/é‡å¯/åœæ­¢ç½‘ç»œ"></a>4ã€systemctlå¯åŠ¨/é‡å¯/åœæ­¢ç½‘ç»œ</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl start network# systemctl stop network# systemctl restart networké€‰é¡¹è§£æï¼šstart ï¼šå¯åŠ¨stop ï¼šåœæ­¢restart ï¼šé‡å¯<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="å››ã€Linuxè¿œç¨‹è¿æ¥ä¸æ–‡ä»¶ä¼ è¾“"><a href="#å››ã€Linuxè¿œç¨‹è¿æ¥ä¸æ–‡ä»¶ä¼ è¾“" class="headerlink" title="å››ã€Linuxè¿œç¨‹è¿æ¥ä¸æ–‡ä»¶ä¼ è¾“"></a>å››ã€Linuxè¿œç¨‹è¿æ¥ä¸æ–‡ä»¶ä¼ è¾“</h1><h2 id="1ã€ä¸ºä»€ä¹ˆéœ€è¦è¿œç¨‹è¿æ¥"><a href="#1ã€ä¸ºä»€ä¹ˆéœ€è¦è¿œç¨‹è¿æ¥" class="headerlink" title="1ã€ä¸ºä»€ä¹ˆéœ€è¦è¿œç¨‹è¿æ¥"></a>1ã€ä¸ºä»€ä¹ˆéœ€è¦è¿œç¨‹è¿æ¥</h2><p>![image-20200318163657190](../assets/blog_res/Linuxæ–‡ä»¶ç®¡ç†ä¸ç”¨æˆ·ç®¡ç† (copy).assets/image-20200318163657190.png)</p><h2 id="2ã€SSHåè®®"><a href="#2ã€SSHåè®®" class="headerlink" title="2ã€SSHåè®®"></a>2ã€SSHåè®®</h2><p>  ç®€å•è¯´ï¼ŒSSHæ˜¯ä¸€ç§ç½‘ç»œåè®®ï¼Œç”¨äºè®¡ç®—æœºä¹‹é—´çš„åŠ å¯†ç™»å½•ã€‚</p><h2 id="3ã€sshdæœåŠ¡"><a href="#3ã€sshdæœåŠ¡" class="headerlink" title="3ã€sshdæœåŠ¡"></a>3ã€sshdæœåŠ¡</h2><p>å½“æˆ‘ä»¬åœ¨è®¡ç®—æœºä¸­å®‰è£…äº†sshdè½¯ä»¶ï¼Œå¯åŠ¨åï¼Œå°±ä¼šåœ¨è¿›ç¨‹ä¸­äº§ç”Ÿä¸€ä¸ªsshdè¿›ç¨‹ï¼Œå…¶éµå¾ªè®¡ç®—æœºçš„SSHåè®®ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒsshdæœåŠ¡éšç³»ç»Ÿè‡ªåŠ¨å®‰è£…çš„ã€‚</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># systemctl  status  sshd<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="4ã€sshdæœåŠ¡çš„ç«¯å£å·"><a href="#4ã€sshdæœåŠ¡çš„ç«¯å£å·" class="headerlink" title="4ã€sshdæœåŠ¡çš„ç«¯å£å·"></a>4ã€sshdæœåŠ¡çš„ç«¯å£å·</h2><p>SSHåè®®ï¼Œå…¶è§„åˆ™äº†è¿œç¨‹è¿æ¥ä¸ä¼ è¾“çš„ç«¯å£å·ï¼Œæ‰€ä»¥sshdæœåŠ¡å¯åŠ¨åï¼Œå°±ä¼šå ç”¨è®¡ç®—æœºçš„22å·ç«¯å£ã€‚</p><blockquote><p>ç«¯å£å·èƒ½è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿç­”ï¼šèƒ½è®©æˆ‘ä»¬çš„è®¡ç®—æœºåŒºåˆ†å‡ºä¸åŒçš„æœåŠ¡</p></blockquote><p>![image-20200318164340849](../assets/blog_res/Linuxæ–‡ä»¶ç®¡ç†ä¸ç”¨æˆ·ç®¡ç† (copy).assets/image-20200318164340849.png)</p><h2 id="5ã€ä½¿ç”¨MXè½¯ä»¶è¿æ¥LinuxæœåŠ¡å™¨"><a href="#5ã€ä½¿ç”¨MXè½¯ä»¶è¿æ¥LinuxæœåŠ¡å™¨" class="headerlink" title="5ã€ä½¿ç”¨MXè½¯ä»¶è¿æ¥LinuxæœåŠ¡å™¨"></a>5ã€ä½¿ç”¨MXè½¯ä»¶è¿æ¥LinuxæœåŠ¡å™¨</h2><h3 id="Putty"><a href="#Putty" class="headerlink" title="Putty"></a>Putty</h3><p>å®˜ç½‘ï¼š<a href="https://links.jianshu.com/go?to=http://www.putty.org">www.putty.org</a></p><p>PuTTYä¸ºä¸€å¼€æ”¾æºä»£ç è½¯ä»¶ï¼Œä¸»è¦ç”±Simon Tathamç»´æŠ¤ï¼Œä½¿ç”¨MIT licenceæˆæƒã€‚</p><h3 id="SecureCRT"><a href="#SecureCRT" class="headerlink" title="SecureCRT"></a>SecureCRT</h3><p>å®˜ç½‘ï¼š<a href="https://links.jianshu.com/go?to=http://www.vandyke.com">www.vandyke.com</a><br> SecureCRTæ˜¯ä¸€æ¬¾æ”¯æŒSSH(SSH1å’ŒSSH2)çš„ç»ˆç«¯ä»¿çœŸç¨‹åºï¼Œç®€å•åœ°è¯´æ˜¯Windowsä¸‹ç™»å½•UNIXæˆ–LinuxæœåŠ¡å™¨ä¸»æœºçš„è½¯ä»¶ã€‚ï¼ˆé¢œè‰²æ–¹æ¡ˆä¸æ˜¯ç‰¹åˆ«å¥½çœ‹ï¼‰</p><h3 id="XShell"><a href="#XShell" class="headerlink" title="XShell"></a>XShell</h3><p>å®˜ç½‘ï¼š<a href="https://links.jianshu.com/go?to=http://www.netsarang.com">www.netsarang.com</a></p><p>Xshellæ˜¯ä¸€ä¸ªå¼ºå¤§çš„å®‰å…¨ç»ˆç«¯æ¨¡æ‹Ÿè½¯ä»¶ï¼Œå®ƒæ”¯æŒSSH1, SSH2, ä»¥åŠMicrosoft Windows å¹³å°çš„TELNET åè®®ã€‚Xshell é€šè¿‡äº’è”ç½‘åˆ°è¿œç¨‹ä¸»æœºçš„å®‰å…¨è¿æ¥ä»¥åŠå®ƒåˆ›æ–°æ€§çš„è®¾è®¡å’Œç‰¹è‰²å¸®åŠ©ç”¨æˆ·åœ¨å¤æ‚çš„ç½‘ç»œç¯å¢ƒä¸­äº«å—ä»–ä»¬çš„å·¥ä½œã€‚</p><p>ç¼ºç‚¹ï¼šæ”¶è´¹</p><h3 id="MobaXterm"><a href="#MobaXterm" class="headerlink" title="MobaXterm"></a>MobaXterm</h3><p>å®˜ç½‘ï¼š<a href="https://mobaxterm.mobatek.net/">https://mobaxterm.mobatek.net/</a></p><p>â‘  è·å–Linuxçš„çš„IPåœ°å€</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ifconfig10.1.1.16<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>â‘¡ æ‰“å¼€MXè½¯ä»¶ï¼Œå•å‡»Sessionï¼Œåˆ›å»ºä¸€ä¸ªSSHè¿œç¨‹è¿æ¥</p><p>![image-20200318170051275](../assets/blog_res/Linuxæ–‡ä»¶ç®¡ç†ä¸ç”¨æˆ·ç®¡ç† (copy).assets/image-20200318170051275.png)</p><p>â‘¢ è®¾ç½®ä¹¦ç­¾ï¼ˆç»™è¿™å°æœåŠ¡å™¨èµ·ä¸ªåå­—ï¼‰</p><p>![image-20200318170217196](../assets/blog_res/Linuxæ–‡ä»¶ç®¡ç†ä¸ç”¨æˆ·ç®¡ç† (copy).assets/image-20200318170217196.png)</p><p> â‘£ è¾“å…¥CentOS7.6çš„rootç®¡ç†å‘˜å¯†ç </p><p>ç®¡ç†å‘˜ï¼šroot</p><p>å¯†    ç ï¼š123456</p><p>![image-20200318170322945](../assets/blog_res/Linuxæ–‡ä»¶ç®¡ç†ä¸ç”¨æˆ·ç®¡ç† (copy).assets/image-20200318170322945.png)</p><h2 id="6ã€ä½¿ç”¨MXå®ç°æ–‡ä»¶ä¼ è¾“"><a href="#6ã€ä½¿ç”¨MXå®ç°æ–‡ä»¶ä¼ è¾“" class="headerlink" title="6ã€ä½¿ç”¨MXå®ç°æ–‡ä»¶ä¼ è¾“"></a>6ã€ä½¿ç”¨MXå®ç°æ–‡ä»¶ä¼ è¾“</h2><p>![image-20200318170715403](../assets/blog_res/Linuxæ–‡ä»¶ç®¡ç†ä¸ç”¨æˆ·ç®¡ç† (copy).assets/image-20200318170715403.png)</p>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mdæ¨¡ç‰ˆ</title>
      <link href="/2023/12/23/md/"/>
      <url>/2023/12/23/md/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> none </category>
          
      </categories>
      
      
        <tags>
            
            <tag> none </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç›¸å†Œé¡µçš„åˆ›å»ºæ•…éšœ</title>
      <link href="/2023/12/22/xiang-ce-ye-de-chuang-jian-gu-zhang/"/>
      <url>/2023/12/22/xiang-ce-ye-de-chuang-jian-gu-zhang/</url>
      
        <content type="html"><![CDATA[<p>ç›¸å†Œé¡µåˆ›å»ºå‚è€ƒèµ„æ–™ï¼š</p><p><a href="https://cloud.tencent.com/developer/article/2076603">hexo-theme-matery_æ–‡å­—åšå®¢wordpressä¸»é¢˜-è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘ (tencent.com)</a></p><p>æœŸé—´æ•…éšœï¼š</p><p>gallery.ejsæ–‡ä»¶å·²ç»æå‰å­˜åœ¨ï¼Œå…¶å†…éƒ¨ä¹Ÿä¹¦å†™äº†ç›¸å½“å¤šçš„ä»£ç ï¼Œåœ¨æµè§ˆçš„è¿‡ç¨‹ä¹‹ä¸­å¿½ç•¥äº†ä½œè€…çš„â€˜æ–°å»ºâ€™äºŒå­—ï¼Œäº§ç”Ÿå†²çªæ— æ³•æˆåŠŸæ‰§è¡Œå‘½ä»¤ã€‚</p><p>ååˆ é™¤åŸgallery.ejsæ–‡ä»¶ï¼Œé‡æ–°å»ºç«‹ç©ºç™½æ–‡æ¡£å¹¶æ·»åŠ å‚è€ƒèµ„æ–™å†…éƒ¨ä»£ç ï¼Œé‡æ–°è¿è¡ŒåæˆåŠŸã€‚</p><p>ä»¥ä¸‹æ˜¯å‚è€ƒèµ„æ–™çš„gallery.ejsä»£ç ï¼š</p><pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">&lt;style type="text/css"&gt;    /* don't remove. */    .about-cover {        height: 75vh;    }&lt;/style&gt;&lt;%- partial('_partial/bg-cover') %&gt;&lt;main class="content"&gt;&lt;% if (theme.myGallery &amp;&amp; theme.myGallery.enable) { %&gt;&lt;%- partial('_widget/my-gallery') %&gt;&lt;% } %&gt;&lt;/main&gt;&lt;% if (page.total &gt; 1) { %&gt;&lt;%- partial('_partial/paging') %&gt;&lt;% } %&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç„¶åæ˜¯åŸgallery.ejsä»£ç ï¼Œå·²åšä¿å­˜ï¼›</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token operator">&lt;</span>link rel<span class="token operator">=</span><span class="token string">"stylesheet"</span> href<span class="token operator">=</span><span class="token string">"&lt;%- theme.jsDelivr.url %&gt;&lt;%- url_for(theme.libs.css.gallery) %&gt;"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>link type<span class="token operator">=</span><span class="token string">"text/css"</span> href<span class="token operator">=</span><span class="token string">"&lt;%- theme.jsDelivr.url %&gt;&lt;%- url_for(theme.libs.css.fancybox) %&gt;"</span> rel<span class="token operator">=</span><span class="token string">"stylesheet"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>link type<span class="token operator">=</span><span class="token string">"text/css"</span> href<span class="token operator">=</span><span class="token string">"&lt;%- theme.jsDelivr.url %&gt;&lt;%- url_for(theme.libs.css.justifiedGallery) %&gt;"</span> rel<span class="token operator">=</span><span class="token string">"stylesheet"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">-</span> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'_partial/post-cover'</span><span class="token punctuation">)</span> <span class="token operator">%</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">%</span><span class="token keyword">let</span> galleries <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>site<span class="token punctuation">.</span>data <span class="token operator">&amp;&amp;</span> site<span class="token punctuation">.</span>data<span class="token punctuation">.</span>galleries<span class="token punctuation">)</span> <span class="token punctuation">{</span>    galleries <span class="token operator">=</span> site<span class="token punctuation">.</span>data<span class="token punctuation">.</span>galleries<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">var</span> pageTitle <span class="token operator">=</span> page<span class="token punctuation">.</span>title<span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">getCurrentGallery</span><span class="token punctuation">(</span><span class="token parameter">galleries<span class="token punctuation">,</span> pageTitle</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> galleries<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>galleries<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span> <span class="token operator">==</span> pageTitle<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> galleries<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">var</span> currentGallery <span class="token operator">=</span> <span class="token function">getCurrentGallery</span><span class="token punctuation">(</span>galleries<span class="token punctuation">,</span> pageTitle<span class="token punctuation">)</span><span class="token keyword">var</span> photos <span class="token operator">=</span> currentGallery<span class="token punctuation">.</span>photos<span class="token punctuation">;</span><span class="token keyword">var</span> galleryImageStr <span class="token operator">=</span> theme<span class="token punctuation">.</span>jsDelivr<span class="token punctuation">.</span>url <span class="token operator">?</span> theme<span class="token punctuation">.</span>jsDelivr<span class="token punctuation">.</span>url <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">;</span><span class="token keyword">let</span> imageStr <span class="token operator">=</span> <span class="token string">''</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">=</span> photos<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> photo <span class="token operator">=</span> photos<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    imageStr <span class="token operator">+=</span> <span class="token string">"&lt;a href=\""</span> <span class="token operator">+</span> galleryImageStr <span class="token operator">+</span> photo <span class="token operator">+</span> <span class="token string">"\""</span> <span class="token operator">+</span>            <span class="token string">"     class=\"photo-item\" rel=\"example_group\""</span> <span class="token operator">+</span>            <span class="token string">"     data-fancybox=\"images\"&gt;"</span> <span class="token operator">+</span>            <span class="token string">"      &lt;img src=\""</span> <span class="token operator">+</span> galleryImageStr <span class="token operator">+</span> photo <span class="token operator">+</span> <span class="token string">"\""</span> <span class="token operator">+</span>            <span class="token string">"       alt="</span> <span class="token operator">+</span> photo <span class="token operator">+</span> <span class="token string">"&gt;\n"</span> <span class="token operator">+</span>            <span class="token string">"    &lt;/a&gt;"</span><span class="token punctuation">}</span><span class="token operator">%</span><span class="token operator">&gt;</span>  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"container"</span><span class="token operator">&gt;</span>    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"photo-wrapper"</span><span class="token operator">&gt;</span>        <span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>page<span class="token punctuation">.</span>password <span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">%</span><span class="token operator">&gt;</span>            <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">"/js/crypto-js.js"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>            <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">"/js/gallery-encrypt.js"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>            <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"hbe-security"</span><span class="token operator">&gt;</span>                <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"hbe-input-container"</span><span class="token operator">&gt;</span>                    <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"password"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"hbe-form-control"</span> id<span class="token operator">=</span><span class="token string">"pass"</span>  placeholder<span class="token operator">=</span><span class="token string">"è¯·è¾“å…¥å¯†ç æŸ¥çœ‹å†…å®¹"</span><span class="token operator">/</span><span class="token operator">&gt;</span>                    <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"javascript:;"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"btn-decrypt"</span> id<span class="token operator">=</span><span class="token string">"btn_decrypt"</span><span class="token operator">&gt;</span>è§£å¯†<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>                <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>            <span class="token operator">&lt;</span>div  id<span class="token operator">=</span><span class="token string">"mygallery"</span><span class="token operator">&gt;</span>                <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"waterfall"</span> id<span class="token operator">=</span><span class="token string">"encrypt-blog"</span> style<span class="token operator">=</span><span class="token string">"display:none"</span><span class="token operator">&gt;</span>                    <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">-</span> <span class="token function">aes</span><span class="token punctuation">(</span>imageStr<span class="token punctuation">,</span> page<span class="token punctuation">.</span>password<span class="token punctuation">)</span> <span class="token operator">%</span><span class="token operator">&gt;</span>                <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>        <span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token operator">%</span><span class="token operator">&gt;</span>            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"waterfall"</span> id<span class="token operator">=</span><span class="token string">"encrypt-blog"</span><span class="token operator">&gt;</span>                <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">-</span> imageStr <span class="token operator">%</span><span class="token operator">&gt;</span>            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>        <span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token punctuation">}</span> <span class="token operator">%</span><span class="token operator">&gt;</span>    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">"&lt;%- theme.jsDelivr.url %&gt;&lt;%- url_for(theme.libs.js.fancybox) %&gt;"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span><span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">"&lt;%- theme.jsDelivr.url %&gt;&lt;%- url_for(theme.libs.js.justifiedGallery) %&gt;"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"a[rel=example_group]"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fancybox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#encrypt-blog"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">justifiedGallery</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">margins</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token literal-property property">rowHeight</span><span class="token operator">:</span> <span class="token number">150</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æˆåŠŸåçš„ç›¸å†Œé¡µé¢ï¼š</p><p><img src="/../assets/blog_res/%E5%AF%BC%E8%88%AA%E9%A1%B5%E7%9A%84%E5%88%9B%E5%BB%BA%E6%95%85%E9%9A%9C.assets/image-20231222193734284.png" alt="image-20231222193734284"></p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å­¦ä¹  </tag>
            
            <tag> é—®é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxæ–‡ä»¶ç®¡ç†ï¼ˆä¸Šï¼‰-1</title>
      <link href="/2023/12/22/linux-wen-jian-guan-li-shang/"/>
      <url>/2023/12/22/linux-wen-jian-guan-li-shang/</url>
      
        <content type="html"><![CDATA[<h1 id="Linuxæ–‡ä»¶ç®¡ç†ï¼ˆä¸Šï¼‰"><a href="#Linuxæ–‡ä»¶ç®¡ç†ï¼ˆä¸Šï¼‰" class="headerlink" title="Linuxæ–‡ä»¶ç®¡ç†ï¼ˆä¸Šï¼‰"></a>Linuxæ–‡ä»¶ç®¡ç†ï¼ˆä¸Šï¼‰</h1><h1 id="ä¸€ã€Linuxä¸‹æ–‡ä»¶å‘½åè§„åˆ™"><a href="#ä¸€ã€Linuxä¸‹æ–‡ä»¶å‘½åè§„åˆ™" class="headerlink" title="ä¸€ã€Linuxä¸‹æ–‡ä»¶å‘½åè§„åˆ™"></a>ä¸€ã€Linuxä¸‹æ–‡ä»¶å‘½åè§„åˆ™</h1><h2 id="1ã€å¯ä»¥ä½¿ç”¨å“ªäº›å­—ç¬¦ï¼Ÿ"><a href="#1ã€å¯ä»¥ä½¿ç”¨å“ªäº›å­—ç¬¦ï¼Ÿ" class="headerlink" title="1ã€å¯ä»¥ä½¿ç”¨å“ªäº›å­—ç¬¦ï¼Ÿ"></a>1ã€å¯ä»¥ä½¿ç”¨å“ªäº›å­—ç¬¦ï¼Ÿ</h2><p>ç†è®ºä¸Š==é™¤äº†å­—ç¬¦â€œ/â€ä¹‹å¤–ï¼Œæ‰€æœ‰çš„å­—ç¬¦éƒ½å¯ä»¥ä½¿ç”¨==ï¼Œä½†æ˜¯è¦æ³¨æ„ï¼Œåœ¨ç›®å½•åæˆ–æ–‡ä»¶åä¸­ï¼Œä¸å»ºè®®ä½¿ç”¨æŸäº›ç‰¹æ®Šå­—ç¬¦ï¼Œä¾‹å¦‚ï¼Œ &lt;ã€&gt;ã€ï¼Ÿã€* ç­‰ï¼Œå°½é‡é¿å…ä½¿ç”¨ã€‚</p><p>å·¥ä½œæ—¶æ–‡ä»¶çš„å‘½åè§„åˆ™ï¼š</p><p>â‘  ç”±äºlinuxä¸¥æ ¼åŒºåˆ†å¤§å°å†™ï¼Œæ‰€ä»¥==å°½é‡éƒ½ç”¨å°å†™å­—æ¯==</p><p>â‘¡ å¦‚æœå¿…é¡»==å¯¹æ–‡ä»¶åè¿›è¡Œåˆ†å‰²ï¼Œå»ºè®®ä½¿ç”¨â€_â€==ï¼Œä¾‹å¦‚ï¼šitheima_bj_2020.log</p><blockquote><p>_ ä¸‹åˆ’çº¿ï¼Œåœ¨Linuxæ“ä½œç³»ç»Ÿä¸­ï¼Œå¯ä»¥ä½¿ç”¨Shifté”® + å‡å·</p></blockquote><h2 id="2ã€æ–‡ä»¶åçš„é•¿åº¦"><a href="#2ã€æ–‡ä»¶åçš„é•¿åº¦" class="headerlink" title="2ã€æ–‡ä»¶åçš„é•¿åº¦"></a>2ã€æ–‡ä»¶åçš„é•¿åº¦</h2><p>ç›®å½•åæˆ–æ–‡ä»¶åçš„é•¿åº¦ä¸èƒ½è¶…è¿‡ 255 ä¸ªå­—ç¬¦</p><blockquote><p>å°½é‡ä¸è¦å¤ªé•¿ï¼Œå¦å¤–æ–‡ä»¶åç§°ä¸€å®šè¦è§åçŸ¥æ„ï¼Œå¯ä»¥ä½¿ç”¨è‹±æ–‡å•è¯</p></blockquote><h2 id="3ã€æ–‡ä»¶åçš„å¤§å°å†™"><a href="#3ã€æ–‡ä»¶åçš„å¤§å°å†™" class="headerlink" title="3ã€æ–‡ä»¶åçš„å¤§å°å†™"></a>3ã€æ–‡ä»¶åçš„å¤§å°å†™</h2><p> Linuxç›®å½•åæˆ–æ–‡ä»¶åæ˜¯åŒºåˆ†å¤§å°å†™çš„ã€‚å¦‚ itheimaã€ITheimaã€yunwei å’Œ Yunwei ï¼Œæ˜¯äº’ä¸ç›¸åŒçš„ç›®å½•åæˆ–æ–‡ä»¶åã€‚</p><p>ä¸ªäººå»ºè®®ï¼š</p><p>ä¸è¦ä½¿ç”¨å­—ç¬¦å¤§å°å†™æ¥åŒºåˆ†ä¸åŒçš„æ–‡ä»¶æˆ–ç›®å½•ã€‚<br>å»ºè®®æ–‡ä»¶å==ä¸€å¾‹ä½¿ç”¨å°å†™å­—æ¯==</p><h2 id="4ã€Linuxæ–‡ä»¶æ‰©å±•å"><a href="#4ã€Linuxæ–‡ä»¶æ‰©å±•å" class="headerlink" title="4ã€Linuxæ–‡ä»¶æ‰©å±•å"></a>4ã€Linuxæ–‡ä»¶æ‰©å±•å</h2><p>Linuxæ–‡ä»¶çš„æ‰©å±•åå¯¹ Linux æ“ä½œç³»ç»Ÿæ²¡æœ‰ç‰¹æ®Šçš„å«ä¹‰ï¼ŒLinux ç³»ç»Ÿå¹¶ä¸ä»¥æ–‡ä»¶çš„æ‰©å±•åå¼€åˆ†åŒºæ–‡ä»¶ç±»å‹ã€‚ä¾‹å¦‚ï¼Œitheima.exe åªæ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œå…¶æ‰©å±•å .exe å¹¶ä¸ä»£è¡¨æ­¤æ–‡ä»¶å°±ä¸€å®šæ˜¯å¯æ‰§è¡Œçš„ã€‚</p><p>åœ¨Linuxç³»ç»Ÿä¸­ï¼Œæ–‡ä»¶æ‰©å±•åçš„ç”¨é€”ä¸ºäº†==ä½¿è¿ç»´äººå‘˜æ›´å¥½çš„åŒºåˆ†ä¸åŒçš„æ–‡ä»¶ç±»å‹==ã€‚</p><blockquote><p>åœ¨Linuxæ“ä½œç³»ç»Ÿä¸­ï¼Œæ–‡ä»¶çš„ç±»å‹æ˜¯ä¾é æƒé™ä½çš„æ ‡è¯†ç¬¦æ¥è¿›è¡ŒåŒºåˆ†çš„ã€‚å½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡é¢œè‰²ï¼Œå¦‚é»‘è‰²æ™®é€šæ–‡ä»¶ï¼Œå¤©è“è‰²æ–‡ä»¶å¤¹</p></blockquote><h1 id="äºŒã€Linuxä¸‹çš„æ–‡ä»¶ç®¡ç†"><a href="#äºŒã€Linuxä¸‹çš„æ–‡ä»¶ç®¡ç†" class="headerlink" title="äºŒã€Linuxä¸‹çš„æ–‡ä»¶ç®¡ç†"></a>äºŒã€Linuxä¸‹çš„æ–‡ä»¶ç®¡ç†</h1><h2 id="1ã€ç›®å½•åˆ›å»º"><a href="#1ã€ç›®å½•åˆ›å»º" class="headerlink" title="1ã€ç›®å½•åˆ›å»º"></a>1ã€ç›®å½•åˆ›å»º</h2><p>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œä¸ç›®å½•ç›¸å…³çš„æ“ä½œä¸»è¦æœ‰ä¸¤ä¸ªï¼šåˆ›å»ºç›®å½•ä¸åˆ é™¤ç›®å½•</p><h3 id="â‘ -mkdiråˆ›å»ºç›®å½•"><a href="#â‘ -mkdiråˆ›å»ºç›®å½•" class="headerlink" title="â‘  mkdiråˆ›å»ºç›®å½•"></a>â‘  mkdiråˆ›å»ºç›®å½•</h3><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mkdir ç›®å½•åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸»è¦åŠŸèƒ½ï¼šå°±æ˜¯æ ¹æ®ç›®å½•çš„åç§°åˆ›å»ºä¸€ä¸ªç›®å½•</p><blockquote><p>mkdir = make directory</p></blockquote><p>æ¡ˆä¾‹ï¼šåœ¨å®¶ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªitheimaçš„æ–‡ä»¶å¤¹</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mkdir itheima<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â‘¡-mkdir-pé€’å½’åˆ›å»ºç›®å½•"><a href="#â‘¡-mkdir-pé€’å½’åˆ›å»ºç›®å½•" class="headerlink" title="â‘¡ mkdir -pé€’å½’åˆ›å»ºç›®å½•"></a>â‘¡ mkdir -pé€’å½’åˆ›å»ºç›®å½•</h3><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mkdir -p /usr/local/nginx/confé€‰é¡¹è¯´æ˜ï¼š-pï¼šé€’å½’åˆ›å»ºï¼Œä»å·¦è¾¹çš„è·¯å¾„å¼€å§‹ä¸€çº§ä¸€çº§åˆ›å»ºç›®å½•ï¼Œç›´åˆ°è·¯å¾„ç»“æŸ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåœ¨å·²çŸ¥ç›®å½•ï¼ˆ/usr/localï¼‰ä¸‹åˆ›å»ºå¤šçº§ç›®å½•ï¼ˆnginx/confï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mkdir /usr/local/nginx/confmkdir: cannot create directory â€˜/usr/local/nginx/confâ€™: No such file or directorymkdirï¼šä¸èƒ½åˆ›å»ºç›®å½•confï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸º/usr/localç›®å½•ä¸‹å¹¶æ²¡æœ‰nginx<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>è§£å†³æ–¹æ¡ˆï¼šå¦‚æœæˆ‘ä»¬æƒ³åŒæ—¶åˆ›å»ºå¤šçº§ç›®å½•ï¼Œå¿…é¡»ä½¿ç”¨-pé€‰é¡¹ï¼Œå…¶ä¼šä»å·¦å‘å³ä¸€çº§ä¸€çº§åˆ›å»ºç›®å½•ã€‚</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mkdir -p /usr/local/nginx/conf<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â‘¢-ä½¿ç”¨mkdiråŒæ—¶åˆ›å»ºå¤šä¸ªç›®å½•"><a href="#â‘¢-ä½¿ç”¨mkdiråŒæ—¶åˆ›å»ºå¤šä¸ªç›®å½•" class="headerlink" title="â‘¢ ä½¿ç”¨mkdiråŒæ—¶åˆ›å»ºå¤šä¸ªç›®å½•"></a>â‘¢ ä½¿ç”¨mkdiråŒæ—¶åˆ›å»ºå¤šä¸ªç›®å½•</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mkdir ç›®å½•åç§°1 ç›®å½•åç§°2 ç›®å½•åç§°3 ...<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºaã€bã€cä¸‰ä¸ªç›®å½•</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mkdir a# mkdir b# mkdir cæˆ–# mkdir a b c<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h2><p>ä¸€ä¸ªç›®å½•ä¸€ä¸ªç›®å½•åˆ›å»º# mkdir ç›®å½•åç§°</p><p>å¤šçº§ç›®å½•ä¸€èµ·åˆ›å»º# mkdir   -p   ç›®å½•åç§°1/ç›®å½•åç§°2/â€¦</p><p>åŒæ—¶åˆ›å»ºå¤šä¸ªç›®å½•# mkdir  ç›®å½•åç§°1  ç›®å½•åç§°2  ç›®å½•åç§°3</p><h2 id="æ‰©å±•ï¼šLinuxå¿«æ·é”®ï¼ˆæ–¹å‘é”®ä¸Šä¸‹ï¼‰"><a href="#æ‰©å±•ï¼šLinuxå¿«æ·é”®ï¼ˆæ–¹å‘é”®ä¸Šä¸‹ï¼‰" class="headerlink" title="æ‰©å±•ï¼šLinuxå¿«æ·é”®ï¼ˆæ–¹å‘é”®ä¸Šä¸‹ï¼‰"></a>æ‰©å±•ï¼šLinuxå¿«æ·é”®ï¼ˆæ–¹å‘é”®ä¸Šä¸‹ï¼‰</h2><p>åœ¨ç»ˆç«¯ä¸­ï¼š</p><p>â€‹æŒ‰æ–¹å‘é”®=&gt;å‘ä¸Šï¼Œå…¶ä¼šè¿”å›ä¸Šä¸€æ¬¡è¾“å…¥çš„å‘½ä»¤</p><p>â€‹æŒ‰æ–¹å‘é”®=&gt;å‘ä¸‹ï¼Œå…¶ä¼šè¿”å›ä¸‹ä¸€æ¬¡è¾“å…¥çš„å‘½ä»¤</p><h2 id="2ã€ç›®å½•åˆ é™¤ï¼ˆå¿…é¡»æ˜¯ç©ºç›®å½•ï¼‰"><a href="#2ã€ç›®å½•åˆ é™¤ï¼ˆå¿…é¡»æ˜¯ç©ºç›®å½•ï¼‰" class="headerlink" title="2ã€ç›®å½•åˆ é™¤ï¼ˆå¿…é¡»æ˜¯ç©ºç›®å½•ï¼‰"></a>2ã€ç›®å½•åˆ é™¤ï¼ˆå¿…é¡»æ˜¯ç©ºç›®å½•ï¼‰</h2><h3 id="â‘ -rmdirç§»é™¤ç©ºç›®å½•"><a href="#â‘ -rmdirç§»é™¤ç©ºç›®å½•" class="headerlink" title="â‘  rmdirç§»é™¤ç©ºç›®å½•"></a>â‘  rmdirç§»é™¤ç©ºç›®å½•</h3><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rmdir ç›®å½•åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>rmdir = remove  directoryï¼Œç§»é™¤ç›®å½•</p></blockquote><p>æ¡ˆä¾‹ï¼šæŠŠå®¶ç›®å½•ä¸‹çš„itheimaåˆ é™¤ï¼ˆç©ºç›®å½•ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rmdir itheima<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â‘¡-rmdir-pé€’å½’åˆ é™¤ç©ºç›®å½•"><a href="#â‘¡-rmdir-pé€’å½’åˆ é™¤ç©ºç›®å½•" class="headerlink" title="â‘¡ rmdir -pé€’å½’åˆ é™¤ç©ºç›®å½•"></a>â‘¡ rmdir -pé€’å½’åˆ é™¤ç©ºç›®å½•</h3><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rmdir -p ç›®å½•åç§°1/ç›®å½•åç§°2/ç›®å½•åç§°3/...<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸»è¦åŠŸèƒ½ï¼šä»å³å‘å·¦ä¸€çº§ä¸€çº§åˆ é™¤ç©ºç›®å½•</p><p>æ¡ˆä¾‹ï¼šé€’å½’åˆ é™¤itheimaæ–‡ä»¶å¤¹ä¸­çš„yunweiæ–‡ä»¶å¤¹ä¸­çš„shenzhen3</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rmdir -p itheima/yunwei/shenzhen3<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â‘¢-ä½¿ç”¨rmdiråŒæ—¶åˆ é™¤å¤šä¸ªç©ºç›®å½•"><a href="#â‘¢-ä½¿ç”¨rmdiråŒæ—¶åˆ é™¤å¤šä¸ªç©ºç›®å½•" class="headerlink" title="â‘¢ ä½¿ç”¨rmdiråŒæ—¶åˆ é™¤å¤šä¸ªç©ºç›®å½•"></a>â‘¢ ä½¿ç”¨rmdiråŒæ—¶åˆ é™¤å¤šä¸ªç©ºç›®å½•</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rmdir ç›®å½•åç§°1 ç›®å½•åç§°2 ç›®å½•åç§°3 ...<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåˆ é™¤å®¶ç›®å½•ä¸­çš„aã€bã€cä¸‰ä¸ªç©ºç›®å½•</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rmdir a b c<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="æ€»ç»“ï¼š-1"><a href="#æ€»ç»“ï¼š-1" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h2><p># rmdir ç›®å½•åç§°ï¼Œåˆ é™¤æŸä¸ªç©ºç›®å½•</p><p># rmdir -p ç›®å½•åç§°1/ç›®å½•åç§°2/ç›®å½•åç§°3/â€¦ï¼ŒåŒæ—¶åˆ é™¤å¤šçº§ç›®å½•ï¼ˆä»å³å‘å·¦ä¸€çº§ä¸€çº§åˆ é™¤ï¼‰</p><p># rmdir  ç›®å½•åç§°1 ç›®å½•åç§°2 ç›®å½•åç§°3ï¼ŒåŒæ—¶åˆ é™¤å¤šä¸ªç©ºç›®å½•</p><h2 id="3ã€æ–‡ä»¶åˆ›å»º"><a href="#3ã€æ–‡ä»¶åˆ›å»º" class="headerlink" title="3ã€æ–‡ä»¶åˆ›å»º"></a>3ã€æ–‡ä»¶åˆ›å»º</h2><h3 id="â‘ -touchåˆ›å»ºæ–‡ä»¶"><a href="#â‘ -touchåˆ›å»ºæ–‡ä»¶" class="headerlink" title="â‘  touchåˆ›å»ºæ–‡ä»¶"></a>â‘  touchåˆ›å»ºæ–‡ä»¶</h3><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># touch æ–‡ä»¶åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸»è¦åŠŸèƒ½ï¼šåœ¨Linuxç³»ç»Ÿä¸­çš„å½“å‰ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–‡ä»¶</p><p>æ¡ˆä¾‹ï¼šåœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªreadme.txtæ–‡ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># touch readme.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â‘¡-ä½¿ç”¨touchå‘½ä»¤åŒæ—¶åˆ›å»ºå¤šä¸ªæ–‡ä»¶"><a href="#â‘¡-ä½¿ç”¨touchå‘½ä»¤åŒæ—¶åˆ›å»ºå¤šä¸ªæ–‡ä»¶" class="headerlink" title="â‘¡ ä½¿ç”¨touchå‘½ä»¤åŒæ—¶åˆ›å»ºå¤šä¸ªæ–‡ä»¶"></a>â‘¡ ä½¿ç”¨touchå‘½ä»¤åŒæ—¶åˆ›å»ºå¤šä¸ªæ–‡ä»¶</h3><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># touch æ–‡ä»¶åç§°1 æ–‡ä»¶åç§°2 æ–‡ä»¶åç§°3 ...<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåˆ›å»ºä¸€ä¸ªshopå•†åŸæ–‡ä»¶å¤¹ï¼Œç„¶ååœ¨å†…éƒ¨åˆ›å»ºindex.php/admin.php/config.phpä¸‰ä¸ªæ–‡ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mkdir shop# touch shop/index.php# touch shop/admin.php# touch shop/config.phpæˆ–# touch shop/index.php shop/admin.php shop/config.php<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>æå‡ºé—®é¢˜ï¼šè§‚å¯Ÿä»¥ä¸‹å‘½ä»¤ï¼Œçœ‹çœ‹æœ‰ä½•åŒºåˆ«ï¼Ÿ</p><p>ç¬¬ä¸€ç§å†™æ³•ï¼štouch  shop/index.php    shop/admin.php    shop/config.php</p><p>ä»£è¡¨åœ¨shopç›®å½•ä¸‹é¦–å…ˆåˆ›å»ºä¸€ä¸ªindex.phpï¼Œåœ¨åˆ›å»ºä¸€ä¸ªadmin.phpï¼Œæœ€åconfig.php</p><p>ç¬¬äºŒç§å†™æ³•ï¼štouch   shop/index.php    admin.php   config.php</p><p>ä»£è¡¨åœ¨shopç›®å½•ä¸‹é¦–å…ˆåˆ›å»ºindex.phpï¼Œç„¶ååœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºadmin.phpï¼Œæœ€ååœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºconfig.php</p></blockquote><h3 id="â‘¢-1-5-æ ¹æ®åºå·åŒæ—¶åˆ›å»ºå¤šä¸ªæ–‡ä»¶"><a href="#â‘¢-1-5-æ ¹æ®åºå·åŒæ—¶åˆ›å»ºå¤šä¸ªæ–‡ä»¶" class="headerlink" title="â‘¢ {1..5}æ ¹æ®åºå·åŒæ—¶åˆ›å»ºå¤šä¸ªæ–‡ä»¶"></a>â‘¢ {1..5}æ ¹æ®åºå·åŒæ—¶åˆ›å»ºå¤šä¸ªæ–‡ä»¶</h3><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># touch æ–‡ä»¶åç§°{å¼€å§‹åºå·..ç»“æŸåºå·}å«ä¹‰ï¼šæ ¹æ®æä¾›çš„å¼€å§‹åºå·~ç»“æŸåºå·ï¼Œä¸€ä¸ªä¸€ä¸ªåˆ›å»ºæ–‡ä»¶<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåˆ›å»ºfile1ã€file2ã€file3ã€file4ã€file5å…±5ä¸ªæ–‡ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># touch file1# touch file2# touch file3# touch file4# touch file5<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æˆ–</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># touch file{1..5}<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="æ€»ç»“ï¼š-2"><a href="#æ€»ç»“ï¼š-2" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h2><p># touch æ–‡ä»¶åç§°</p><p># touch æ–‡ä»¶åç§°1  æ–‡ä»¶åç§°2  æ–‡ä»¶åç§°3 â€¦</p><p># touch æ–‡ä»¶åç§°{å¼€å§‹åºå·..ç»“æŸåºå·}</p><h2 id="4ã€æ–‡ä»¶åˆ é™¤"><a href="#4ã€æ–‡ä»¶åˆ é™¤" class="headerlink" title="4ã€æ–‡ä»¶åˆ é™¤"></a>4ã€æ–‡ä»¶åˆ é™¤</h2><h3 id="â‘ -æ™®é€šåˆ é™¤"><a href="#â‘ -æ™®é€šåˆ é™¤" class="headerlink" title="â‘  æ™®é€šåˆ é™¤"></a>â‘  æ™®é€šåˆ é™¤</h3><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rm  [é€‰é¡¹]  æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹çš„åç§°é€‰é¡¹è¯´æ˜ï¼š-r ï¼šé’ˆå¯¹æ–‡ä»¶å¤¹ï¼Œä»£è¡¨é€’å½’åˆ é™¤ï¼Œå…ˆæŠŠç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åˆ é™¤ï¼Œç„¶ååœ¨åˆ é™¤æ–‡ä»¶å¤¹-f ï¼šå¼ºåˆ¶åˆ é™¤ï¼Œä¸æç¤ºï¼Œåˆå­¦è€…ä¸€å®šè¦æ…é‡ï¼ï¼ï¼<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåˆ é™¤readme.txtæ–‡ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rm readme.txtrm: remove regular empty file â€˜readme.txtâ€™?è¿™é‡Œå¯ä»¥å›å¤y or nyä»£è¡¨ç¡®è®¤åˆ é™¤nä»£è¡¨å–æ¶ˆåˆ é™¤<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šå¼ºåˆ¶åˆ é™¤admin.phpï¼Œä¸æç¤ºï¼ˆæ…é‡ï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rm -f admin.php<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šåˆ é™¤éç©ºçš„æ–‡ä»¶å¤¹ï¼ˆ-rfå¼ºåˆ¶é€’å½’åˆ é™¤ï¼Œä¸æç¤ºï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rm -rf shop<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æç¤ºä¿¡æ¯ï¼šdescend into directory â€˜itheima/â€˜?<br>å«ä¹‰ï¼šæ˜¯å¦è¿›å…¥itheimaç›®å½•ï¼Ÿ</p><p>æç¤ºä¿¡æ¯ï¼šremvoe directory â€˜itheima/â€˜?<br>å«ä¹‰ï¼šæ˜¯å¦åˆ é™¤itheimaæ–‡ä»¶å¤¹ï¼Ÿ</p><p>æ‰©å±•ï¼šCtrl + Cåœ¨Linuxä¸‹çš„ä½¿ç”¨æ–¹å¼</p><blockquote><p>åœ¨Linuxæ“ä½œç³»ç»Ÿä¸­ï¼ŒCtrl + Cä¸æ˜¯å¤åˆ¶ï¼Œè€Œæ˜¯ä¸­æ–­æŸä¸ªæ“ä½œ</p></blockquote><p>æ€»ç»“ï¼š</p><p># rm  æ–‡ä»¶åç§°</p><p># rm  æ–‡ä»¶åç§°1  æ–‡ä»¶åç§°2  æ–‡ä»¶åç§°3 â€¦ </p><p># rm  -f   æ–‡ä»¶åç§°     =&gt;    å¼ºåˆ¶åˆ é™¤ï¼Œä¸æç¤º</p><p># rm  -rf   æ–‡ä»¶å¤¹åç§° =&gt;    é€’å½’åˆ é™¤æ–‡ä»¶å¤¹</p><h3 id="â‘¡-æ‰©å±•ï¼šrm-rf-ï¼Œä¸€å®šè¦æ…é‡"><a href="#â‘¡-æ‰©å±•ï¼šrm-rf-ï¼Œä¸€å®šè¦æ…é‡" class="headerlink" title="â‘¡ æ‰©å±•ï¼šrm  -rf   /*ï¼Œä¸€å®šè¦æ…é‡"></a>â‘¡ æ‰©å±•ï¼šrm  -rf   /*ï¼Œä¸€å®šè¦æ…é‡</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rm -rf /*    =&gt;   ä»£è¡¨åˆ é™¤æ ¹ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼ˆå¦‚æœæ²¡æœ‰å¤‡ä»½ï¼Œæ¢å¤çš„å‡ ç‡ä¸é«˜ï¼‰rm ï¼šåˆ é™¤-r ï¼šé€’å½’åˆ é™¤ï¼ˆæ— è®ºæ–‡ä»¶å¤¹æ˜¯å¦ä¸ºç©ºï¼‰-f ï¼šå¼ºåˆ¶åˆ é™¤ä¸æç¤º/  ï¼šä»£è¡¨æ ¹åˆ†åŒº*  ï¼šæ‰€æœ‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="5ã€å¤åˆ¶æ“ä½œ"><a href="#5ã€å¤åˆ¶æ“ä½œ" class="headerlink" title="5ã€å¤åˆ¶æ“ä½œ"></a>5ã€å¤åˆ¶æ“ä½œ</h2><p>â‘  cpå¤åˆ¶æ“ä½œ</p><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cp [é€‰é¡¹] æºæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ ç›®æ ‡è·¯å¾„é€‰é¡¹è¯´æ˜ï¼š-r ï¼šé€’å½’å¤åˆ¶ï¼Œä¸»è¦é’ˆå¯¹æ–‡ä»¶å¤¹<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><blockquote><p>cp = copyå¤åˆ¶</p></blockquote><p>æ¡ˆä¾‹ï¼šæŠŠreadme.txtæ–‡ä»¶ä»å½“å‰ç›®å½•å¤åˆ¶ä¸€ä»½æ”¾åˆ°/tmpæ–‡ä»¶å¤¹ä¸­</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cp readme.txt /tmp/<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â‘¡ cpå¤åˆ¶å¹¶é‡å‘½åæ–‡ä»¶</p><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cp [é€‰é¡¹] æºæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ ç›®æ ‡è·¯å¾„/æ–°æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹çš„åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠreadme.txtæ–‡ä»¶ä»å½“å‰ç›®å½•å¤åˆ¶ä¸€ä»½æ”¾åˆ°/tmpæ–‡ä»¶å¤¹ä¸­å¹¶é‡å‘½åä¸ºreadme.txt.bak</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cp readme.txt /tmp/readme.txt.bak<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â‘¢ cpå¤åˆ¶æ–‡ä»¶å¤¹åˆ°æŒ‡å®šè·¯å¾„</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cp -r æºæ–‡ä»¶å¤¹åç§° ç›®æ ‡è·¯å¾„/<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠshopç›®å½•è¿é€šå…¶å†…éƒ¨çš„æ–‡ä»¶ç»Ÿä¸€å¤åˆ¶åˆ°/tmpç›®å½•ä¸‹</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mkdir shop# touch shop/index.php shop/admin.php shop/config.php# cp -r shop /tmp/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ€»ç»“ï¼š-3"><a href="#æ€»ç»“ï¼š-3" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h2><p>å¤åˆ¶æ–‡ä»¶# cp  æºæ–‡ä»¶åç§°  æŒ‡å®šè·¯å¾„</p><p>å¤åˆ¶æ–‡ä»¶å¹¶é‡å‘½å# cp  æºæ–‡ä»¶åç§° æŒ‡å®šè·¯å¾„/æ–°æ–‡ä»¶åç§°</p><p>å¤åˆ¶æ–‡ä»¶å¤¹# cp -r  æºæ–‡ä»¶å¤¹  æŒ‡å®šè·¯å¾„</p><h2 id="6ã€å‰ªåˆ‡æ“ä½œ"><a href="#6ã€å‰ªåˆ‡æ“ä½œ" class="headerlink" title="6ã€å‰ªåˆ‡æ“ä½œ"></a>6ã€å‰ªåˆ‡æ“ä½œ</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mv æºæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ ç›®æ ‡è·¯å¾„/<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>mv = moveï¼Œå‰ªåˆ‡ã€ç§»åŠ¨çš„å«ä¹‰</p></blockquote><p>æ¡ˆä¾‹ï¼šæŠŠreadme.txtæ–‡ä»¶å‰ªåˆ‡åˆ°/tmpç›®å½•ä¸‹</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># rm -rf /tmp/readme.txt# mv readme.txt /tmp/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠshopæ–‡ä»¶å¤¹ç§»åŠ¨åˆ°/usr/local/nginxç›®å½•ä¸‹</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mkdir /usr/local/nginx# mv shop /usr/local/nginx/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="7ã€é‡å‘½åæ“ä½œ"><a href="#7ã€é‡å‘½åæ“ä½œ" class="headerlink" title="7ã€é‡å‘½åæ“ä½œ"></a>7ã€é‡å‘½åæ“ä½œ</h2><p>ä»€ä¹ˆæ˜¯é‡å‘½åï¼Ÿç®€å•æ¥è¯´ï¼Œå°±æ˜¯ç»™ä¸€ä¸ªæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹æ›´æ”¹åç§°</p><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mv  æºæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹åç§°  æ–°æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹çš„åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠreadme.txtæ–‡ä»¶æ›´åä¸ºREADME.mdæ–‡ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mv readme.txt README.md<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠshopæ–‡ä»¶ç›®å½•æ›´åä¸ºwechatç›®å½•</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># mkdir shop# mv shop wechat<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ€»ç»“ï¼š</p><p>å‰ªåˆ‡æ–‡ä»¶# mv  æºæ–‡ä»¶åç§°  ç›®æ ‡è·¯å¾„/</p><p>å‰ªåˆ‡æ–‡ä»¶å¤¹# mv æºæ–‡ä»¶å¤¹åç§° ç›®æ ‡è·¯å¾„/</p><p>é‡å‘½å# mv  æºæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹åç§°  æ–°æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹åç§°</p><h2 id="8ã€æ‰“åŒ…å‹ç¼©ä¸è§£å‹ç¼©"><a href="#8ã€æ‰“åŒ…å‹ç¼©ä¸è§£å‹ç¼©" class="headerlink" title="8ã€æ‰“åŒ…å‹ç¼©ä¸è§£å‹ç¼©"></a>8ã€æ‰“åŒ…å‹ç¼©ä¸è§£å‹ç¼©</h2><h3 id="â‘ -å‡ ä¸ªæ¦‚å¿µ"><a href="#â‘ -å‡ ä¸ªæ¦‚å¿µ" class="headerlink" title="â‘  å‡ ä¸ªæ¦‚å¿µ"></a>â‘  å‡ ä¸ªæ¦‚å¿µ</h3><p><strong>æ‰“åŒ…</strong>ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼ŒLinuxçš„å‹ç¼©æ¦‚å¿µä¸€æ¬¡åªèƒ½å‹ç¼©ä¸€ä¸ªæ–‡ä»¶ã€‚é’ˆå¯¹å¤šæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹æ— æ³•è¿›è¡Œç›´æ¥å‹ç¼©ã€‚æ‰€ä»¥éœ€è¦æå‰å¯¹å¤šä¸ªæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹è¿›è¡Œæ‰“åŒ…ï¼Œè¿™æ ·æ‰å¯ä»¥è¿›è¡Œå‹ç¼©æ“ä½œã€‚</p><p>1.txt  5MB</p><p>2.txt  10MB</p><p>3.txt  15MB</p><p>1.txt + 2.txt + 3.txt  =  æ‰“åŒ…  =  123.tar = 30MB</p><blockquote><p>æ‰“åŒ…åªæ˜¯æŠŠå¤šä¸ªæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹æ‰“åŒ…æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰è¿›è¡Œå‹ç¼©ï¼Œæ‰€ä»¥å…¶å¤§å°è¿˜æ˜¯åŸæ¥æ‰€æœ‰æ–‡ä»¶çš„æ€»å’Œã€‚</p></blockquote><p><strong>å‹ç¼©</strong>ï¼šä¹Ÿæ˜¯ä¸€ä¸ªæ–‡ä»¶å’Œç›®å½•çš„é›†åˆï¼Œä¸”è¿™ä¸ªé›†åˆä¹Ÿè¢«å­˜å‚¨åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œä½†å®ƒä»¬çš„ä¸åŒä¹‹å¤„åœ¨äºï¼Œå‹ç¼©æ–‡ä»¶æ‰€å ç”¨çš„ç£ç›˜ç©ºé—´<strong>æ¯”é›†åˆä¸­æ‰€æœ‰æ–‡ä»¶å¤§å°çš„æ€»å’Œè¦å°ã€‚</strong></p><p>1.txt  5MB</p><p>2.txt  10MB</p><p>3.txt  15MB</p><p>1.txt + 2.txt + 3.txt = å‹ç¼© = 123.tar.gz = 20MBï¼ˆä½“ç§¯å˜å°äº†ï¼‰</p><h3 id="â‘¡-Linuxæ‰“åŒ…æ“ä½œ"><a href="#â‘¡-Linuxæ‰“åŒ…æ“ä½œ" class="headerlink" title="â‘¡ Linuxæ‰“åŒ…æ“ä½œ"></a>â‘¡ Linuxæ‰“åŒ…æ“ä½œ</h3><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># tar [é€‰é¡¹]  æ‰“åŒ…åçš„åç§°.tar  å¤šä¸ªæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹é€‰é¡¹è¯´æ˜ï¼š-c ï¼šæ‰“åŒ…-f ï¼šfilenameï¼Œæ‰“åŒ…åçš„æ–‡ä»¶åç§°-v ï¼šæ˜¾ç¤ºæ‰“åŒ…çš„è¿›åº¦-u ï¼šupdateç¼©å†™ï¼Œæ›´æ–°åŸæ‰“åŒ…æ–‡ä»¶ä¸­çš„æ–‡ä»¶ï¼ˆäº†è§£ï¼‰-t ï¼šæŸ¥çœ‹æ‰“åŒ…çš„æ–‡ä»¶å†…å®¹ï¼ˆäº†è§£ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠa.txtã€b.txtã€c.txtæ–‡ä»¶æ‰“åŒ…åˆ°abc.taræ–‡ä»¶ä¸­</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># tar -cvf abc.tar a.txt b.txt c.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠwechatæ–‡ä»¶å¤¹è¿›è¡Œæ‰“åŒ…wechat.tar</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># tar -cvf wechat.tar wechat<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â‘¢-tar-tfä»¥åŠtar-uf"><a href="#â‘¢-tar-tfä»¥åŠtar-uf" class="headerlink" title="â‘¢ tar -tfä»¥åŠtar -uf"></a>â‘¢ tar -tfä»¥åŠtar -uf</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># tar -tf æ‰“åŒ…åçš„æ–‡ä»¶åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸»è¦åŠŸèƒ½ï¼šæŸ¥çœ‹taråŒ…ä¸­çš„æ–‡ä»¶ä¿¡æ¯</p><p>æ¡ˆä¾‹ï¼šæŸ¥çœ‹abc.taråŒ…ä¸­çš„æ–‡ä»¶ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># tar -tf abc.tar<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># tar -uf æ‰“åŒ…åçš„æ–‡ä»¶åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>u = updateï¼Œæ›´æ–°ï¼Œå¦‚æœè¿˜æƒ³å¾€taråŒ…ä¸­æ›´æ–°æˆ–è¿½åŠ å†…å®¹éƒ½å¯ä»¥é€šè¿‡-ué€‰é¡¹</p></blockquote><p>æ¡ˆä¾‹ï¼šå‘abc.taråŒ…ä¸­æ·»åŠ ä¸€ä¸ªd.txtæ–‡ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># touch d.txt# tar -uf abc.tar d.txtæŸ¥çœ‹æ˜¯å¦æ·»åŠ æˆåŠŸ# tar -tf abc.tar<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æ‰©å±•ï¼šå¦‚ä½•æŠŠtaråŒ…ä¸­çš„æ–‡ä»¶é‡Šæ”¾å‡ºæ¥</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">æ‰“åŒ…# tar -cf  abc.tar  a.txt  b.txt  c.txtæ‰“åŒ… =&gt; é‡Šæ”¾ï¼ˆ-c å˜æˆ -xï¼‰é‡Šæ”¾# tar -xf  abc.tar<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="â‘£-æ‰“åŒ…å¹¶å‹ç¼©ï¼ˆå­¦ä¹ çš„é‡ç‚¹ï¼‰"><a href="#â‘£-æ‰“åŒ…å¹¶å‹ç¼©ï¼ˆå­¦ä¹ çš„é‡ç‚¹ï¼‰" class="headerlink" title="â‘£ æ‰“åŒ…å¹¶å‹ç¼©ï¼ˆå­¦ä¹ çš„é‡ç‚¹ï¼‰"></a>â‘£ æ‰“åŒ…å¹¶å‹ç¼©ï¼ˆå­¦ä¹ çš„é‡ç‚¹ï¼‰</h3><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># tar [é€‰é¡¹]  å‹ç¼©åçš„å‹ç¼©åŒ…åç§°  è¦å‹ç¼©çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹é€‰é¡¹è¯´æ˜ï¼š-cf ï¼šå¯¹æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹è¿›è¡Œæ‰“åŒ…-v  ï¼šæ˜¾ç¤ºå‹ç¼©è¿›åº¦-zï¼šä½¿ç”¨gzipå‹ç¼©å·¥å…·æŠŠæ‰“åŒ…åçš„æ–‡ä»¶å‹ç¼©ä¸º.gz-j  ï¼šä½¿ç”¨bzip2å‹ç¼©å·¥å…·æŠŠæ‰“åŒ…åçš„æ–‡ä»¶å‹ç¼©ä¸º.bz2-Jï¼šä½¿ç”¨xzå‹ç¼©å·¥å…·æŠŠæ‰“åŒ…åçš„æ–‡ä»¶å‹ç¼©ä¸º.xzå‹ç¼©é€Ÿåº¦ï¼šgzip &gt; bzip2 &gt; xzå‹ç¼©ç‡ï¼šgzip &lt; bzip2 &lt; xz100M   90M     80M  70M<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠa.txtã€b.txtã€c.txtæ–‡ä»¶æ‰“åŒ…å¹¶å‹ç¼©ä¸ºabc.tar.gz</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># tar -zcf abc.tar.gz a.txt b.txt c.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠwechatæ–‡ä»¶å¤¹å‹ç¼©ä¸ºwechat.tar.gzæ ¼å¼çš„å‹ç¼©åŒ…</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># tar -zcf wechat.tar.gz wechat<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â‘¤-å¯¹å‹ç¼©åŒ…è¿›è¡Œè§£å‹"><a href="#â‘¤-å¯¹å‹ç¼©åŒ…è¿›è¡Œè§£å‹" class="headerlink" title="â‘¤ å¯¹å‹ç¼©åŒ…è¿›è¡Œè§£å‹"></a>â‘¤ å¯¹å‹ç¼©åŒ…è¿›è¡Œè§£å‹</h3><p>è§£å‹è¿‡ç¨‹éå¸¸ç®€å•ï¼Œå°±æ˜¯æŠŠå‹ç¼©çš„å‚æ•°ä¸­çš„cæ¢æˆxå°±å¯ä»¥å®ç°è§£å‹ç¼©äº†</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">*.tar.gzæ ¼å¼çš„å‹ç¼©åŒ…# tar -zxf åç§°.tar.gz*.tar.bz2æ ¼å¼çš„å‹ç¼©åŒ…# tar -jxf åç§°.tar.bz2*.tar.xzæ ¼å¼çš„å‹ç¼©åŒ…# tar -Jxf åç§°.tar.xz<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠabc.tar.gzæ ¼å¼çš„å‹ç¼©åŒ…è¿›è¡Œè§£å‹ç¼©æ“ä½œ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># tar -zxf abc.tar.gz<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠwechat.tar.gzæ ¼å¼çš„å‹ç¼©åŒ…è¿›è¡Œè§£å‹ç¼©æ“ä½œ</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># tar -zxf wechat.tar.gz<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="9ã€zipå‹ç¼©ä¸è§£å‹ç¼©"><a href="#9ã€zipå‹ç¼©ä¸è§£å‹ç¼©" class="headerlink" title="9ã€zipå‹ç¼©ä¸è§£å‹ç¼©"></a>9ã€zipå‹ç¼©ä¸è§£å‹ç¼©</h2><h3 id="â‘ -zipå‹ç¼©"><a href="#â‘ -zipå‹ç¼©" class="headerlink" title="â‘  zipå‹ç¼©"></a>â‘  zipå‹ç¼©</h3><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># zip [é€‰é¡¹] å‹ç¼©åçš„æ–‡ä»¶åç§°.zip  æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹é€‰é¡¹è¯´æ˜ï¼š-r ï¼šé€’å½’å‹ç¼©ï¼Œä¸»è¦é’ˆå¯¹çš„æ˜¯æ–‡ä»¶å¤¹<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><blockquote><p>Linuxä¸‹å·²ç»æœ‰gzipã€bzip2ä»¥åŠxzå‹ç¼©å‘½ä»¤äº†ï¼Œä¸ºä»€ä¹ˆè¿˜éœ€è¦ä½¿ç”¨zipå‹ç¼©å‘¢ï¼Ÿ</p><p>ç­”ï¼šzipæ ¼å¼åœ¨Windowsä»¥åŠLinuxä¸­éƒ½æ˜¯å¯ä»¥æ­£å¸¸ä½¿ç”¨çš„ã€‚</p></blockquote><p>æ¡ˆä¾‹ï¼šæŠŠa.txtã€b.txtã€c.txtè¿›è¡Œå‹ç¼©ä¸ºabc.zip</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># zip abc.zip a.txt b.txt c.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠwechatæ–‡ä»¶å¤¹å‹ç¼©ä¸ºwechat.zip</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># zip -r wechat.zip wechat<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â‘¡-unzipè§£å‹ç¼©"><a href="#â‘¡-unzipè§£å‹ç¼©" class="headerlink" title="â‘¡ unzipè§£å‹ç¼©"></a>â‘¡ unzipè§£å‹ç¼©</h3><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># unzip å‹ç¼©åŒ…åç§°=&gt;     è§£å‹åˆ°å½“å‰ç›®å½•# unzip å‹ç¼©åŒ…åç§° -d æŒ‡å®šè·¯å¾„=&gt;   è§£å‹åˆ°æŒ‡å®šè·¯å¾„ä¸‹<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šå¯¹abc.zipæ–‡ä»¶è¿›è¡Œè§£å‹ç¼©</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># unzip abc.zip<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠwechat.zipè§£å‹åˆ°/usr/local/nginxç›®å½•ä¸‹</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># unzip wechat.zip -d /usr/local/nginx/<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="æ€»ç»“ï¼š-4"><a href="#æ€»ç»“ï¼š-4" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h2><p>åœ¨Linuxæ“ä½œç³»ç»Ÿä¸­ï¼Œå…¶æ‹¥æœ‰å¾ˆå¤šå‹ç¼©å·¥å…·ï¼Œå¦‚gzipã€bzip2ã€xzç­‰ç­‰ï¼Œä½†æ˜¯å…¶æœ‰ä¸€ä¸ªç¼ºç‚¹ï¼š</p><p>ä¸€æ¬¡åªèƒ½å‹ç¼©ä¸€ä¸ªæ–‡ä»¶ï¼ˆè€Œä¸”æ— æ³•å‹ç¼©æ–‡ä»¶å¤¹ï¼‰</p><p>â‘  æ‰“åŒ…ï¼ŒæŠŠä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶æ‰“æˆtaråŒ…ï¼Œå¹¶ä¸æ˜¯å‹ç¼©ï¼Œåªæ˜¯æŠŠæ–‡ä»¶åˆå¹¶åœ¨ä¸€ä¸ªtaræ–‡ä»¶ä¸­</p><p>1.txt  5MB</p><p>2.txt  10MB</p><p>3.txt  15MB</p><p>æ‰“åŒ…123.tar = 5MB + 10MB + 15MB = 30MB</p><p>ä¸ºä»€ä¹ˆè¦æ‰“åŒ…ï¼Œå°±æ˜¯ä¸ºäº†åæœŸçš„å‹ç¼©æ“ä½œã€‚</p><p>â‘¡ æ‰“åŒ…å¹¶å‹ç¼©</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># tar -zcf å‹ç¼©åŒ…åç§°.tar.gz æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹åç§°# tar -jcf å‹ç¼©åŒ…åç§°.tar.bz2 æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹åç§°# tar -Jcf å‹ç¼©åŒ…åç§°.tar.xz æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹åç§°<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>â‘¢ è§£å‹ç¼©</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># tar æŠŠcå‚æ•°æ›´æ¢ä¸ºxï¼Œå°±å¯ä»¥å®ç°è§£å‹ç¼©  å‹ç¼©åŒ…åç§°.tar.gz<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ‰©å±•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># tar -zxf å‹ç¼©åŒ…åç§°.tar.gz [å‚æ•°] æŒ‡å®šè·¯å¾„<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬ä¸€ç§è§£å†³æ€è·¯ï¼šéšç”¨éšæŸ¥ï¼Œç™¾åº¦ã€Google</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># tar -zxf å‹ç¼©åŒ…åç§°.tar.gz -C æŒ‡å®šè·¯å¾„<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬äºŒç§è§£å†³æ€è·¯ï¼šå¯ä»¥ä½¿ç”¨manå‘½ä»¤ï¼ˆmanualç¼©å†™ï¼Œæ‰‹å†Œï¼‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># man tarå‘½ä»¤# tar -zxf å‹ç¼©åŒ…åç§°.tar.gz -C æŒ‡å®šè·¯å¾„<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>â‘£ zipå‹ç¼©ä¸è§£å‹ç¼©</p><p>ç»™æˆ‘ä»¬æä¾›ä¸€ç§æ—¢å¯ä»¥åœ¨Windowsä¸­ä½¿ç”¨çš„ï¼Œä¹Ÿå¯ä»¥æä¾›ä¸€ç§åœ¨Linuxä¸­ä½¿ç”¨çš„é€šç”¨çš„å‹ç¼©æ ¼å¼ã€‚</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># zip [-r]  å‹ç¼©åŒ…åç§°.zip  è¦å‹ç¼©çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è§£å‹ç¼©ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># unzip å‹ç¼©åŒ…åç§°.zip  -d æŒ‡å®šè·¯å¾„<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linuxçš„åŸºæœ¬æ“ä½œ</title>
      <link href="/2023/12/22/linux-de-ji-ben-cao-zuo/"/>
      <url>/2023/12/22/linux-de-ji-ben-cao-zuo/</url>
      
        <content type="html"><![CDATA[<h1 id="Linuxç³»ç»Ÿä½¿ç”¨æ³¨æ„"><a href="#Linuxç³»ç»Ÿä½¿ç”¨æ³¨æ„" class="headerlink" title="Linuxç³»ç»Ÿä½¿ç”¨æ³¨æ„"></a>Linuxç³»ç»Ÿä½¿ç”¨æ³¨æ„</h1><h2 id="1ã€Linuxä¸¥æ ¼åŒºåˆ†å¤§å°å†™"><a href="#1ã€Linuxä¸¥æ ¼åŒºåˆ†å¤§å°å†™" class="headerlink" title="1ã€Linuxä¸¥æ ¼åŒºåˆ†å¤§å°å†™"></a>1ã€Linuxä¸¥æ ¼åŒºåˆ†å¤§å°å†™</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">Linux å’ŒWindowsä¸åŒï¼ŒLinuxä¸¥æ ¼åŒºåˆ†å¤§å°å†™çš„ï¼ŒåŒ…æ‹¬æ–‡ä»¶åå’Œç›®å½•åã€å‘½ä»¤ã€å‘½ä»¤é€‰é¡¹ã€é…ç½®æ–‡ä»¶è®¾ç½®é€‰é¡¹ç­‰ã€‚ä¾‹å¦‚ï¼ŒWin7 ç³»ç»Ÿæ¡Œé¢ä¸Šæœ‰æ–‡ä»¶å¤¹å«åšTestï¼Œå½“æˆ‘ä»¬åœ¨æ¡Œé¢ä¸Šå†æ–°å»ºä¸€ä¸ªåä¸º test çš„æ–‡ä»¶å¤¹æ—¶ï¼Œç³»ç»Ÿä¼šæç¤ºæ–‡ä»¶å¤¹å‘½åå†²çªï¼›<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>Windowsæ¼”ç¤ºï¼š</p><p><img src="/../assets/blog_res/linux%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C.assets/image-20200312104935449.png" alt="image-20200312104935449"></p><p>Linuxæ¼”ç¤ºï¼š</p><p><img src="/../assets/blog_res/linux%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C.assets/image-20200312105002814.png" alt="image-20200312105002814"></p><p>ç”±ä»¥ä¸Šå›¾è§£å¯çŸ¥ï¼šLinuxæ˜¯ä¸€ä¸ªéå¸¸ä¸¥è°¨çš„æ“ä½œç³»ç»Ÿï¼Œä¸¥æ ¼åŒºåˆ†å¤§å°å†™ã€‚</p><h2 id="2ã€Linuxæ–‡ä»¶â€æ‰©å±•åâ€"><a href="#2ã€Linuxæ–‡ä»¶â€æ‰©å±•åâ€" class="headerlink" title="2ã€Linuxæ–‡ä»¶â€æ‰©å±•åâ€"></a>2ã€Linuxæ–‡ä»¶â€æ‰©å±•åâ€</h2><blockquote><p>åœ¨Linuxæ“ä½œç³»ç»Ÿä¸­ï¼Œä¸Windowsä¸åŒï¼Œå…¶æ–‡ä»¶çš„ç±»å‹ä¸æ˜¯é€šè¿‡æ‰©å±•åæ¥è¿›è¡ŒåŒºåˆ†çš„ï¼</p></blockquote><p>æˆ‘ä»¬éƒ½çŸ¥é“ï¼ŒWindows æ˜¯ä¾èµ–æ‰©å±•ååŒºåˆ†æ–‡ä»¶ç±»å‹çš„ï¼Œæ¯”å¦‚ï¼Œâ€.txtâ€ æ˜¯æ–‡æœ¬æ–‡ä»¶ã€â€.exeâ€ æ˜¯æ‰§è¡Œæ–‡ä»¶ï¼Œä½† Linux ä¸æ˜¯ã€‚</p><p> Linux ç³»ç»Ÿé€šè¿‡==æƒé™ä½æ ‡è¯†==æ¥ç¡®å®šæ–‡ä»¶ç±»å‹ï¼Œå¸¸è§çš„æ–‡ä»¶ç±»å‹æœ‰æ™®é€šæ–‡ä»¶ã€ç›®å½•ã€é“¾æ¥æ–‡ä»¶ã€å—è®¾å¤‡æ–‡ä»¶ã€å­—ç¬¦è®¾å¤‡æ–‡ä»¶ç­‰å‡ ç§ã€‚Linux çš„å¯æ‰§è¡Œæ–‡ä»¶å°±æ˜¯æ™®é€šæ–‡ä»¶è¢«èµ‹äºˆäº†å¯æ‰§è¡Œæƒé™ã€‚</p><p><img src="/../assets/blog_res/linux%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C.assets/image-20200312105800243.png" alt="image-20200312105800243"></p><p>Linuxç³»ç»Ÿä¸­å¸¸è§çš„åç¼€åç§°ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">Linux ä¸­çš„ä¸€äº›ç‰¹æ®Šæ–‡ä»¶è¿˜æ˜¯è¦æ±‚å†™ "æ‰©å±•å" çš„ï¼Œä½† Linux ä¸ä¾èµ–æ‰©å±•åæ¥è¯†åˆ«æ–‡ä»¶ç±»å‹ï¼Œå†™è¿™äº›æ‰©å±•åæ˜¯ä¸ºäº†å¸®åŠ©è¿ç»´äººå‘˜æ¥åŒºåˆ†ä¸åŒçš„æ–‡ä»¶ç±»å‹ã€‚è¿™æ ·çš„æ–‡ä»¶æ‰©å±•åä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ï¼šå‹ç¼©åŒ…ï¼šLinux ä¸‹å¸¸è§çš„å‹ç¼©æ–‡ä»¶åæœ‰ *.gzã€*.bz2ã€*.zipã€*.tar.gzã€*.tar.bz2ã€*.tgz ç­‰ã€‚ä¸ºä»€ä¹ˆå‹ç¼©åŒ…ä¸€å®šè¦å†™æ‰©å±•åå‘¢ï¼Ÿå¾ˆç®€å•ï¼Œå¦‚æœä¸å†™æ¸…æ¥šæ‰©å±•åï¼Œé‚£ä¹ˆç®¡ç†å‘˜ä¸å®¹æ˜“åˆ¤æ–­å‹ç¼©åŒ…çš„æ ¼å¼ï¼Œè™½ç„¶æœ‰å‘½ä»¤å¯ä»¥å¸®åŠ©åˆ¤æ–­ï¼Œä½†æ˜¯ç›´è§‚ä¸€ç‚¹æ›´åŠ æ–¹ä¾¿ã€‚å°±ç®—æ²¡å†™æ‰©å±•åï¼Œåœ¨ Linux ä¸­ä¸€æ ·å¯ä»¥è§£å‹ç¼©ï¼Œä¸å½±å“ä½¿ç”¨ã€‚äºŒè¿›åˆ¶è½¯ä»¶åŒ…ï¼šCentOS ä¸­æ‰€ä½¿ç”¨çš„äºŒè¿›åˆ¶å®‰è£…åŒ…æ˜¯ RPM åŒ…ï¼Œæ‰€æœ‰çš„ RPM åŒ…éƒ½ç”¨".rpm"æ‰©å±•åç»“å°¾ï¼Œç›®çš„åŒæ ·æ˜¯è®©ç®¡ç†å‘˜ä¸€ç›®äº†ç„¶ã€‚=&gt; ç±»ä¼¼Windowsä¸­çš„exeæ–‡ä»¶ç¨‹åºæ–‡ä»¶ï¼šShell è„šæœ¬ä¸€èˆ¬ç”¨ ".sh" æ‰©å±•åç»“å°¾ã€‚=&gt; check_network.shç½‘é¡µæ–‡ä»¶ï¼šç½‘é¡µæ–‡ä»¶ä¸€èˆ¬ä½¿ç”¨ ".php" ç­‰ç»“å°¾ï¼Œä¸è¿‡è¿™æ˜¯ç½‘é¡µæœåŠ¡å™¨çš„è¦æ±‚ï¼Œè€Œä¸æ˜¯ Linux çš„è¦æ±‚ã€‚.html/.css/.js/.jsp/.php/.py =&gt; ç½‘é¡µæ–‡ä»¶<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>â‘  Linuxæ“ä½œç³»ç»Ÿä¸ä»¥â€œæ‰©å±•åâ€æ¥åˆ¤æ–­æ–‡ä»¶çš„ç±»å‹ï¼Œè€Œæ˜¯é€šè¿‡æƒé™ä½æ ‡è¯†ç¬¦æ¥è¿›è¡Œåˆ¤æ–­</p></blockquote><blockquote><p>â‘¡ æœ‰ä¸€äº›ç‰¹æ®Šçš„æ–‡ä»¶ï¼Œæœ‰æ‰©å±•åç§°=&gt;å‹ç¼©åŒ…ã€äºŒè¿›åˆ¶è½¯ä»¶åŒ…ã€ç¨‹åºæ–‡ä»¶ã€ç½‘é¡µæ–‡ä»¶</p></blockquote><h2 id="3ã€Linuxä¸­æ‰€æœ‰å†…å®¹ä»¥æ–‡ä»¶å½¢å¼ä¿å­˜"><a href="#3ã€Linuxä¸­æ‰€æœ‰å†…å®¹ä»¥æ–‡ä»¶å½¢å¼ä¿å­˜" class="headerlink" title="3ã€Linuxä¸­æ‰€æœ‰å†…å®¹ä»¥æ–‡ä»¶å½¢å¼ä¿å­˜"></a>3ã€Linuxä¸­æ‰€æœ‰å†…å®¹ä»¥æ–‡ä»¶å½¢å¼ä¿å­˜</h2><p>åœ¨Linuxç³»ç»Ÿä¸­ï¼Œä¸€åˆ‡çš†æ–‡ä»¶ï¼</p><blockquote><p>åœ¨Windowsæ˜¯æ–‡ä»¶çš„ï¼Œåœ¨Linuxä¸‹ä¹Ÿæ˜¯æ–‡ä»¶ã€‚åœ¨Windowsä¸­ä¸æ˜¯æ–‡ä»¶çš„ï¼Œåœ¨Linuxç³»ç»Ÿä¸­ä¹Ÿæ˜¯æ–‡ä»¶ã€‚</p></blockquote><p>é—®é¢˜ï¼šæˆ‘ä»¬ç›®å‰è¿˜æ²¡æœ‰å­¦ä¹ æƒé™æ ‡è¯†ç¬¦ï¼Œæ€ä¹ˆåˆ¤æ–­æ–‡ä»¶çš„ç±»å‹å‘¢ï¼Ÿ</p><p>ç­”ï¼šå¯ä»¥é€šè¿‡æ–‡ä»¶çš„é¢œè‰²</p><p><img src="/../assets/blog_res/linux%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C.assets/image-20200312113307247.png" alt="image-20200312113307247"></p><p>ç„¶åä½¿ç”¨lså‘½ä»¤ï¼ŒæŸ¥çœ‹æ–‡ä»¶çš„é¢œè‰²</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># lsl : Lçš„å°å†™å½¢å¼<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ™®é€šæ–‡ä»¶ï¼šé€šè¿‡lså‘½ä»¤æŸ¥çœ‹æ—¶ï¼Œå¦‚æœæ˜¾ç¤º<font color="red">é»‘è‰²</font>ï¼Œä»£è¡¨å…¶æ˜¯ä¸€ä¸ªæ™®é€šçš„æ–‡ä»¶</p><p>æ–‡ä»¶å¤¹ï¼šé€šè¿‡lså‘½ä»¤æŸ¥çœ‹æ—¶ï¼Œå¦‚æœæ˜¾ç¤º<font color="red">å¤©è“è‰²</font>ï¼Œä»£è¡¨æ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹</p><h2 id="4ã€Linuxä¸­å­˜å‚¨è®¾å¤‡éƒ½å¿…é¡»åœ¨æŒ‚è½½ä¹‹åæ‰èƒ½ä½¿ç”¨"><a href="#4ã€Linuxä¸­å­˜å‚¨è®¾å¤‡éƒ½å¿…é¡»åœ¨æŒ‚è½½ä¹‹åæ‰èƒ½ä½¿ç”¨" class="headerlink" title="4ã€Linuxä¸­å­˜å‚¨è®¾å¤‡éƒ½å¿…é¡»åœ¨æŒ‚è½½ä¹‹åæ‰èƒ½ä½¿ç”¨"></a>4ã€Linuxä¸­å­˜å‚¨è®¾å¤‡éƒ½å¿…é¡»åœ¨æŒ‚è½½ä¹‹åæ‰èƒ½ä½¿ç”¨</h2><p><img src="/../assets/blog_res/linux%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C.assets/image-20200312114423821.png" alt="image-20200312114423821"></p><p>Windowsï¼šåˆ†åŒº+æ ¼å¼åŒ–</p><p>Linuxæ“ä½œç³»ç»Ÿï¼šåˆ†åŒº+æ ¼å¼åŒ–+æŒ‚è½½ï¼Œå­˜å‚¨è®¾å¤‡å¿…é¡»æŒ‚è½½åæ‰èƒ½ä½¿ç”¨ï¼ˆç¡¬ç›˜ã€å…‰ç›˜ã€Uç›˜ï¼‰</p><blockquote><p>mountå‘½ä»¤ï¼š mount   ç©ºæ ¼   /dev/sda1  ç©ºæ ¼  /mnt/file</p></blockquote><h1 id="Linuxç³»ç»Ÿçš„ç›®å½•ç»“æ„ï¼ˆé‡è¦ï¼‰"><a href="#Linuxç³»ç»Ÿçš„ç›®å½•ç»“æ„ï¼ˆé‡è¦ï¼‰" class="headerlink" title="Linuxç³»ç»Ÿçš„ç›®å½•ç»“æ„ï¼ˆé‡è¦ï¼‰"></a>Linuxç³»ç»Ÿçš„ç›®å½•ç»“æ„ï¼ˆé‡è¦ï¼‰</h1><h2 id="1ã€Linuxåˆ†åŒºä¸Windowsåˆ†åŒº"><a href="#1ã€Linuxåˆ†åŒºä¸Windowsåˆ†åŒº" class="headerlink" title="1ã€Linuxåˆ†åŒºä¸Windowsåˆ†åŒº"></a>1ã€Linuxåˆ†åŒºä¸Windowsåˆ†åŒº</h2><p>Linux ç³»ç»Ÿä¸åŒäº Windowsï¼Œæ²¡æœ‰ C ç›˜ã€D ç›˜ã€E ç›˜é‚£ä¹ˆå¤šçš„ç›˜ç¬¦ï¼Œåªæœ‰ä¸€ä¸ª==æ ¹ç›®å½•ï¼ˆ/ï¼‰==ï¼Œæ‰€æœ‰çš„æ–‡ä»¶ï¼ˆèµ„æºï¼‰éƒ½å­˜å‚¨åœ¨ä»¥==æ ¹ç›®å½•ï¼ˆ/ï¼‰==ä¸ºæ ‘æ ¹çš„==æ ‘å½¢==ç›®å½•ç»“æ„ä¸­ã€‚</p><p>Windowsï¼š</p><p><img src="/../assets/blog_res/linux%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C.assets/image-20200312115814989.png" alt="image-20200312115814989"></p><p>Linuxï¼š</p><p><img src="/../assets/blog_res/linux%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C.assets/image-20200312115750006.png" alt="image-20200312115750006"></p><h2 id="2ã€Linuxç³»ç»Ÿæ–‡ä»¶æ¶æ„"><a href="#2ã€Linuxç³»ç»Ÿæ–‡ä»¶æ¶æ„" class="headerlink" title="2ã€Linuxç³»ç»Ÿæ–‡ä»¶æ¶æ„"></a>2ã€Linuxç³»ç»Ÿæ–‡ä»¶æ¶æ„</h2><p><img src="/../assets/blog_res/linux%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C.assets/image-20200312115851811.png" alt="image-20200312115851811"></p><p> åœ¨ Linux æ ¹ç›®å½•ï¼ˆ/ï¼‰ä¸‹åŒ…å«å¾ˆå¤šçš„å­ç›®å½•ï¼Œç§°ä¸ºä¸€çº§ç›®å½•ã€‚<br>ä¾‹å¦‚ binã€bootã€dev ç­‰ã€‚</p><p>åŒæ—¶ï¼Œå„ä¸€çº§ç›®å½•ä¸‹è¿˜å«æœ‰å¾ˆå¤šå­ç›®å½•ï¼Œç§°ä¸ºäºŒçº§ç›®å½•ã€‚<br>ä¾‹å¦‚ /bin/bashã€/bin/ed ç­‰ã€‚</p><h2 id="3ã€Linuxç³»ç»Ÿçš„æ–‡ä»¶ç›®å½•ç”¨é€”"><a href="#3ã€Linuxç³»ç»Ÿçš„æ–‡ä»¶ç›®å½•ç”¨é€”" class="headerlink" title="3ã€Linuxç³»ç»Ÿçš„æ–‡ä»¶ç›®å½•ç”¨é€”"></a>3ã€Linuxç³»ç»Ÿçš„æ–‡ä»¶ç›®å½•ç”¨é€”</h2><p>/binï¼šç³»ç»Ÿå‘½ä»¤ç›®å½•</p><p>/sbinï¼šè¶…çº§å‘½ä»¤ç›®å½•ï¼Œåªèƒ½è¶…çº§ç®¡ç†å‘˜å¯ä»¥æ‰§è¡Œçš„å‘½ä»¤</p><p>/bootï¼šç³»ç»Ÿç›®å½•ï¼Œç±»ä¼¼äºWindowsä¸­çš„Cç›˜</p><p>/dev ï¼šè®¾å¤‡æ–‡ä»¶ç›®å½•ï¼Œç¡¬ç›˜ã€å…‰é©±ã€Uç›˜éƒ½å±äºè®¾å¤‡æ–‡ä»¶ï¼Œ/dev/sr0ä»£è¡¨å…‰é©±è®¾å¤‡ã€‚æ³¨æ„ï¼Œæ¬¡ç›®å½•ä¸‹çš„æ–‡ä»¶æ²¡æœ‰åŠæ³•ç›´æ¥ä½¿ç”¨ï¼Œå¿…é¡»å…ˆæŒ‚è½½</p><p>/etc ï¼šéå¸¸é‡è¦ï¼Œä»£è¡¨ç³»ç»Ÿçš„é…ç½®æ–‡ä»¶ç›®å½•ã€‚å¤§éƒ¨åˆ†è½¯ä»¶å®‰è£…å®Œæˆåï¼Œå…¶é…ç½®æ–‡ä»¶éƒ½å­˜æ”¾åœ¨æ­¤ç›®å½•</p><p>/homeï¼šæ™®é€šç”¨æˆ·çš„å®¶ç›®å½•ï¼Œç”¨æˆ·ç™»å½•åä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°æ­¤ç›®å½•</p><p>/rootï¼šè¶…çº§ç®¡ç†å‘˜çš„å®¶ç›®å½•ï¼Œè¶…çº§ç®¡ç†å‘˜ç™»å½•åä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°æ­¤ç›®å½•</p><p>/mediaï¼šæŒ‚è½½ç›®å½•ï¼Œæ—©æœŸLinuxæŒ‚è½½ç›®å½•ï¼Œç”¨äºæŒ‚è½½å…‰ç›˜ä»¥åŠè½¯ç›˜</p><p>/mntï¼šæŒ‚è½½ç›®å½•ï¼Œç”¨æ¥æŒ‚è½½é¢å¤–çš„è®¾å¤‡ï¼Œå¦‚ U ç›˜ã€ç§»åŠ¨ç¡¬ç›˜å’Œå…¶ä»–æ“ä½œç³»ç»Ÿçš„åˆ†åŒº</p><p>/opt ï¼šç¬¬ä¸‰æ–¹è½¯ä»¶ç›®å½•ï¼Œè¿™ä¸ªç›®å½•æ˜¯æ”¾ç½®å’Œå®‰è£…å…¶ä»–è½¯ä»¶çš„ä½ç½®ï¼Œæ‰‹å·¥å®‰è£…çš„æºç åŒ…è½¯ä»¶éƒ½å¯ä»¥å®‰è£…åˆ°è¿™ä¸ªç›®å½•ä¸­ã€‚ä¸è¿‡ç¬”è€…è¿˜æ˜¯ä¹ æƒ¯æŠŠè½¯ä»¶æ”¾åˆ° /usr/local/ ç›®å½•ä¸­ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ/usr/local/ ç›®å½•ä¹Ÿå¯ä»¥ç”¨æ¥å®‰è£…è½¯ä»¶</p><p>/usr ï¼šç³»ç»Ÿç¨‹åºç›®å½•ï¼Œç±»ä¼¼Windowsä¸­çš„Program Files</p><p>/procï¼šè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿã€‚è¯¥ç›®å½•ä¸­çš„æ•°æ®å¹¶ä¸ä¿å­˜åœ¨ç¡¬ç›˜ä¸Šï¼Œè€Œæ˜¯ä¿å­˜åˆ°å†…å­˜ä¸­ã€‚ä¸»è¦ä¿å­˜ç³»ç»Ÿçš„å†…æ ¸ã€è¿›ç¨‹ã€å¤–éƒ¨è®¾å¤‡çŠ¶æ€å’Œç½‘ç»œçŠ¶æ€ç­‰ã€‚</p><p>/tmp ï¼šä¸´æ—¶æ–‡ä»¶ç›®å½•ï¼Œåœ¨è¯¥ç›®å½•ä¸‹ï¼Œæ‰€æœ‰ç”¨æˆ·éƒ½å¯ä»¥è®¿é—®å’Œå†™å…¥ã€‚å»ºè®®æ­¤ç›®å½•ä¸­ä¸èƒ½ä¿å­˜é‡è¦æ•°æ®ï¼Œæœ€å¥½æ¯æ¬¡å¼€æœºéƒ½æŠŠè¯¥ç›®å½•æ¸…ç†</p><p>/var ï¼šç»å¸¸å˜åŒ–çš„æ–‡ä»¶ç›®å½•ï¼Œç½‘é¡µæ–‡ä»¶ã€æ•°æ®æ–‡ä»¶ã€æ—¥å¿—æ–‡ä»¶</p><h1 id="Linuxå…¥é—¨çº§å‘½ä»¤"><a href="#Linuxå…¥é—¨çº§å‘½ä»¤" class="headerlink" title="Linuxå…¥é—¨çº§å‘½ä»¤"></a>Linuxå…¥é—¨çº§å‘½ä»¤</h1><h2 id="1ã€å¼€å¯ç»ˆç«¯"><a href="#1ã€å¼€å¯ç»ˆç«¯" class="headerlink" title="1ã€å¼€å¯ç»ˆç«¯"></a>1ã€å¼€å¯ç»ˆç«¯</h2><p>é—®é¢˜ï¼šä»€ä¹ˆæ˜¯ç»ˆç«¯ï¼ˆTerminalï¼‰</p><p>ç­”ï¼šLinuxæ“ä½œç³»ç»Ÿä¸­ç”¨äºè¾“å…¥å‘½ä»¤çš„åœ°æ–¹</p><p><img src="/../assets/blog_res/linux%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C.assets/image-20200312145513405.png" alt="image-20200312145513405"></p><p>æ‰“å¼€åï¼Œæ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="/../assets/blog_res/linux%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C.assets/image-20200312145943049.png" alt="image-20200312145943049"></p><h2 id="2ã€Linuxå‘½ä»¤æ ¼å¼"><a href="#2ã€Linuxå‘½ä»¤æ ¼å¼" class="headerlink" title="2ã€Linuxå‘½ä»¤æ ¼å¼"></a>2ã€Linuxå‘½ä»¤æ ¼å¼</h2><p>ä»€ä¹ˆæ˜¯Linux çš„å‘½ä»¤ï¼Ÿ</p><p>ç­”ï¼šå°±æ˜¯æŒ‡åœ¨Linux ç»ˆç«¯ï¼ˆå‘½ä»¤è¡Œï¼‰ä¸­è¾“å…¥çš„å†…å®¹å°±ç§°ä¹‹ä¸ºå‘½ä»¤ã€‚</p><p>ä¸€ä¸ªå®Œæ•´çš„å‘½ä»¤çš„æ ‡å‡†æ ¼å¼ï¼šLinux é€šç”¨çš„æ ¼å¼</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># å‘½ä»¤ï¼ˆç©ºæ ¼ï¼‰ [é€‰é¡¹]ï¼ˆç©ºæ ¼ï¼‰[å‚æ•°]<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä½†æ˜¯æœ‰äº›å‘½ä»¤æ¯”è¾ƒç‰¹æ®Šï¼Œå¯èƒ½æ²¡æœ‰é€‰é¡¹ä¹Ÿæ²¡æœ‰å‚æ•°</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># pwd<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿˜æœ‰ä¸€äº›å‘½ä»¤ï¼Œæœ‰å‘½ä»¤æœ‰é€‰é¡¹ï¼Œä½†æ˜¯æ²¡æœ‰å‚æ•°</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ls -l<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿˜æœ‰ä¸€äº›å‘½ä»¤ï¼Œå‘½ä»¤+é€‰é¡¹+å‚æ•°å…¨éƒ½æœ‰</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># tail -n 3 readme.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="3ã€æ‰©å±•ï¼šLinuxä¸‹çš„å‘½ä»¤è¡¥å…¨"><a href="#3ã€æ‰©å±•ï¼šLinuxä¸‹çš„å‘½ä»¤è¡¥å…¨" class="headerlink" title="3ã€æ‰©å±•ï¼šLinuxä¸‹çš„å‘½ä»¤è¡¥å…¨"></a>3ã€æ‰©å±•ï¼šLinuxä¸‹çš„å‘½ä»¤è¡¥å…¨</h2><p>é”®ç›˜ä¸Šæœ‰ä¸€ä¸ªæŒ‰é”®ï¼šTabé”®</p><p><img src="/../assets/blog_res/linux%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C.assets/image-20200312151903965.png" alt="image-20200312151903965"></p><p>å½“æˆ‘ä»¬åœ¨Linuxç³»ç»Ÿçš„ç»ˆç«¯ä¸­ï¼Œè¾“å…¥å‘½ä»¤æ—¶ï¼Œå¯ä»¥æ— éœ€å®Œæ•´çš„å‘½ä»¤ï¼Œåªéœ€è¦è®°ä½å‘½ä»¤çš„å‰å‡ ä¸ªå­—æ¯å³å¯ï¼Œç„¶åæŒ‰Tabé”®ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è¿›è¡Œè¡¥å…¨æ“ä½œã€‚</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># syst + Tabé”®# systemc + Tabé”®# systemctl<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æœ‰äº›å‘½ä»¤å¯èƒ½éƒ½ä»¥æŸå‡ ä¸ªå­—æ¯å¼€å¤´ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œåªéœ€è¦æŒ‰ä¸¤æ¬¡Tabé”®ï¼Œå…¶å°±ä¼šæ˜¾ç¤ºæ‰€æœ‰å‘½ä»¤ã€‚</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># clea + Tabé”® + Tabé”®<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>Tabé”®çš„åŠŸèƒ½ç‰¹åˆ«å¼ºå¤§ï¼šå…¶ä¸ä»…å¯ä»¥è¡¥å…¨å‘½ä»¤è¿˜å¯ä»¥è¡¥å…¨Linuxçš„æ–‡ä»¶è·¯å¾„</p></blockquote><h2 id="4ã€åˆ‡æ¢ç”¨æˆ·"><a href="#4ã€åˆ‡æ¢ç”¨æˆ·" class="headerlink" title="4ã€åˆ‡æ¢ç”¨æˆ·"></a>4ã€åˆ‡æ¢ç”¨æˆ·</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># su - rootPassword:123456[root@localhost ~]# åˆ‡æ¢æˆåŠŸ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><blockquote><p>æ‰©å±•ï¼š-æ¨ªæ ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿç­”ï¼š-æ¨ªæ ä»£è¡¨åˆ‡æ¢ç”¨æˆ·çš„åŒæ—¶ï¼Œåˆ‡æ¢ç”¨æˆ·çš„å®¶ç›®å½•</p></blockquote><h2 id="5ã€unameå‘½ä»¤"><a href="#5ã€unameå‘½ä»¤" class="headerlink" title="5ã€unameå‘½ä»¤"></a>5ã€unameå‘½ä»¤</h2><p>ä¸»è¦åŠŸèƒ½ï¼šè·å–è®¡ç®—æœºæ“ä½œç³»ç»Ÿç›¸å…³ä¿¡æ¯</p><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># uname -aé€‰é¡¹è¯´æ˜ï¼š-a ï¼šallç¼©å†™ï¼Œä»£è¡¨æ˜¾ç¤ºæ‰€æœ‰ä¿¡æ¯ï¼Œè·å–å…¨éƒ¨çš„ç³»ç»Ÿä¿¡æ¯ï¼ˆç±»å‹ã€å…¨éƒ¨ä¸»æœºåã€å†…æ ¸ç‰ˆæœ¬ã€å‘å¸ƒæ—¶é—´ã€å¼€æºè®¡åˆ’ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="6ã€lså‘½ä»¤"><a href="#6ã€lså‘½ä»¤" class="headerlink" title="6ã€lså‘½ä»¤"></a>6ã€lså‘½ä»¤</h2><h3 id="â˜†-ç”¨æ³•ä¸€"><a href="#â˜†-ç”¨æ³•ä¸€" class="headerlink" title="â˜† ç”¨æ³•ä¸€"></a>â˜† ç”¨æ³•ä¸€</h3><p>ä¸»è¦åŠŸèƒ½ï¼šlså®Œæ•´å†™æ³•list showï¼Œä»¥å¹³é“ºçš„å½¢å¼æ˜¾ç¤ºå½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶ä¿¡æ¯</p><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ls<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="â˜†-ç”¨æ³•äºŒ"><a href="#â˜†-ç”¨æ³•äºŒ" class="headerlink" title="â˜† ç”¨æ³•äºŒ"></a>â˜† ç”¨æ³•äºŒ</h3><p>ä¸»è¦åŠŸèƒ½ï¼šæ˜¾ç¤ºå…¶ä»–ç›®å½•ä¸‹çš„æ–‡ä»¶ä¿¡æ¯</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ls å…¶ä»–ç›®å½•çš„ç»å¯¹è·¯å¾„æˆ–ç›¸å¯¹è·¯å¾„<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>æ‰©å±•ï¼šlsåé¢è·Ÿçš„è·¯å¾„æ—¢å¯ä»¥æ˜¯ç»å¯¹è·¯å¾„ä¹Ÿå¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„</p></blockquote><p><strong>ç»å¯¹è·¯å¾„</strong>ï¼šä¸ç®¡å½“å‰å·¥ä½œè·¯å¾„æ˜¯åœ¨å“ªï¼Œ==ç›®æ ‡è·¯å¾„éƒ½ä¼šä»â€œ/â€ç£ç›˜æ ¹ä¸‹å¼€å§‹==ã€‚<br>æ¡ˆä¾‹ï¼šè®¿é—®itheimaç”¨æˆ·çš„å®¶ç›®å½•ï¼ŒæŸ¥çœ‹æœ‰å“ªäº›æ–‡ä»¶</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ls /home/itheima<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><font color="red">ç»å¯¹è·¯å¾„å¿…é¡»ä»¥å·¦æ–œæ å¼€å¤´ï¼Œä¸€çº§ä¸€çº§å‘ä¸‹è®¿é—®ï¼Œä¸èƒ½è¶Šçº§</font></p><p><strong>ç›¸å¯¹è·¯å¾„</strong>ï¼šé™¤ç»å¯¹è·¯å¾„ä¹‹å¤–çš„è·¯å¾„ç§°ä¹‹ä¸ºç›¸å¯¹è·¯å¾„ï¼Œç›¸å¯¹è·¯å¾„å¾—æœ‰ä¸€ä¸ªç›¸å¯¹ç‰©ï¼ˆå½“å‰å·¥ä½œè·¯å¾„ï¼‰ã€‚</p><p>åªè¦çœ‹åˆ°è·¯å¾„ä»¥â€œ/â€å¼€å¤´åˆ™è¡¨ç¤ºè¯¥è·¯å¾„æ˜¯ç»å¯¹è·¯å¾„ï¼Œé™¤äº†ä»¥â€œ/â€å¼€å¤´çš„è·¯å¾„ç§°ä¹‹ä¸ºç›¸å¯¹è·¯å¾„ã€‚</p><p>å½“å‰ä½ç½®ï¼š/home/itheimaç›®å½•ä¸‹</p><p>../ï¼šè¡¨ç¤ºä¸Šçº§ç›®å½•ï¼ˆä¸Šä¸€çº§ï¼‰</p><p>./ ï¼šè¡¨ç¤ºå½“å‰ç›®å½•ï¼ˆåŒçº§ï¼‰ï¼Œæ™®é€šæ–‡ä»¶./å¯ä»¥çœç•¥ï¼Œå¯æ‰§è¡Œæ–‡ä»¶ï¼ˆç»¿è‰²ï¼‰å¿…é¡»åŠ ./</p><p>æ–‡ä»¶å¤¹åç§°/ï¼šè¡¨ç¤ºä¸‹çº§ç›®å½•ï¼ˆä¸‹ä¸€çº§ï¼‰ï¼Œæ³¨æ„è¿™ä¸ªæ–œæ /</p><h3 id="â˜†-ç”¨æ³•ä¸‰"><a href="#â˜†-ç”¨æ³•ä¸‰" class="headerlink" title="â˜† ç”¨æ³•ä¸‰"></a>â˜† ç”¨æ³•ä¸‰</h3><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># ls [é€‰é¡¹] [è·¯å¾„]é€‰é¡¹è¯´æ˜ï¼š-l ï¼šls -lï¼Œä»£è¡¨ä»¥è¯¦ç»†åˆ—è¡¨çš„å½¢å¼æ˜¾ç¤ºå½“å‰æˆ–å…¶ä»–ç›®å½•ä¸‹çš„æ–‡ä»¶ä¿¡æ¯(ç®€å†™å‘½ä»¤=&gt;ll)-h ï¼šls -lhï¼Œé€šå¸¸ä¸-lç»“åˆä¸€èµ·ä½¿ç”¨ï¼Œä»£è¡¨ä»¥è¾ƒé«˜çš„å¯è¯»æ€§æ˜¾ç¤ºæ–‡ä»¶çš„å¤§å°(kb/mb/gb)-a ï¼šls -aï¼Œaæ˜¯allç¼©å†™ï¼Œä»£è¡¨æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶ï¼ˆä¹ŸåŒ…å«éšè—æ–‡ä»¶=&gt;å¤§éƒ¨åˆ†ä»¥.å¼€å¤´ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è®¡ç®—æœºä¸­çš„å•ä½ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># 1TB = 1024GB# 1GB = 1024MB# 1MB = 1024KB# 1KBï¼ˆåƒå­—èŠ‚ï¼‰ = 1024Bï¼ˆå­—èŠ‚ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="7ã€pwdå‘½ä»¤"><a href="#7ã€pwdå‘½ä»¤" class="headerlink" title="7ã€pwdå‘½ä»¤"></a>7ã€pwdå‘½ä»¤</h2><p>ä¸»è¦åŠŸèƒ½ï¼špwd=print working directoryï¼Œæ‰“å°å½“å‰å·¥ä½œç›®å½•ï¼ˆå‘Šè¯‰æˆ‘ä»¬ï¼Œæˆ‘ä»¬å½“å‰ä½ç½®ï¼‰</p><p>åŸºæœ¬è¯­æ³•ï¼š</p> <pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># pwd<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="8ã€cdå‘½ä»¤"><a href="#8ã€cdå‘½ä»¤" class="headerlink" title="8ã€cdå‘½ä»¤"></a>8ã€cdå‘½ä»¤</h2><p>ä¸»è¦åŠŸèƒ½ï¼šcdå…¨ç§°change directoryï¼Œåˆ‡æ¢ç›®å½•ï¼ˆä»ä¸€ä¸ªç›®å½•è·³è½¬åˆ°å¦å¤–ä¸€ä¸ªç›®å½•ï¼‰</p><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cd [è·¯å¾„]é€‰é¡¹è¯´æ˜ï¼šè·¯å¾„æ—¢å¯ä»¥æ˜¯ç»å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ä¸€ï¼šåˆ‡æ¢åˆ°/usr/localè¿™ä¸ªç¨‹åºç›®å½•</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cd /usr/local<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹äºŒï¼šæ¯”å¦‚æˆ‘ä»¬å½“å‰åœ¨/home/itheimaä¸‹ï¼Œåˆ‡æ¢åˆ°æ ¹ç›®å½•/ä¸‹</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cd /home/itheima# cd ../../<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ä¸‰ï¼šå½“æˆ‘ä»¬åœ¨æŸä¸ªè·¯å¾„ä¸‹ï¼Œå¦‚ä½•å¿«é€Ÿå›åˆ°è‡ªå·±çš„å®¶ç›®å½•</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># cdæˆ–# cd ~<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="9ã€clearå‘½ä»¤"><a href="#9ã€clearå‘½ä»¤" class="headerlink" title="9ã€clearå‘½ä»¤"></a>9ã€clearå‘½ä»¤</h2><p>ä¸»è¦åŠŸèƒ½ï¼šæ¸…å±</p><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># clear<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="10ã€rebootå‘½ä»¤"><a href="#10ã€rebootå‘½ä»¤" class="headerlink" title="10ã€rebootå‘½ä»¤"></a>10ã€rebootå‘½ä»¤</h2><p>ä¸»è¦åŠŸèƒ½ï¼šç«‹å³é‡å¯è®¡ç®—æœº</p><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># reboot<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="11ã€shutdownå‘½ä»¤"><a href="#11ã€shutdownå‘½ä»¤" class="headerlink" title="11ã€shutdownå‘½ä»¤"></a>11ã€shutdownå‘½ä»¤</h2><p>ä¸»è¦åŠŸèƒ½ï¼šç«‹å³å…³æœºæˆ–å»¶è¿Ÿå…³æœº</p><p>ç«‹å³å…³æœºåŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># shutdown -h 0æˆ–now# shutdown -h 0# shutdown -h nowé€‰é¡¹è¯´æ˜ï¼š-h ï¼šhaltç¼©å†™ï¼Œä»£è¡¨å…³æœº<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>åœ¨Linuxç³»ç»Ÿä¸­ï¼Œç«‹å³å…³æœºé™¤äº†ä½¿ç”¨shutdown -h 0ä»¥å¤–è¿˜å¯ä»¥ä½¿ç”¨halt -på‘½ä»¤</p></blockquote><p>å»¶è¿Ÿå…³æœºåŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># shutdown -h åˆ†é’Ÿæ•°ä»£è¡¨å¤šå°‘åˆ†é’Ÿåï¼Œè‡ªåŠ¨å…³æœº<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹1ï¼š10åˆ†é’Ÿåè‡ªåŠ¨å…³æœº</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># shutdown -h 10<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹2ï¼šåæ‚”äº†ï¼Œå–æ¶ˆå…³æœº</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">å…‰æ ‡ä¸€ç›´ä¸åœçš„é—ªï¼Œå–æ¶ˆå…³æœº# æŒ‰Ctrl + Cï¼ˆCentOS6ï¼Œä¸­æ–­å…³æœºã€‚CentOS7ä¸­è¿˜éœ€è¦ä½¿ç”¨shutdown -cå‘½ä»¤ï¼‰# shutdown -c<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="12ã€typeå‘½ä»¤"><a href="#12ã€typeå‘½ä»¤" class="headerlink" title="12ã€typeå‘½ä»¤"></a>12ã€typeå‘½ä»¤</h2><p>ä¸»è¦åŠŸèƒ½ï¼šä¸»è¦ç”¨æ¥ç»“åˆhelpå‘½ä»¤ï¼Œç”¨äºåˆ¤æ–­å‘½ä»¤çš„ç±»å‹ï¼ˆå±äºå†…éƒ¨å‘½ä»¤è¿˜æ˜¯å¤–éƒ¨å‘½ä»¤ï¼‰</p><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># type å‘½ä»¤å†…éƒ¨å‘½ä»¤ï¼šå‘½ä»¤ is a shell builtinå¤–éƒ¨å‘½ä»¤ï¼šæ²¡æœ‰æ˜¾ç¤ºä»¥ä¸Šä¿¡æ¯çš„å°±æ˜¯å¤–éƒ¨å‘½ä»¤<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="13ã€historyå‘½ä»¤"><a href="#13ã€historyå‘½ä»¤" class="headerlink" title="13ã€historyå‘½ä»¤"></a>13ã€historyå‘½ä»¤</h2><p>ä¸»è¦åŠŸèƒ½ï¼šæ˜¾ç¤ºç³»ç»Ÿä»¥å‰è¾“å…¥çš„å‰1000æ¡å‘½ä»¤</p><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># history<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="14ã€hostnamectlå‘½ä»¤"><a href="#14ã€hostnamectlå‘½ä»¤" class="headerlink" title="14ã€hostnamectlå‘½ä»¤"></a>14ã€hostnamectlå‘½ä»¤</h2><p>ä¸»è¦åŠŸèƒ½ï¼šç”¨äºè®¾ç½®è®¡ç®—æœºçš„ä¸»æœºåç§°ï¼ˆç»™è®¡ç®—æœºèµ·ä¸ªåå­—ï¼‰ï¼Œæ­¤å‘½ä»¤å¼CentOS7æ–°å¢çš„å‘½ä»¤ã€‚</p><p>hostnamectl ï¼š hostname + control</p><h3 id="â˜†-è·å–è®¡ç®—æœºçš„ä¸»æœºåç§°"><a href="#â˜†-è·å–è®¡ç®—æœºçš„ä¸»æœºåç§°" class="headerlink" title="â˜† è·å–è®¡ç®—æœºçš„ä¸»æœºåç§°"></a>â˜† è·å–è®¡ç®—æœºçš„ä¸»æœºåç§°</h3><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># hostnameCentOS6# hostnamectl  CentOS7<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="â˜†-è®¾ç½®è®¡ç®—æœºçš„ä¸»æœºåç§°"><a href="#â˜†-è®¾ç½®è®¡ç®—æœºçš„ä¸»æœºåç§°" class="headerlink" title="â˜† è®¾ç½®è®¡ç®—æœºçš„ä¸»æœºåç§°"></a>â˜† è®¾ç½®è®¡ç®—æœºçš„ä¸»æœºåç§°</h3><p>Centos7ä¸­ä¸»æœºååˆ†3ç±»ï¼Œé™æ€çš„ï¼ˆstaticï¼‰ã€ç¬æ€çš„ï¼ˆtransientï¼‰ã€å’Œçµæ´»çš„ï¼ˆprettyï¼‰ã€‚</p><p>â‘  é™æ€staticä¸»æœºåç§°ï¼šç”µè„‘å…³æœºæˆ–é‡å¯åï¼Œè®¾ç½®çš„åç§°äº¦ç„¶æœ‰æ•ˆ</p><p>â‘¡ ç¬æ€transientä¸»æœºåç§°ï¼šä¸´æ—¶ä¸»æœºåç§°ï¼Œç”µè„‘å…³æœºæˆ–é‡å¯åï¼Œè®¾ç½®çš„åç§°å°±å¤±æ•ˆäº†</p><p>â‘¢ çµæ´»prettyä¸»æœºåç§°ï¼šå¯ä»¥åŒ…å«ä¸€äº›ç‰¹æ®Šå­—ç¬¦</p><p>CentOS 7ä¸­å’Œä¸»æœºåæœ‰å…³çš„æ–‡ä»¶ä¸º/etc/hostnameï¼Œå®ƒæ˜¯åœ¨ç³»ç»Ÿåˆå§‹åŒ–çš„æ—¶å€™è¢«è¯»å–çš„ï¼Œå¹¶ä¸”å†…æ ¸æ ¹æ®å®ƒçš„å†…å®¹è®¾ç½®ç¬æ€ä¸»æœºåã€‚</p><blockquote><p>æ›´æ”¹ä¸»æœºåç§°ï¼Œè®©å…¶æ°¸ä¹…ç”Ÿæ•ˆï¼Ÿâ‘  ä½¿ç”¨é™æ€çš„ â‘¡ æ”¹/etc/hostnameæ–‡ä»¶</p></blockquote><h4 id="â‘ -ç¬æ€ä¸»æœºåç§°ï¼ˆä¸´æ—¶è®¾ç½®ï¼‰"><a href="#â‘ -ç¬æ€ä¸»æœºåç§°ï¼ˆä¸´æ—¶è®¾ç½®ï¼‰" class="headerlink" title="â‘  ç¬æ€ä¸»æœºåç§°ï¼ˆä¸´æ—¶è®¾ç½®ï¼‰"></a>â‘  ç¬æ€ä¸»æœºåç§°ï¼ˆä¸´æ—¶è®¾ç½®ï¼‰</h4><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># hostnamectl --transient set-hostname ä¸»æœºåç§°ä¸»æœºåç§° å»ºè®®éµå¾ª FQDNåè®®ï¼ˆåŠŸèƒ½+å…¬å¸åŸŸåï¼‰web01.itcast.cnweb02.itcast.cn<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šä¸´æ—¶è®¾ç½®ä¸»æœºåç§°ä¸ºyunwei.itcast.cn</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># hostnamectl --transient set-hostname yunwei.itcast.cn# su ç«‹å³ç”Ÿæ•ˆ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="â‘¡-é™æ€ä¸»æœºåç§°ï¼ˆæ°¸ä¹…ç”Ÿæ•ˆï¼‰"><a href="#â‘¡-é™æ€ä¸»æœºåç§°ï¼ˆæ°¸ä¹…ç”Ÿæ•ˆï¼‰" class="headerlink" title="â‘¡ é™æ€ä¸»æœºåç§°ï¼ˆæ°¸ä¹…ç”Ÿæ•ˆï¼‰"></a>â‘¡ é™æ€ä¸»æœºåç§°ï¼ˆæ°¸ä¹…ç”Ÿæ•ˆï¼‰</h4><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># hostnamectl --static set-hostname ä¸»æœºåç§°æ¸©é¦¨æç¤ºï¼š--staticä¹Ÿå¯ä»¥çœç•¥ä¸å†™<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠè®¡ç®—æœºçš„ä¸»æœºåç§°æ°¸ä¹…è®¾ç½®ä¸ºyunwei.itcast.cn</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># hostnamectl --static set-hostname yunwei.itcast.cn# su ç«‹å³ç”Ÿæ•ˆ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="â‘¢-çµæ´»ä¸»æœºåç§°ï¼ˆä¸»æœºåç§°å¯ä»¥æ·»åŠ ç‰¹æ®Šå­—ç¬¦ï¼‰"><a href="#â‘¢-çµæ´»ä¸»æœºåç§°ï¼ˆä¸»æœºåç§°å¯ä»¥æ·»åŠ ç‰¹æ®Šå­—ç¬¦ï¼‰" class="headerlink" title="â‘¢ çµæ´»ä¸»æœºåç§°ï¼ˆä¸»æœºåç§°å¯ä»¥æ·»åŠ ç‰¹æ®Šå­—ç¬¦ï¼‰"></a>â‘¢ çµæ´»ä¸»æœºåç§°ï¼ˆä¸»æœºåç§°å¯ä»¥æ·»åŠ ç‰¹æ®Šå­—ç¬¦ï¼‰</h4><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># hostnamectl --pretty set-hostname ä¸»æœºåç§°ï¼ˆåŒ…å«ç‰¹æ®Šå­—ç¬¦ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡ˆä¾‹ï¼šæŠŠè®¡ç®—æœºçš„ä¸»æœºåç§°é€šè¿‡çµæ´»è®¾ç½®ï¼Œè®¾ç½®ä¸ºyunweiâ€™s server01</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"># hostnamectl --pretty set-hostname "yunwei's server01"æŸ¥çœ‹çµæ´»çš„ä¸»æœºåç§°# hostnamectl --pretty<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åšå®¢åˆ›å»ºå®Œå–„å‚è€ƒèµ„æ–™</title>
      <link href="/2023/12/22/bo-ke-chuang-jian-wan-shan-can-kao-zi-liao/"/>
      <url>/2023/12/22/bo-ke-chuang-jian-wan-shan-can-kao-zi-liao/</url>
      
        <content type="html"><![CDATA[<h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p>1.hexo+githubæ­å»ºåšå®¢(è¶…çº§è¯¦ç»†ç‰ˆï¼Œç²¾ç»†å…¥å¾®)</p><p><a href="https://cloud.tencent.com/developer/article/1577027">hexo+githubæ­å»ºåšå®¢(è¶…çº§è¯¦ç»†ç‰ˆï¼Œç²¾ç»†å…¥å¾®)-è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘ (tencent.com)</a></p><p>2.è§£å†³é—®é¢˜å‚è€ƒæ–¹æ¡ˆï¼š<a href="https://blog.csdn.net/qq_43819439/article/details/118309688">ä½¿ç”¨hexo/gitæ­å»ºåšå®¢æ—¶æ³¨æ„çš„å‡ ç‚¹_you should configure deployment settings in _confi-CSDNåšå®¢</a></p><p>3.åšå®¢æ­å»ºå‚è€ƒï¼š<a href="https://crazyyuchi.github.io/2022/05/02/bo-ke-da-jian-mei-hua-ju-xi-ban-ben/#!">åšå®¢æ­å»º+ç¾åŒ–ï¼ˆå·¨ç»†ç‰ˆæœ¬ï¼‰ | å…´å¹³ (crazyyuchi.github.io)</a></p><p>4.åšå®¢æ­å»ºå‚è€ƒï¼šã€[æ•™ç¨‹]Hexo &amp; Githubæ­å»ºè‡ªå·±çš„ä¸“å±åšå®¢ã€‘ <a href="https://www.bilibili.com/video/BV1Eg41157tL/?share_source=copy_web&amp;vd_source=5cd149d1723aac0eeb1b0c9b1ca86059">https://www.bilibili.com/video/BV1Eg41157tL/?share_source=copy_web&amp;vd_source=5cd149d1723aac0eeb1b0c9b1ca86059</a></p><p>5.è§£å†³é—®é¢˜å‚è€ƒæ–¹æ¡ˆï¼š<a href="https://zhuanlan.zhihu.com/p/339370999?utm_id=0">Githubä»“åº“masteråˆ†æ”¯åˆ°mainåˆ†æ”¯è¿ç§»æŒ‡å— - çŸ¥ä¹ (zhihu.com)</a></p><p>6.å‚è€ƒèµ„æ–™ï¼š<a href="https://hexo.io/zh-cn/docs/syntax-highlight.html#Highlight-js">ä»£ç é«˜äº® | Hexo</a></p><p>7.å‚è€ƒèµ„æ–™ï¼š<a href="https://cloud.tencent.com/developer/article/1952241">6.hexoæ’ä»¶ç¯‡ï¼ˆå¿…çœ‹ï¼‰-è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘ (tencent.com)</a></p><p>8.é¡µé¢ï¼š<a href="https://cloud.tencent.com/developer/article/1866822">Hexo-å¯¼èˆªé¡µ-è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘ (tencent.com)</a></p><p>9.å‚è€ƒèµ„æ–™ï¼š<a href="https://liyangzone.com/article/2019-07-22-hexo-blog-add-gallery-tutorial/">hexoåšå®¢æ·»åŠ ä¸€çº§åˆ†ç±»ç›¸å†ŒåŠŸèƒ½ | liyangâ€™s blog (liyangzone.com)</a></p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åç»­åšå®¢å¾…å®šè¡¥å……</title>
      <link href="/2023/12/22/hou-xu-bo-ke-dai-ding-bu-chong/"/>
      <url>/2023/12/22/hou-xu-bo-ke-dai-ding-bu-chong/</url>
      
        <content type="html"><![CDATA[<h2 id="åç»­å¾…è¡¥å……ï¼š"><a href="#åç»­å¾…è¡¥å……ï¼š" class="headerlink" title="åç»­å¾…è¡¥å……ï¼š"></a>åç»­å¾…è¡¥å……ï¼š</h2><h3 id="ä¸€ï¼šç›¸å†Œé—®é¢˜"><a href="#ä¸€ï¼šç›¸å†Œé—®é¢˜" class="headerlink" title="ä¸€ï¼šç›¸å†Œé—®é¢˜"></a>ä¸€ï¼šç›¸å†Œé—®é¢˜</h3><p>å‚è€ƒèµ„æ–™ï¼š<a href="https://liyangzone.com/article/2019-07-22-hexo-blog-add-gallery-tutorial/">hexoåšå®¢æ·»åŠ ä¸€çº§åˆ†ç±»ç›¸å†ŒåŠŸèƒ½ | liyangâ€™s blog (liyangzone.com)</a></p><p>é­é‡å›°éš¾ï¼šmateryä¸å¥½æ‰¾åˆ°æ·»åŠ ç›¸å†Œé¡µé¢çš„å¸®åŠ©é¡µé¢ï¼Œä»å¤§ä½¬é‚£è¾¹ä¹Ÿæ²¡çœ‹åˆ°</p><h3 id="äºŒï¼šå¯¼èˆªç½‘ç«™è¡¥å……"><a href="#äºŒï¼šå¯¼èˆªç½‘ç«™è¡¥å……" class="headerlink" title="äºŒï¼šå¯¼èˆªç½‘ç«™è¡¥å……"></a>äºŒï¼šå¯¼èˆªç½‘ç«™è¡¥å……</h3><p>ä¸ªäººæ”¶è—æ•´ç†ï¼Œé˜²æ­¢æ„å¤–é—å¤±</p><h3 id="ä¸‰ï¼šå­¦ä¹ èµ„æ–™ä¸Šä¼ æ•´ç†"><a href="#ä¸‰ï¼šå­¦ä¹ èµ„æ–™ä¸Šä¼ æ•´ç†" class="headerlink" title="ä¸‰ï¼šå­¦ä¹ èµ„æ–™ä¸Šä¼ æ•´ç†"></a>ä¸‰ï¼šå­¦ä¹ èµ„æ–™ä¸Šä¼ æ•´ç†</h3><p>linuxå­¦ä¹ èµ„æ–™ä¸Šä¼ ï¼Œæœ‰é—®é¢˜æ–¹ä¾¿å¿«é€Ÿæœç´¢</p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¯¼èˆªé¡µé¢</title>
      <link href="/2023/12/22/dao-hang-ye-mian/"/>
      <url>/2023/12/22/dao-hang-ye-mian/</url>
      
        <content type="html"><![CDATA[<h1 id="å¯¼èˆªé¡µé¢çš„åˆ›å»º"><a href="#å¯¼èˆªé¡µé¢çš„åˆ›å»º" class="headerlink" title="å¯¼èˆªé¡µé¢çš„åˆ›å»º"></a>å¯¼èˆªé¡µé¢çš„åˆ›å»º</h1><p>åˆ›å»ºç¼˜ç”±ï¼š</p><p>1.å¥½ç©</p><p>2.ç”¨æ¥æ”¶è—è‡ªå·±éœ€è¦çš„ç½‘ç«™é“¾æ¥ï¼Œé˜²æ­¢æ„å¤–ä¸¢å¤±/é—å¿˜</p><p>3.ç»ƒæ‰‹</p><h1 id="åˆ›å»ºæ­¥éª¤ï¼š"><a href="#åˆ›å»ºæ­¥éª¤ï¼š" class="headerlink" title="åˆ›å»ºæ­¥éª¤ï¼š"></a>åˆ›å»ºæ­¥éª¤ï¼š</h1><h2 id="Hexoæ·»åŠ å¯¼èˆªé¡µ"><a href="#Hexoæ·»åŠ å¯¼èˆªé¡µ" class="headerlink" title="Hexoæ·»åŠ å¯¼èˆªé¡µ"></a>Hexoæ·»åŠ å¯¼èˆªé¡µ</h2><h3 id="æ–°å»ºé¡µé¢"><a href="#æ–°å»ºé¡µé¢" class="headerlink" title="æ–°å»ºé¡µé¢"></a>æ–°å»ºé¡µé¢</h3><p>é¦–å…ˆæ–°å»ºé¡µé¢ï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">hexo new page navigate<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¿®æ”¹<code>navigate</code>ç›®å½•ä¸‹çš„<code>index.md</code>çš„æ ¼å¼</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token operator">--</span><span class="token operator">-</span><span class="token literal-property property">title</span><span class="token operator">:</span> å¯¼èˆª<span class="token literal-property property">date</span><span class="token operator">:</span> <span class="token number">2020</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">18</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">19</span><span class="token operator">:</span><span class="token number">14</span><span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"navigate"</span><span class="token literal-property property">layout</span><span class="token operator">:</span> <span class="token string">"navigate"</span><span class="token operator">--</span><span class="token operator">-</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­æ·»åŠ å¯¼èˆª"><a href="#åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­æ·»åŠ å¯¼èˆª" class="headerlink" title="åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­æ·»åŠ å¯¼èˆª"></a>åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­æ·»åŠ å¯¼èˆª</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"># main menu navigation url and icon# é…ç½®èœå•å¯¼èˆªçš„åç§°ã€è·¯å¾„å’Œå›¾æ ‡icon<span class="token punctuation">.</span><span class="token literal-property property">menu</span><span class="token operator">:</span>  <span class="token literal-property property">Index</span><span class="token operator">:</span>    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token operator">/</span>    <span class="token literal-property property">icon</span><span class="token operator">:</span> fas fa<span class="token operator">-</span>home  <span class="token literal-property property">æ ‡ç­¾</span><span class="token operator">:</span>    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token operator">/</span>tags    <span class="token literal-property property">icon</span><span class="token operator">:</span> fas fa<span class="token operator">-</span>tags  <span class="token literal-property property">æ—¶å…‰è½´</span><span class="token operator">:</span>    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token operator">/</span>archives    <span class="token literal-property property">icon</span><span class="token operator">:</span> fas fa<span class="token operator">-</span>hourglass<span class="token operator">-</span>half  <span class="token literal-property property">ç•™è¨€æ¿</span><span class="token operator">:</span>    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token operator">/</span>contact    <span class="token literal-property property">icon</span><span class="token operator">:</span> fas fa<span class="token operator">-</span>comments  <span class="token literal-property property">å…³äº</span><span class="token operator">:</span>    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token operator">/</span>about    <span class="token literal-property property">icon</span><span class="token operator">:</span> fas fa<span class="token operator">-</span>user<span class="token operator">-</span>circle    <span class="token literal-property property">å‹æƒ…é“¾æ¥</span><span class="token operator">:</span>    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token operator">/</span>friends    <span class="token literal-property property">icon</span><span class="token operator">:</span> fas fa<span class="token operator">-</span>address<span class="token operator">-</span>book  <span class="token literal-property property">Select</span><span class="token operator">:</span>    <span class="token literal-property property">icon</span><span class="token operator">:</span> fas fa<span class="token operator">-</span>life<span class="token operator">-</span>ring    <span class="token literal-property property">children</span><span class="token operator">:</span>      <span class="token operator">-</span> name<span class="token operator">:</span> å¯¼èˆª        <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token operator">/</span>navigate        <span class="token literal-property property">icon</span><span class="token operator">:</span> fas fa<span class="token operator">-</span>location<span class="token operator">-</span>arrow      <span class="token operator">-</span> name<span class="token operator">:</span> ç›¸å†Œ        <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token operator">/</span>galleries        <span class="token literal-property property">icon</span><span class="token operator">:</span> fas fa<span class="token operator">-</span>image<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ·»åŠ navigate-ejsé¡µé¢"><a href="#æ·»åŠ navigate-ejsé¡µé¢" class="headerlink" title="æ·»åŠ navigate.ejsé¡µé¢"></a>æ·»åŠ <code>navigate.ejs</code>é¡µé¢</h3><p>åœ¨ <code>matery/layout</code> ä¸‹æ–°å»º <code>navigate.ejs</code></p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token operator">&lt;</span>style<span class="token operator">&gt;</span>dd<span class="token punctuation">,</span>dl<span class="token punctuation">,</span>dt<span class="token punctuation">,</span>form<span class="token punctuation">,</span>h1<span class="token punctuation">,</span>h2<span class="token punctuation">,</span>h3<span class="token punctuation">,</span>h4<span class="token punctuation">,</span>h5<span class="token punctuation">,</span>h6<span class="token punctuation">,</span>li<span class="token punctuation">,</span>p<span class="token punctuation">,</span>ul<span class="token punctuation">{</span><span class="token literal-property property">margin</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">;</span>padding<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">;</span>font<span class="token operator">-</span>size<span class="token operator">:</span>14px<span class="token punctuation">;</span>font<span class="token operator">-</span>weight<span class="token operator">:</span><span class="token number">400</span><span class="token punctuation">}</span>img<span class="token punctuation">{</span>border<span class="token operator">-</span>style<span class="token operator">:</span>none<span class="token punctuation">}</span>li<span class="token punctuation">{</span>list<span class="token operator">-</span>style<span class="token operator">:</span>none<span class="token punctuation">;</span>float<span class="token operator">:</span>left<span class="token punctuation">}</span>a<span class="token punctuation">{</span>text<span class="token operator">-</span>decoration<span class="token operator">:</span>none<span class="token punctuation">}</span><span class="token punctuation">.</span>card<span class="token punctuation">{</span>background<span class="token operator">-</span>color<span class="token operator">:</span><span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token number">240</span><span class="token punctuation">,</span><span class="token number">229</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>width<span class="token operator">:</span><span class="token number">96</span><span class="token operator">%</span><span class="token punctuation">;</span>margin<span class="token operator">-</span>left<span class="token operator">:</span><span class="token number">2</span><span class="token operator">%</span><span class="token punctuation">}</span><span class="token punctuation">.</span>baidu<span class="token punctuation">{</span><span class="token literal-property property">float</span><span class="token operator">:</span>left<span class="token punctuation">;</span>margin<span class="token operator">-</span>left<span class="token operator">:</span>100px<span class="token punctuation">}</span><span class="token punctuation">.</span>baidu form<span class="token punctuation">{</span><span class="token literal-property property">position</span><span class="token operator">:</span>relative<span class="token punctuation">}</span><span class="token punctuation">.</span>Select<span class="token operator">-</span>box ul<span class="token punctuation">{</span><span class="token literal-property property">height</span><span class="token operator">:</span>40px<span class="token punctuation">;</span>position<span class="token operator">:</span>absolute<span class="token punctuation">;</span>left<span class="token operator">:</span><span class="token operator">-</span>1px<span class="token punctuation">;</span>top<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">;</span>z<span class="token operator">-</span>index<span class="token operator">:</span><span class="token number">9999</span><span class="token punctuation">;</span>background<span class="token operator">:</span>#fff<span class="token punctuation">;</span>border<span class="token operator">:</span>1px solid #ccc<span class="token punctuation">;</span>border<span class="token operator">-</span>top<span class="token operator">:</span>none<span class="token punctuation">;</span>overflow<span class="token operator">:</span>hidden<span class="token punctuation">}</span><span class="token punctuation">.</span>Select<span class="token operator">-</span>box li<span class="token punctuation">{</span><span class="token literal-property property">width</span><span class="token operator">:</span>60px<span class="token punctuation">;</span>line<span class="token operator">-</span>height<span class="token operator">:</span>40px<span class="token punctuation">;</span>font<span class="token operator">-</span>size<span class="token operator">:</span>14px<span class="token punctuation">;</span>color<span class="token operator">:</span>#<span class="token number">484848</span><span class="token punctuation">;</span>border<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">;</span>cursor<span class="token operator">:</span>pointer<span class="token punctuation">}</span><span class="token punctuation">.</span>Select<span class="token operator">-</span>box li<span class="token operator">:</span>hover<span class="token punctuation">{</span><span class="token literal-property property">background</span><span class="token operator">:</span>#3385ff<span class="token punctuation">;</span>color<span class="token operator">:</span>#fff<span class="token punctuation">}</span><span class="token punctuation">.</span>Select<span class="token operator">-</span>box <span class="token punctuation">.</span>this_s<span class="token punctuation">{</span><span class="token literal-property property">color</span><span class="token operator">:</span>#317ef3<span class="token punctuation">}</span><span class="token punctuation">.</span>Select<span class="token operator">-</span>box <span class="token punctuation">.</span>this_s<span class="token operator">:</span>hover<span class="token punctuation">{</span><span class="token literal-property property">background</span><span class="token operator">:</span>#fff<span class="token punctuation">;</span>color<span class="token operator">:</span>#317ef3<span class="token punctuation">}</span><span class="token punctuation">.</span>qingkong<span class="token punctuation">{</span><span class="token literal-property property">position</span><span class="token operator">:</span>absolute<span class="token punctuation">;</span>right<span class="token operator">:</span>120px<span class="token punctuation">;</span>top<span class="token operator">:</span>12px<span class="token punctuation">;</span>width<span class="token operator">:</span>18px<span class="token punctuation">;</span>height<span class="token operator">:</span>18px<span class="token punctuation">;</span>background<span class="token operator">:</span><span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">.1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>border<span class="token operator">-</span>radius<span class="token operator">:</span>18px<span class="token punctuation">;</span>line<span class="token operator">-</span>height<span class="token operator">:</span>16px<span class="token punctuation">;</span>color<span class="token operator">:</span>#<span class="token number">666</span><span class="token punctuation">;</span>cursor<span class="token operator">:</span>pointer<span class="token punctuation">;</span>text<span class="token operator">-</span>align<span class="token operator">:</span>center<span class="token punctuation">;</span>font<span class="token operator">-</span>size<span class="token operator">:</span>14px<span class="token punctuation">;</span>display<span class="token operator">:</span>none<span class="token punctuation">}</span><span class="token punctuation">.</span>qingkong<span class="token operator">:</span>hover<span class="token punctuation">{</span><span class="token literal-property property">background</span><span class="token operator">:</span><span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">.2</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">.</span>qingkong<span class="token operator">:</span>active<span class="token punctuation">{</span><span class="token literal-property property">background</span><span class="token operator">:</span><span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">.3</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">.</span>baidu<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">{</span><span class="token literal-property property">width</span><span class="token operator">:</span><span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>height<span class="token operator">:</span>110px<span class="token punctuation">;</span>margin<span class="token operator">:</span><span class="token number">0</span> auto<span class="token punctuation">;</span>background<span class="token operator">:</span><span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">;</span>padding<span class="token operator">-</span>top<span class="token operator">:</span>50px<span class="token punctuation">}</span><span class="token punctuation">.</span>baidu<span class="token operator">-</span><span class="token number">2</span> form<span class="token punctuation">{</span><span class="token literal-property property">width</span><span class="token operator">:</span>520px<span class="token punctuation">;</span>margin<span class="token operator">:</span><span class="token number">0</span> auto<span class="token punctuation">}</span><span class="token punctuation">.</span>baidu<span class="token operator">-</span><span class="token number">2</span> input<span class="token punctuation">{</span><span class="token literal-property property">padding</span><span class="token operator">:</span>13px 8px<span class="token punctuation">;</span>opacity<span class="token operator">:</span><span class="token number">.9</span><span class="token punctuation">;</span>font<span class="token operator">-</span>size<span class="token operator">:</span>15px<span class="token punctuation">}</span>#Select<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">{</span><span class="token literal-property property">float</span><span class="token operator">:</span>left<span class="token punctuation">}</span><span class="token punctuation">.</span>Select<span class="token operator">-</span>box<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">{</span>text<span class="token operator">-</span>align<span class="token operator">:</span>center<span class="token punctuation">;</span>float<span class="token operator">:</span>left<span class="token punctuation">;</span>position<span class="token operator">:</span>relative<span class="token punctuation">}</span><span class="token punctuation">.</span>Select<span class="token operator">-</span>box<span class="token operator">-</span><span class="token number">2</span> ul<span class="token punctuation">{</span><span class="token literal-property property">height</span><span class="token operator">:</span>46px<span class="token punctuation">;</span>position<span class="token operator">:</span>absolute<span class="token punctuation">;</span>left<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">;</span>top<span class="token operator">:</span>1px<span class="token punctuation">;</span>z<span class="token operator">-</span>index<span class="token operator">:</span><span class="token number">9999</span><span class="token punctuation">;</span>background<span class="token operator">:</span><span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">.9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>border<span class="token operator">:</span>1px solid #ccc<span class="token punctuation">;</span>border<span class="token operator">-</span>top<span class="token operator">:</span>none<span class="token punctuation">;</span>overflow<span class="token operator">:</span>hidden<span class="token punctuation">}</span><span class="token punctuation">.</span>Select<span class="token operator">-</span>box<span class="token operator">-</span><span class="token number">2</span> li<span class="token punctuation">{</span><span class="token literal-property property">width</span><span class="token operator">:</span>60px<span class="token punctuation">;</span>line<span class="token operator">-</span>height<span class="token operator">:</span>46px<span class="token punctuation">;</span>font<span class="token operator">-</span>size<span class="token operator">:</span>15px<span class="token punctuation">;</span>color<span class="token operator">:</span>#<span class="token number">484848</span><span class="token punctuation">;</span>border<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">;</span>cursor<span class="token operator">:</span>pointer<span class="token punctuation">}</span><span class="token punctuation">.</span>Select<span class="token operator">-</span>box<span class="token operator">-</span><span class="token number">2</span> <span class="token literal-property property">li</span><span class="token operator">:</span>hover<span class="token punctuation">{</span><span class="token literal-property property">background</span><span class="token operator">:</span>#3385ff<span class="token punctuation">;</span>color<span class="token operator">:</span>#fff<span class="token punctuation">}</span><span class="token punctuation">.</span>Select<span class="token operator">-</span>box<span class="token operator">-</span><span class="token number">2</span> <span class="token punctuation">.</span>this_s<span class="token punctuation">{</span><span class="token literal-property property">color</span><span class="token operator">:</span>#317ef3<span class="token punctuation">}</span><span class="token punctuation">.</span>Select<span class="token operator">-</span>box<span class="token operator">-</span><span class="token number">2</span> <span class="token punctuation">.</span>this_s<span class="token operator">:</span>hover<span class="token punctuation">{</span><span class="token literal-property property">background</span><span class="token operator">:</span><span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">;</span>color<span class="token operator">:</span>#317ef3<span class="token punctuation">}</span>#kw<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">{</span><span class="token literal-property property">width</span><span class="token operator">:</span>335px<span class="token punctuation">;</span>outline<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">;</span>border<span class="token operator">:</span>1px solid #ccc<span class="token punctuation">;</span>background<span class="token operator">:</span><span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">.2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>color<span class="token operator">:</span>#<span class="token number">000</span><span class="token punctuation">;</span>padding<span class="token operator">-</span>left<span class="token operator">:</span>70px<span class="token punctuation">;</span>font<span class="token operator">-</span>weight<span class="token operator">:</span><span class="token number">700</span><span class="token punctuation">}</span>#su<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">{</span><span class="token literal-property property">width</span><span class="token operator">:</span>90px<span class="token punctuation">;</span>background<span class="token operator">:</span>#00f<span class="token punctuation">;</span>border<span class="token operator">:</span>none<span class="token punctuation">;</span>border<span class="token operator">-</span>top<span class="token operator">:</span>#3385ff 1px solid<span class="token punctuation">;</span>border<span class="token operator">-</span>bottom<span class="token operator">:</span>1px solid #2d78f4<span class="token punctuation">;</span>color<span class="token operator">:</span>#fff<span class="token punctuation">;</span>cursor<span class="token operator">:</span>pointer<span class="token punctuation">;</span>outline<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">}</span>#su<span class="token operator">-</span><span class="token number">2</span><span class="token operator">:</span>hover<span class="token punctuation">{</span><span class="token literal-property property">background</span><span class="token operator">:</span>#00f<span class="token punctuation">;</span>border<span class="token operator">-</span>bottom<span class="token operator">:</span>1px solid #00f<span class="token punctuation">}</span>#su<span class="token operator">-</span><span class="token number">2</span><span class="token operator">:</span>active<span class="token punctuation">{</span><span class="token literal-property property">background</span><span class="token operator">:</span>#00f<span class="token punctuation">;</span>box<span class="token operator">-</span>shadow<span class="token operator">:</span>inset 1px 1px 3px #00f<span class="token punctuation">;</span><span class="token operator">-</span>webkit<span class="token operator">-</span>box<span class="token operator">-</span>shadow<span class="token operator">:</span>inset 1px 1px 3px #00f<span class="token punctuation">}</span><span class="token punctuation">.</span>jj<span class="token operator">-</span>list<span class="token operator">-</span>tit<span class="token punctuation">{</span>font<span class="token operator">-</span>size<span class="token operator">:</span>16px<span class="token punctuation">;</span>line<span class="token operator">-</span>height<span class="token operator">:</span>25px<span class="token punctuation">;</span>color<span class="token operator">:</span>#fff<span class="token punctuation">;</span>width<span class="token operator">:</span><span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>padding<span class="token operator">-</span>left<span class="token operator">:</span><span class="token number">38.5</span><span class="token operator">%</span><span class="token punctuation">}</span><span class="token punctuation">.</span>jj<span class="token operator">-</span>list<span class="token operator">-</span>con<span class="token punctuation">{</span><span class="token literal-property property">overflow</span><span class="token operator">:</span>hidden<span class="token punctuation">;</span>margin<span class="token operator">:</span><span class="token number">0</span> auto<span class="token punctuation">}</span><span class="token punctuation">.</span>jj<span class="token operator">-</span>list<span class="token operator">-</span>con li<span class="token punctuation">{</span><span class="token literal-property property">width</span><span class="token operator">:</span><span class="token number">31.333</span><span class="token operator">%</span><span class="token punctuation">;</span>margin<span class="token operator">:</span><span class="token number">1</span><span class="token operator">%</span><span class="token punctuation">}</span><span class="token punctuation">.</span>link<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">{</span><span class="token literal-property property">display</span><span class="token operator">:</span>block<span class="token punctuation">;</span>background<span class="token operator">:</span><span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">.35</span><span class="token punctuation">)</span><span class="token punctuation">;</span>color<span class="token operator">:</span>#fff<span class="token punctuation">;</span>font<span class="token operator">-</span>size<span class="token operator">:</span>13px<span class="token punctuation">;</span>text<span class="token operator">-</span>align<span class="token operator">:</span>center<span class="token punctuation">;</span>line<span class="token operator">-</span>height<span class="token operator">:</span>35px<span class="token punctuation">;</span>padding<span class="token operator">:</span>4px <span class="token number">0</span><span class="token punctuation">;</span>border<span class="token operator">-</span>radius<span class="token operator">:</span>2px<span class="token punctuation">;</span>transition<span class="token operator">:</span>all <span class="token punctuation">.</span>2s<span class="token punctuation">}</span><span class="token punctuation">.</span>link<span class="token operator">-</span><span class="token number">3</span><span class="token operator">:</span>hover<span class="token punctuation">{</span><span class="token literal-property property">background</span><span class="token operator">:</span><span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">.45</span><span class="token punctuation">)</span><span class="token punctuation">;</span>font<span class="token operator">-</span>size<span class="token operator">:</span>15px<span class="token punctuation">;</span>font<span class="token operator">-</span>weight<span class="token operator">:</span><span class="token number">700</span><span class="token punctuation">}</span>@media only screen <span class="token function">and</span> <span class="token punctuation">(</span><span class="token parameter">max<span class="token operator">-</span>width<span class="token operator">:</span>584px</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">.</span>navi<span class="token operator">-</span>height<span class="token punctuation">{</span><span class="token literal-property property">height</span><span class="token operator">:</span>1300px<span class="token punctuation">}</span><span class="token punctuation">.</span>link<span class="token operator">-</span>box<span class="token punctuation">{</span>margin<span class="token operator">-</span>top<span class="token operator">:</span><span class="token number">5</span><span class="token operator">%</span><span class="token punctuation">}</span><span class="token punctuation">.</span>large<span class="token operator">-</span>screen<span class="token punctuation">{</span><span class="token literal-property property">display</span><span class="token operator">:</span>none<span class="token punctuation">}</span><span class="token punctuation">}</span>@media only screen <span class="token function">and</span> <span class="token punctuation">(</span>min<span class="token operator">-</span>width<span class="token operator">:</span>584px<span class="token punctuation">)</span> <span class="token function">and</span> <span class="token punctuation">(</span><span class="token parameter">max<span class="token operator">-</span>width<span class="token operator">:</span>993px</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">.</span>navi<span class="token operator">-</span>height<span class="token punctuation">{</span><span class="token literal-property property">height</span><span class="token operator">:</span>800px<span class="token punctuation">}</span><span class="token punctuation">.</span>link<span class="token operator">-</span>box<span class="token punctuation">{</span>margin<span class="token operator">-</span>top<span class="token operator">:</span><span class="token number">5</span><span class="token operator">%</span><span class="token punctuation">}</span><span class="token punctuation">.</span>large<span class="token operator">-</span>screen<span class="token punctuation">{</span><span class="token literal-property property">display</span><span class="token operator">:</span>none<span class="token punctuation">}</span><span class="token punctuation">}</span>@media only screen <span class="token function">and</span> <span class="token punctuation">(</span><span class="token parameter">min<span class="token operator">-</span>width<span class="token operator">:</span>993px</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">.</span>navi<span class="token operator">-</span>height<span class="token punctuation">{</span><span class="token literal-property property">position</span><span class="token operator">:</span>absolute<span class="token punctuation">;</span>width<span class="token operator">:</span><span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>height<span class="token operator">:</span><span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">.</span>page<span class="token operator">-</span>footer<span class="token punctuation">{</span><span class="token literal-property property">display</span><span class="token operator">:</span>none<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span><span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"navi-height bg-cover pd-header"</span><span class="token operator">&gt;</span>    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-box container"</span><span class="token operator">&gt;</span>        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"baidu baidu-2 large-screen"</span><span class="token operator">&gt;</span>            <span class="token operator">&lt;</span>form name<span class="token operator">=</span><span class="token string">"f"</span> action<span class="token operator">=</span><span class="token string">"https://www.baidu.com/"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>                <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"Select-2"</span><span class="token operator">&gt;</span>                    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"Select-box-2"</span> id<span class="token operator">=</span><span class="token string">"baidu"</span><span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>ul style<span class="token operator">=</span><span class="token string">"height:46px"</span><span class="token operator">&gt;</span>                            <span class="token operator">&lt;</span>li <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"this_s"</span><span class="token operator">&gt;</span>ç™¾ Â· åº¦<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                            <span class="token operator">&lt;</span>li <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"bing_s"</span><span class="token operator">&gt;</span>å¿… Â· åº”<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                            <span class="token operator">&lt;</span>li <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"google_s"</span><span class="token operator">&gt;</span>è°· Â· æ­Œ<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                            <span class="token operator">&lt;</span>li <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"baidu_s"</span><span class="token operator">&gt;</span>ç™¾ Â· åº¦<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>                    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>input name<span class="token operator">=</span><span class="token string">"wd"</span> id<span class="token operator">=</span><span class="token string">"kw-2"</span> maxlength<span class="token operator">=</span><span class="token string">"100"</span> autocomplete<span class="token operator">=</span><span class="token string">"off"</span> type<span class="token operator">=</span><span class="token string">"text"</span><span class="token operator">&gt;</span>                <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>                <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"qingkong"</span> id<span class="token operator">=</span><span class="token string">"qingkong"</span> title<span class="token operator">=</span><span class="token string">"æ¸… Â· ç©º"</span> style<span class="token operator">=</span><span class="token string">"display:none"</span><span class="token operator">&gt;</span>x<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>input value<span class="token operator">=</span><span class="token string">"æœ Â· ç´¢"</span> id<span class="token operator">=</span><span class="token string">"su-2"</span> type<span class="token operator">=</span><span class="token string">"submit"</span><span class="token operator">&gt;</span>                <span class="token operator">&lt;</span>ul <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"keylist"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>            <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"row tags-posts"</span><span class="token operator">&gt;</span>            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"col s12 m6 l4 friend-div aos-init"</span> data<span class="token operator">-</span>aos<span class="token operator">=</span><span class="token string">"zoom-in-up"</span><span class="token operator">&gt;</span>                <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"card"</span><span class="token operator">&gt;</span>                    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"jj-list-tit"</span><span class="token operator">&gt;</span>å¨±ä¹ Â· å½±è§†<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>                    <span class="token operator">&lt;</span>ul <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"jj-list-con"</span><span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://www.jd.com/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>äº¬ä¸œ<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://www.taobao.com/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>æ·˜å®<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://www.tmall.com/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>å¤©çŒ«<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://v.qq.com/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>è…¾è®¯è§†é¢‘<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"http://www.iqiyi.com/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>çˆ±å¥‡è‰º<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://www.bilibili.com/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>å“”å“©å“”å“©<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span> <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://music.163.com/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>ç½‘æ˜“äº‘éŸ³ä¹<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://y.qq.com/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span><span class="token constant">QQ</span>éŸ³ä¹<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"http://www.kugou.com/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>é…·ç‹—éŸ³ä¹<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>                <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"col s12 m6 l4 friend-div aos-init"</span> data<span class="token operator">-</span>aos<span class="token operator">=</span><span class="token string">"zoom-in-up"</span><span class="token operator">&gt;</span>                <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"card"</span><span class="token operator">&gt;</span>                    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"jj-list-tit"</span><span class="token operator">&gt;</span>ç¤¾åŒº Â· Code<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>                    <span class="token operator">&lt;</span>ul <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"jj-list-con"</span><span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://www.mobaijun.com/contact/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>ç•™è¨€<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://github.com/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>GitHub<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://coding.net/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>Coding<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://juejin.im/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>æ˜é‡‘<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://gitee.com/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>ç äº‘<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://www.csdn.net/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span><span class="token constant">CSDN</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://www.jianshu.com/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>ç®€ä¹¦<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://segmentfault.com/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>æ€å¦<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://cloud.tencent.com/developer/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>äº‘<span class="token operator">+</span>ç¤¾åŒº<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>                <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"col s12 m6 l4 friend-div aos-init"</span> data<span class="token operator">-</span>aos<span class="token operator">=</span><span class="token string">"zoom-in-up"</span><span class="token operator">&gt;</span>                <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"card"</span><span class="token operator">&gt;</span>                    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"jj-list-tit"</span><span class="token operator">&gt;</span>å®ç”¨ Â· å·¥å…·<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>                    <span class="token operator">&lt;</span>ul <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"jj-list-con"</span><span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://mdnice.com/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>Markdownç¼–è¾‘å™¨<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://translate.google.cn/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>è°·æ­Œç¿»è¯‘<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://www.uupoop.com/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>åœ¨çº¿<span class="token constant">PS</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://www.processon.com/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>æ€ç»´å¯¼å›¾<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://wallhaven.cc/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>è¶…æ¸…å£çº¸<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://cli.im/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>äºŒç»´ç ç”Ÿæˆ<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"http://tool.cc/pic-resizer/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>å›¾ç‰‡åœ¨çº¿å‹ç¼©<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://www.iconfont.cn/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>é˜¿é‡Œå·´å·´å›¾æ ‡åº“<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://my.openwrite.cn/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span><span class="token constant">OW</span>åˆ†å‘<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>                <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"col s12 m6 l4 friend-div aos-init"</span> data<span class="token operator">-</span>aos<span class="token operator">=</span><span class="token string">"zoom-in-up"</span><span class="token operator">&gt;</span>                <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"card"</span><span class="token operator">&gt;</span>                    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"jj-list-tit"</span><span class="token operator">&gt;</span>ç¼–ç¨‹ Â· å­¦ä¹ <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>                    <span class="token operator">&lt;</span>ul <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"jj-list-con"</span><span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://www.oschina.net/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>å¼€æºä¸­å›½<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://htmldog.com/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span><span class="token constant">HTML</span>ç‹—<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://www.icourse163.org/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>ä¸­å›½å¤§å­¦æ…•è¯¾<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://www.imooc.com/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>æ…•è¯¾ç½‘<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"http://www.wxapp-union.com/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>å°ç¨‹åº<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://www.runoob.com/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>èœé¸Ÿæ•™ç¨‹<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://blog.51cto.com/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>51CTO<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://www.shiyanlou.com/library/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>å®éªŒæ¥¼<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://spring.io/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>Spring<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>                <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"col s12 m6 l4 friend-div aos-init"</span> data<span class="token operator">-</span>aos<span class="token operator">=</span><span class="token string">"zoom-in-up"</span><span class="token operator">&gt;</span>                <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"card"</span><span class="token operator">&gt;</span>                    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"jj-list-tit"</span><span class="token operator">&gt;</span>èµ„è®¯ Â· è¶‹åŠ¿<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>                    <span class="token operator">&lt;</span>ul <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"jj-list-con"</span><span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://www.huxiu.com/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>è™å—…<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://insights.stackoverflow.com/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>æŠ€æœ¯è°ƒæŸ¥<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"http://www.asciiworld.com/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>æ‘¸é±¼<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://sspai.com/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>å°‘æ•°æ´¾<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://zh.wikihow.com/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>WikeHom<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://www.awesomes.cn/rank?sort=hot"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>å‰ç«¯è¶‹åŠ¿<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://github-trending.com/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>GitHubè¶‹åŠ¿<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://www.tiobe.com/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>ç¼–ç¨‹è¶‹åŠ¿<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://trends.google.com/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>Googleè¶‹åŠ¿<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>                <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"col s12 m6 l4 friend-div aos-init"</span> data<span class="token operator">-</span>aos<span class="token operator">=</span><span class="token string">"zoom-in-up"</span><span class="token operator">&gt;</span>                <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"card"</span><span class="token operator">&gt;</span>                    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"jj-list-tit"</span><span class="token operator">&gt;</span>æœç´¢ Â· å…¶ä»–<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>                    <span class="token operator">&lt;</span>ul <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"jj-list-con"</span><span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://ac.scmor.com/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>è°·æ­Œé•œåƒ<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"http://www.pansoso.com/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>ç½‘ç›˜æœç´¢<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"http://tool.mkblog.cn/music/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>éŸ³ä¹æœç´¢<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://www.upyun.com/?utm_source=lianmeng&amp;amp;utm_medium=referral"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>åˆæ‹äº‘<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://carbon.now.sh/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>ä»£ç å›¾ç‰‡<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://www.zhipin.com/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>Boos<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"http://www.fontawesome.com.cn/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>å›¾æ ‡åº“<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://www.qvdv.com/tools/qvdv-guid.html"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>åœ¨çº¿å·¥å…·<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"http://zhongguose.com/"</span> rel<span class="token operator">=</span><span class="token string">"external nofollow noreferrer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"link-3"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">&gt;</span>ä¸­å›½è‰²<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>                    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>                <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>        <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".Select-box ul"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hover</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"height"</span><span class="token punctuation">,</span><span class="token string">"auto"</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"height"</span><span class="token punctuation">,</span><span class="token string">"40px"</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".Select-box-2 ul"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hover</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"height"</span><span class="token punctuation">,</span><span class="token string">"auto"</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"height"</span><span class="token punctuation">,</span><span class="token string">"46px"</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".Select-box li"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> t<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>s<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token string">"baidu_s"</span><span class="token operator">==</span>t<span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>t<span class="token operator">=</span><span class="token string">"https://www.baidu.com/s"</span><span class="token punctuation">,</span>_name<span class="token operator">=</span><span class="token string">"wd"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"google_s"</span><span class="token operator">==</span>t<span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>t<span class="token operator">=</span><span class="token string">"https://www.google.com/search"</span><span class="token punctuation">,</span>_name<span class="token operator">=</span><span class="token string">"q"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"bing_s"</span><span class="token operator">==</span>t<span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>t<span class="token operator">=</span><span class="token string">"https://www.bing.com/search"</span><span class="token punctuation">,</span>_name<span class="token operator">=</span><span class="token string">"q"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".baidu form"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"action"</span><span class="token punctuation">,</span>t<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".this_s"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#kw"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span>_name<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".Select-box ul"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"height"</span><span class="token punctuation">,</span><span class="token string">"40px"</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".Select-box-2 li"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> t<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>s<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token string">"baidu_s"</span><span class="token operator">==</span>t<span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>t<span class="token operator">=</span><span class="token string">"https://www.baidu.com/s"</span><span class="token punctuation">,</span>_name<span class="token operator">=</span><span class="token string">"wd"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"google_s"</span><span class="token operator">==</span>t<span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>t<span class="token operator">=</span><span class="token string">"https://www.google.com/search"</span><span class="token punctuation">,</span>_name<span class="token operator">=</span><span class="token string">"q"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"bing_s"</span><span class="token operator">==</span>t<span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>t<span class="token operator">=</span><span class="token string">"https://www.bing.com/search"</span><span class="token punctuation">,</span>_name<span class="token operator">=</span><span class="token string">"q"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".baidu form"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"action"</span><span class="token punctuation">,</span>t<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".this_s"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#kw-2"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span>_name<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".Select-box-2 ul"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"height"</span><span class="token punctuation">,</span><span class="token string">"48px"</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="é¢„è§ˆéƒ¨ç½²"><a href="#é¢„è§ˆéƒ¨ç½²" class="headerlink" title="é¢„è§ˆéƒ¨ç½²"></a>é¢„è§ˆéƒ¨ç½²</h3><p>æ‰§è¡Œç›¸å…³å‘½ä»¤</p><p>é¢„è§ˆ</p><pre class="line-numbers language-none"><code class="language-none">hexo cl&amp;&amp;hexo g&amp;&amp;hexo s<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>éƒ¨ç½²</p><pre class="line-numbers language-none"><code class="language-none">hexo cl&amp;&amp;hexo g&amp;&amp;hexo d<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å…¨éƒ¨æ­¥éª¤æ‘˜æŠ„è‡ªå¤§ä½¬ï¼šé—²èŠ±æ‰‹æœ­</p><p>é¡µé¢ï¼š<a href="https://cloud.tencent.com/developer/article/1866822">Hexo-å¯¼èˆªé¡µ-è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘ (tencent.com)</a></p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å»ºç«‹åšå®¢è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜</title>
      <link href="/2023/12/22/jian-li-bo-ke-guo-cheng-zhong-yu-dao-de-wen-ti/"/>
      <url>/2023/12/22/jian-li-bo-ke-guo-cheng-zhong-yu-dao-de-wen-ti/</url>
      
        <content type="html"><![CDATA[<h1 id="å»ºç«‹åšå®¢ç½‘ç«™æ—¶é‡åˆ°çš„æ•…éšœä¸å¦‚ä½•æ’é™¤æ‰çš„æ–¹å¼"><a href="#å»ºç«‹åšå®¢ç½‘ç«™æ—¶é‡åˆ°çš„æ•…éšœä¸å¦‚ä½•æ’é™¤æ‰çš„æ–¹å¼" class="headerlink" title="å»ºç«‹åšå®¢ç½‘ç«™æ—¶é‡åˆ°çš„æ•…éšœä¸å¦‚ä½•æ’é™¤æ‰çš„æ–¹å¼"></a>å»ºç«‹åšå®¢ç½‘ç«™æ—¶é‡åˆ°çš„æ•…éšœä¸å¦‚ä½•æ’é™¤æ‰çš„æ–¹å¼</h1><p>æœ¬åšå®¢å‚è€ƒäº†ä¸¤ä½upä¸»çš„åˆ›å»ºè¿‡ç¨‹ï¼Œå…¶ä¸­é‡åˆ°ä¸å°‘é˜»ç¢ï¼Œè§£å†³è¿‡ç¨‹æœ‰äº›çƒ¦äººï¼Œæ•…å°†ä¸­é€”é‡åˆ°çš„æ•…éšœè¿›è¡Œè®°å½•ï¼Œé˜²æ­¢æ—¥åç»§ç»­å‡ºç°ç±»ä¼¼é—®é¢˜ã€‚</p><p>æœ¬åšå®¢æ­å»ºå‚è€ƒï¼š<a href="https://crazyyuchi.github.io/2022/05/02/bo-ke-da-jian-mei-hua-ju-xi-ban-ben/#!">åšå®¢æ­å»º+ç¾åŒ–ï¼ˆå·¨ç»†ç‰ˆæœ¬ï¼‰ | å…´å¹³ (crazyyuchi.github.io)</a></p><p>æœ¬åšå®¢æ­å»ºå‚è€ƒï¼šã€[æ•™ç¨‹]Hexo &amp; Githubæ­å»ºè‡ªå·±çš„ä¸“å±åšå®¢ã€‘ <a href="https://www.bilibili.com/video/BV1Eg41157tL/?share_source=copy_web&amp;vd_source=5cd149d1723aac0eeb1b0c9b1ca86059">https://www.bilibili.com/video/BV1Eg41157tL/?share_source=copy_web&amp;vd_source=5cd149d1723aac0eeb1b0c9b1ca86059</a></p><h2 id="æ•…éšœé—®é¢˜ï¼š"><a href="#æ•…éšœé—®é¢˜ï¼š" class="headerlink" title="æ•…éšœé—®é¢˜ï¼š"></a>æ•…éšœé—®é¢˜ï¼š</h2><h5 id="1-æ–‡ä»¶åŒæ­¥å¤±è´¥ï¼Œæ— åé¦ˆ"><a href="#1-æ–‡ä»¶åŒæ­¥å¤±è´¥ï¼Œæ— åé¦ˆ" class="headerlink" title="1.æ–‡ä»¶åŒæ­¥å¤±è´¥ï¼Œæ— åé¦ˆ"></a>1.æ–‡ä»¶åŒæ­¥å¤±è´¥ï¼Œæ— åé¦ˆ</h5><p>è·Ÿéšåšå®¢æ•™ç¨‹ï¼Œå®‰è£…è½¯ä»¶è¿‡ç¨‹æ— è¯¯ï¼Œä½†åç»­æ— æ³•ä¸githubç½‘ç«™è¿›è¡Œä¸Šä¼ åŒæ­¥ï¼Œæç¤ºä¸€ç›´å¡åœ¨_configæ–‡ä»¶ä¸Šï¼Œç»æµ‹è¯•ï¼›</p><p><img src="/../assets/blog_res/%E5%BB%BA%E7%AB%8B%E5%8D%9A%E5%AE%A2%E8%BF%87%E7%A8%8B%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98.assets/image-20231222091004345.png" alt="image-20231222091004345"></p><p>æ˜¯æŒ‰ç…§æ•™ç¨‹æ“ä½œè¿‡ç¨‹ä¹‹ä¸­ï¼Œå¿½ç•¥äº†ä¸Šä¼ è·¯å¾„çš„æ’ç‰ˆï¼Œç¼ºå°‘äº†å‰é¢çš„ç©ºæ ¼ï¼Œå¯¼è‡´å¤±è´¥ï¼Œè°ƒæ•´æ ¼å¼åæ­£å¸¸ã€‚</p><p>è§£å†³é—®é¢˜å‚è€ƒæ–¹æ¡ˆï¼š<a href="https://blog.csdn.net/qq_43819439/article/details/118309688">ä½¿ç”¨hexo/gitæ­å»ºåšå®¢æ—¶æ³¨æ„çš„å‡ ç‚¹_you should configure deployment settings in _confi-CSDNåšå®¢</a></p><h5 id="2-æ–‡ä»¶ä¸Šä¼ è·¯å¾„é”™è¯¯ï¼Œmainä¸masterçš„åŒºåˆ†"><a href="#2-æ–‡ä»¶ä¸Šä¼ è·¯å¾„é”™è¯¯ï¼Œmainä¸masterçš„åŒºåˆ†" class="headerlink" title="2.æ–‡ä»¶ä¸Šä¼ è·¯å¾„é”™è¯¯ï¼Œmainä¸masterçš„åŒºåˆ†"></a>2.æ–‡ä»¶ä¸Šä¼ è·¯å¾„é”™è¯¯ï¼Œmainä¸masterçš„åŒºåˆ†</h5><p>ä¸Šä¼ æ–‡ä»¶æˆåŠŸä¹‹åï¼Œè®¿é—®å¯¹åº”çš„é“¾æ¥é¡µé¢ä»æ—§æ˜¯æµ‹è¯•é¡µé¢ï¼Œå¹¶éä¸Šä¼ åšå®¢é¡µé¢ï¼Œé‡æ–°æ’æŸ¥å®‰è£…é—®é¢˜ä¸_configæ–‡ä»¶é…ç½®ï¼Œçš†æ— å¼‚å¸¸ï¼›</p><p>åç»è§‚å¯Ÿï¼Œä¸Šä¼ è¿‡ç¨‹ä¸­æ˜¾ç¤ºæ­£å¸¸ï¼Œæ•…è®¿é—®githubä¸ªäººä»“åº“è¿›è¡ŒæŸ¥éªŒï¼Œæœ€åå‘ç°æ˜¯åˆ†æ”¯mainä¸åˆ†æ”¯masterçš„é—®é¢˜ï¼›</p><p>åˆ›å»ºgithubæµ‹è¯•ä¹‹æ—¶ï¼Œå‹¾é€‰ä¸»åˆ†æ”¯ä¸ºmainï¼Œæ ¸å¯¹å‘ç°æ•™ç¨‹ä¸­è®¾ç½®åˆ†æ”¯ä¸ºmasteråˆ†æ”¯ã€‚</p><p>ç™¾åº¦æŸ¥éªŒï¼Œè¿›è¡Œæ›´æ›¿ä¸»åˆ†æ”¯æµ‹è¯•ï¼š</p><p><img src="/../assets/blog_res/%E5%BB%BA%E7%AB%8B%E5%8D%9A%E5%AE%A2%E8%BF%87%E7%A8%8B%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98.assets/image-20231222091446007.png" alt="image-20231222091446007"></p><p><img src="/../assets/blog_res/%E5%BB%BA%E7%AB%8B%E5%8D%9A%E5%AE%A2%E8%BF%87%E7%A8%8B%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98.assets/image-20231222091513382.png" alt="image-20231222091513382"></p><p>å·²è°ƒæ•´åï¼Œæµ‹è¯•ä»æ—§æ˜¯ä¹‹å‰æµ‹è¯•é¡µé¢ï¼Œåå‘ç°ï¼Œéœ€è¦åœ¨pagesè®¾ç½®ä¸Šï¼Œå°†åŸŸåå¯¹åº”çš„åˆ†æ”¯ç»§ç»­è¿›è¡Œæ›´æ›¿</p><p><img src="/../assets/blog_res/%E5%BB%BA%E7%AB%8B%E5%8D%9A%E5%AE%A2%E8%BF%87%E7%A8%8B%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98.assets/image-20231222091648629.png" alt="image-20231222091648629"></p><p>æ“ä½œå®Œæ¯•ï¼Œä¸€åˆ‡å›å½’æ­£å¸¸ï¼ŒåŸŸåé¡µé¢å¯ä»¥æ­£å¸¸è®¿é—®ä¸Šä¼ åšå®¢é¡µé¢ï¼Œæ•…éšœæ’é™¤ã€‚</p><p>è§£å†³é—®é¢˜å‚è€ƒæ–¹æ¡ˆï¼š<a href="https://zhuanlan.zhihu.com/p/339370999?utm_id=0">Githubä»“åº“masteråˆ†æ”¯åˆ°mainåˆ†æ”¯è¿ç§»æŒ‡å— - çŸ¥ä¹ (zhihu.com)</a></p><h5 id="3-ä»£ç é«˜äº®æ’ä»¶ä¸é»˜è®¤è®¾ç½®å†²çª"><a href="#3-ä»£ç é«˜äº®æ’ä»¶ä¸é»˜è®¤è®¾ç½®å†²çª" class="headerlink" title="3.ä»£ç é«˜äº®æ’ä»¶ä¸é»˜è®¤è®¾ç½®å†²çª"></a>3.ä»£ç é«˜äº®æ’ä»¶ä¸é»˜è®¤è®¾ç½®å†²çª</h5><p>ä»£ç é«˜äº®æ›´æ›¿è¿‡ç¨‹ä¹‹ä¸­ï¼Œäº§ç”Ÿçš„æ•…éšœï¼ˆå¤„ç†æ—¶é•¿è¾ƒä¹…ï¼Œåæ€åº”è¯¥æ˜¯åŸºç¡€ä¸æ‰å®å¯¼è‡´ï¼Œæ— æ„ä¹‰æµªè´¹äº†è®¸å¤šæ—¶é—´å»æ’æŸ¥ä¸ç›¸å…³çš„åœ°å¸¦ï¼‰</p><p>æ ¹æ®é”™è¯¯æç¤ºï¼Œæ•…éšœå‘ç”Ÿåœ¨blogè®¾ç½®_config.ymlæ–‡ä»¶ä¹‹ä¸­ï¼Œæœ‰å…³äºé»˜è®¤é«˜äº®è®¾ç½®ä»£ç ä¸æ›´æ›¿çš„é«˜äº®ä»£ç æ’ä»¶ä¹‹é—´çš„å†²çªã€‚</p><p><img src="/../assets/blog_res/%E5%BB%BA%E7%AB%8B%E5%8D%9A%E5%AE%A2%E8%BF%87%E7%A8%8B%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98.assets/image-20231222093952543.png" alt="image-20231222093952543"></p><p>åŸé»˜è®¤é…ç½®å…¨éƒ¨éƒ½åœ¨å¼€å¯ä¸­ï¼Œæ ¹æ®æµ‹è¯•åé¦ˆç»“æœï¼Œå†²çªåœ¨è¿™å‡ è¡Œä»£ç ä¹‹ä¸­ï¼Œå‚è€ƒåšå®¢æ­å»ºæ•™ç¨‹ä¹‹ä¸­ç»™å‡ºçš„è§£å†³æ–¹æ³•å¹¶æœªæ‰¾åˆ°å¯¹åº”çš„ä»£ç è¡Œåˆ—ï¼›</p><p>åç»è¿‡ç¿»é˜…èµ„æ–™åï¼Œå‘ç°7.0ç‰ˆæœ¬ä¹‹åä¸ä¹‹å‰çš„ä»£ç å‡ºç°å·®å¼‚åŒ–ï¼Œå‚è€ƒæ–‡æ¡£ç»™å‡ºçš„è§£å†³æ–¹æ³•æ˜¯æ—§ç‰ˆçš„ï¼Œå³7.0ä¹‹å‰ï¼›</p><p>è§£å†³æ€è·¯â€”â€”å¯¹æ¯”æµ‹è¯•</p><p>å‚è€ƒèµ„æ–™ï¼š<a href="https://hexo.io/zh-cn/docs/syntax-highlight.html#Highlight-js">ä»£ç é«˜äº® | Hexo</a></p><p><img src="/../assets/blog_res/%E5%BB%BA%E7%AB%8B%E5%8D%9A%E5%AE%A2%E8%BF%87%E7%A8%8B%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98.assets/image-20231222150641079.png" alt="image-20231222150641079"></p><p>ç»è¿‡ä¸æ–­æµ‹è¯•å…³é—­å¼€å¯çš„é€‰é¡¹ï¼Œåç¡®è®¤æˆåŠŸã€‚</p><h5 id="4-æ’ä»¶é—®é¢˜"><a href="#4-æ’ä»¶é—®é¢˜" class="headerlink" title="4.æ’ä»¶é—®é¢˜"></a>4.æ’ä»¶é—®é¢˜</h5><p>å‚è€ƒèµ„æ–™ï¼š<a href="https://cloud.tencent.com/developer/article/1952241">6.hexoæ’ä»¶ç¯‡ï¼ˆå¿…çœ‹ï¼‰-è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘ (tencent.com)</a></p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>test2</title>
      <link href="/2023/12/21/test2/"/>
      <url>/2023/12/21/test2/</url>
      
        <content type="html"><![CDATA[<hr><h3 id="1-This-is-a-blog-Test"><a href="#1-This-is-a-blog-Test" class="headerlink" title="1. This is a blog Test"></a>1. This is a blog Test</h3><ul><li>First</li><li>Second</li></ul><hr><h3 id="2-Show-Text"><a href="#2-Show-Text" class="headerlink" title="2. Show Text"></a>2. Show Text</h3><ul><li><strong>è¿™æ˜¯åŠ ç²—</strong></li></ul><blockquote><p><em>è¿™æ˜¯æ–œä½“</em></p></blockquote><p><span class="github-emoji"><span>ğŸ˜„</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token comment">&lt;!-- é›ªèŠ±ç‰¹æ•ˆ --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://libs.baidu.com/jquery/1.8.3/jquery.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://libs.baidu.com/jquery/1.8.3/jquery.min.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/js/snow.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> blog1 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> test </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2023/12/21/hello-world/"/>
      <url>/2023/12/21/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo new "My New Post"<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo server<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo generate<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo deploy<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> test </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
